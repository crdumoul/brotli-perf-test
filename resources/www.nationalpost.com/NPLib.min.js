function preCheckThenationalpost102463(a){var d,b=!1,c=document,e=c.getElementsByTagName("meta");if(c.referrer.search(/facebook.com/)>-1||c.referrer.search(/twitter.com/)>-1||c.referrer.search(/\/t.co/)>-1||c.referrer.search(/plus.url.google.com/)>-1||c.referrer.search(/reddit.com/)>-1||c.referrer.search(/linkedin.com/)>-1)return 0;if("undefined"!=typeof npMeterExempt&&npMeterExempt||"undefined"!=typeof pnMeterExempt&&pnMeterExempt)return 0;for(d=0;d<e.length;d+=1)if(e[d].name.match(/(keywords)/i)){if(e[d].content.match(/(^|,)\s*(editors|sponsored)\s*(,|$)/i))return 0;if(e[d].content.match(/(premium)/i))return 1;e[d].content.match(/(^|,)\s*(breaking)\s*(,|$)/i)&&(b=!0)}return loc=window.location+"",loc.match(/\/(cars|jobs|homes|tag|category|author)\//i)?0:document.getElementsByClassName("npStoryTitle").length>0||loc.match(/(story\.html)/i)?b?Math.floor(.001*(new Date).getTime())-Math.floor(.001*new Date(npJ('.npDateline > span[property = "dc:created"]').attr("content")).getTime())>86400?1:0:1:0}var npJ=jQuery.noConflict(),npLib,NPLib=function(){"use strict";var a=this;this.bIE=window.ActiveXObject?!0:!1,this.biOS=/(iPad|iPhone|iPod)/.test(navigator.userAgent)?!0:!1,this.iFxD=250,this.iFxDL=500,this.iPageYOffset=0,this.sProxy="",this.sRecaptchaPublicKey="6LegX8ESAAAAABESFvyu_qAGc12d_GBuQ_bPSVfP",this.sWeatherUrl="/scripts/weather.aspx",this.ajaxMakeURL=function(a){var b=window.location.host;return/^http/.test(a)||(a="http://"+(/^((staging|www)\.)?(national|financial)post(\.(dev|qa)\.canada)?\.com$/.test(b)?b:/financialpost/.test(b)?"www.financialpost.com":"www.nationalpost.com")+a),this.sProxy.length>0?this.sProxy+encodeURIComponent(a):a},this.blockScreenInit=function(){if("undefined"==typeof this.blockScreen){var a=document.createElement("div");document.body.appendChild(a),a=npJ(a),a.addClass("npBlockScreen"),this.blockScreen=a}this.blockScreen.css("height",parseInt(npJ("body").outerHeight(),10)+"px"),this.blockScreen.css("opacity",.75)},this.cookieSet=function(a,b,c,d,e){var f,g="";d=";path="+("undefined"!=typeof d?d:"/"),e="undefined"!=typeof e?";domain="+e:"","undefined"!=typeof c&&(f=new Date,c>0&&f.setTime(f.getTime()+864e5*c),g=";expires="+f.toGMTString()),document.cookie=a+"="+b+g+d+e},this.cookieGet=function(a){var c,d,b=document.cookie.split(";");for(a+="=",d=0;d<b.length;d+=1){for(c=b[d];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(a))return c.substring(a.length,c.length)}return!1},this.cursor=function(a){var b=npJ("body");a="undefined"!=typeof a?a:"",a.length>0?b.addClass("npCursor"):b.removeClass("npCursor"),b.css("cursor",a)},this.iOSScroll=function(){function k(){h.css("top",Math.round(i.get(0).scrollTop/a*b)+"px")}var a,b,c,f,g,h,j,d=17,e=0,i=npJ(this);"auto"===i.css("overflow-y")&&(i.after('<p class="npIOSScrollHint npTxtCentre" style="margin-bottom:'+i.css("margin-bottom")+'">Use two fingers to scroll</p>'),i.css("margin-bottom",0),i.wrap('<div class="npPosRel" />'),j=i.parent("div"),i.find("li").each(function(){e+=npJ(this).outerHeight()}),j.append('<div class="npIOSScrollBox"><div class="npScrollUp"></div><div class="npScrollDown"></div><div class="npIOSScrollBar"></div></div>'),g=j.find(".npIOSScrollBox"),h=g.find(".npIOSScrollBar"),c=i.innerHeight(),g.css({height:c+"px",top:i.css("border-top-width"),right:i.css("border-right-width")}),f=Math.round(c/e*(c-2*d)),h.css("height",f-2+"px"),a=e-c,b=c-2*d-f,i.bind("scroll",k))},this.limitChars=function(a,b,c){var d=100;for(c="undefined"!=typeof c?c:"...";a.length>b&&(d-=1,!(0>=d));)a=a.replace(/^([\s\S]*) [\s\S]+$/,"$1"+c);return a},this.mostPopular=function(a,b,c){var d,j,k,l,e=0,f="http://api.chartbeat.com/live/toppages/",g=npJ("#"+a),h={host:"postmedia.com",section:(window.location.host.indexOf("financialpost.com")>=0?"financialpost":"nationalpost")+".com",apikey:"4ab04a70a38ab17237f459dbcca573b7"},i=/(\/[a-zA-Z0-9-]+\/[a-zA-Z0-9-]+\-[a-zA-Z0-9-]+\-|story\.html$)/i;j=function(a){if(a){for(d=0;d<a.length;d+=1)i.test(a[d].path)&&(a[d].valid=!0,e+=1);1>e?g.removeClass("npIcon npIconLoad"):k(a)}},k=function(a){var b;for(g.append('<ol class="npHeadlines npNoTop npMostPopular" />'),b=npJ("ol",g),d=0;d<a.length;d+=1)a[d].valid&&b.append("<li><"+c+'><a href="http://'+a[d].path+'">'+a[d].i.replace(/^([^\|]+).*$/,"$1")+"</a></"+c+"></li>");g.removeClass("npIcon npIconLoad"),g.show()},l=function(){g.css("min-height","20px").addClass("npIcon npIconLoad"),npJ.ajax({cache:!0,dataType:"json",url:f+"?jsonp=?",data:h,success:j})},b="undefined"!=typeof b?b:5,h.limit=b+1,c="undefined"!=typeof c?c:"h5",l()},this.popup=function(a,b,c,d){var e=this.bIE?document.body.offsetWidth:window.outerWidth,f=this.bIE?document.body.offsetHeight:window.outerHeight,g=this.bIE?window.screenTop:window.screenY,h=this.bIE?window.screenLeft:window.screenX;return d="undefined"!=typeof d?d:"location=0,resizeable=1,scrollbars=1",d+=",width="+b+",height="+c+",top="+.5*(g+f-c)+",left="+.5*(h+e-b),window.open(a,"",d)},this.print=function(a){return this.bIE&&/MSIE [1-7]/.test(navigator.userAgent)?(alert('Internet Explorer users will have to click "File > Print..." to print the page.'),!1):("undefined"!=typeof a?a.print():window.print(),!1)},this.storyShareEmail=function(b){function d(){a.storyShareEmailCaptchaGet("npCaptcha"),c.find('input[type="text"]').get(0).focus()}function e(){a.blockScreenInit(),a.blockScreen.fadeIn(a.iFxD),c.fadeIn(a.iFxD,d)}var c=npJ("#npShareEmailBox");0===c.size()&&(c=document.createElement("div"),c.id="npShareEmailBox",document.body.appendChild(c),c=npJ("#npShareEmailBox"),c.addClass("npLayerTop")),this.biOS&&(c.css("margin-top",0),c.css("top",200+this.iPageYOffset+"px")),c.load(b.attr("href"),e)},this.storyShareEmailCaptchaGet=function(b){var c;"undefined"==typeof Recaptcha&&npJ("head").append('<script type="text/javascript" src="http://www.google.com/recaptcha/api/js/recaptcha_ajax.js"></script>'),c=setInterval(function(){"undefined"!=typeof Recaptcha&&(clearInterval(c),Recaptcha.create(a.sRecaptchaPublicKey,b,{theme:"white"}))},100)},this.storyShareEmailClose=function(){npJ("#npShareEmailBox").fadeOut(this.iFxD),this.blockScreen.fadeOut(this.iFxD)},this.storyShareEmailValidate=function(b){function f(b){b="undefined"!=typeof b&&parseInt(b,10)>0?parseInt(b,10):3,setTimeout(function(){a.storyShareEmailClose()},1e3*b)}function g(){npJ("#npShareEmailSuccess").fadeIn(a.iFxD,f)}function h(){npJ("#npShareEmailSending").fadeOut(a.iFxD,g)}function i(){npJ("#npShareEmailSending").fadeIn(a.iFxD)}function j(b){b.success?h():(a.storyShareEmailClose(),alert("Sorry, but we're unable to send your message at this time. Please try again later."))}var e,c=[],d=[];return/\b[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}\b/i.test(b.to_email.value)||(c.push("Please type the recipient's email address."),d.push(b.to_email)),/\b[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}\b/i.test(b.from_email.value)||(c.push("Please type your email address."),d.push(b.from_email)),/\w{3,}/i.test(b.from_name.value)||(c.push("Please type your name."),d.push(b.from_name)),c.length>0?(alert("Please correct the following errors before sending:\n\n	- "+c.join("\n	- ")),d[0].focus(),!1):(e={},npJ(b).find("input, textarea").each(function(){var a=npJ(this);a.attr("name")&&a.attr("name").length>0&&a.attr("value").length>0&&(e[a.attr("name")]=a.attr("value"))}),npJ("#npShareEmailInput").fadeOut(npLib.iFxD,i),npJ.getJSON("http://ww3.nationalpost.com/services/email/share/?callback=?",e,j),!1)},this.storySizeInc=function(a){this.storySizeSet(parseInt(npJ("#npStoryContent").css("font-size"),10)+a)},this.storySizeSet=function(a){var b=36,c=10,d=npJ("#npStoryContent");a="undefined"!=typeof a?a:this.cookieGet("NPStoryFontSize"),a&&(a=Math.min(Math.max(a,c),b),d.css("font-size",a+"px"),this.cookieSet("NPStoryFontSize",a,90))},this.truncate=function(a,b){for(var g,h,c=a.find("p"),d=b.innerHeight(),e=c.size()-1,f=100;a.innerHeight()-(this.bIE?3:0)>d&&(g=c.eq(e),h=g.text(),f-=1,!(0>=f));)0===h.length||g.text().indexOf(" ")<0?(g.remove(),e-=1):g.text(g.text().replace(/^([\s\S]*) [\s\S]+$/,"$1..."))},this.weatherLocChange=function(b){var c=b.find(".npWeatherForecast"),d=b.find(".npWeatherRegion"),e=b.find(".npWeatherChoose");""===d.find("option:first").attr("value")&&this.weatherRegionGet(b),c.fadeOut(this.iFxD,function(){e.fadeIn(a.iFxD)})},this.weatherCitySet=function(a,b){/^choose/i.test(b.children("option:first").text())&&b.children("option:first").remove(),this.weatherForecastGet(a.parents(".npWeatherWidget"),a.val(),b.val())},this.weatherCitiesUpdate=function(a,b){var c,e,g,d=this.xmlParseNode(this.xmlStripWhite(b)),f=document.createElement("option");for(a.children().remove(),a=a.get(0),f.innerHTML="Choose city...",a.appendChild(f),c=0;c<d.list.item.length;c+=1)g=document.createElement("option"),e=d.list.item[c],g.value=e.city.value,g.innerHTML=e.city.value,a.appendChild(g);a.disabled=!1},this.weatherForecastGet=function(b,c,d){var e="rg="+encodeURIComponent(c)+"&city="+encodeURIComponent(d);npJ.get(this.sWeatherUrl,"item=forecast&"+e,function(c){a.cookieSet("NPWeather",e,60),b.find(".npWeatherForecast .npWeatherDetail").attr("href","http://www.nationalpost.com/weather/index.html?"+e),b.prev("h4").find("a").attr("href","http://www.nationalpost.com/weather/index.html?"+e),a.weatherForecastUpdate(b,c)},"xml")},this.weatherForecastUpdate=function(b,c){var d=this.xmlParseNode(this.xmlStripWhite(c)),e=b.find(".npWeatherChoose"),f=b.find(".npWeatherForecast");f.find(".npWeatherIcon").attr("src","http://www.nationalpost.com/images/icons/weather/"+d.city.current.icon.value+".gif"),f.find(".npWeatherTemp").html(d.city.current.temp[0].value+"<span>&deg;</span>"),f.find(".npWeatherDesc").html("<strong>"+d.city.attributes.name+"</strong><br />"+("Unknown"!==d.city.current.details.value?d.city.current.details.value+"<br />":"")+"Wind: "+d.city.current.wind[0].attributes.direction+d.city.current.wind[0].value+" km/h"+("N/A"!==d.city.current.humidity.value?", Humidity: "+d.city.current.humidity.value+"%":"")),e.fadeOut(this.iFxD,function(){f.fadeIn(a.iFxD)})},this.weatherRegionSet=function(b,c){var d=b.find("option:selected").attr("value");/^choose/i.test(b.children("option:first").text())&&b.children("option:first").remove(),npJ.get(this.sWeatherUrl,"item=cities&rg="+encodeURIComponent(d),function(b){a.weatherCitiesUpdate(c,b)},"xml")},this.weatherRegionGet=function(b){var c=b.find(".npWeatherRegion");npJ.get(this.sWeatherUrl,"item=regions",function(b){a.weatherRegionsUpdate(c,b)},"xml")},this.weatherRegionsUpdate=function(a,b){var c,e,g,d=this.xmlParseNode(this.xmlStripWhite(b)),f=document.createElement("option");for(a.children().remove(),a=a.get(0),f.innerHTML="Choose region...",a.appendChild(f),c=0;c<d.list.item.length;c+=1)e=document.createElement("option"),g=d.list.item[c],e.value=g.region.value,e.innerHTML=g.name.value,a.appendChild(e);a.disabled=!1},this.xmlParseNode=function(a){function g(a){var c,b=a.parentNode.childNodes,d=0;for(c=0;c<b.length;c+=1)if(b[c].nodeName===a.nodeName&&(d+=1),d>1)return!0;return!1}function h(a){var b,d,c={};if(a.attributes.length>0){for(b=0;b<a.attributes.length;b+=1)d=a.attributes.item(b),c[d.nodeName]=d.nodeValue;return c}return!1}var d,e,f,b={},c=a.childNodes;for(d=0;d<c.length;d+=1)f=c[d],1===f.nodeType&&1===parseInt(f.nodeType,10)&&("undefined"==typeof b[f.nodeName]&&(b[f.nodeName]=[]),e=h(f),g(f)?(f.firstChild&&3===parseInt(f.firstChild.nodeType,10)?b[f.nodeName].push({value:f.firstChild.nodeValue}):b[f.nodeName].push(this.xmlParseNode(f)),e&&(b[f.nodeName][b[f.nodeName].length-1].attributes=e)):(f.firstChild&&3===parseInt(f.firstChild.nodeType,10)?b[f.nodeName].value=f.firstChild.nodeValue:b[f.nodeName]=this.xmlParseNode(f),e&&(b[f.nodeName].attributes=e)));return b},this.xmlStripWhite=function(a){var b,c;for(b=0;b<a.childNodes.length;b+=1)c=a.childNodes[b],3===parseInt(c.nodeType,10)&&""===c.nodeValue.replace(/[ \n\r\t]/gm,"")&&(a.removeChild(c),b-=1),1===parseInt(c.nodeType,10)&&this.xmlStripWhite(c);return a},"undefined"!=typeof npJ.fn.lazyload&&npJ(".npPostContent img.npImgRight, article figure img").lazyload({effect:"fadeIn",failurelimit:100,threshold:800}),npJ(".npJsH.npInvis").removeClass("npInvis"),npJ(".npCcnDropdown").css("visibility","visible"),npJ(".npCcnDropdown dt a").bind("click",function(b){function e(){d.slideUp(a.iFxD)}function f(){d.slideDown(a.iFxD)}var c=npJ(this).parents(".npCcnDropdown"),d=c.children("#npCcnSubmenu");b.preventDefault(),/(national|financial)post(\.(dev|qa)\.canada)?\.com$/i.test(window.location.hostname)?d.is(":empty")?(a.cursor("wait"),d.load(a.ajaxMakeURL("/ajax/header/ccn-submenu.xml"),function(){a.cursor(),f()}),c.bind("mouseleave",e)):f():window.location=npJ(this).attr("href")}),npJ("form.npWeatherWidget").each(function(){var b=npJ(this),c=b.find(".npWeatherCity"),d=b.find(".npWeatherRegion"),e=b.find(".npWeatherChange"),f=a.cookieGet("NPWeather");d.change(function(){a.weatherRegionSet(d,c)}),c.change(function(){a.weatherCitySet(d,c)}),e.bind("click",function(c){a.weatherLocChange(b),c.preventDefault()}),f?(f=decodeURIComponent(f),a.weatherForecastGet(b,f.replace(/^rg=([a-z]+)[\s\S]*$/i,"$1"),f.replace(/^[\s\S]*&city=([\s\S]+)$/i,"$1"))):a.weatherRegionGet(b)}),npJ("#npStoryContent").size()>0&&(this.storySizeSet(),npJ('.npStoryTools a[href $= "#IncreaseTextSize"]').bind("click",function(b){b.preventDefault(),a.storySizeInc(2)}),npJ('.npStoryTools a[href $= "#DecreaseTextSize"]').bind("click",function(b){b.preventDefault(),a.storySizeInc(-2)}),npJ(".npFBComments").length>0&&npJ('.npStoryShare a[href $= "#Comments"]').parent("li").css("display","inline").next().removeClass("npTop"),npJ('a[href $= "#Comments"]').bind("click",function(a){a.preventDefault(),document.location.hash="#Comments"})),npJ(".npStoryWidget").length>0&&!function(){var a,c,d,b=npJ(".npStoryWidget");a=setInterval(function(){npJ("#IDMSNewsInnerBox").length>0&&(clearInterval(a),npJ.getScript("http://idms.financialpost.com/js/jquery.stepscroll-0.5.js",function(){c=npJ("#widget, .delay",b),d=c.clone(),c.remove(),b.append(d),npJ("#IDMSNewsInnerBox",d).stepScroll({animationSpeed:1e3,autoStart:!1,manualStep:1,step:3,stepSpeed:2e3}),npJ(".prev",d).bind("click",function(){return hideQuote(),npJ("#IDMSNewsInnerBox",d).trigger("right"),!1}),npJ(".next",d).bind("click",function(){return hideQuote(),npJ("#IDMSNewsInnerBox",d).trigger("left"),!1})}))},5e3)}(),npJ(".npStoryShare a.npIconTwitter").bind("click",function(b){var c=npJ(this);b.preventDefault(),a.popup("http://"+document.location.host.replace(/^([^.]+)/,"www")+"/url-shorten/index.html?"+c.attr("href").replace(/^.*\?(.+)$/,"$1"),800,420)}),npJ(".npStoryShare a.npIconEmail").bind("click",function(b){var c=npJ(this);b.preventDefault(),a.storyShareEmail(c)}),npJ(".npStoryShare .npIconMore").bind("click",function(){return npJ(this).parents(".npStoryShare").find("ul:last").slideToggle(),!1}),npJ(".npTabs").show(),npJ(".npTabs a").bind("click",function(b){function g(b){var e=c.parents(".npTabs").find(".npCurrent"),g=d.children(".npCurrent");d.css("height",d.outerHeight()-f),g.fadeOut(a.iFxD,b),e.removeClass("npCurrent"),c.addClass("npCurrent"),g.removeClass("npCurrent")}function h(){e.fadeIn(a.iFxD,function(){d.css("height","auto"),e.addClass("npCurrent"),c.trigger("visible")})}function i(){var c,b=d.css("height");e.css("display","block"),d.css("height","auto"),c=d.outerHeight(!0),d.css("height",b),e.css("display","none"),d.animate({height:c-f},a.iFxD,h)}function j(){var b,c;a.cursor(),d.removeClass("npIcon"),d.removeClass("npIconLoad"),d.find(".npWaitForRender").size()>0?(c=d.find(".npWaitForRender"),c.removeClass("npWaitForRender"),b=setInterval(function(){c.html().length>0&&(clearInterval(b),i())},100)):i()}function k(){a.cursor("wait"),d.addClass("npIcon"),d.addClass("npIconLoad"),e.load(a.ajaxMakeURL(c.attr("href").replace(/^[\s\S]*#([\s\S]+)$/,"$1")),j)}var c=npJ(this),d=c.parents(".npTabBox").children(".npTabArea"),e=d.children("#npTab"+c.attr("id").replace("npTabBtn","")),f=(parseInt(d.css("borderTopWidth"),10)||0)+(parseInt(d.css("borderBottomWidth"),10)||0);b.preventDefault(),c.hasClass("npCurrent")||g(0===e.contents().length?k:i)}),this.biOS&&npJ(document).bind("scroll",function(){a.iPageYOffset=window.pageYOffset}),npJ(".npScrollAuto").size()>0&&this.scrollerInit(),npJ("a",".npScrollNav").bind("click",function(b){var c=npJ(this),d=c.parents(".npScroller").find(".npScroll");try{clearInterval(a.scrollers[d.attr("id")].auto)}catch(e){}c.hasClass("npScrollNext")?a.scrollerMove(d,1):c.hasClass("npScrollPrev")&&a.scrollerMove(d,-1),b.preventDefault()}),/^(arts|business|fullcomment|life|news|opinion|sports|wpstaging)/.test(document.location.host)&&(this.sProxy="http://"+document.location.host+"/proxy/?url="),npJ(".npPhotoCredit[data-text], .npPhotoCaption[data-text]").each(function(){var a=npJ(this);a.text(a.attr("data-text")).attr("data-text",null)}),this.biOS&&npJ("*").each(this.iOSScroll),this.bIE&&(npJ(".npHeadlines.npNoTop > li:first, .npHeadlines > li.npTop").css("border-top","none").css("padding-top",0),npJ(".npLinks.npNoTop > li:first, .npLinks > li.npTop").css("border-top","none").css("padding-top",0),npJ('*[class ^= "widget_"] ul > li:first').css("border-top","none").css("padding-top",0));try{/(\?|&)dev\b/.test(top.location.search)&&npJ("head").append('<script type="text/javascript" src="http://getfirebug.com/releases/lite/1.3/firebug-lite.js"></script>')}catch(b){}};String.prototype.trim=function(){"use strict";return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},jQuery.pluginMaker=function(a){jQuery.fn[a.prototype.name]=function(b){var c=jQuery.makeArray(arguments),d=c.slice(1);return this.each(function(){var e=jQuery.data(this,a.prototype.name);e?"string"==typeof b?e[b].apply(e,d):e.update&&e.update.apply(e,c):new a(this,b)})}},function(){"use strict";document.write("<script type=\"text/javascript\" src=\"http://s.ppjol.net/pp.js\">{zone:'0J-b8JJU8foC03zDo1_p1Z',mode:'meter',customPreCheck:'preCheckThenationalpost102463',debug:0}</script>")}(),npJ(document).ready(function(){"use strict";var a;if(npLib=new NPLib,"undefined"!=typeof npAReady)for(a=0;a<npAReady.length;a+=1)if("function"==typeof npAReady[a])try{npAReady[a]()}catch(b){}});