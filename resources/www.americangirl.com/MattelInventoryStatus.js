dojo.require("wc.service.common");dojo.require("dojox.xml.DomParser");MattelInventoryStatusJS={populateInventoryDetails:function(serviceResponse,ioArgs){var bundleIndex=null;bundleIndex=WCParamJS.bundleIndex;if(bundleIndex!=null){var bundleID=document.getElementById("bundleCheckBox"+bundleIndex).id;}WCParamJS.bundleIndex=null;
var inventoryStatus=serviceResponse.MattelInventory.inventoryStatus;var inventoryBODate=serviceResponse.MattelInventory.inventoryBODate;var inventoryMessageEnabled=serviceResponse.MattelInventory.inventoryMessageEnabled;var enableNotification=serviceResponse.MattelInventory.enableNotification;var quick="";
if(null!=document.getElementById("WC_QuickInfo_Link_addtocartquick")){var quick="quick";}if(inventoryStatus==MessageHelper.messages["STATUS_B"]){if(Mattel.templateType=="AGTemplate"){var backorderedtext="Backordered Until "+inventoryBODate;$("#"+bundleID).append("<span></span>");$("#"+bundleID).find("span").addClass("special").text(backorderedtext);
}if(inventoryMessageEnabled==MessageHelper.messages["TRUE"]){var mattelInventoryStatus=MessageHelper.messages["INVENTORY_BACKORDERED"]+" "+inventoryBODate;MattelInventoryStatusJS.inventoryButtonEnable(quick,bundleIndex);}else{var mattelInventoryStatus=MessageHelper.messages["INVENTORY_STATUS_PREORDERED"];
MattelInventoryStatusJS.inventoryButtonEnable(quick,bundleIndex);}}else{if(inventoryStatus==MessageHelper.messages["STATUS_A"]){var mattelInventoryStatus="";MattelInventoryStatusJS.inventoryButtonEnable(quick,bundleIndex);}else{if(inventoryStatus==MessageHelper.messages["STATUS_M"]){if(inventoryMessageEnabled==MessageHelper.messages["TRUE"]){var mattelInventoryStatus=MessageHelper.messages["INVENTORY_STATUS_LIMITED_INV_THRESHOLD"];
}else{var mattelInventoryStatus="";}MattelInventoryStatusJS.inventoryButtonEnable(quick,bundleIndex);}else{if(inventoryStatus==MessageHelper.messages["STATUS_T"]){if(inventoryMessageEnabled==MessageHelper.messages["TRUE"]){var mattelInventoryStatus=MessageHelper.messages["INVENTORY_STATUS_NO_LONGER_AVAILABLE"];
}MattelInventoryStatusJS.inventoryButtonDisable(quick,bundleIndex);}else{if(inventoryStatus==MessageHelper.messages["STATUS_S"]){if(inventoryMessageEnabled==MessageHelper.messages["TRUE"]){var mattelInventoryStatus=MessageHelper.messages["INVENTORY_STATUS_NO_LONGER_AVAILABLE"];}MattelInventoryStatusJS.inventoryButtonDisable(quick,bundleIndex);
if(Mattel.templateType=="AGTemplate"){$("#"+bundleID).append("<span>No Longer Available</span>");$("#"+bundleID).find("span").addClass("special");}}}}}}var inventoryStatusNode=null;if(null!=bundleIndex){inventoryStatusNode=dojo.query(".inventoryStatus"+bundleIndex)[0];}else{inventoryStatusNode=dojo.query(".inventoryStatus"+quick)[0];
}if(inventoryStatusNode){dojo.html.set(inventoryStatusNode,"");dojo.html.set(inventoryStatusNode,mattelInventoryStatus);}},inventoryButtonDisable:function(quick,bundleIndex){if(null==bundleIndex){var anchor=document.getElementById("WC_QuickInfo_Link_addtocart"+quick);var anchorLN=anchor.localName.toLowerCase();
if(anchorLN=="a"){if(anchor.getAttribute("data-href")!=null){anchor.href=anchor.getAttribute("data-href");}if(anchor.getAttribute("data-onclick")!=null){anchor.onclick=anchor.getAttribute("data-onclick");}span=document.createElement("span");span.innerHTML=anchor.innerHTML;span.className=anchor.className;
span.id=anchor.id;span.href=anchor.href;if(typeof CsrCommonJS==="object"){span.setAttribute("data-onclick",anchor.getAttribute("onClick"));}else{span.onclick=anchor.onclick;}anchor.parentNode.replaceChild(span,anchor);MattelInventoryStatusJS.changeDisableColor(quick);}}else{if(null==document.getElementById("chk_"+bundleIndex)){$("#bundleCheckBox"+bundleIndex).find("input").attr("disabled",true);
$("#bundleCheckBox"+bundleIndex).find("input").attr("checked",false);document.getElementById("bundleCheckBox"+bundleIndex).className="check grad disabled chk check-right right";if(Mattel.storeName=="TTStore"||Mattel.storeName=="FPStore"||Mattel.storeName=="BCStore"){document.getElementById("bundleCheckBox"+bundleIndex).className="flt-right chk special disabled offset-top-3 rounded";
}}else{$("#chk_"+bundleIndex).attr("disabled",false);$("#chk_"+bundleIndex).attr("checked",false);document.getElementById("bundleCheckBox"+bundleIndex).className="flt-right chk special disabled offset-top-3 rounded";}}},inventoryButtonEnable:function(quick,bundleIndex){if(null==bundleIndex){var span=document.getElementById("WC_QuickInfo_Link_addtocart"+quick);
var spanLN=span.localName.toLowerCase();if(spanLN=="span"){if(span.getAttribute("data-href")!=null){span.href=span.getAttribute("data-href");}if(span.getAttribute("data-onclick")!=null){if(typeof CsrCommonJS==="object"){span.setAttribute("onClick",span.getAttribute("data-onclick"));}else{span.onclick=span.getAttribute("data-onclick");
}}anchor=document.createElement("a");anchor.className=span.className;anchor.innerHTML=span.innerHTML;anchor.id=span.id;anchor.href=span.href;anchor.onclick=span.onclick;span.parentNode.replaceChild(anchor,span);MattelInventoryStatusJS.changeEnableColor(quick);}}else{if(null==document.getElementById("chk_"+bundleIndex)){$("#bundleCheckBox"+bundleIndex).find("input").attr("disabled",false);
$("#bundleCheckBox"+bundleIndex).find("input").attr("checked",false);document.getElementById("bundleCheckBox"+bundleIndex).className="check grad colored chk check-right border dark right";if(null!=document.getElementById("bundleButton")){var spanBun=document.getElementById("bundleButton");if(null!=spanBun&&null!=spanBun.localName){var spanLNBun=spanBun.localName.toLowerCase();
if(null!=spanLNBun&&spanLNBun=="span"){anchor=document.createElement("a");anchor.className=spanBun.className;anchor.innerHTML=spanBun.innerHTML;anchor.id=spanBun.id;anchor.href=spanBun.getAttribute("data-href");$(anchor).attr("onclick",spanBun.getAttribute("data-onclick"));spanBun.parentNode.replaceChild(anchor,spanBun);
document.getElementById("bundleButton").className="button text gradient red right clear";}}}else{$("#chk_"+bundleIndex).attr("disabled",false);$("#chk_"+bundleIndex).attr("checked",false);document.getElementById("bundleCheckBox"+bundleIndex).className="flt-right chk special colored offset-top-3 rounded";
}if(null!=document.getElementById("bundleButton1")&&Mattel.templateType=="AGTemplate"){var spanBun=document.getElementById("bundleButton1");if(null!=spanBun&&null!=spanBun.localName){var spanLNBun=spanBun.localName.toLowerCase();if(null!=spanLNBun&&spanLNBun=="span"){anchor=document.createElement("a");
anchor.className=spanBun.className;anchor.innerHTML=spanBun.innerHTML;anchor.id=spanBun.id;anchor.href=spanBun.getAttribute("data-href");$(anchor).attr("onclick",spanBun.getAttribute("data-onclick"));spanBun.parentNode.replaceChild(anchor,spanBun);document.getElementById("bundleButton1").className="button text gradient red right clear";
}}}else{$("#chk_"+bundleIndex).attr("disabled",false);$("#chk_"+bundleIndex).attr("checked",false);document.getElementById("bundleCheckBox"+bundleIndex).className="flt-right chk special colored offset-top-3 rounded";}}}},changeDisableColor:function(quick,bundleIndex){var className=document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className;
if(className=="button text gradient red"){document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className="button text gradient gray";}else{if(className=="button colored"){document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className="button buttonGrdyedProduct";}else{if(className=="button text gradient red ajaxContent vmElement"){document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className="button text gradient gray ajaxContent_d";
}else{if(className=="button colored ajaxContent vmElement"){document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className="button buttonGrdyedProduct ajaxContent_d";}}}}},changeEnableColor:function(quick,bundleIndex){var className=document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className;
if(className=="button text gradient gray"){document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className="button text gradient red";}else{if(className=="button buttonGrdyed"||className=="button buttonGrdyedProduct"){document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className="button colored";
}else{if(className=="button buttonGrdyed ajaxContent vmElement"||className=="button buttonGrdyedProduct ajaxContent vmElement"){document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className="button colored ajaxContent vmElement";}else{if(className=="button buttonGrdyed ajaxContent_d"||className=="button buttonGrdyedProduct ajaxContent_d"){document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className="button colored ajaxContent vmElement";
}else{if(className=="button text gradient gray ajaxContent vmElement"||className=="button text gradient gray ajaxContent_d"){document.getElementById("WC_QuickInfo_Link_addtocart"+quick).className="button text gradient red ajaxContent vmElement";}}}}}},populateInventoryDetailsAddOnServ:function(serviceResponse,ioArgs){var inventoryStatus=serviceResponse.MattelInventory.inventoryStatus;
var inventoryBODate=serviceResponse.MattelInventory.inventoryBODate;var inventoryMessageEnabled=serviceResponse.MattelInventory.inventoryMessageEnabled;var enableNotification=serviceResponse.MattelInventory.enableNotification;if(inventoryStatus==MessageHelper.messages["STATUS_B"]){if(inventoryMessageEnabled==MessageHelper.messages["TRUE"]){var mattelInventoryStatus=MessageHelper.messages["INVENTORY_BACKORDERED"]+" "+inventoryBODate;
}else{var mattelInventoryStatus=MessageHelper.messages["INVENTORY_STATUS_PREORDERED"];}}else{if(inventoryStatus==MessageHelper.messages["STATUS_A"]){var mattelInventoryStatus="";}else{if(inventoryStatus==MessageHelper.messages["STATUS_M"]){if(inventoryMessageEnabled==MessageHelper.messages["TRUE"]){var mattelInventoryStatus=MessageHelper.messages["INVENTORY_STATUS_LIMITED_INV_THRESHOLD"];
}else{var mattelInventoryStatus="";}}else{if(inventoryStatus==MessageHelper.messages["STATUS_T"]){var mattelInventoryStatus=MessageHelper.messages["INVENTORY_STATUS_NO_LONGER_AVAILABLE"];}else{if(inventoryStatus==MessageHelper.messages["STATUS_S"]){var mattelInventoryStatus=MessageHelper.messages["INVENTORY_STATUS_NO_LONGER_AVAILABLE"];
}}}}}var inventoryStatusNode=null;inventoryStatusNode=dojo.query(".inventoryMessageAddOn")[0];if(inventoryStatusNode){dojo.html.set(inventoryStatusNode,"");dojo.html.set(inventoryStatusNode,mattelInventoryStatus);}}};