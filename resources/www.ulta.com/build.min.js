!function(w,u,Object){if(!Object.create){var Object=window.Object;Object.create=function(){function e(){}return function(t){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()}var requirejsExternalPaths={paths:{}},$=1,oCookies,confManager,WidgetConfig,Entity,HandlerTool,Media,Category,Customer,Stream,WidgetInstance,Uploader,apiClient,abTesting,olapicJquery,_Ounder,theDebugger,settings,cookies,hanldersTools,oInterface,init,read,parse,readForm,getNetwork,setNetwork,OlapicCallback,oTracker,oCookies,oAbtesting,imgCli,OlapicVersion="v1.8.3";requirejsExternalPaths.paths.packery="//photorankstatics-a.akamaihd.net/static/js/sdk/external_libs/packery/packery",requirejsExternalPaths.paths.videojs="//photorankstatics-a.akamaihd.net/static/js/sdk/external_libs/video.js/video",requirejsExternalPaths.paths.touchSwipe="//photorankstatics-a.akamaihd.net/static/js/sdk/external_libs/touchswipe/jquery.touchSwipe.min",requirejsExternalPaths.paths.tinyScrollbar="//photorankstatics-a.akamaihd.net/static/js/sdk/external_libs/jquery.tinyScrollbar/jquery.tinyscrollbar";var OlapicRequireSDK;!function(){if(!OlapicRequireSDK||!OlapicRequireSDK.requirejs){OlapicRequireSDK?require=OlapicRequireSDK:OlapicRequireSDK={};var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[r]=t:(e[r]||(e[r]={}),mixin(e[r],t,n,i)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n,i=e.length;for(t=0;i>t;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,o,a,s,c,l,u,p,d,f,h,g=n&&n.split("/"),m=g,v=x.map,y=v&&v["*"];if(e&&"."===e.charAt(0)&&(n?(m=g.slice(0,g.length-1),e=e.split("/"),u=e.length-1,x.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),e=m.concat(e),t(e),e=e.join("/")):0===e.indexOf("./")&&(e=e.substring(2))),i&&v&&(g||y)){a=e.split("/");e:for(s=a.length;s>0;s-=1){if(l=a.slice(0,s).join("/"),g)for(c=g.length;c>0;c-=1)if(o=getOwn(v,g.slice(0,c).join("/")),o&&(o=getOwn(o,l))){p=o,d=s;break e}!f&&y&&getOwn(y,l)&&(f=getOwn(y,l),h=s)}!p&&f&&(p=f,d=h),p&&(a.splice(0,d,p),e=a.join("/"))}return r=getOwn(x.pkgs,e),r?r:e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===b.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(x.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),b.require.undef(e),b.require([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,i,r){var a,s,c,l,u=null,p=t?t.name:null,d=e,f=!0,h="";return e||(f=!1,e="_@r"+(I+=1)),l=o(e),u=l[0],e=l[1],u&&(u=n(u,p,r),s=getOwn(C,u)),e&&(u?h=s&&s.normalize?s.normalize(e,function(e){return n(e,p,r)}):n(e,p,r):(h=n(e,p,r),l=o(h),u=l[0],h=l[1],i=!0,a=b.nameToUrl(h))),c=!u||s||i?"":"_unnormalized"+(K+=1),{prefix:u,name:h,parentMap:t,unnormalized:!!c,url:a,originalName:d,isDefine:f,id:(u?u+"!"+h:h)+c}}function s(e){var t=e.id,n=getOwn(O,t);return n||(n=O[t]=new b.Module(e)),n}function c(e,t,n){var i=e.id,r=getOwn(O,i);!hasProp(C,i)||r&&!r.defineEmitComplete?(r=s(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(C[i])}function l(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(O,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(E,[E.length,0].concat(globalDefQueue)),globalDefQueue=[])}function p(e){delete O[e],delete _[e]}function d(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var o=i.id,a=getOwn(O,o);!a||e.depMatched[r]||n[o]||(getOwn(t,o)?(e.defineDep(r,C[o]),e.check()):d(a,t,n))}),n[i]=!0)}function f(){var e,t,n=1e3*x.waitSeconds,o=n&&b.startTime+n<(new Date).getTime(),a=[],s=[],c=!1,u=!0;if(!y){if(y=!0,eachProp(_,function(e){var n=e.map,l=n.id;if(e.enabled&&(n.isDefine||s.push(e),!e.error))if(!e.inited&&o)r(l)?(t=!0,c=!0):(a.push(l),i(l));else if(!e.inited&&e.fetched&&n.isDefine&&(c=!0,!n.prefix))return u=!1}),o&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=b.contextName,l(e);u&&each(s,function(e){d(e,{},{})}),o&&!t||!c||!isBrowser&&!isWebWorker||S||(S=setTimeout(function(){S=0,f()},50)),y=!1}}function h(e){hasProp(C,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function g(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function m(e){var t=e.currentTarget||e.srcElement;return g(t,b.onScriptLoad,"load","onreadystatechange"),g(t,b.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(u();E.length;){if(e=E.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}}var y,w,b,k,S,x={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},O={},_={},D={},E=[],C={},T={},P={},I=1,K=1;return k={require:function(e){return e.require?e.require:e.require=b.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?C[e.map.id]=e.exports:e.exports=C[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(x.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},w=function(e){this.events=getOwn(D,e.id)||{},this.map=e,this.shim=getOwn(x.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},w.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,b.startTime=(new Date).getTime();var e=this.map;return this.shim?void b.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;T[e]||(T[e]=!0,b.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=b.execCb(n,o,i,r)}catch(a){e=a}else r=b.execCb(n,o,i,r);if(this.map.isDefine&&void 0===r&&(t=this.module,t?r=t.exports:this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(C[n]=r,req.onResourceLoad&&req.onResourceLoad(b,this.map,this.depMaps)),p(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=a(e.prefix);this.depMaps.push(i),c(i,"defined",bind(this,function(i){var r,o,u,d=getOwn(P,this.map.id),f=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,g=b.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(f=i.normalize(f,function(e){return n(e,h,!0)})||""),o=a(e.prefix+"!"+f,this.map.parentMap),c(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(O,o.id),void(u&&(this.depMaps.push(o),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):d?(this.map.url=b.nameToUrl(d),void this.load()):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(O,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&p(e.map.id)}),l(e)}),r.fromText=bind(this,function(n,i){var o=e.name,c=a(o),u=useInteractive;i&&(n=i),u&&(useInteractive=!1),s(c),hasProp(x.config,t)&&(x.config[o]=x.config[t]);try{req.exec(n)}catch(p){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+p,p,[t]))}u&&(useInteractive=!0),this.depMaps.push(c),b.completeLoad(o),g([o],r)}),void i.load(e.name,g,r,x))})),b.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){_[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(k,e.id))return void(this.depExports[t]=r(this));this.depCount+=1,c(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&c(e,"error",bind(this,this.errback))}n=e.id,i=O[n],hasProp(k,n)||!i||i.enabled||b.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(O,e.id);t&&!t.enabled&&b.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},b={config:x,contextName:e,registry:O,defined:C,urlFetched:T,defQueue:E,Module:w,makeModuleMap:a,nextTick:req.nextTick,onError:l,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=x.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(x[t]||(x[t]={}),mixin(x[t],e,!0,!0)):x[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(P[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=b.makeShimExports(e)),t[n]=e}),x.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(x.paths[n]=e.location),x.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(O,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t))}),(e.deps||e.callback)&&b.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){function o(n,i,c){var u,p,d;return r.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof n?isFunction(i)?l(makeError("requireargs","Invalid require call"),c):t&&hasProp(k,n)?k[n](O[t.id]):req.get?req.get(b,n,t,o):(p=a(n,t,!1,!0),u=p.id,hasProp(C,u)?C[u]:l(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),b.nextTick(function(){v(),d=s(a(null,t)),d.skipMap=r.skipMap,d.init(n,i,c,{enabled:!0}),f()}),o)}return r=r||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;return-1!==r&&(!a||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),b.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(C,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(C,e)||hasProp(O,e)}}),t||(o.undef=function(e){u();var n=a(e,t,!0),r=getOwn(O,e);i(e),delete C[e],delete T[n.url],delete D[e],eachReverse(E,function(t,n){t[0]===e&&E.splice(n,1)}),r&&(r.events.defined&&(D[e]=r.events),p(e))}),o},enable:function(e){var t=getOwn(O,e.id);t&&s(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(x.shim,e)||{},a=o.exports;for(u();E.length;){if(n=E.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);h(n)}if(i=getOwn(O,e),!t&&!hasProp(C,e)&&i&&!i.inited){if(!(!x.enforceDefine||a&&getGlobal(a)))return r(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));h([e,o.deps||[],o.exportsFn])}f()},nameToUrl:function(e,t,n){var i,r,o,a,s,c,l,u=getOwn(x.pkgs,e);if(u&&(e=u),l=getOwn(P,e))return b.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(i=x.paths,r=e.split("/"),o=r.length;o>0;o-=1)if(a=r.slice(0,o).join("/"),c=getOwn(i,a)){isArray(c)&&(c=c[0]),r.splice(0,o,c);break}s=r.join("/"),s+=t||(/^data\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+s}return x.urlArgs?s+((-1===s.indexOf("?")?"?":"&")+x.urlArgs):s},load:function(e,t){req.load(b,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=m(e);b.completeLoad(t.id)}},onScriptError:function(e){var t=m(e);return r(t.id)?void 0:l(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},b.require=b.makeRequire(),b}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.11",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(a=o.context),r=getOwn(contexts,a),r||(r=contexts[a]=req.s.newContext(a)),o&&r.configure(o),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=e.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=null,dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),OlapicRequireSDK.requirejs=requirejs,OlapicRequireSDK.require=require,OlapicRequireSDK.define=define}}(),OlapicRequireSDK.define("requireLib",function(){}),function(e,t){function n(e){var t=he[e]={};return Y.each(e.split(te),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(me,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ge.test(i)?Y.parseJSON(i):i}catch(o){}Y.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e)if(("data"!==t||!Y.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function a(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function c(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function l(e,t,n){if(t=t||0,Y.isFunction(t))return Y.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return Y.grep(e,function(e,i){return e===t===n});if("string"==typeof t){var i=Y.grep(e,function(e){return 1===e.nodeType});if(Re.test(t))return Y.filter(t,i,!n);t=Y.filter(t,i)}return Y.grep(e,function(e,i){return Y.inArray(e,t)>=0===n})}function u(e){var t=qe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function d(e,t){if(1===t.nodeType&&Y.hasData(e)){var n,i,r,o=Y._data(e),a=Y._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)Y.event.add(t,n,s[n][i])}a.data&&(a.data=Y.extend({},a.data))}}function f(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Y.support.html5Clone&&e.innerHTML&&!Y.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ge.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Y.expando))}function h(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){Ge.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=vt.length;r--;)if(t=vt[r]+n,t in e)return t;return i}function v(e,t){return e=t||e,"none"===Y.css(e,"display")||!Y.contains(e.ownerDocument,e)}function y(e,t){for(var n,i,r=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(r[o]=Y._data(n,"olddisplay"),t?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(r[o]=Y._data(n,"olddisplay",S(n.nodeName)))):(i=nt(n,"display"),r[o]||"none"===i||Y._data(n,"olddisplay",i)));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function w(e,t,n){var i=ut.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function b(e,t,n,i){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=Y.css(e,n+mt[r],!0)),i?("content"===n&&(o-=parseFloat(nt(e,"padding"+mt[r]))||0),"margin"!==n&&(o-=parseFloat(nt(e,"border"+mt[r]+"Width"))||0)):(o+=parseFloat(nt(e,"padding"+mt[r]))||0,"padding"!==n&&(o+=parseFloat(nt(e,"border"+mt[r]+"Width"))||0));return o}function k(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r=!0,o=Y.support.boxSizing&&"border-box"===Y.css(e,"boxSizing");if(0>=i||null==i){if(i=nt(e,t),(0>i||null==i)&&(i=e.style[t]),pt.test(i))return i;r=o&&(Y.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+b(e,t,n||(o?"border":"content"),r)+"px"}function S(e){if(ft[e])return ft[e];var t=Y("<"+e+">").appendTo(B.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(it=B.body.appendChild(it||Y.extend(B.createElement("iframe"),{frameBorder:0,width:0,height:0})),rt&&it.createElement||(rt=(it.contentWindow||it.contentDocument).document,rt.write("<!doctype html><html><body>"),rt.close()),t=rt.body.appendChild(rt.createElement(e)),n=nt(t,"display"),B.body.removeChild(it)),ft[e]=n,n}function x(e,t,n,i){var r;if(Y.isArray(t))Y.each(t,function(t,r){n||bt.test(e)?i(e,r):x(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Y.type(t))i(e,t);else for(r in t)x(e+"["+r+"]",t[r],n,i)}function O(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r,o,a=t.toLowerCase().split(te),s=0,c=a.length;if(Y.isFunction(n))for(;c>s;s++)i=a[s],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function _(e,n,i,r,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,c=e[o],l=0,u=c?c.length:0,p=e===Rt;u>l&&(p||!s);l++)s=c[l](n,i,r),"string"==typeof s&&(!p||a[s]?s=t:(n.dataTypes.unshift(s),s=_(e,n,i,r,s,a)));return!p&&s||a["*"]||(s=_(e,n,i,r,"*",a)),s}function D(e,n){var i,r,o=Y.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&Y.extend(!0,e,r)}function E(e,n,i){var r,o,a,s,c=e.contents,l=e.dataTypes,u=e.responseFields;for(o in u)o in i&&(n[u[o]]=i[o]);for(;"*"===l[0];)l.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in c)if(c[o]&&c[o].test(r)){l.unshift(o);break}if(l[0]in i)a=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==l[0]&&l.unshift(a),i[a]):void 0}function C(e,t){var n,i,r,o,a=e.dataTypes.slice(),s=a[0],c={},l=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(n in e.converters)c[n.toLowerCase()]=e.converters[n];for(;r=a[++l];)if("*"!==r){if("*"!==s&&s!==r){if(n=c[s+" "+r]||c["* "+r],!n)for(i in c)if(o=i.split(" "),o[1]===r&&(n=c[s+" "+o[0]]||c["* "+o[0]])){n===!0?n=c[i]:c[i]!==!0&&(r=o[0],a.splice(l--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(u){return{state:"parsererror",error:n?u:"No conversion from "+s+" to "+r}}}s=r}return{state:"success",data:t}}function T(){try{return new e.XMLHttpRequest}catch(t){}}function P(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function I(){return setTimeout(function(){Vt=t},0),Vt=Y.now()}function K(e,t){Y.each(t,function(t,n){for(var i=(Zt[t]||[]).concat(Zt["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function A(e,t,n){var i,r=0,o=Yt.length,a=Y.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Vt||I(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,o=0,s=c.tweens.length;s>o;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),1>r&&s?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:Y.extend({},t),opts:Y.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Vt||I(),duration:n.duration,tweens:[],createTween:function(t,n,i){var r=Y.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){for(var n=0,i=t?c.tweens.length:0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),l=c.props;for(L(l,c.opts.specialEasing);o>r;r++)if(i=Yt[r].call(c,e,l,c.opts))return i;return K(c,l),Y.isFunction(c.opts.start)&&c.opts.start.call(e,c),Y.fx.timer(Y.extend(s,{anim:c,queue:c.opts.queue,elem:e})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function L(e,t){var n,i,r,o,a;for(n in e)if(i=Y.camelCase(n),r=t[i],o=e[n],Y.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=Y.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function N(e,t,n){var i,r,o,a,s,c,l,u,p,d=this,f=e.style,h={},g=[],m=e.nodeType&&v(e);n.queue||(u=Y._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,p=u.empty.fire,u.empty.fire=function(){u.unqueued||p()}),u.unqueued++,d.always(function(){d.always(function(){u.unqueued--,Y.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===Y.css(e,"display")&&"none"===Y.css(e,"float")&&(Y.support.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",Y.support.shrinkWrapBlocks||d.done(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Gt.exec(o)){if(delete t[i],c=c||"toggle"===o,o===(m?"hide":"show"))continue;g.push(i)}if(a=g.length){s=Y._data(e,"fxshow")||Y._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),c&&(s.hidden=!m),m?Y(e).show():d.done(function(){Y(e).hide()}),d.done(function(){var t;Y.removeData(e,"fxshow",!0);for(t in h)Y.style(e,t,h[t])});for(i=0;a>i;i++)r=g[i],l=d.createTween(r,m?s[r]:0),h[r]=s[r]||Y.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function R(e,t,n,i,r){return new R.prototype.init(e,t,n,i,r)}function j(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=mt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function M(e){return Y.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var q,W,B=e.document,F=e.location,H=e.navigator,U=e.oQuery,$=e.$,Q=Array.prototype.push,V=Array.prototype.slice,z=Array.prototype.indexOf,G=Object.prototype.toString,X=Object.prototype.hasOwnProperty,J=String.prototype.trim,Y=function(e,t){return new Y.fn.init(e,t,q)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ee=/\S/,te=/\s+/,ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ie=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,re=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^[\],:{}\s]*$/,ae=/(?:^|:|,)(?:\s*\[)+/g,se=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ce=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,le=/^-ms-/,ue=/-([\da-z])/gi,pe=function(e,t){return(t+"").toUpperCase()},de=function(){B.addEventListener?(B.removeEventListener("DOMContentLoaded",de,!1),Y.ready()):"complete"===B.readyState&&(B.detachEvent("onreadystatechange",de),Y.ready())},fe={};Y.fn=Y.prototype={constructor:Y,init:function(e,n,i){var r,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ie.exec(e),!r||!r[1]&&n)return!n||n.oQuery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof Y?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:B,e=Y.parseHTML(r[1],a,!0),re.test(r[1])&&Y.isPlainObject(n)&&this.attr.call(e,n,!0),Y.merge(this,e);if(o=B.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=B,this.selector=e,this}return Y.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Y.makeArray(e,this))},selector:"",oQuery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=Y.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return Y.each(this,e,t)},ready:function(e){return Y.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(e){return this.pushStack(Y.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:[].sort,splice:[].splice},Y.fn.init.prototype=Y.fn,Y.extend=Y.fn.extend=function(){var e,n,i,r,o,a,s=arguments[0]||{},c=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},c=2),"object"==typeof s||Y.isFunction(s)||(s={}),l===c&&(s=this,--c);l>c;c++)if(null!=(e=arguments[c]))for(n in e)i=s[n],r=e[n],s!==r&&(u&&r&&(Y.isPlainObject(r)||(o=Y.isArray(r)))?(o?(o=!1,a=i&&Y.isArray(i)?i:[]):a=i&&Y.isPlainObject(i)?i:{},s[n]=Y.extend(u,a,r)):r!==t&&(s[n]=r));return s},Y.extend({noConflict:function(t){return e.$===Y&&(e.$=$),t&&e.oQuery===Y&&(e.oQuery=U),Y},isReady:!1,readyWait:1,holdReady:function(e){e?Y.readyWait++:Y.ready(!0)},ready:function(e){if(e===!0?!--Y.readyWait:!Y.isReady){if(!B.body)return setTimeout(Y.ready,1);Y.isReady=!0,e!==!0&&--Y.readyWait>0||(W.resolveWith(B,[Y]),Y.fn.trigger&&Y(B).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Y.type(e)},isArray:Array.isArray||function(e){return"array"===Y.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):fe[G.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Y.type(e)||e.nodeType||Y.isWindow(e))return!1;try{if(e.constructor&&!X.call(e,"constructor")&&!X.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||X.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||B,(i=re.exec(e))?[t.createElement(i[1])]:(i=Y.buildFragment([e],t,n?null:[]),Y.merge([],(i.cacheable?Y.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Y.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):oe.test(t.replace(se,"@").replace(ce,"]").replace(ae,""))?new Function("return "+t)():void Y.error("Invalid JSON: "+t)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",
i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||Y.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&ee.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(le,"ms-").replace(ue,pe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var r,o=0,a=e.length,s=a===t||Y.isFunction(e);if(i)if(s){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;a>o&&n.apply(e[o++],i)!==!1;);else if(s){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:J&&!J.call("\ufeff ")?function(e){return null==e?"":J.call(e)}:function(e){return null==e?"":(e+"").replace(ne,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=Y.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Y.isWindow(e)?Q.call(i,e):Y.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(z)return z.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,a=e.length;for(n=!!n;a>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,n,i){var r,o,a=[],s=0,c=e.length,l=e instanceof Y||c!==t&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||Y.isArray(e));if(l)for(;c>s;s++)r=n(e[s],s,i),null!=r&&(a[a.length]=r);else for(o in e)r=n(e[o],o,i),null!=r&&(a[a.length]=r);return a.concat.apply([],a)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),Y.isFunction(e)?(r=V.call(arguments,2),o=function(){return e.apply(n,r.concat(V.call(arguments)))},o.guid=e.guid=e.guid||Y.guid++,o):t},access:function(e,n,i,r,o,a,s){var c,l=null==i,u=0,p=e.length;if(i&&"object"==typeof i){for(u in i)Y.access(e,n,u,i[u],1,a,r);o=1}else if(r!==t){if(c=s===t&&Y.isFunction(r),l&&(c?(c=n,n=function(e,t,n){return c.call(Y(e),n)}):(n.call(e,r),n=null)),n)for(;p>u;u++)n(e[u],i,c?r.call(e[u],u,n(e[u],i)):r,s);o=1}return o?e:l?n.call(e):p?n(e[0],i):a},now:function(){return(new Date).getTime()}}),Y.ready.promise=function(t){if(!W)if(W=Y.Deferred(),"complete"===B.readyState)setTimeout(Y.ready,1);else if(B.addEventListener)B.addEventListener("DOMContentLoaded",de,!1),e.addEventListener("load",Y.ready,!1);else{B.attachEvent("onreadystatechange",de),e.attachEvent("onload",Y.ready);var n=!1;try{n=null==e.frameElement&&B.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!Y.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Y.ready()}}()}return W.promise(t)},Y.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){fe["[object "+t+"]"]=t.toLowerCase()}),q=Y(B);var he={};Y.Callbacks=function(e){e="string"==typeof e?he[e]||n(e):Y.extend({},e);var i,r,o,a,s,c,l=[],u=!e.once&&[],p=function(t){for(i=e.memory&&t,r=!0,c=a||0,a=0,s=l.length,o=!0;l&&s>c;c++)if(l[c].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}o=!1,l&&(u?u.length&&p(u.shift()):i?l=[]:d.disable())},d={add:function(){if(l){var t=l.length;!function n(t){Y.each(t,function(t,i){var r=Y.type(i);"function"===r?e.unique&&d.has(i)||l.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),o?s=l.length:i&&(a=t,p(i))}return this},remove:function(){return l&&Y.each(arguments,function(e,t){for(var n;(n=Y.inArray(t,l,n))>-1;)l.splice(n,1),o&&(s>=n&&s--,c>=n&&c--)}),this},has:function(e){return Y.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=u=i=t,this},disabled:function(){return!l},lock:function(){return u=t,i||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!l||r&&!u||(o?u.push(t):p(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},Y.extend({Deferred:function(e){var t=[["resolve","done",Y.Callbacks("once memory"),"resolved"],["reject","fail",Y.Callbacks("once memory"),"rejected"],["notify","progress",Y.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Y.Deferred(function(n){Y.each(t,function(t,i){var o=i[0],a=e[t];r[i[1]](Y.isFunction(a)?function(){var e=a.apply(this,arguments);e&&Y.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?Y.extend(e,i):i}},r={};return i.pipe=i.then,Y.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=a.fire,r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=V.call(arguments),a=o.length,s=1!==a||e&&Y.isFunction(e.promise)?a:0,c=1===s?e:Y.Deferred(),l=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?V.call(arguments):r,i===t?c.notifyWith(n,i):--s||c.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&Y.isFunction(o[r].promise)?o[r].promise().done(l(r,i,o)).fail(c.reject).progress(l(r,n,t)):--s;return s||c.resolveWith(i,o),c.promise()}}),Y.support=function(){var t,n,i,r,o,a,s,c,l,u,p,d=B.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=B.createElement("select"),o=r.appendChild(B.createElement("option")),a=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==d.className,enctype:!!B.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==B.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===B.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete d.test}catch(f){t.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",p=function(){t.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",p)),a=B.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),d.appendChild(a),s=B.createDocumentFragment(),s.appendChild(d.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(d),d.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})c="on"+l,u=c in d,u||(d.setAttribute(c,"return;"),u="function"==typeof d[c]),t[l+"Bubbles"]=u;return Y(function(){var n,i,r,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=B.getElementsByTagName("body")[0];s&&(n=B.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),i=B.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=u&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===i.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,o=B.createElement("div"),o.style.cssText=i.style.cssText=a,o.style.marginRight=o.style.width="0",i.style.width="1px",i.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),s.removeChild(n),n=i=r=o=null)}),s.removeChild(d),n=i=r=o=a=s=d=null,t}();var ge=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,me=/([A-Z])/g;Y.extend({cache:{},deletedIds:[],uuid:0,expando:"oQuery"+(Y.fn.oQuery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Y.cache[e[Y.expando]]:e[Y.expando],!!e&&!r(e)},data:function(e,n,i,r){if(Y.acceptData(e)){var o,a,s=Y.expando,c="string"==typeof n,l=e.nodeType,u=l?Y.cache:e,p=l?e[s]:e[s]&&s;if(p&&u[p]&&(r||u[p].data)||!c||i!==t)return p||(l?e[s]=p=Y.deletedIds.pop()||Y.guid++:p=s),u[p]||(u[p]={},l||(u[p].toJSON=Y.noop)),("object"==typeof n||"function"==typeof n)&&(r?u[p]=Y.extend(u[p],n):u[p].data=Y.extend(u[p].data,n)),o=u[p],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[Y.camelCase(n)]=i),c?(a=o[n],null==a&&(a=o[Y.camelCase(n)])):a=o,a}},removeData:function(e,t,n){if(Y.acceptData(e)){var i,o,a,s=e.nodeType,c=s?Y.cache:e,l=s?e[Y.expando]:Y.expando;if(c[l]){if(t&&(i=n?c[l]:c[l].data)){Y.isArray(t)||(t in i?t=[t]:(t=Y.camelCase(t),t=t in i?[t]:t.split(" ")));for(o=0,a=t.length;a>o;o++)delete i[t[o]];if(!(n?r:Y.isEmptyObject)(i))return}(n||(delete c[l].data,r(c[l])))&&(s?Y.cleanData([e],!0):Y.support.deleteExpando||c!=c.window?delete c[l]:c[l]=null)}}},_data:function(e,t,n){return Y.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Y.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Y.fn.extend({data:function(e,n){var r,o,a,s,c,l=this[0],u=0,p=null;if(e===t){if(this.length&&(p=Y.data(l),1===l.nodeType&&!Y._data(l,"parsedAttrs"))){for(a=l.attributes,c=a.length;c>u;u++)s=a[u].name,s.indexOf("data-")||(s=Y.camelCase(s.substring(5)),i(l,s,p[s]));Y._data(l,"parsedAttrs",!0)}return p}return"object"==typeof e?this.each(function(){Y.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",Y.access(this,function(n){return n===t?(p=this.triggerHandler("getData"+o,[r[0]]),p===t&&l&&(p=Y.data(l,e),p=i(l,e,p)),p===t&&r[1]?this.data(r[0]):p):(r[1]=n,void this.each(function(){var t=Y(this);t.triggerHandler("setData"+o,r),Y.data(this,e,n),t.triggerHandler("changeData"+o,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Y.removeData(this,e)})}}),Y.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Y._data(e,t),n&&(!i||Y.isArray(n)?i=Y._data(e,t,Y.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Y.queue(e,t),i=n.length,r=n.shift(),o=Y._queueHooks(e,t),a=function(){Y.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y._data(e,n)||Y._data(e,n,{empty:Y.Callbacks("once memory").add(function(){Y.removeData(e,t+"queue",!0),Y.removeData(e,n,!0)})})}}),Y.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?Y.queue(this[0],e):n===t?this:this.each(function(){var t=Y.queue(this,e,n);Y._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Y.dequeue(this,e)})},delay:function(e,t){return e=Y.fx?Y.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=Y.Deferred(),a=this,s=this.length,c=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=Y._data(a[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(c));return c(),o.promise(n)}});var ve,ye,we,be=/[\t\r\n]/g,ke=/\r/g,Se=/^(?:button|input)$/i,xe=/^(?:button|input|object|select|textarea)$/i,Oe=/^a(?:rea|)$/i,_e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,De=Y.support.getSetAttribute;Y.fn.extend({attr:function(e,t){return Y.access(this,Y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Y.removeAttr(this,e)})},prop:function(e,t){return Y.access(this,Y.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Y.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,a,s;if(Y.isFunction(e))return this.each(function(t){Y(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(te),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",a=0,s=t.length;s>a;a++)o.indexOf(" "+t[a]+" ")<0&&(o+=t[a]+" ");r.className=Y.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,a,s,c;if(Y.isFunction(e))return this.each(function(t){Y(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(te),s=0,c=this.length;c>s;s++)if(r=this[s],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(be," "),o=0,a=n.length;a>o;o++)for(;i.indexOf(" "+n[o]+" ")>=0;)i=i.replace(" "+n[o]+" "," ");r.className=e?Y.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return Y.isFunction(e)?this.each(function(n){Y(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,a=Y(this),s=t,c=e.split(te);r=c[o++];)s=i?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Y._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Y._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(be," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=Y.isFunction(e),this.each(function(i){var o,a=Y(this);1===this.nodeType&&(o=r?e.call(this,i,a.val()):e,null==o?o="":"number"==typeof o?o+="":Y.isArray(o)&&(o=Y.map(o,function(e){return null==e?"":e+""})),n=Y.valHooks[this.type]||Y.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=Y.valHooks[o.type]||Y.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(ke,""):null==i?"":i)}}}),Y.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,c=0>r?s:o?r:0;s>c;c++)if(n=i[c],(n.selected||c===r)&&(Y.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Y.nodeName(n.parentNode,"optgroup"))){if(t=Y(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=Y.makeArray(t);return Y(e).find("option").each(function(){this.selected=Y.inArray(Y(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,r){var o,a,s,c=e.nodeType;if(e&&3!==c&&8!==c&&2!==c)return r&&Y.isFunction(Y.fn[n])?Y(e)[n](i):"undefined"==typeof e.getAttribute?Y.prop(e,n,i):(s=1!==c||!Y.isXMLDoc(e),s&&(n=n.toLowerCase(),a=Y.attrHooks[n]||(_e.test(n)?ye:ve)),i!==t?null===i?void Y.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,i,r,o,a=0;if(t&&1===e.nodeType)for(i=t.split(te);a<i.length;a++)r=i[a],r&&(n=Y.propFix[r]||r,o=_e.test(r),o||Y.attr(e,r,""),e.removeAttribute(De?r:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(Se.test(e.nodeName)&&e.parentNode)Y.error("type property can't be changed");else if(!Y.support.radioValue&&"radio"===t&&Y.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return ve&&Y.nodeName(e,"button")?ve.get(e,t):t in e?e.value:null},set:function(e,t,n){return ve&&Y.nodeName(e,"button")?ve.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!Y.isXMLDoc(e),a&&(n=Y.propFix[n]||n,o=Y.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):xe.test(e.nodeName)||Oe.test(e.nodeName)&&e.href?0:t}}}}),ye={get:function(e,n){var i,r=Y.prop(e,n);return r===!0||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?Y.removeAttr(e,n):(i=Y.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},De||(we={name:!0,id:!0,coords:!0},ve=Y.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(we[n]?""!==i.value:i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=B.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},Y.each(["width","height"],function(e,t){Y.attrHooks[t]=Y.extend(Y.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Y.attrHooks.contenteditable={get:ve.get,set:function(e,t,n){""===t&&(t="false"),ve.set(e,t,n)}}),Y.support.hrefNormalized||Y.each(["href","src","width","height"],function(e,n){Y.attrHooks[n]=Y.extend(Y.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),Y.support.style||(Y.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Y.support.optSelected||(Y.propHooks.selected=Y.extend(Y.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Y.support.enctype||(Y.propFix.enctype="encoding"),Y.support.checkOn||Y.each(["radio","checkbox"],function(){Y.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Y.each(["radio","checkbox"],function(){Y.valHooks[this]=Y.extend(Y.valHooks[this],{set:function(e,t){return Y.isArray(t)?e.checked=Y.inArray(Y(e).val(),t)>=0:void 0}})});var Ee=/^(?:textarea|input|select)$/i,Ce=/^([^\.]*|)(?:\.(.+)|)$/,Te=/(?:^|\s)hover(\.\S+|)\b/,Pe=/^key/,Ie=/^(?:mouse|contextmenu)|click/,Ke=/^(?:focusinfocus|focusoutblur)$/,Ae=function(e){return Y.event.special.hover?e:e.replace(Te,"mouseenter$1 mouseleave$1")};Y.event={add:function(e,n,i,r,o){var a,s,c,l,u,p,d,f,h,g,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(a=Y._data(e))){for(i.handler&&(h=i,i=h.handler,o=h.selector),i.guid||(i.guid=Y.guid++),c=a.events,c||(a.events=c={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof Y||e&&Y.event.triggered===e.type?t:Y.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=Y.trim(Ae(n)).split(" "),l=0;l<n.length;l++)u=Ce.exec(n[l])||[],p=u[1],d=(u[2]||"").split(".").sort(),m=Y.event.special[p]||{},p=(o?m.delegateType:m.bindType)||p,m=Y.event.special[p]||{},f=Y.extend({type:p,origType:u[1],data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&Y.expr.match.needsContext.test(o),namespace:d.join(".")},h),g=c[p],g||(g=c[p]=[],g.delegateCount=0,m.setup&&m.setup.call(e,r,d,s)!==!1||(e.addEventListener?e.addEventListener(p,s,!1):e.attachEvent&&e.attachEvent("on"+p,s))),m.add&&(m.add.call(e,f),f.handler.guid||(f.handler.guid=i.guid)),o?g.splice(g.delegateCount++,0,f):g.push(f),Y.event.global[p]=!0;e=null}},global:{},remove:function(e,t,n,i,r){var o,a,s,c,l,u,p,d,f,h,g,m=Y.hasData(e)&&Y._data(e);if(m&&(d=m.events)){for(t=Y.trim(Ae(t||"")).split(" "),o=0;o<t.length;o++)if(a=Ce.exec(t[o])||[],s=c=a[1],l=a[2],s){for(f=Y.event.special[s]||{},s=(i?f.delegateType:f.bindType)||s,h=d[s]||[],u=h.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p=0;p<h.length;p++)g=h[p],!r&&c!==g.origType||n&&n.guid!==g.guid||l&&!l.test(g.namespace)||i&&i!==g.selector&&("**"!==i||!g.selector)||(h.splice(p--,1),g.selector&&h.delegateCount--,f.remove&&f.remove.call(e,g));0===h.length&&u!==h.length&&(f.teardown&&f.teardown.call(e,l,m.handle)!==!1||Y.removeEvent(e,s,m.handle),delete d[s])}else for(s in d)Y.event.remove(e,s+t[o],n,i,!0);Y.isEmptyObject(d)&&(delete m.handle,Y.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var a,s,c,l,u,p,d,f,h,g,m=n.type||n,v=[];if(!Ke.test(m+Y.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),r&&!Y.event.customEvent[m]||Y.event.global[m]))if(n="object"==typeof n?n[Y.expando]?n:new Y.Event(m,n):new Y.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p=m.indexOf(":")<0?"on"+m:"",r){if(n.result=t,n.target||(n.target=r),i=null!=i?Y.makeArray(i):[],i.unshift(n),d=Y.event.special[m]||{},!d.trigger||d.trigger.apply(r,i)!==!1){if(h=[[r,d.bindType||m]],!o&&!d.noBubble&&!Y.isWindow(r)){for(g=d.delegateType||m,l=Ke.test(g+m)?r:r.parentNode,u=r;l;l=l.parentNode)h.push([l,g]),u=l;u===(r.ownerDocument||B)&&h.push([u.defaultView||u.parentWindow||e,g])}for(c=0;c<h.length&&!n.isPropagationStopped();c++)l=h[c][0],n.type=h[c][1],f=(Y._data(l,"events")||{})[n.type]&&Y._data(l,"handle"),f&&f.apply(l,i),f=p&&l[p],f&&Y.acceptData(l)&&f.apply&&f.apply(l,i)===!1&&n.preventDefault();return n.type=m,o||n.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,i)!==!1||"click"===m&&Y.nodeName(r,"a")||!Y.acceptData(r)||p&&r[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!Y.isWindow(r)&&(u=r[p],u&&(r[p]=null),Y.event.triggered=m,r[m](),Y.event.triggered=t,u&&(r[p]=u)),n.result}}else{a=Y.cache;for(c in a)a[c].events&&a[c].events[m]&&Y.event.trigger(n,i,a[c].handle.elem,!0)}}},dispatch:function(n){n=Y.event.fix(n||e.event);var i,r,o,a,s,c,l,u,p,d=(Y._data(this,"events")||{})[n.type]||[],f=d.delegateCount,h=V.call(arguments),g=!n.exclusive&&!n.namespace,m=Y.event.special[n.type]||{},v=[];if(h[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(f&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(s={},l=[],i=0;f>i;i++)u=d[i],p=u.selector,s[p]===t&&(s[p]=u.needsContext?Y(p,this).index(o)>=0:Y.find(p,this,null,[o]).length),s[p]&&l.push(u);l.length&&v.push({elem:o,matches:l})}for(d.length>f&&v.push({elem:this,matches:d.slice(f)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(c=v[i],n.currentTarget=c.elem,r=0;r<c.matches.length&&!n.isImmediatePropagationStopped();r++)u=c.matches[r],(g||!n.namespace&&!u.namespace||n.namespace_re&&n.namespace_re.test(u.namespace))&&(n.data=u.data,n.handleObj=u,a=((Y.event.special[u.origType]||{}).handle||u.handler).apply(c.elem,h),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||B,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[Y.expando])return e;var t,n,i=e,r=Y.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=Y.Event(i),t=o.length;t;)n=o[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||B),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Y.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=Y.extend(new Y.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Y.event.trigger(r,null,t):Y.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Y.event.handle=Y.event.dispatch,Y.removeEvent=B.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},Y.Event=function(e,t){return this instanceof Y.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&Y.extend(this,t),this.timeStamp=e&&e.timeStamp||Y.now(),void(this[Y.expando]=!0)):new Y.Event(e,t)},Y.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},Y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Y.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;o.selector;return(!r||r!==i&&!Y.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Y.support.submitBubbles||(Y.event.special.submit={setup:function(){return Y.nodeName(this,"form")?!1:void Y.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=Y.nodeName(n,"input")||Y.nodeName(n,"button")?n.form:t;i&&!Y._data(i,"_submit_attached")&&(Y.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),Y._data(i,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Y.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Y.nodeName(this,"form")?!1:void Y.event.remove(this,"._submit")}}),Y.support.changeBubbles||(Y.event.special.change={setup:function(){return Ee.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Y.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Y.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Y.event.simulate("change",this,e,!0)})),!1):void Y.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ee.test(t.nodeName)&&!Y._data(t,"_change_attached")&&(Y.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Y.event.simulate("change",this.parentNode,e,!0)}),Y._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Y.event.remove(this,"._change"),!Ee.test(this.nodeName)}}),Y.support.focusinBubbles||Y.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){Y.event.simulate(t,e.target,Y.event.fix(e),!0)};Y.event.special[t]={setup:function(){0===n++&&B.addEventListener(e,i,!0)},teardown:function(){0===--n&&B.removeEventListener(e,i,!0)}}}),Y.fn.extend({on:function(e,n,i,r,a){var s,c;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(c in e)this.on(c,n,i,e[c],a);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=o;else if(!r)return this;return 1===a&&(s=r,r=function(e){return Y().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=Y.guid++)),this.each(function(){Y.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Y(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=o),this.each(function(){Y.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Y(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Y(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Y.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Y.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Y.guid++,i=0,r=function(n){var r=(Y._data(this,"lastToggle"+e.guid)||0)%i;return Y._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Y.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Pe.test(t)&&(Y.event.fixHooks[t]=Y.event.keyHooks),Ie.test(t)&&(Y.event.fixHooks[t]=Y.event.mouseHooks)}),function(e,t){function n(e,t,n,i){n=n||[],t=t||I;var r,o,a,s,c=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==c&&9!==c)return[];if(a=k(t),!a&&!i&&(r=ne.exec(e)))if(s=r[1]){if(9===c){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&S(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return R.apply(n,j.call(t.getElementsByTagName(e),0)),n;if((s=r[3])&&de&&t.getElementsByClassName)return R.apply(n,j.call(t.getElementsByClassName(s),0)),n}return g(e.replace(J,"$1"),t,n,i,a)}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e;
}}function o(e){return q(function(t){return t=+t,q(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function a(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function s(e,t){var i,r,o,a,s,c,l,u=F[T][e+" "];if(u)return t?0:u.slice(0);for(s=e,c=[],l=w.preFilter;s;){(!i||(r=Z.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),i=!1,(r=ee.exec(s))&&(o.push(i=new P(r.shift())),s=s.slice(i.length),i.type=r[0].replace(J," "));for(a in w.filter)!(r=se[a].exec(s))||l[a]&&!(r=l[a](r))||(o.push(i=new P(r.shift())),s=s.slice(i.length),i.type=a,i.matches=r);if(!i)break}return t?s.length:s?n.error(e):F(e,c).slice(0)}function c(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,o=L++;return t.first?function(t,n,o){for(;t=t[i];)if(r||1===t.nodeType)return e(t,n,o)}:function(t,n,a){if(a){for(;t=t[i];)if((r||1===t.nodeType)&&e(t,n,a))return t}else for(var s,c=A+" "+o+" ",l=c+v;t=t[i];)if(r||1===t.nodeType){if((s=t[T])===l)return t.sizset;if("string"==typeof s&&0===s.indexOf(c)){if(t.sizset)return t}else{if(t[T]=l,e(t,n,a))return t.sizset=!0,t;t.sizset=!1}}}}function l(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function u(e,t,n,i,r){for(var o,a=[],s=0,c=e.length,l=null!=t;c>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),l&&t.push(s));return a}function p(e,t,n,i,r,o){return i&&!i[T]&&(i=p(i)),r&&!r[T]&&(r=p(r,o)),q(function(o,a,s,c){var l,p,d,f=[],g=[],m=a.length,v=o||h(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?v:u(v,f,e,s,c),w=n?r||(o?e:m||i)?[]:a:y;if(n&&n(y,w,s,c),i)for(l=u(w,g),i(l,[],s,c),p=l.length;p--;)(d=l[p])&&(w[g[p]]=!(y[g[p]]=d));if(o){if(r||e){if(r){for(l=[],p=w.length;p--;)(d=w[p])&&l.push(y[p]=d);r(null,w=[],l,c)}for(p=w.length;p--;)(d=w[p])&&(l=r?M.call(o,d):f[p])>-1&&(o[l]=!(a[l]=d))}}else w=u(w===a?w.splice(m,w.length):w),r?r(null,a,w,c):R.apply(a,w)})}function d(e){for(var t,n,i,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,u=c(function(e){return e===t},a,!0),f=c(function(e){return M.call(t,e)>-1},a,!0),h=[function(e,n,i){return!o&&(i||n!==D)||((t=n).nodeType?u(e,n,i):f(e,n,i))}];r>s;s++)if(n=w.relative[e[s].type])h=[c(l(h),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[T]){for(i=++s;r>i&&!w.relative[e[i].type];i++);return p(s>1&&l(h),s>1&&e.slice(0,s-1).join("").replace(J,"$1"),n,i>s&&d(e.slice(s,i)),r>i&&d(e=e.slice(i)),r>i&&e.join(""))}h.push(n)}return l(h)}function f(e,t){var i=t.length>0,r=e.length>0,o=function(a,s,c,l,p){var d,f,h,g=[],m=0,y="0",b=a&&[],k=null!=p,S=D,x=a||r&&w.find.TAG("*",p&&s.parentNode||s),O=A+=null==S?1:Math.E;for(k&&(D=s!==I&&s,v=o.el);null!=(d=x[y]);y++){if(r&&d){for(f=0;h=e[f];f++)if(h(d,s,c)){l.push(d);break}k&&(A=O,v=++o.el)}i&&((d=!h&&d)&&m--,a&&b.push(d))}if(m+=y,i&&y!==m){for(f=0;h=t[f];f++)h(b,g,s,c);if(a){if(m>0)for(;y--;)b[y]||g[y]||(g[y]=N.call(l));g=u(g)}R.apply(l,g),k&&!a&&g.length>0&&m+t.length>1&&n.uniqueSort(l)}return k&&(A=O,D=S),b};return o.el=0,i?q(o):o}function h(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function g(e,t,n,i,r){var o,a,c,l,u,p=s(e);p.length;if(!i&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(c=a[0]).type&&9===t.nodeType&&!r&&w.relative[a[1].type]){if(t=w.find.ID(c.matches[0].replace(ae,""),t,r)[0],!t)return n;e=e.slice(a.shift().length)}for(o=se.POS.test(e)?-1:a.length-1;o>=0&&(c=a[o],!w.relative[l=c.type]);o--)if((u=w.find[l])&&(i=u(c.matches[0].replace(ae,""),ie.test(a[0].type)&&t.parentNode||t,r))){if(a.splice(o,1),e=i.length&&a.join(""),!e)return R.apply(n,j.call(i,0)),n;break}}return x(e,p)(i,t,r,n,ie.test(e)),n}function m(){}var v,y,w,b,k,S,x,O,_,D,E=!0,C="undefined",T=("sizcache"+Math.random()).replace(".",""),P=String,I=e.document,K=I.documentElement,A=0,L=0,N=[].pop,R=[].push,j=[].slice,M=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},q=function(e,t){return e[T]=null==t||t,e},W=function(){var e={},t=[];return q(function(n,i){return t.push(n)>w.cacheLength&&delete e[t.shift()],e[n+" "]=i},e)},B=W(),F=W(),H=W(),U="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",Q=$.replace("w","w#"),V="([*^$|!~]?=)",z="\\["+U+"*("+$+")"+U+"*(?:"+V+U+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Q+")|)|)"+U+"*\\]",G=":("+$+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+z+")|[^:]|\\\\.)*|.*))\\)|)",X=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)",J=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g"),Z=new RegExp("^"+U+"*,"+U+"*"),ee=new RegExp("^"+U+"*([\\x20\\t\\r\\n\\f>+~])"+U+"*"),te=new RegExp(G),ne=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,ie=/[\x20\t\r\n\f]*[+~]/,re=/h\d/i,oe=/input|select|textarea|button/i,ae=/\\(?!\\)/g,se={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),NAME:new RegExp("^\\[name=['\"]?("+$+")['\"]?\\]"),TAG:new RegExp("^("+$.replace("w","w*")+")"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+G),POS:new RegExp(X,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),needsContext:new RegExp("^"+U+"*[>+~]|"+X,"i")},ce=function(e){var t=I.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},le=ce(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),ue=ce(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==C&&"#"===e.firstChild.getAttribute("href")}),pe=ce(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),de=ce(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),fe=ce(function(e){e.id=T+0,e.innerHTML="<a name='"+T+"'></a><div name='"+T+"'></div>",K.insertBefore(e,K.firstChild);var t=I.getElementsByName&&I.getElementsByName(T).length===2+I.getElementsByName(T+0).length;return y=!I.getElementById(T),K.removeChild(e),t});try{j.call(K.childNodes,0)[0].nodeType}catch(he){j=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},b=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=b(t);return n},k=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},S=n.contains=K.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:K.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=k(e);return i||(t=t.toLowerCase()),(n=w.attrHandle[t])?n(e):i||pe?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},w=n.selectors={cacheLength:50,createPseudo:q,match:se,attrHandle:ue?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,n){if(typeof t.getElementById!==C&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==C&&!i){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==C&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:le?function(e,t){return typeof t.getElementsByTagName!==C?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n},NAME:fe&&function(e,t){return typeof t.getElementsByName!==C?t.getElementsByName(name):void 0},CLASS:de&&function(e,t,n){return typeof t.getElementsByClassName===C||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ae,""),e[3]=(e[4]||e[5]||"").replace(ae,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return se.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(te.test(t)&&(n=s(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:y?function(e){return e=e.replace(ae,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(ae,""),function(t){var n=typeof t.getAttributeNode!==C&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(ae,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=B[T][e+" "];return t||(t=new RegExp("(^|"+U+")"+e+"("+U+"|$)"))&&B(e,function(e){return t.test(e.className||typeof e.getAttribute!==C&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r,o){var a=n.attr(r,e);return null==a?"!="===t:t?(a+="","="===t?a===i:"!="===t?a!==i:"^="===t?i&&0===a.indexOf(i):"*="===t?i&&a.indexOf(i)>-1:"$="===t?i&&a.substr(a.length-i.length)===i:"~="===t?(" "+a+" ").indexOf(i)>-1:"|="===t?a===i||a.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i){return"nth"===e?function(e){var t,r,o=e.parentNode;if(1===n&&0===i)return!0;if(o)for(r=0,t=o.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return r-=i,r===n||r%n===0&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[T]?r(t):r.length>1?(i=[e,e,"",t],w.setFilters.hasOwnProperty(e.toLowerCase())?q(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:q(function(e){var t=[],n=[],i=x(e.replace(J,"$1"));return i[T]?q(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:q(function(e){return function(t){return n(e,t).length>0}}),contains:q(function(e){return function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!w.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return re.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return oe.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[0>n?n+t:n]}),even:o(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},O=K.compareDocumentPosition?function(e,t){return e===t?(_=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return _=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],s=e.parentNode,c=t.parentNode,l=s;if(s===c)return a(e,t);if(!s)return-1;if(!c)return 1;for(;l;)r.unshift(l),l=l.parentNode;for(l=c;l;)o.unshift(l),l=l.parentNode;n=r.length,i=o.length;for(var u=0;n>u&&i>u;u++)if(r[u]!==o[u])return a(r[u],o[u]);return u===n?a(e,o[u],-1):a(r[u],t,1)},[0,0].sort(O),E=!_,n.uniqueSort=function(e){var t,n=[],i=1,r=0;if(_=E,e.sort(O),_){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x=n.compile=function(e,t){var n,i=[],r=[],o=H[T][e+" "];if(!o){for(t||(t=s(e)),n=t.length;n--;)o=d(t[n]),o[T]?i.push(o):r.push(o);o=H(e,f(r,i))}return o},I.querySelectorAll&&!function(){var e,t=g,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],a=[":active"],c=K.matchesSelector||K.mozMatchesSelector||K.webkitMatchesSelector||K.oMatchesSelector||K.msMatchesSelector;ce(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+U+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),ce(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+U+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),g=function(e,n,r,a,c){if(!a&&!c&&!o.test(e)){var l,u,p=!0,d=T,f=n,h=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(l=s(e),(p=n.getAttribute("id"))?d=p.replace(i,"\\$&"):n.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+l[u].join("");f=ie.test(e)&&n.parentNode||n,h=l.join(",")}if(h)try{return R.apply(r,j.call(f.querySelectorAll(h),0)),r}catch(g){}finally{p||n.removeAttribute("id")}}return t(e,n,r,a,c)},c&&(ce(function(t){e=c.call(t,"div");try{c.call(t,"[test!='']:sizzle"),a.push("!=",G)}catch(n){}}),a=new RegExp(a.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(r,"='$1']"),!k(t)&&!a.test(i)&&!o.test(i))try{var s=c.call(t,i);if(s||e||t.document&&11!==t.document.nodeType)return s}catch(l){}return n(i,null,null,[t]).length>0})}(),w.pseudos.nth=w.pseudos.eq,w.filters=m.prototype=w.pseudos,w.setFilters=new m,n.attr=Y.attr,Y.find=n,Y.expr=n.selectors,Y.expr[":"]=Y.expr.pseudos,Y.unique=n.uniqueSort,Y.text=n.getText,Y.isXMLDoc=n.isXML,Y.contains=n.contains}(e);var Le=/Until$/,Ne=/^(?:parents|prev(?:Until|All))/,Re=/^.[^:#\[\.,]*$/,je=Y.expr.match.needsContext,Me={children:!0,contents:!0,next:!0,prev:!0};Y.fn.extend({find:function(e){var t,n,i,r,o,a,s=this;if("string"!=typeof e)return Y(e).filter(function(){for(t=0,n=s.length;n>t;t++)if(Y.contains(s[t],this))return!0});for(a=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(i=a.length,Y.find(e,this[t],a),t>0)for(r=i;r<a.length;r++)for(o=0;i>o;o++)if(a[o]===a[r]){a.splice(r--,1);break}return a},has:function(e){var t,n=Y(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(Y.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(l(this,e,!1),"not",e)},filter:function(e){return this.pushStack(l(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?je.test(e)?Y(e,this.context).index(this[0])>=0:Y.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=je.test(e)||"string"!=typeof e?Y(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:Y.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?Y.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?Y.inArray(this[0],Y(e)):Y.inArray(e.oQuery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Y(e,t):Y.makeArray(e&&e.nodeType?[e]:e),i=Y.merge(this.get(),n);return this.pushStack(s(n[0])||s(i[0])?i:Y.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Y.fn.andSelf=Y.fn.addBack,Y.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Y.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Y.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return Y.dir(e,"nextSibling")},prevAll:function(e){return Y.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Y.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Y.dir(e,"previousSibling",n)},siblings:function(e){return Y.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Y.sibling(e.firstChild)},contents:function(e){return Y.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Y.merge([],e.childNodes)}},function(e,t){Y.fn[e]=function(n,i){var r=Y.map(this,t,n);return Le.test(e)||(i=n),i&&"string"==typeof i&&(r=Y.filter(i,r)),r=this.length>1&&!Me[e]?Y.unique(r):r,this.length>1&&Ne.test(e)&&(r=r.reverse()),this.pushStack(r,e,V.call(arguments).join(","))}}),Y.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Y.find.matchesSelector(t[0],e)?[t[0]]:[]:Y.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!Y(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var qe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",We=/ oQuery\d+="(?:null|\d+)"/g,Be=/^\s+/,Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,He=/<([\w:]+)/,Ue=/<tbody/i,$e=/<|&#?\w+;/,Qe=/<(?:script|style|link)/i,Ve=/<(?:script|object|embed|option|style)/i,ze=new RegExp("<(?:"+qe+")[\\s/>]","i"),Ge=/^(?:checkbox|radio)$/,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Je=/\/(java|ecma)script/i,Ye=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ze={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},et=u(B),tt=et.appendChild(B.createElement("div"));Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td,Y.support.htmlSerialize||(Ze._default=[1,"X<div>","</div>"]),Y.fn.extend({text:function(e){return Y.access(this,function(e){return e===t?Y.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Y.isFunction(e))return this.each(function(t){Y(this).wrapAll(e.call(this,t))});if(this[0]){var t=Y(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Y.isFunction(e)?this.each(function(t){Y(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Y(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Y.isFunction(e);return this.each(function(n){Y(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Y.nodeName(this,"body")||Y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||Y.filter(e,[n]).length)&&(t||1!==n.nodeType||(Y.cleanData(n.getElementsByTagName("*")),Y.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Y.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Y.clone(this,e,t)})},html:function(e){return Y.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(We,""):t;if("string"==typeof e&&!Qe.test(e)&&(Y.support.htmlSerialize||!ze.test(e))&&(Y.support.leadingWhitespace||!Be.test(e))&&!Ze[(He.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Fe,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(Y.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(Y(Y.isFunction(e)?e():e),"replaceWith",e):this:Y.isFunction(e)?this.each(function(t){var n=Y(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=Y(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Y(this).remove(),t?Y(t).before(e):Y(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=[].concat.apply([],e);var r,o,a,s,c=0,l=e[0],u=[],d=this.length;if(!Y.support.checkClone&&d>1&&"string"==typeof l&&Xe.test(l))return this.each(function(){Y(this).domManip(e,n,i)});if(Y.isFunction(l))return this.each(function(r){var o=Y(this);e[0]=l.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(r=Y.buildFragment(e,this,u),a=r.fragment,o=a.firstChild,1===a.childNodes.length&&(a=o),o)for(n=n&&Y.nodeName(o,"tr"),s=r.cacheable||d-1;d>c;c++)i.call(n&&Y.nodeName(this[c],"table")?p(this[c],"tbody"):this[c],c===s?a:Y.clone(a,!0,!0));a=o=null,u.length&&Y.each(u,function(e,t){t.src?Y.ajax?Y.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Y.error("no ajax"):Y.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ye,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Y.buildFragment=function(e,n,i){var r,o,a,s=e[0];return n=n||B,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof s&&s.length<512&&n===B&&"<"===s.charAt(0))||Ve.test(s)||!Y.support.checkClone&&Xe.test(s)||!Y.support.html5Clone&&ze.test(s)||(o=!0,r=Y.fragments[s],a=r!==t),r||(r=n.createDocumentFragment(),Y.clean(e,n,r,i),o&&(Y.fragments[s]=a&&r)),{fragment:r,cacheable:o}},Y.fragments={},Y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Y.fn[e]=function(n){var i,r=0,o=[],a=Y(n),s=a.length,c=1===this.length&&this[0].parentNode;if((null==c||c&&11===c.nodeType&&1===c.childNodes.length)&&1===s)return a[t](this[0]),this;for(;s>r;r++)i=(r>0?this.clone(!0):this).get(),Y(a[r])[t](i),o=o.concat(i);return this.pushStack(o,e,a.selector)}}),Y.extend({clone:function(e,t,n){var i,r,o,a;if(Y.support.html5Clone||Y.isXMLDoc(e)||!ze.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(tt.innerHTML=e.outerHTML,tt.removeChild(a=tt.firstChild)),!(Y.support.noCloneEvent&&Y.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Y.isXMLDoc(e)))for(f(e,a),i=h(e),r=h(a),o=0;i[o];++o)r[o]&&f(i[o],r[o]);if(t&&(d(e,a),n))for(i=h(e),r=h(a),o=0;i[o];++o)d(i[o],r[o]);return i=r=null,a},clean:function(e,t,n,i){var r,o,a,s,c,l,p,d,f,h,m,v=t===B&&et,y=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=B),r=0;null!=(a=e[r]);r++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if($e.test(a)){for(v=v||u(t),p=t.createElement("div"),v.appendChild(p),a=a.replace(Fe,"<$1></$2>"),s=(He.exec(a)||["",""])[1].toLowerCase(),c=Ze[s]||Ze._default,l=c[0],p.innerHTML=c[1]+a+c[2];l--;)p=p.lastChild;if(!Y.support.tbody)for(d=Ue.test(a),f="table"!==s||d?"<table>"!==c[1]||d?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes,o=f.length-1;o>=0;--o)Y.nodeName(f[o],"tbody")&&!f[o].childNodes.length&&f[o].parentNode.removeChild(f[o]);!Y.support.leadingWhitespace&&Be.test(a)&&p.insertBefore(t.createTextNode(Be.exec(a)[0]),p.firstChild),a=p.childNodes,p.parentNode.removeChild(p)}else a=t.createTextNode(a);a.nodeType?y.push(a):Y.merge(y,a)}if(p&&(a=p=v=null),!Y.support.appendChecked)for(r=0;null!=(a=y[r]);r++)Y.nodeName(a,"input")?g(a):"undefined"!=typeof a.getElementsByTagName&&Y.grep(a.getElementsByTagName("input"),g);if(n)for(h=function(e){return!e.type||Je.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},r=0;null!=(a=y[r]);r++)Y.nodeName(a,"script")&&h(a)||(n.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(m=Y.grep(Y.merge([],a.getElementsByTagName("script")),h),y.splice.apply(y,[r+1,0].concat(m)),r+=m.length));return y},cleanData:function(e,t){for(var n,i,r,o,a=0,s=Y.expando,c=Y.cache,l=Y.support.deleteExpando,u=Y.event.special;null!=(r=e[a]);a++)if((t||Y.acceptData(r))&&(i=r[s],n=i&&c[i])){if(n.events)for(o in n.events)u[o]?Y.event.remove(r,o):Y.removeEvent(r,o,n.handle);c[i]&&(delete c[i],l?delete r[s]:r.removeAttribute?r.removeAttribute(s):r[s]=null,Y.deletedIds.push(i))}}}),function(){var e,t;Y.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Y.uaMatch(H.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Y.browser=t,Y.sub=function(){function e(t,n){return new e.fn.init(t,n)}Y.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof Y&&!(i instanceof e)&&(i=e(i)),Y.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(B);return e}}();var nt,it,rt,ot=/alpha\([^)]*\)/i,at=/opacity=([^)]*)/,st=/^(top|right|bottom|left)$/,ct=/^(none|table(?!-c[ea]).+)/,lt=/^margin/,ut=new RegExp("^("+Z+")(.*)$","i"),pt=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),dt=new RegExp("^([-+])=("+Z+")","i"),ft={BODY:"block"},ht={position:"absolute",visibility:"hidden",display:"block"},gt={letterSpacing:0,fontWeight:400},mt=["Top","Right","Bottom","Left"],vt=["Webkit","O","Moz","ms"],yt=Y.fn.toggle;Y.fn.extend({css:function(e,n){return Y.access(this,function(e,n,i){return i!==t?Y.style(e,n,i):Y.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n="boolean"==typeof e;return Y.isFunction(e)&&Y.isFunction(t)?yt.apply(this,arguments):this.each(function(){(n?e:v(this))?Y(this).show():Y(this).hide()})}}),Y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nt(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Y.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,c=Y.camelCase(n),l=e.style;if(n=Y.cssProps[c]||(Y.cssProps[c]=m(l,c)),s=Y.cssHooks[n]||Y.cssHooks[c],i===t)return s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:l[n];if(a=typeof i,"string"===a&&(o=dt.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Y.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||Y.cssNumber[c]||(i+="px"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{l[n]=i}catch(u){}}},css:function(e,n,i,r){var o,a,s,c=Y.camelCase(n);return n=Y.cssProps[c]||(Y.cssProps[c]=m(e.style,c)),s=Y.cssHooks[n]||Y.cssHooks[c],s&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=nt(e,n)),"normal"===o&&n in gt&&(o=gt[n]),i||r!==t?(a=parseFloat(o),i||Y.isNumeric(a)?a||0:o):o},swap:function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=o[r];return i}}),e.getComputedStyle?nt=function(t,n){var i,r,o,a,s=e.getComputedStyle(t,null),c=t.style;return s&&(i=s.getPropertyValue(n)||s[n],""!==i||Y.contains(t.ownerDocument,t)||(i=Y.style(t,n)),pt.test(i)&&lt.test(n)&&(r=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=i,i=s.width,c.width=r,c.minWidth=o,c.maxWidth=a)),i}:B.documentElement.currentStyle&&(nt=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null==r&&o&&o[t]&&(r=o[t]),pt.test(r)&&!st.test(t)&&(n=o.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),Y.each(["height","width"],function(e,t){Y.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&ct.test(nt(e,"display"))?Y.swap(e,ht,function(){return k(e,t,i)}):k(e,t,i):void 0},set:function(e,n,i){return w(e,n,i?b(e,t,i,Y.support.boxSizing&&"border-box"===Y.css(e,"boxSizing")):0)}}}),Y.support.opacity||(Y.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=Y.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===Y.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=ot.test(o)?o.replace(ot,r):o+" "+r)}}),Y(function(){Y.support.reliableMarginRight||(Y.cssHooks.marginRight={get:function(e,t){return Y.swap(e,{display:"inline-block"},function(){return t?nt(e,"marginRight"):void 0})}}),!Y.support.pixelPosition&&Y.fn.position&&Y.each(["top","left"],function(e,t){Y.cssHooks[t]={get:function(e,n){if(n){var i=nt(e,t);return pt.test(i)?Y(e).position()[t]+"px":i}}}})}),Y.expr&&Y.expr.filters&&(Y.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Y.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nt(e,"display"))},Y.expr.filters.visible=function(e){return!Y.expr.filters.hidden(e)}),Y.each({margin:"",padding:"",border:"Width"},function(e,t){Y.cssHooks[e+t]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],o={};for(i=0;4>i;i++)o[e+mt[i]+t]=r[i]||r[i-2]||r[0];return o}},lt.test(e)||(Y.cssHooks[e+t].set=w)});var wt=/%20/g,bt=/\[\]$/,kt=/\r?\n/g,St=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xt=/^(?:select|textarea)/i;Y.fn.extend({serialize:function(){return Y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Y.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xt.test(this.nodeName)||St.test(this.type))}).map(function(e,t){var n=Y(this).val();return null==n?null:Y.isArray(n)?Y.map(n,function(e,n){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),Y.param=function(e,n){var i,r=[],o=function(e,t){
t=Y.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Y.ajaxSettings&&Y.ajaxSettings.traditional),Y.isArray(e)||e.oQuery&&!Y.isPlainObject(e))Y.each(e,function(){o(this.name,this.value)});else for(i in e)x(i,e[i],n,o);return r.join("&").replace(wt,"+")};var Ot,_t,Dt=/#.*$/,Et=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ct=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Tt=/^(?:GET|HEAD)$/,Pt=/^\/\//,It=/\?/,Kt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,At=/([?&])_=[^&]*/,Lt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Nt=Y.fn.load,Rt={},jt={},Mt=["*/"]+["*"];try{_t=F.href}catch(qt){_t=B.createElement("a"),_t.href="",_t=_t.href}Ot=Lt.exec(_t.toLowerCase())||[],Y.fn.load=function(e,n,i){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);if(!this.length)return this;var r,o,a,s=this,c=e.indexOf(" ");return c>=0&&(r=e.slice(c,e.length),e=e.slice(0,c)),Y.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),Y.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){i&&s.each(i,a||[e.responseText,t,e])}}).done(function(e){a=arguments,s.html(r?Y("<div>").append(e.replace(Kt,"")).find(r):e)}),this},Y.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Y.fn[t]=function(e){return this.on(t,e)}}),Y.each(["get","post"],function(e,n){Y[n]=function(e,i,r,o){return Y.isFunction(i)&&(o=o||r,r=i,i=t),Y.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),Y.extend({getScript:function(e,n){return Y.get(e,t,n,"script")},getJSON:function(e,t,n){return Y.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?D(e,Y.ajaxSettings):(t=e,e=Y.ajaxSettings),D(e,t),e},ajaxSettings:{url:_t,isLocal:Ct.test(Ot[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Mt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Y.parseJSON,"text xml":Y.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:O(Rt),ajaxTransport:O(jt),ajax:function(e,n){function i(e,n,i,a){var l,p,y,w,k,x=n;2!==b&&(b=2,c&&clearTimeout(c),s=t,o=a||"",S.readyState=e>0?4:0,i&&(w=E(d,S,i)),e>=200&&300>e||304===e?(d.ifModified&&(k=S.getResponseHeader("Last-Modified"),k&&(Y.lastModified[r]=k),k=S.getResponseHeader("Etag"),k&&(Y.etag[r]=k)),304===e?(x="notmodified",l=!0):(l=C(d,w),x=l.state,p=l.data,y=l.error,l=!y)):(y=x,(!x||e)&&(x="error",0>e&&(e=0))),S.status=e,S.statusText=(n||x)+"",l?g.resolveWith(f,[p,x,S]):g.rejectWith(f,[S,x,y]),S.statusCode(v),v=t,u&&h.trigger("ajax"+(l?"Success":"Error"),[S,d,l?p:y]),m.fireWith(f,[S,x]),u&&(h.trigger("ajaxComplete",[S,d]),--Y.active||Y.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,a,s,c,l,u,p,d=Y.ajaxSetup({},n),f=d.context||d,h=f!==d&&(f.nodeType||f instanceof Y)?Y(f):Y.event,g=Y.Deferred(),m=Y.Callbacks("once memory"),v=d.statusCode||{},y={},w={},b=0,k="canceled",S={readyState:0,setRequestHeader:function(e,t){if(!b){var n=e.toLowerCase();e=w[n]=w[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===b?o:null},getResponseHeader:function(e){var n;if(2===b){if(!a)for(a={};n=Et.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return b||(d.mimeType=e),this},abort:function(e){return e=e||k,s&&s.abort(e),i(0,e),this}};if(g.promise(S),S.success=S.done,S.error=S.fail,S.complete=m.add,S.statusCode=function(e){if(e){var t;if(2>b)for(t in e)v[t]=[v[t],e[t]];else t=e[S.status],S.always(t)}return this},d.url=((e||d.url)+"").replace(Dt,"").replace(Pt,Ot[1]+"//"),d.dataTypes=Y.trim(d.dataType||"*").toLowerCase().split(te),null==d.crossDomain&&(l=Lt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===Ot[1]&&l[2]===Ot[2]&&(l[3]||("http:"===l[1]?80:443))==(Ot[3]||("http:"===Ot[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Y.param(d.data,d.traditional)),_(Rt,d,n,S),2===b)return S;if(u=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Tt.test(d.type),u&&0===Y.active++&&Y.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(It.test(d.url)?"&":"?")+d.data,delete d.data),r=d.url,d.cache===!1)){var x=Y.now(),O=d.url.replace(At,"$1_="+x);d.url=O+(O===d.url?(It.test(d.url)?"&":"?")+"_="+x:"")}(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(r=r||d.url,Y.lastModified[r]&&S.setRequestHeader("If-Modified-Since",Y.lastModified[r]),Y.etag[r]&&S.setRequestHeader("If-None-Match",Y.etag[r])),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Mt+"; q=0.01":""):d.accepts["*"]);for(p in d.headers)S.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(d.beforeSend.call(f,S,d)===!1||2===b))return S.abort();k="abort";for(p in{success:1,error:1,complete:1})S[p](d[p]);if(s=_(jt,d,n,S)){S.readyState=1,u&&h.trigger("ajaxSend",[S,d]),d.async&&d.timeout>0&&(c=setTimeout(function(){S.abort("timeout")},d.timeout));try{b=1,s.send(y,i)}catch(D){if(!(2>b))throw D;i(-1,D)}}else i(-1,"No Transport");return S},active:0,lastModified:{},etag:{}});var Wt=[],Bt=/\?/,Ft=/(=)\?(?=&|$)|\?\?/,Ht=Y.now();Y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||Y.expando+"_"+Ht++;return this[e]=!0,e}}),Y.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,c=n.data,l=n.url,u=n.jsonp!==!1,p=u&&Ft.test(l),d=u&&!p&&"string"==typeof c&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(c);return"jsonp"===n.dataTypes[0]||p||d?(o=n.jsonpCallback=Y.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a=e[o],p?n.url=l.replace(Ft,"$1"+o):d?n.data=c.replace(Ft,"$1"+o):u&&(n.url+=(Bt.test(l)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||Y.error(o+" was not called"),s[0]},n.dataTypes[0]="json",e[o]=function(){s=arguments},r.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,Wt.push(o)),s&&Y.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0}),Y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Y.globalEval(e),e}}}),Y.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Y.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=B.head||B.getElementsByTagName("head")[0]||B.documentElement;return{send:function(r,o){n=B.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Ut,$t=e.ActiveXObject?function(){for(var e in Ut)Ut[e](0,1)}:!1,Qt=0;Y.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&T()||P()}:T,function(e){Y.extend(Y.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Y.ajaxSettings.xhr()),Y.support.ajax&&Y.ajaxTransport(function(n){if(!n.crossDomain||Y.support.cors){var i;return{send:function(r,o){var a,s,c=n.xhr();if(n.username?c.open(n.type,n.url,n.async,n.username,n.password):c.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)c[s]=n.xhrFields[s];n.mimeType&&c.overrideMimeType&&c.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)c.setRequestHeader(s,r[s])}catch(l){}c.send(n.hasContent&&n.data||null),i=function(e,r){var s,l,u,p,d;try{if(i&&(r||4===c.readyState))if(i=t,a&&(c.onreadystatechange=Y.noop,$t&&delete Ut[a]),r)4!==c.readyState&&c.abort();else{s=c.status,u=c.getAllResponseHeaders(),p={},d=c.responseXML,d&&d.documentElement&&(p.xml=d);try{p.text=c.responseText}catch(f){}try{l=c.statusText}catch(f){l=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(h){r||o(-1,h)}p&&o(s,l,p,u)},n.async?4===c.readyState?setTimeout(i,0):(a=++Qt,$t&&(Ut||(Ut={},Y(e).unload($t)),Ut[a]=i),c.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Vt,zt,Gt=/^(?:toggle|show|hide)$/,Xt=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Jt=/queueHooks$/,Yt=[N],Zt={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=Xt.exec(t),a=r.cur(),s=+a||0,c=1,l=20;if(o){if(n=+o[2],i=o[3]||(Y.cssNumber[e]?"":"px"),"px"!==i&&s){s=Y.css(r.elem,e,!0)||n||1;do c=c||".5",s/=c,Y.style(r.elem,e,s+i);while(c!==(c=r.cur()/a)&&1!==c&&--l)}r.unit=i,r.start=s,r.end=o[1]?s+(o[1]+1)*n:n}return r}]};Y.Animation=Y.extend(A,{tweener:function(e,t){Y.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],Zt[n]=Zt[n]||[],Zt[n].unshift(t)},prefilter:function(e,t){t?Yt.unshift(e):Yt.push(e)}}),Y.Tween=R,R.prototype={constructor:R,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Y.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.options.duration?this.pos=t=Y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Y.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Y.fx.step[e.prop]?Y.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Y.cssProps[e.prop]]||Y.cssHooks[e.prop])?Y.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Y.each(["toggle","show","hide"],function(e,t){var n=Y.fn[t];Y.fn[t]=function(i,r,o){return null==i||"boolean"==typeof i||!e&&Y.isFunction(i)&&Y.isFunction(r)?n.apply(this,arguments):this.animate(j(t,!0),i,r,o)}}),Y.fn.extend({fadeTo:function(e,t,n,i){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Y.isEmptyObject(e),o=Y.speed(t,n,i),a=function(){var t=A(this,Y.extend({},e),o);r&&t.stop(!0)};return r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=Y.timers,a=Y._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&Jt.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&Y.dequeue(this,e)})}}),Y.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Y.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Y.speed=function(e,t,n){var i=e&&"object"==typeof e?Y.extend({},e):{complete:n||!n&&t||Y.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Y.isFunction(t)&&t};return i.duration=Y.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Y.fx.speeds?Y.fx.speeds[i.duration]:Y.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Y.isFunction(i.old)&&i.old.call(this),i.queue&&Y.dequeue(this,i.queue)},i},Y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Y.timers=[],Y.fx=R.prototype.init,Y.fx.tick=function(){var e,n=Y.timers,i=0;for(Vt=Y.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||Y.fx.stop(),Vt=t},Y.fx.timer=function(e){e()&&Y.timers.push(e)&&!zt&&(zt=setInterval(Y.fx.tick,Y.fx.interval))},Y.fx.interval=13,Y.fx.stop=function(){clearInterval(zt),zt=null},Y.fx.speeds={slow:600,fast:200,_default:400},Y.fx.step={},Y.expr&&Y.expr.filters&&(Y.expr.filters.animated=function(e){return Y.grep(Y.timers,function(t){return e===t.elem}).length});var en=/^(?:body|html)$/i;Y.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Y.offset.setOffset(this,e,t)});var n,i,r,o,a,s,c,l={top:0,left:0},u=this[0],p=u&&u.ownerDocument;if(p)return(i=p.body)===u?Y.offset.bodyOffset(u):(n=p.documentElement,Y.contains(n,u)?("undefined"!=typeof u.getBoundingClientRect&&(l=u.getBoundingClientRect()),r=M(p),o=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,s=r.pageYOffset||n.scrollTop,c=r.pageXOffset||n.scrollLeft,{top:l.top+s-o,left:l.left+c-a}):l)},Y.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Y.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Y.css(e,"marginTop"))||0,n+=parseFloat(Y.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=Y.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=Y(e),s=a.offset(),c=Y.css(e,"top"),l=Y.css(e,"left"),u=("absolute"===i||"fixed"===i)&&Y.inArray("auto",[c,l])>-1,p={},d={};u?(d=a.position(),r=d.top,o=d.left):(r=parseFloat(c)||0,o=parseFloat(l)||0),Y.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+r),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):a.css(p)}},Y.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=en.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Y.css(e,"marginTop"))||0,n.left-=parseFloat(Y.css(e,"marginLeft"))||0,i.top+=parseFloat(Y.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(Y.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||B.body;e&&!en.test(e.nodeName)&&"static"===Y.css(e,"position");)e=e.offsetParent;return e||B.body})}}),Y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);Y.fn[e]=function(r){return Y.access(this,function(e,r,o){var a=M(e);return o===t?a?n in a?a[n]:a.document.documentElement[r]:e[r]:void(a?a.scrollTo(i?Y(a).scrollLeft():o,i?o:Y(a).scrollTop()):e[r]=o)},e,r,arguments.length,null)}}),Y.each({Height:"height",Width:"width"},function(e,n){Y.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){Y.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return Y.access(this,function(n,i,r){var o;return Y.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?Y.css(n,i,r,s):Y.style(n,i,r,s)},n,a?r:t,a,null)}})}),e.oQuery=e.$=Y,"function"==typeof OlapicRequireSDK.define&&OlapicRequireSDK.define.amd&&OlapicRequireSDK.define("oQuery",[],function(){return Y})}(window),OlapicRequireSDK.define("jquery",function(){}),OlapicRequireSDK.define("conf",[],function(){confManager={data:{},set:function(e,t){var n=arguments[2]||!1,i=!0;i=this.data.hasOwnProperty(e)===!0&&n===!1?!1:!0,i===!0&&(this.data[e]=t)},get:function(e){return this.data[e]},remove:function(e){delete this.data[e]}}}),OlapicRequireSDK.define("olapicSDK",["conf"],function(){OlapicSDK=window.OlapicSDK||{},OlapicSDK.conf=confManager,OlapicSDK.Tools=OlapicSDK.Tools||{},OlapicSDK.Tools.createObject=function(e){function t(){}return Object.create?Object.create(e):(t.prototype=e,new t)}}),function(e,t,n){var i,r,o,a,s,c;n.prototype.indexOf||(n.prototype.indexOf=function(e,n){if(this===t||null===this)throw new TypeError('"this" is null or not defined');var i=this.length>>>0;for(n=+n||0,Math.abs(n)===1/0&&(n=0),0>n&&(n+=i,0>n&&(n=0));i>n;n++)if(this[n]===e)return n;return-1}),function(e,t){"function"==typeof OlapicRequireSDK.define&&OlapicRequireSDK.define.amd?OlapicRequireSDK.define("OlapicDevKit:js.class",[],t):e.JSClass=t}(this,function(){var e=function(){function e(e,t){for(var n in t)if("extend"!==n&&"static"!==n&&"typeOf"!==n&&"mixin"!==n){if("object"==typeof t[n]||"function"==typeof t[n])return void(e[n]=t[n]);n===n.toUpperCase()?(Object.defineProperty(e,n,{writable:!1,configurable:!1,enumerable:!0,value:t[n]}),Object.defineProperty(e.prototype,n,{writable:!1,configurable:!1,enumerable:!0,value:t[n]})):(Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e}}),Object.defineProperty(e.prototype,n,{get:function(){return t[n]},set:function(e){t[n]=e}}))}}function t(e,t,n){n=n||!1;for(var i in t)"create"===i&&!n||"typeOf"===i||"mixin"===i||"static"===i||"extend"===i||(e[i]=t[i])}return function(n){var i=!1;return function r(n,o){var a,s=[],c=o.hasOwnProperty("singleton")&&o.singleton,l=function(){if("function"==typeof this.create&&i===!1&&this.create.apply(this,arguments),o.hasOwnProperty("set"))for(var e in o.set)Object.defineProperty(this,e,{set:o.set[e]});if(c&&"undefined"!=typeof this)throw new Error("Singleton object cannot have more than one instance, call instance method instead")};null!==n&&(i=!0,l.prototype=new n,i=!1);var u=l.prototype;return u.typeOf=function(e){if("object"==typeof e)return s.indexOf(e)>=0;if("function"==typeof e){if(this instanceof e)return!0;if(s.indexOf(e)>=0)return!0}return!1},"function"==typeof o&&(o=o()),t(u,o,!0),l["static"]=function(t){return e(l,t),l},l.mixin=function(){for(var e=0,n=arguments.length;n>e;e++){var i=arguments[e];if("function"==typeof i)var r=i.prototype;else{if("object"!=typeof i)throw new Error("js.class mixin method accepts only types: object, function - `"+typeof i+"` type given");var r=i}t(u,r,!1),s.push(i)}return l},c?(l.extend=function(){throw new Error("Singleton class cannot be extended")},l.instance=function(){return a||(c=!1,a=new l,c=!0),a}):l.extend=function(e){return r(this,e)},l}(null,n)}}();return e}),function(e,t){"function"==typeof OlapicRequireSDK.define&&OlapicRequireSDK.define.amd?OlapicRequireSDK.define("OlapicDevKit:request",t):"object"==typeof exports?module.exports=t:e.request=t(e)}(this,function(t){var n,i={},r={};return r.parse=function(e){var t;try{t=JSON.parse(e.responseText)}catch(n){t=e.responseText}return[t,e]},r.toQuery=function(e){var t,n=[];for(t in e)n.push(t+"="+e[t]);return n.join("&")},r.verifyQuery=function(e,t){var n={},i=null;for(i in t)new RegExp("[?|&]"+i+"=").test(e)||(n[i]=t[i]);return n},r.validateHTTPStatus=function(e){var t=!1;return e=parseInt(e),e>=200&&230>e&&(t=!0),t},n=function(t,n,i,o,a){var s={success:function(){},error:function(){},always:function(){}},c=null,l={},u="file:"===e.location.protocol?"https:":e.location.protocol,p=!1;if("GET"===t&&(o=r.verifyQuery(n,o)),e.XDomainRequest?(c=new XDomainRequest,c.onprogress=function(){},c.ontimeout=function(){}):e.XMLHttpRequest?(c=new XMLHttpRequest,p=!0):e.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLHTTP")),c){if(o&&(n+=(n.indexOf("?")>-1?"&":"?")+r.toQuery(o)),c.open(t,n.indexOf("http")>-1?n:u+n,!0),c.onload=function(){r.validateHTTPStatus(c.status)||"OK"===c.statusText||"undefined"==typeof c.statusText?s.success.apply(c,r.parse(c)):s.error.apply(c,r.parse(c)),s.always.apply(c,[])},c.onerror=function(e){s.error.apply(c,[e]),s.always.apply(c,[])},a&&p)for(var d in a)c.setRequestHeader(d,a[d]);"POST"===t&&(p&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i=r.toQuery(i)),"GET"===t&&(i=null),setTimeout(function(){c.send(i)},0)}return l={success:function(e){return s.success=e,l},error:function(e){return s.error=e,l},always:function(e){return s.always=e,l}}},i.get=function(e,t,i){return n("GET",e,{},t,i)},i.put=function(e,t,i,r){return n("PUT",e,t,i,r)},i.post=function(e,t,i,r){return n("POST",e,t,i,r)},i["delete"]=function(e,t,i){return n("DELETE",e,{},t,i)},i}),OlapicRequireSDK.define("OlapicDevKit:utils",[],function(){var e={clone:function(e){return JSON.parse(JSON.stringify(e))},merge:function(e,t){"object"!=typeof e&&(e={});for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if("object"==typeof i){e[n]=this.merge(e[n],i);continue}e[n]=i}return e},isValidEntity:function(e,t){var n="<"+t+".entity>";return e.description()===n?!0:!1},isUndefined:function(e){return void 0===e},objectKeys:function(e){if(e!==Object(e))throw new TypeError("objectKeys() called on a non-object");var t=[],n=null;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}};return e}),OlapicRequireSDK.define("OlapicDevKit:handler",["OlapicDevKit:js.class","OlapicDevKit:utils"],function(e,t){var n=e({createEntityFromJSON:function(){return null},extractEntitiesFromObject:function(){return null},getResourcesFromObject:function(e){var n=null,i={},r={},o={};for(n in e)n.indexOf(":")>-1&&e[n]?(r=n.split(":"),o={},o[r[0]]={},null!==e[n]&&(o[r[0]][r[1]]={link:e[n]._links.self.href}),i=t.merge(i,o)):"media"!==n&&"customer"!==n&&e[n]&&null!==e[n]&&(i[n]={link:e[n]._links.self.href});return i},getFormsFromObject:function(e){var n=null,i={},r={},o={};for(n in e)n.indexOf(":")>-1?(r=n.split(":"),o={},o[r[0]]={},o[r[0]][r[1]]=e[n],i=t.merge(i,o)):"media"!==n&&(i[n]=e[n]);return i}});return n}),OlapicRequireSDK.define("OlapicDevKit:entity",["OlapicDevKit:js.class"],function(e){var t=e({alias:"entity",data:{},create:function(e){this.data=e},get:function(e){for(var t,n=e.split("/"),i=0;i<n.length;i++)if(t=1>i?this.data[n[i]]:t[n[i]],""===t||"undefined"==typeof t)return null;return t},description:function(){return"<"+this.alias+">"}});return t}),OlapicRequireSDK.define("OlapicDevKit:batch",["OlapicDevKit:js.class","OlapicDevKit:utils"],function(e,t){var n=e({alias:"batch",create:function(){this.currentURL="",this.prevURL="",this.nextURL="",this.sorting="recent",this.limit=20,this.rights=!1},fetch:function(){var e=s.defer(),n=[],i={},r=this,o={count:this.limit};return this.rights&&t.merge(o,{rights_given:1}),c.get(this.currentURL,o).success(function(t){n=a.media.extractEntitiesFromObject(t),i=n.links,r.nextURL=i.next?i.next.href:null,r.prevURL=i.prev?i.prev.href:null,e.resolve(n.media)}).error(function(t){e.reject(t)}),e.promise},next:function(){return this.currentURL=this.nextURL,this.fetch()},prev:function(){return this.currentURL=this.prevURL,this.fetch()}});return n}),OlapicRequireSDK.define("OlapicDevKit:customer.entity",["OlapicDevKit:entity"],function(e){var t=e.extend({alias:"customer.entity",getUploader:function(){var e=a.customer;return e.getUploaderFromCustomer(this)},createUploader:function(e){var t=a.customer;return t.createUploaderFromCustomer(this,e)},searchStream:function(e){var t=a.customer;return t.searchStreamFromCustomer(this,e)},searchCategory:function(e){var t=a.customer;return t.searchCategoryFromCustomer(this,e)}});return t}),OlapicRequireSDK.define("OlapicDevKit:customer.handler",["OlapicDevKit:handler","OlapicDevKit:utils","OlapicDevKit:customer.entity"],function(e,t,n){var i=e.extend({alias:"customer.handler",createEntityFromJSON:function(e){for(var i=e.data._embedded.customer,r=t.clone(i),a=["_embedded","_fixed","_forms","_links","views"],s=0;s<a.length;s++)delete r[a[s]];return r.link=i._links.self.href,r.resources=this.getResourcesFromObject(i._embedded),r.actions=this.getFormsFromObject(i._forms),o.get("include_raw")&&(r._raw=t.clone(i)),new n(r)},getUploaderFromCustomer:function(e){var t=e.get("resources/user/link"),n=null,i=s.defer();return c.get(t).success(function(e){n=a.uploader.createEntityFromJSON(e),i.resolve(n)}).error(function(e){i.reject(e)}),i.promise},createUploaderFromCustomer:function(e,t){var n=e.get("actions/users/create/action/href"),i=null,r=s.defer();return c.post(n,t).success(function(e){i=a.uploader.createEntityFromJSON(e),r.resolve(i)}).error(function(e){r.reject(e)}),r.promise},searchStreamFromCustomer:function(e,t){var n=e.get("actions/streams/search/action/href"),i=s.defer(),r=null;return c.get(n,{tag_key:t}).success(function(e){r=a.stream.createEntityFromJSON(e.data),i.resolve(r)}).error(function(e){i.reject(e)}),i.promise},searchCategoryFromCustomer:function(e,t){var n=e.get("actions/categories/search/action/href"),i=s.defer(),r=null;return c.get(n,{tag_key:t}).success(function(e){r=a.category.createEntityFromJSON(e.data),i.resolve(r)}).error(function(e){i.reject(e)}),i.promise},getCustomerByID:function(e){var t=r.apiURL+"/customers/"+e;return a.customer.getCustomerByURL(t)},getCustomerByURL:function(e){var t=null,n=s.defer();return c.get(e).success(function(e){t=a.customer.createEntityFromJSON({data:{_embedded:{customer:e.data}}}),n.resolve(t)}).error(function(e){n.reject(e)}),n.promise}});return i}),OlapicRequireSDK.define("OlapicDevKit:uploader.entity",["OlapicDevKit:entity"],function(e){var t=e.extend({alias:"uploader.entity",getUploadUrl:function(){var e=a.uploader;return e.getUploadURLFromUploader(this)}});return t}),OlapicRequireSDK.define("OlapicDevKit:uploader.handler",["OlapicDevKit:handler","OlapicDevKit:utils","OlapicDevKit:uploader.entity"],function(e,t,n){var i=e.extend({alias:"uploader.handler",createEntityFromJSON:function(e){var i=e.data;"undefined"!=typeof i._embedded&&1===t.objectKeys(i).length&&(i=i._embedded.uploader);for(var r=t.clone(i),a=["_embedded","_fixed","_forms","_links","views"],s=0;s<a.length;s++)delete r[a[s]];return r.link=i._links.self.href,r.resources=this.getResourcesFromObject(i._embedded),r.actions=this.getFormsFromObject(i._forms),o.get("include_raw")&&(r._raw=t.clone(i)),new n(r)},getUploadURLFromUploader:function(e){var t="?auth_token="+o.get("auth_token"),n="&version="+r.apiVersion,i=e.get("actions/media/upload/action/href");return i+t+n},getInstagramUserFromCustomer:function(e,t){var n=r.apiURL+"/customers/"+e.get("id")+"/instagram_users/"+t,i=s.defer(),o=null;return c.get(n,{version:"beta"}).success(function(e){o=a.uploader.createEntityFromJSON(e),i.resolve(o)}).error(function(e){i.reject(e)}),i.promise},getUploaderByID:function(e){var t=r.apiURL+"/users/"+e;return a.uploader.getUploaderByURL(t)},getUploaderByURL:function(e){var t=null,n=s.defer();return c.get(e).success(function(e){t=a.uploader.createEntityFromJSON(e),n.resolve(t)}).error(function(e){n.reject(e)}),n.promise}});return i}),OlapicRequireSDK.define("OlapicDevKit:media.batch",["OlapicDevKit:batch"],function(e){var t=e.extend({create:function(t,n,i,r){e.prototype.create.apply(this,arguments),n&&(this.sorting=n),i&&(this.limit=i),r&&(this.rights=r),this.currentURL=t.get("resources/media/"+this.sorting+"/link")}});return t}),OlapicRequireSDK.define("OlapicDevKit:media.entity",["OlapicDevKit:entity"],function(e){var t=e.extend({alias:"media.entity",getUploader:function(){var e=a.media;return e.getUploaderFromMedia(this)},report:function(e){var t=a.media;return t.reportMedia(this,e)},getRelatedStreams:function(){var e=a.media;return e.getRelatedStreamsFromMedia(this)},getRelatedCategories:function(){var e=a.media;return e.getRelatedCategoriesFromMedia(this)}});return t}),OlapicRequireSDK.define("OlapicDevKit:media.handler",["OlapicDevKit:handler","OlapicDevKit:utils","OlapicDevKit:media.entity"],function(e,t,n){var i=e.extend({alias:"media.handler",createEntityFromJSON:function(e){for(var i=t.clone(e),r=["_embedded","_fixed","_forms","_links","views","_analytics"],a=0;a<r.length;a++)delete i[r[a]];return i.link=e._links.self.href,i.resources=this.getResourcesFromObject(e._embedded),i.actions=this.getFormsFromObject(e._forms),o.get("include_raw")&&(i._raw=t.clone(e)),new n(i)},extractEntitiesFromObject:function(e){var t=e.data._embedded.media||[],n=[],i={},r=0,o=e.data._links;for(r=0;r<t.length;r++)i=this.createEntityFromJSON(t[r]),n.push(i);return{media:n,links:o}},getUploaderFromMedia:function(e){var t=e.get("resources/uploader/link"),n=null,i=s.defer();return c.get(t).success(function(e){n=a.uploader.createEntityFromJSON(e),i.resolve(n)}).error(function(e){i.reject(e)}),i.promise},reportMedia:function(e,t){var n=e.get("actions/report/action/href"),i=s.defer();return c.post(n,t).success(function(){i.resolve()}).error(function(e){i.reject(e)}),i.promise},getRelatedStreamsFromMedia:function(e){var t=e.get("resources/streams/all/link"),n=s.defer(),i=null;return c.get(t).success(function(e){i=a.stream.extractEntitiesFromObject(e),n.resolve(i)}).error(function(e){n.reject(e)}),n.promise},getRelatedCategoriesFromMedia:function(e){var t=e.get("resources/categories/all/link"),n=s.defer(),i=null;return c.get(t).success(function(e){i=a.category.extractEntitiesFromObject(e),n.resolve(i)}).error(function(e){n.reject(e)}),n.promise},getMediaByID:function(e){var t=r.apiURL+"/media/"+e;return a.media.getMediaByURL(t)},getMediaByURL:function(e){var t=null,n=s.defer();return c.get(e).success(function(e){0===e.data._links.length&&(e.data=e.data._embedded.media[0]),t=a.media.createEntityFromJSON(e.data),n.resolve(t)}).error(function(e){n.reject(e)}),n.promise}});return i}),OlapicRequireSDK.define("OlapicDevKit:stream.entity",["OlapicDevKit:entity"],function(e){var t=e.extend({alias:"stream.entity",getBaseImage:function(){var e=a.stream;return e.getBaseImageFromStream(this)},getCoverImage:function(){var e=a.stream;return e.getCoverImageFromStream(this)}});return t}),OlapicRequireSDK.define("OlapicDevKit:stream.handler",["OlapicDevKit:handler","OlapicDevKit:utils","OlapicDevKit:stream.entity"],function(e,t,n){var i=e.extend({alias:"stream.handler",createEntityFromJSON:function(e){for(var i=t.clone(e),r=["_embedded","_fixed","_forms","_links","views","_analytics"],a=0;a<r.length;a++)delete i[r[a]];return i.link=e._links.self.href,i.resources=this.getResourcesFromObject(e._embedded),i.actions=this.getFormsFromObject(e._forms),o.get("include_raw")&&(i._raw=t.clone(e)),new n(i)},extractEntitiesFromObject:function(e){var t=e.data._embedded.stream||[],n=[],i=0;for(i=0;i<t.length;i++)n.push(this.createEntityFromJSON(t[i]));return n},getBaseImageFromStream:function(e){var t=e.get("resources/base_image/link"),n=null,i=s.defer();return c.get(t).success(function(e){n=a.media.createEntityFromJSON(e.data),i.resolve(n)}).error(function(e){i.reject(e)}),i.promise},getCoverImageFromStream:function(e){var t=e.get("resources/cover_media/link"),n=null,i=s.defer();return c.get(t).success(function(e){n=a.media.createEntityFromJSON(e.data),i.resolve(n)}).error(function(e){i.reject(e)}),i.promise},getStreamByID:function(e){var t=r.apiURL+"/streams/"+e;return a.stream.getStreamByURL(t)},getStreamByURL:function(e){var t=null,n=s.defer();return c.get(e).success(function(e){0===e.data._links.length&&(e.data=e.data._embedded.stream[0]),t=a.stream.createEntityFromJSON(e.data),n.resolve(t)}).error(function(e){n.reject(e)}),n.promise}});return i}),OlapicRequireSDK.define("OlapicDevKit:category.entity",["OlapicDevKit:entity"],function(e){var t=e.extend({alias:"category.entity"});return t}),OlapicRequireSDK.define("OlapicDevKit:category.handler",["OlapicDevKit:handler","OlapicDevKit:utils","OlapicDevKit:category.entity"],function(e,t,n){var i=e.extend({alias:"category.handler",createEntityFromJSON:function(e){for(var i=t.clone(e),r=["_embedded","_forms","_links"],a=0;a<r.length;a++)delete i[r[a]];return i.link=e._links.self.href,i.resources=this.getResourcesFromObject(e._embedded),i.actions=this.getFormsFromObject(e._forms),o.get("include_raw")&&(i._raw=t.clone(e)),new n(i)},extractEntitiesFromObject:function(e){var t=e.data._embedded.category||[],n=[],i=0;for(i=0;i<t.length;i++)n.push(this.createEntityFromJSON(t[i]));return n},getCategoryByID:function(e){var t=r.apiURL+"/categories/"+e;return a.category.getCategoryByURL(t)},getCategoryByURL:function(e){var t=null,n=s.defer();return c.get(e).success(function(e){0===e.data._links.length&&(e.data=e.data._embedded.category[0]),t=a.category.createEntityFromJSON(e.data),n.resolve(t)}).error(function(e){n.reject(e)}),n.promise;
}});return i}),OlapicRequireSDK.define("OlapicDevKit:widget.entity",["OlapicDevKit:entity"],function(e){var t=e.extend({alias:"widget.entity",getSettings:function(){var e=a.widget;return e.getSettingsFromWidget(this)},getStream:function(){var e=a.widget;return e.getStreamFromWidget(this)},getCategory:function(){var e=a.widget;return e.getCategoryFromWidget(this)}});return t}),OlapicRequireSDK.define("OlapicDevKit:widget.handler",["OlapicDevKit:handler","OlapicDevKit:utils","OlapicDevKit:widget.entity"],function(e,t,n){var i=e.extend({alias:"widget.handler",createEntityFromJSON:function(e){for(var i=e.data,r=t.clone(i),a=["_embedded","_links","_fixed"],s=0;s<a.length;s++)delete r[a[s]];return r.link=i._links.self.href,r.resources=this.getResourcesFromObject(i._embedded),o.get("include_raw")&&(r._raw=t.clone(i)),new n(r)},getSettingsFromWidget:function(e){var t=e.get("resources/setting/link"),n=s.defer();return c.get(t).success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise},getStreamFromWidget:function(e){var t=e.get("resources/stream")?e.get("resources/stream/link"):null,n=s.defer(),i=null;return t?c.get(t).success(function(e){i=a.stream.createEntityFromJSON(e.data),n.resolve(i)}).error(function(e){n.reject(e)}):n.reject({code:"400",message:"there's no stream associated to the widget instance"}),n.promise},getCategoryFromWidget:function(e){var t=e.get("resources/category")?e.get("resources/category/link"):null,n=s.defer(),i=null;return t?c.get(t).success(function(e){i=a.category.createEntityFromJSON(e.data),n.resolve(i)}).error(function(e){n.reject(e)}):n.reject({code:"400",message:"there's no category associated to the widget instance"}),n.promise},getWidgetInstanceByHash:function(e){var t=r.apiURL+"/widgets/"+e;return a.widget.getWidgetInstanceByURL(t)},getWidgetInstanceByURL:function(e){var t=null,n=s.defer();return c.get(e).success(function(e){t=a.widget.createEntityFromJSON(e),n.resolve(t)}).error(function(e){n.reject(e)}),n.promise},getSettingsById:function(e){var t=r.apiURL+"/widgets/settings/"+e;return a.widget.getSettingsByURL(t)},getSettingsByURL:function(e){var t=s.defer();return c.get(e).success(function(e){t.resolve(e)}).error(function(e){t.reject(e)}),t.promise}});return i}),OlapicRequireSDK.define("OlapicDevKit:api",["OlapicDevKit:handler","OlapicDevKit:customer.handler","OlapicDevKit:entity","OlapicDevKit:customer.entity","OlapicDevKit:uploader.handler","OlapicDevKit:uploader.entity","OlapicDevKit:batch","OlapicDevKit:media.batch","OlapicDevKit:media.handler","OlapicDevKit:media.entity","OlapicDevKit:stream.handler","OlapicDevKit:stream.entity","OlapicDevKit:category.handler","OlapicDevKit:category.entity","OlapicDevKit:widget.handler","OlapicDevKit:widget.entity"],function(e,t,n,i,r,o,s,c,l,u,p,d,f,h,g){return a={},a.handler=new e,a.customer=new t,a.uploader=new r,a.media=new l,a.stream=new p,a.mediaBatch=c,a.category=new f,a.widget=new g,a}),OlapicRequireSDK.define("OlapicDevKit:helpers",[],function(){var e={includeCSS:function(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t),!0},request:function(){return i},rest:function(){return c},promises:function(){return s}};return e}),OlapicRequireSDK.define("OlapicDevKit:olapic",["OlapicDevKit:api","OlapicDevKit:helpers"],function(e,t){var n=function(){var n=["api"],i=["api","track"],a=!1,l=function(e){return-1===i.indexOf(e)?!1:(n.push(e),!0)},u=function(e){return d(e)},p=function(e,t){return d(e,t)},d=function(t,n){var i=s.defer(),l=null,u=r.apiURL,p=n?!0:!1,d=null;return o.set("auth_token",t),c.setRequestBaseQuery({auth_token:t,wrap_responses:1,version:r.apiVersion}),p&&(u+="/widgets/"+n),c.get(u).success(function(t){a=!0,l=e.customer.createEntityFromJSON(t),p?(d=e.widget.createEntityFromJSON(t),i.resolve({customer:l,widget:d})):i.resolve(l)}).error(function(e){i.reject(e)}),i.promise},f=function(){return a},h=function(){o.set("include_raw",!0)},g=function(e){o.set("auth_token",e),c.setRequestBaseQuery({auth_token:e,wrap_responses:1,version:r.apiVersion})};return{loadModule:l,connectWithToken:u,connectWithTokenAndWidgetInstance:p,isConnected:f,includeRawAPI:h,setToken:g,api:e,helpers:t,config:r}};return n}),OlapicRequireSDK.define("OlapicDevKit:config",[],function(){var e={apiURL:"//photorankapi-a.akamaihd.net",apiVersion:"v2.2"};return e}),OlapicRequireSDK.define("OlapicDevKit:storage",[],function(){var e={data:{},set:function(e,t){return this.data[e]=t,!0},get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},remove:function(e){return this.data.hasOwnProperty(e)?delete this.data[e]:!1}};return e}),function(e){if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof OlapicRequireSDK.define&&OlapicRequireSDK.define.amd)OlapicRequireSDK.define("OlapicDevKit:q",e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else Q=e()}(function(){function t(e){return function(){return G.apply(e,arguments)}}function i(e){return e===Object(e)}function r(e){return"[object StopIteration]"===ie(e)||e instanceof $}function o(e,t){if(F&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(re)){for(var n=[],i=t;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(e.stack);var r=n.join("\n"+re+"\n");e.stack=a(r)}}function a(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;++i){var r=t[i];l(r)||s(r)||!r||n.push(r)}return n.join("\n")}function s(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function c(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(e);return i?[i[1],Number(i[2])]:void 0}function l(e){var t=c(e);if(!t)return!1;var n=t[0],i=t[1];return n===U&&i>=Q&&ce>=i}function u(){if(F)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],i=c(n);if(!i)return;return U=i[0],i[1]}}function p(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function d(e){return w(e)?e:b(e)?T(e):C(e)}function f(){function e(e){t=e,o.source=e,J(n,function(t,n){z(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,i=void 0}var t,n=[],i=[],r=ee(f.prototype),o=ee(m.prototype);if(o.promiseDispatch=function(e,r,o){var a=X(arguments);n?(n.push(a),"when"===r&&o[1]&&i.push(o[1])):z(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(n)return o;var e=y(t);return w(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},d.longStackSupport&&F)try{throw new Error}catch(a){o.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return r.promise=o,r.resolve=function(n){t||e(d(n))},r.fulfill=function(n){t||e(C(n))},r.reject=function(n){t||e(E(n))},r.notify=function(e){t||J(i,function(t,n){z(function(){n(e)})},void 0)},r}function h(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=f();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function g(e){return h(function(t,n){for(var i=0,r=e.length;r>i;i++)d(e[i]).then(t,n)})}function m(e,t,n){void 0===t&&(t=function(e){return E(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var i=ee(m.prototype);if(i.promiseDispatch=function(n,r,o){var a;try{a=e[r]?e[r].apply(i,o):t.call(i,r,o)}catch(s){a=E(s)}n&&n(a)},i.inspect=n,n){var r=n();"rejected"===r.state&&(i.exception=r.reason),i.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?i:e.value}}return i}function v(e,t,n,i){return d(e).then(t,n,i)}function y(e){if(w(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function w(e){return i(e)&&"function"==typeof e.promiseDispatch&&"function"==typeof e.inspect}function b(e){return i(e)&&"function"==typeof e.then}function k(e){return w(e)&&"pending"===e.inspect().state}function S(e){return!w(e)||"fulfilled"===e.inspect().state}function x(e){return w(e)&&"rejected"===e.inspect().state}function O(){oe.length=0,ae.length=0,se||(se=!0)}function _(e,t){se&&(ae.push(e),t&&"undefined"!=typeof t.stack?oe.push(t.stack):oe.push("(no stack) "+t))}function D(e){if(se){var t=Y(ae,e);-1!==t&&(ae.splice(t,1),oe.splice(t,1))}}function E(e){var t=m({when:function(t){return t&&D(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return _(t,e),t}function C(e){return m({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return ne(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function T(e){var t=f();return z(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function P(e){return m({isDef:function(){}},function(t,n){return R(e,t,n)},function(){return d(e).inspect()})}function I(e,t,n){return d(e).spread(t,n)}function K(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=n[e](t)}catch(s){return E(s)}return a.done?a.value:v(a.value,i,o)}try{a=n[e](t)}catch(s){return r(s)?s.value:E(s)}return v(a,i,o)}var n=e.apply(this,arguments),i=t.bind(t,"next"),o=t.bind(t,"throw");return i()}}function A(e){d.done(d.async(e)())}function L(e){throw new $(e)}function N(e){return function(){return I([this,j(arguments)],function(t,n){return e.apply(t,n)})}}function R(e,t,n){return d(e).dispatch(t,n)}function j(e){return v(e,function(e){var t=0,n=f();return J(e,function(i,r,o){var a;w(r)&&"fulfilled"===(a=r.inspect()).state?e[o]=a.value:(++t,v(r,function(i){e[o]=i,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function M(e){return v(e,function(e){return e=Z(e,d),v(j(Z(e,function(e){return v(e,V,V)})),function(){return e})})}function q(e){return d(e).allSettled()}function W(e,t){return d(e).then(void 0,void 0,t)}function B(e,t){return d(e).nodeify(t)}var F=!1;try{throw new Error}catch(H){F=!!H.stack}var U,$,Q=u(),V=function(){},z=function(){function t(){for(;n.next;){n=n.next;var e=n.task;n.task=void 0;var i=n.domain;i&&(n.domain=void 0,i.enter());try{e()}catch(o){if(a)throw i&&i.exit(),setTimeout(t,0),i&&i.enter(),o;setTimeout(function(){throw o},0)}i&&i.exit()}r=!1}var n={task:void 0,next:null},i=n,r=!1,o=void 0,a=!1;if(z=function(e){i=i.next={task:e,domain:a&&process.domain,next:null},r||(r=!0,o())},"undefined"!=typeof process&&process.nextTick)a=!0,o=function(){process.nextTick(t)};else if("function"==typeof setImmediate)o="undefined"!=typeof e?setImmediate.bind(e,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var s=new MessageChannel;s.port1.onmessage=function(){o=c,s.port1.onmessage=t,t()};var c=function(){s.port2.postMessage(0)};o=function(){setTimeout(t,0),c()}}else o=function(){setTimeout(t,0)};return z}(),G=Function.call,X=t(n.prototype.slice),J=t(function(e,t){var n=0,i=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=i)throw new TypeError}for(;i>n;n++)n in this&&(t=e(t,this[n],n));return t}),Y=t(n.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Z=t(n.prototype.map||function(e,t){var n=this,i=[];return J(n,function(r,o,a){i.push(e.call(t,o,a,n))},void 0),i}),ee=Object.create||function(e){function t(){}return t.prototype=e,new t},te=t(Object.prototype.hasOwnProperty),ne=Object.keys||function(e){var t=[];for(var n in e)te(e,n)&&t.push(n);return t},ie=t(Object.prototype.toString);$="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var re="From previous event:";d.resolve=d,d.nextTick=z,d.longStackSupport=!1,d.defer=f,f.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(X(arguments,1)):e.resolve(n)}},d.Promise=h,d.promise=h,h.race=g,h.all=j,h.reject=E,h.resolve=d,d.passByCopy=function(e){return e},m.prototype.passByCopy=function(){return this},d.join=function(e,t){return d(e).join(t)},m.prototype.join=function(e){return d([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},d.race=g,m.prototype.race=function(){return this.then(d.race)},d.makePromise=m,m.prototype.toString=function(){return"[object Promise]"},m.prototype.then=function(e,t,n){function i(t){try{return"function"==typeof e?e(t):t}catch(n){return E(n)}}function r(e){if("function"==typeof t){o(e,s);try{return t(e)}catch(n){return E(n)}}return E(e)}function a(e){return"function"==typeof n?n(e):e}var s=this,c=f(),l=!1;return z(function(){s.promiseDispatch(function(e){l||(l=!0,c.resolve(i(e)))},"when",[function(e){l||(l=!0,c.resolve(r(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=a(e)}catch(i){if(n=!0,!d.onerror)throw i;d.onerror(i)}n||c.notify(t)}]),c.promise},d.when=v,m.prototype.thenResolve=function(e){return this.then(function(){return e})},d.thenResolve=function(e,t){return d(e).thenResolve(t)},m.prototype.thenReject=function(e){return this.then(function(){throw e})},d.thenReject=function(e,t){return d(e).thenReject(t)},d.nearer=y,d.isPromise=w,d.isPromiseAlike=b,d.isPending=k,m.prototype.isPending=function(){return"pending"===this.inspect().state},d.isFulfilled=S,m.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},d.isRejected=x,m.prototype.isRejected=function(){return"rejected"===this.inspect().state};var oe=[],ae=[],se=!0;d.resetUnhandledRejections=O,d.getUnhandledReasons=function(){return oe.slice()},d.stopUnhandledRejectionTracking=function(){O(),se=!1},O(),d.reject=E,d.fulfill=C,d.master=P,d.spread=I,m.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},d.async=K,d.spawn=A,d["return"]=L,d.promised=N,d.dispatch=R,m.prototype.dispatch=function(e,t){var n=this,i=f();return z(function(){n.promiseDispatch(i.resolve,e,t)}),i.promise},d.get=function(e,t){return d(e).dispatch("get",[t])},m.prototype.get=function(e){return this.dispatch("get",[e])},d.set=function(e,t,n){return d(e).dispatch("set",[t,n])},m.prototype.set=function(e,t){return this.dispatch("set",[e,t])},d.del=d["delete"]=function(e,t){return d(e).dispatch("delete",[t])},m.prototype.del=m.prototype["delete"]=function(e){return this.dispatch("delete",[e])},d.mapply=d.post=function(e,t,n){return d(e).dispatch("post",[t,n])},m.prototype.mapply=m.prototype.post=function(e,t){return this.dispatch("post",[e,t])},d.send=d.mcall=d.invoke=function(e,t){return d(e).dispatch("post",[t,X(arguments,2)])},m.prototype.send=m.prototype.mcall=m.prototype.invoke=function(e){return this.dispatch("post",[e,X(arguments,1)])},d.fapply=function(e,t){return d(e).dispatch("apply",[void 0,t])},m.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},d["try"]=d.fcall=function(e){return d(e).dispatch("apply",[void 0,X(arguments,1)])},m.prototype.fcall=function(){return this.dispatch("apply",[void 0,X(arguments)])},d.fbind=function(e){var t=d(e),n=X(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(X(arguments))])}},m.prototype.fbind=function(){var e=this,t=X(arguments);return function(){return e.dispatch("apply",[this,t.concat(X(arguments))])}},d.keys=function(e){return d(e).dispatch("keys",[])},m.prototype.keys=function(){return this.dispatch("keys",[])},d.all=j,m.prototype.all=function(){return j(this)},d.allResolved=p(M,"allResolved","allSettled"),m.prototype.allResolved=function(){return M(this)},d.allSettled=q,m.prototype.allSettled=function(){return this.then(function(e){return j(Z(e,function(e){function t(){return e.inspect()}return e=d(e),e.then(t,t)}))})},d.fail=d["catch"]=function(e,t){return d(e).then(void 0,t)},m.prototype.fail=m.prototype["catch"]=function(e){return this.then(void 0,e)},d.progress=W,m.prototype.progress=function(e){return this.then(void 0,void 0,e)},d.fin=d["finally"]=function(e,t){return d(e)["finally"](t)},m.prototype.fin=m.prototype["finally"]=function(e){return e=d(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},d.done=function(e,t,n,i){return d(e).done(t,n,i)},m.prototype.done=function(e,t,n){var i=function(e){z(function(){if(o(e,r),!d.onerror)throw e;d.onerror(e)})},r=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(i=process.domain.bind(i)),r.then(void 0,i)},d.timeout=function(e,t,n){return d(e).timeout(t,n)},m.prototype.timeout=function(e,t){var n=f(),i=setTimeout(function(){n.reject(new Error(t||"Timed out after "+e+" ms"))},e);return this.then(function(e){clearTimeout(i),n.resolve(e)},function(e){clearTimeout(i),n.reject(e)},n.notify),n.promise},d.delay=function(e,t){return void 0===t&&(t=e,e=void 0),d(e).delay(t)},m.prototype.delay=function(e){return this.then(function(t){var n=f();return setTimeout(function(){n.resolve(t)},e),n.promise})},d.nfapply=function(e,t){return d(e).nfapply(t)},m.prototype.nfapply=function(e){var t=f(),n=X(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},d.nfcall=function(e){var t=X(arguments,1);return d(e).nfapply(t)},m.prototype.nfcall=function(){var e=X(arguments),t=f();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},d.nfbind=d.denodeify=function(e){var t=X(arguments,1);return function(){var n=t.concat(X(arguments)),i=f();return n.push(i.makeNodeResolver()),d(e).fapply(n).fail(i.reject),i.promise}},m.prototype.nfbind=m.prototype.denodeify=function(){var e=X(arguments);return e.unshift(this),d.denodeify.apply(void 0,e)},d.nbind=function(e,t){var n=X(arguments,2);return function(){function i(){return e.apply(t,arguments)}var r=n.concat(X(arguments)),o=f();return r.push(o.makeNodeResolver()),d(i).fapply(r).fail(o.reject),o.promise}},m.prototype.nbind=function(){var e=X(arguments,0);return e.unshift(this),d.nbind.apply(void 0,e)},d.nmapply=d.npost=function(e,t,n){return d(e).npost(t,n)},m.prototype.nmapply=m.prototype.npost=function(e,t){var n=X(t||[]),i=f();return n.push(i.makeNodeResolver()),this.dispatch("post",[e,n]).fail(i.reject),i.promise},d.nsend=d.nmcall=d.ninvoke=function(e,t){var n=X(arguments,2),i=f();return n.push(i.makeNodeResolver()),d(e).dispatch("post",[t,n]).fail(i.reject),i.promise},m.prototype.nsend=m.prototype.nmcall=m.prototype.ninvoke=function(e){var t=X(arguments,1),n=f();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},d.nodeify=B,m.prototype.nodeify=function(e){return e?void this.then(function(t){z(function(){e(null,t)})},function(t){z(function(){e(t)})}):this};var ce=u();return d}),OlapicRequireSDK.define("OlapicDevKit:rest",["OlapicDevKit:utils"],function(e){var t=function(t,n){var i=this;return i.publicMethods={},i.debug=!1,i.request=null,i.q=null,i.preCacheEnabled=!1,i.filterSharding=!0,i.shardingPattern=/z?[z0-9]?(photorankmedia|photorankapi)\-a\./g,i.preCache={},i.preCacheEndpoints=/\/(media|stream|users)\/([0-9]+|recent)\?/g,i.preCacheEmbeddedProperties=["base_image","cover_media","streams:all","categories:all","media"],i.preCacheEmbeddedPropertiesPerEndpoint={},i.preCacheEntityNamesReplacement={base_image:"media",cover_media:"media"},i.currentMetadata={},i.baseQuery={},i.baseHeaders={},i.editableOptions=["debug","request","q","preCacheEnabled","filterSharding","shardingPattern","preCache","preCacheEndpoints","preCacheEmbeddedProperties","preCacheEmbeddedPropertiesPerEndpoint","preCacheEntityNamesReplacement"],i.init=function(e,t){i.request=e,i.q=t},i.setRequestBaseQuery=function(t){i.baseQuery=e.clone(t)},i.getRequestBaseQuery=function(){return i.baseQuery},i.parseQuery=function(t){return t=t||{},e.merge(e.clone(i.baseQuery),t)},i.setRequestBaseHeaders=function(t){i.baseHeaders=e.clone(t)},i.parseHeaders=function(t){return t=t||{},e.merge(e.clone(i.baseHeaders),t)},i.setOption=function(t,n,r){return i.editableOptions.indexOf(t)>-1&&(r&&"object"==typeof i[t]?i[t]=e.merge(i[t],n):i[t]=n),i.publicMethods},i.setOptions=function(t){var n=e.objectKeys(t),r=null;if(n.length)for(r in t)i.setOption(r,t[r])},i.getOption=function(e){return i.editableOptions.indexOf(e)>-1?i[e]:null},i.get=function(t,n,r){var o=null,a=i.q.defer();return t&&(o=i.getCache(t)),n=i.parseQuery(n),r=i.parseHeaders(r),o?(i.log("Retrieved from the cache "+t),a.resolve(o)):i.request.get(t,n,r).success(function(n){n&&n.metadata&&404===n.metadata.code?a.reject(n):(i.preCacheEnabled&&n.data&&n.data._embedded&&(i.currentMetadata=e.clone(n.metadata),i.currentMetadata.cached="true",i.detectEmbeddedItems(n.data,t)),a.resolve(n))}).error(a.reject),i.setRequestPromiseMethods(a.promise)},i.setRequestPromiseMethods=function(e){return e.success=function(e,t,n){return this.then(e,t,n),this},e.error=function(e){return this.fail(e),this},e},i.post=function(e,t,n,r){return n=i.parseQuery(n),r=i.parseHeaders(r),i.request.post(e,t,n,r)},i.detectEmbeddedItems=function(t,n){if(!(e.isUndefined(t._embedded)||e.objectKeys(t._embedded).length<1)){var r=null,o=null,a=!1;for(r in t._embedded)t._links.self?null!==t._embedded[r]&&t._embedded[r]._fixed?(o=t._embedded[r],a=i.embeddedArray(o),i.canBePreCached(r,t,n)&&i.addPrecache(r,o),a?i.detectEmbeddedItemsInArray(o._embedded[e.objectKeys(o._embedded)[0]],n):i.detectEmbeddedItems(o,n)):t._embedded[r]&&!e.isUndefined(t._embedded[r].length)&&t._embedded[r].length>0&&i.detectEmbeddedItemsInArray(t._embedded[r],n):!e.isUndefined(t._links)&&0===t._links.length&&!e.isUndefined(t._embedded[r].length)&&t._embedded[r].length>0&&i.detectEmbeddedItemsInArray(t._embedded[r],n)}},i.detectEmbeddedItemsInArray=function(e,t){if(null!==e){var n=0,r=e.length;for(n=0;r>n;n++)i.detectEmbeddedItems(e[n],t)}},i.addPrecache=function(t,n){if(i.hasURL(n)){var r=n._links.self.href,o=r,a=t,s=i.embeddedArray(n);if(i.filterSharding&&(r=i.getURLWithoutSharding(r)),e.isUndefined(i.preCache[r])){var c={metadata:e.clone(i.currentMetadata),data:{_embedded:{}},entity:t,url:r,original_url:o,needed:1,used:0};s||e.isUndefined(i.preCacheEntityNamesReplacement[t])||(a=i.preCacheEntityNamesReplacement[t]),c.data=n,i.log("Add resource "+t),i.preCache[r]=c}else i.log("Increment counter "+t),i.preCache[r].needed++}},i.getCache=function(t){if(i.filterSharding&&(t=i.getURLWithoutSharding(t)),e.isUndefined(i.preCache[t]))return null;var n=i.preCache[t];return n.used++,n.used>=n.needed&&(delete i.preCache[t],i.log("Deleted "+t)),n},i.useCache=function(e){return i.getCache(e)?!0:!1},i.cleanCache=function(){var t=e.objectKeys(i.preCache),n=0;for(n=0;n<t.length;n++)delete i.preCache[t[n]];return t.length},i.hasURL=function(t){return e.isUndefined(t._links)||e.isUndefined(t._links.self)||e.isUndefined(t._links.self.href)?!1:!0},i.canBePreCached=function(t,n,r){return 0===n._links.length?!1:r.match(i.preCacheEndpoints)&&i.preCacheEmbeddedProperties.indexOf(t)>-1&&n._embedded[t]&&(e.isUndefined(i.preCacheEmbeddedPropertiesPerEndpoint[t])||r.match(i.preCacheEmbeddedPropertiesPerEndpoint[t]))?!0:!1},i.embeddedArray=function(t){var n=e.objectKeys(t);return 3!==n.length||e.isUndefined(t._embedded)||e.isUndefined(t._links)||e.isUndefined(t._fixed)||1!==e.objectKeys(t._embedded).length?!1:!0},i.getURLWithoutSharding=function(e){return e.replace(i.shardingPattern,"")},i.log=function(e){return i.debug?(console.log("OlapicRestClient: "+e),!0):!1},i.init(t,n),i.publicMethods={get:i.get,post:i.post,useCache:i.useCache,cleanCache:i.cleanCache,setRequestBaseQuery:i.setRequestBaseQuery,getRequestBaseQuery:i.getRequestBaseQuery,setRequestBaseHeaders:i.setRequestBaseHeaders,getOption:i.getOption,setOption:i.setOption,setOptions:i.setOptions},i.publicMethods};return t}),OlapicRequireSDK.define("OlapicDevKit:bridge",["OlapicDevKit:olapic","OlapicDevKit:request","OlapicDevKit:config","OlapicDevKit:storage","OlapicDevKit:q","OlapicDevKit:rest"],function(e,t,n,a,l,u){return OlapicDevKit=e,i=t,r=n,o=a,s=l,c=new u(t,l),"function"==typeof loadOlapicSDK&&loadOlapicSDK(),e}),"function"==typeof OlapicRequireSDK.define&&OlapicRequireSDK.define.amd&&OlapicRequireSDK.define("OlapicDevKit",["OlapicDevKit:bridge"],function(e){return e})}(window,void 0,Array),OlapicRequireSDK.define("OlapicDevKit",function(){}),OlapicRequireSDK.define("OlapicDevKitHandler",["OlapicDevKit"],function(e){var t=function(t,n,i,r){var o=this;return this.apiKey="",this.apiVersion="",this.apiURL="",this.rawEntities=!1,this.instances={},this.disableTaggedGalleriesOnCreate=!1,this.init=function(e,t,n,i){this.apiKey=e,this.apiVersion=t,this.apiURL=n,this.rawEntities=i||!1,this.create("__default")},this.get=function(e,t){return e=e||"__default",o.instances[e]||o.create(e,t)},this.create=function(t,n){return this.instances[t]=new e,this.instances[t].config.apiURL=this.apiURL,this.instances[t].config.apiVersion=this.apiVersion,this.instances[t].setToken(this.apiKey),this.rawEntities&&this.instances[t].includeRawAPI(),n&&this.instances[t].helpers.rest().setOptions(n),this.disableTaggedGalleriesOnCreate&&this.disableInstanceTaggedGalleries(this.instances[t]),this.instances[t]},this.disableInstanceTaggedGalleries=function(e){var t={};e.helpers.rest().getOption("preCacheEnabled")&&(t=e.helpers.rest().getRequestBaseQuery()||{},t.include_tagged_galleries=0,e.helpers.rest().setRequestBaseQuery(t))},this.disableTaggedGalleries=function(){var e=Object.keys(o.instances);o.disableTaggedGalleriesOnCreate=!0,e.map(function(e){var t=o.get(e);o.disableInstanceTaggedGalleries(t)})},this.init(t,n,i,r),{get:this.get,disableTaggedGalleries:this.disableTaggedGalleries}};return t}),function(){function e(e){function t(t,n,i,r,o,a){for(;o>=0&&a>o;o+=e){var s=r?r[o]:o;i=n(i,t[s],s,t)}return i}return function(n,i,r,o){i=v(i,o,4);var a=!S(n)&&m.keys(n),s=(a||n).length,c=e>0?0:s-1;return arguments.length<3&&(r=n[a?a[c]:c],c+=e),t(n,i,r,a,c,s)}}function t(e){return function(t,n,i){n=y(n,i);for(var r=null!=t&&t.length,o=e>0?0:r-1;o>=0&&r>o;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t){var n=E.length,i=e.constructor,r=m.isFunction(i)&&i.prototype||o,a="constructor";for(m.has(e,a)&&!m.contains(t,a)&&t.push(a);n--;)a=E[n],a in e&&e[a]!==r[a]&&!m.contains(t,a)&&t.push(a)}var i=this,r=(i._,Array.prototype),o=Object.prototype,a=Function.prototype,s=r.push,c=r.slice,l=o.toString,u=o.hasOwnProperty,p=Array.isArray,d=Object.keys,f=a.bind,h=Object.create,g=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m),m.VERSION="1.8.2";var v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return null==e?m.identity:m.isFunction(e)?v(e,t,n):m.isObject(e)?m.matcher(e):m.property(e)};m.iteratee=function(e,t){return y(e,t,1/0)};var w=function(e,t){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],a=e(o),s=a.length,c=0;s>c;c++){var l=a[c];t&&void 0!==n[l]||(n[l]=o[l])}return n}},b=function(e){if(!m.isObject(e))return{};if(h)return h(e);g.prototype=e;var t=new g;return g.prototype=null,t},k=Math.pow(2,53)-1,S=function(e){var t=e&&e.length;return"number"==typeof t&&t>=0&&k>=t};m.each=m.forEach=function(e,t,n){t=v(t,n);var i,r;if(S(e))for(i=0,r=e.length;r>i;i++)t(e[i],i,e);else{var o=m.keys(e);for(i=0,r=o.length;r>i;i++)t(e[o[i]],o[i],e)}return e},m.map=m.collect=function(e,t,n){t=y(t,n);for(var i=!S(e)&&m.keys(e),r=(i||e).length,o=Array(r),a=0;r>a;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o},m.reduce=m.foldl=m.inject=e(1),m.reduceRight=m.foldr=e(-1),m.find=m.detect=function(e,t,n){var i;return i=S(e)?m.findIndex(e,t,n):m.findKey(e,t,n),void 0!==i&&-1!==i?e[i]:void 0},m.filter=m.select=function(e,t,n){var i=[];return t=y(t,n),m.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},m.reject=function(e,t,n){return m.filter(e,m.negate(y(t)),n)},m.every=m.all=function(e,t,n){t=y(t,n);for(var i=!S(e)&&m.keys(e),r=(i||e).length,o=0;r>o;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},m.some=m.any=function(e,t,n){t=y(t,n);for(var i=!S(e)&&m.keys(e),r=(i||e).length,o=0;r>o;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n){return S(e)||(e=m.values(e)),m.indexOf(e,t,"number"==typeof n&&n)>=0},m.invoke=function(e,t){var n=c.call(arguments,2),i=m.isFunction(t);return m.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var i,r,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=S(e)?e:m.values(e);for(var s=0,c=e.length;c>s;s++)i=e[s],i>o&&(o=i)}else t=y(t,n),m.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-(1/0)&&o===-(1/0))&&(o=e,a=r)});return o},m.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e){e=S(e)?e:m.values(e);for(var s=0,c=e.length;c>s;s++)i=e[s],o>i&&(o=i)}else t=y(t,n),m.each(e,function(e,n,i){r=t(e,n,i),(a>r||r===1/0&&o===1/0)&&(o=e,a=r)});return o},m.shuffle=function(e){for(var t,n=S(e)?e:m.values(e),i=n.length,r=Array(i),o=0;i>o;o++)t=m.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},m.sample=function(e,t,n){return null==t||n?(S(e)||(e=m.values(e)),e[m.random(e.length-1)]):m.shuffle(e).slice(0,Math.max(0,t))},m.sortBy=function(e,t,n){return t=y(t,n),m.pluck(m.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var x=function(e){return function(t,n,i){var r={};return n=y(n,i),m.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};m.groupBy=x(function(e,t,n){m.has(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=x(function(e,t,n){e[n]=t}),m.countBy=x(function(e,t,n){m.has(e,n)?e[n]++:e[n]=1}),m.toArray=function(e){return e?m.isArray(e)?c.call(e):S(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:S(e)?e.length:m.keys(e).length},m.partition=function(e,t,n){t=y(t,n);var i=[],r=[];return m.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},m.first=m.head=m.take=function(e,t,n){return null!=e?null==t||n?e[0]:m.initial(e,e.length-t):void 0},m.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t)):void 0},m.rest=m.tail=m.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,m.identity)};var O=function(e,t,n,i){for(var r=[],o=0,a=i||0,s=e&&e.length;s>a;a++){var c=e[a];if(S(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=O(c,t,n));var l=0,u=c.length;for(r.length+=u;u>l;)r[o++]=c[l++]}else n||(r[o++]=c)}return r};m.flatten=function(e,t){return O(e,t,!1)},m.without=function(e){return m.difference(e,c.call(arguments,1))},m.uniq=m.unique=function(e,t,n,i){if(null==e)return[];m.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=y(n,i));for(var r=[],o=[],a=0,s=e.length;s>a;a++){var c=e[a],l=n?n(c,a,e):c;t?(a&&o===l||r.push(c),o=l):n?m.contains(o,l)||(o.push(l),r.push(c)):m.contains(r,c)||r.push(c)}return r},m.union=function(){return m.uniq(O(arguments,!0,!0))},m.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,i=0,r=e.length;r>i;i++){var o=e[i];if(!m.contains(t,o)){for(var a=1;n>a&&m.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},m.difference=function(e){
var t=O(arguments,!0,!0,1);return m.filter(e,function(e){return!m.contains(t,e)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(e){for(var t=e&&m.max(e,"length").length||0,n=Array(t),i=0;t>i;i++)n[i]=m.pluck(e,i);return n},m.object=function(e,t){for(var n={},i=0,r=e&&e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},m.indexOf=function(e,t,n){var i=0,r=e&&e.length;if("number"==typeof n)i=0>n?Math.max(0,r+n):n;else if(n&&r)return i=m.sortedIndex(e,t),e[i]===t?i:-1;if(t!==t)return m.findIndex(c.call(e,i),m.isNaN);for(;r>i;i++)if(e[i]===t)return i;return-1},m.lastIndexOf=function(e,t,n){var i=e?e.length:0;if("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1)),t!==t)return m.findLastIndex(c.call(e,0,i),m.isNaN);for(;--i>=0;)if(e[i]===t)return i;return-1},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(e,t,n,i){n=y(n,i,1);for(var r=n(t),o=0,a=e.length;a>o;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o},m.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;i>o;o++,e+=n)r[o]=e;return r};var _=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=b(e.prototype),a=e.apply(o,r);return m.isObject(a)?a:o};m.bind=function(e,t){if(f&&e.bind===f)return f.apply(e,c.call(arguments,1));if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return _(e,i,t,this,n.concat(c.call(arguments)))};return i},m.partial=function(e){var t=c.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),a=0;r>a;a++)o[a]=t[a]===m?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return _(e,n,this,this,o)};return n},m.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=m.bind(e[n],e);return e},m.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return m.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},m.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:m.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var l=m.now();s||n.leading!==!1||(s=l);var u=t-(l-s);return i=this,r=arguments,0>=u||u>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(c,u)),o}},m.debounce=function(e,t,n){var i,r,o,a,s,c=function(){var l=m.now()-a;t>l&&l>=0?i=setTimeout(c,t-l):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=m.now();var l=n&&!i;return i||(i=setTimeout(c,t)),l&&(s=e.apply(o,r),o=r=null),s}},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},m.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},m.once=m.partial(m.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(e){if(!m.isObject(e))return[];if(d)return d(e);var t=[];for(var i in e)m.has(e,i)&&t.push(i);return D&&n(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var i in e)t.push(i);return D&&n(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},m.mapObject=function(e,t,n){t=y(t,n);for(var i,r=m.keys(e),o=r.length,a={},s=0;o>s;s++)i=r[s],a[i]=t(e[i],i,e);return a},m.pairs=function(e){for(var t=m.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},m.invert=function(e){for(var t={},n=m.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()},m.extend=w(m.allKeys),m.extendOwn=m.assign=w(m.keys),m.findKey=function(e,t,n){t=y(t,n);for(var i,r=m.keys(e),o=0,a=r.length;a>o;o++)if(i=r[o],t(e[i],i,e))return i},m.pick=function(e,t,n){var i,r,o={},a=e;if(null==a)return o;m.isFunction(t)?(r=m.allKeys(a),i=v(t,n)):(r=O(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,c=r.length;c>s;s++){var l=r[s],u=a[l];i(u,l,a)&&(o[l]=u)}return o},m.omit=function(e,t,n){if(m.isFunction(t))t=m.negate(t);else{var i=m.map(O(arguments,!1,!1,1),String);t=function(e,t){return!m.contains(i,t)}}return m.pick(e,t,n)},m.defaults=w(m.allKeys,!0),m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;i>o;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var C=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var r=l.call(e);if(r!==l.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),o){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!C(e[c],t[c],n,i))return!1}else{var u,p=m.keys(e);if(c=p.length,m.keys(t).length!==c)return!1;for(;c--;)if(u=p[c],!m.has(t,u)||!C(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0};m.isEqual=function(e,t){return C(e,t)},m.isEmpty=function(e){return null==e?!0:S(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=p||function(e){return"[object Array]"===l.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){m["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&e!==+e},m.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){return null!=e&&u.call(e,t)},m.noConflict=function(){return this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return function(t){return null==t?void 0:t[e]}},m.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var i=Array(Math.max(0,e));t=v(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=m.invert(T),I=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};m.escape=I(T),m.unescape=I(P),m.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),m.isFunction(i)?i.call(e):i};var K=0;m.uniqueId=function(e){var t=++K+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\u2028|\u2029/g,R=function(e){return"\\"+L[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var i=RegExp([(t.escape||A).source,(t.interpolate||A).source,(t.evaluate||A).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,s){return o+=e.slice(r,s).replace(N,R),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var c=function(e){return a.call(this,e,m)},l=t.variable||"obj";return c.source="function("+l+"){\n"+o+"}",c},m.chain=function(e){var t=m(e);return t._chain=!0,t};var j=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),j(this,n.apply(m,e))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],j(this,n)}}),m.each(["concat","join","slice"],function(e){var t=r[e];m.prototype[e]=function(){return j(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof OlapicRequireSDK.define&&OlapicRequireSDK.define.amd&&OlapicRequireSDK.define("underscore",[],function(){return m})}.call(this),OlapicRequireSDK.define("toolDebugger",["underscore"],function(e){var t=function(t,n,i){var r=this;return this.errorsByCode={},this.criticalErrors=[],this.debugMode=!1,this.console={dir:function(){}},this.publicMethods={},this.errorLog=[],this.init=function(e,t,n){this.errorsByCode=e||{},this.criticalErrors=t||[],this.debugMode=n||!1,this.detectConsole()},this.detectConsole=function(){e.isUndefined(window.console)||e.isUndefined(window.console.dir)||(this.console=window.console)},this.add=function(e,t,n){if(e=e||-1,t=t||{},n=n||new Error,!r.shouldIgnoreError(e,n)){var i=r.formatMessage(e,t);i&&""!==i||(i=n.stack);var o={code:e,message:i,error:n};return(r.debugMode||r.isCritical(e))&&r.console.dir(o),n&&r.errorLog.push(o),o}},this.shouldIgnoreError=function(e,t){var n=!1;return-1===e&&t.metadata&&404===parseInt(t.metadata.code)&&(n=!0),n},this.addError=function(e){this.add(-1,null,e)},this.formatMessage=function(t,n){var i="",r=null;e.isUndefined(this.errorsByCode[t])||(i=this.errorsByCode[t]);for(r in n)i=i.replace("{"+r+"}",n[r]);return i},this.isCritical=function(t){return e.indexOf(this.criticalErrors,t)>-1},this.getLog=function(){return r.errorLog},this.lastError=function(){return e.last(r.errorLog)},this.stack=function(t){var n=null;return n=e.isUndefined(t)||e.isUndefined(r.errorLog[t])?r.lastError():r.errorLog[t],n.error?n.error.stack:n},this.publicMethods={add:this.add,addError:this.addError,getLog:this.getLog,lastError:this.lastError,stack:this.stack},this.init(t,n,i),this.publicMethods};return t}),!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&"object"==typeof define.amd?OlapicRequireSDK.define(e,t):"undefined"!=typeof OlapicRequireSDK&&"function"==typeof OlapicRequireSDK.define&&"object"==typeof OlapicRequireSDK.define.amd?OlapicRequireSDK.define(e,t):this.Class=t()}("classy",function(e){function t(e){return!l||/\B\$super\b/.test(e.toString())}function n(t,n,i){i===e?delete t[n]:t[n]=i}function i(t,n){return Object.prototype.hasOwnProperty.call(t,n)?t[n]:e}function r(e){c=!0;var t=new e;return c=!1,t}var o="1.4",a=this,s=a.Class,c=!1,l=function(){$super()}.toString().indexOf("$super")>0,u=function(){};return u.$noConflict=function(){try{n(a,"Class",s)}catch(e){a.Class=s}return u},u.$classyVersion=o,u.$extend=function(o){var s=this.prototype,l=r(this);if(o.__include__)for(var p=0,d=o.__include__.length;p!=d;++p){var f=o.__include__[p];for(var h in f){var g=i(f,h);g!==e&&(l[h]=f[h])}}if(o.__classvars__=o.__classvars__||{},l.__classvars__)for(var m in l.__classvars__)if(!o.__classvars__[m]){var g=i(l.__classvars__,m);o.__classvars__[m]=g}for(var h in o){var g=i(o,h);"__include__"!==h&&g!==e&&(l[h]="function"==typeof g&&t(g)?function(e,t){return function(){var r=i(this,"$super");this.$super=s[t];try{return e.apply(this,arguments)}finally{n(this,"$super",r)}}}(g,h):g)}var v=function(){if(!c){var e=a===this?r(arguments.callee):this;return e.__init__&&e.__init__.apply(e,arguments),e.$class=v,e}};for(var m in o.__classvars__){var g=i(o.__classvars__,m);g!==e&&(v[m]=g)}return v.prototype=l,v.constructor=v,v.$extend=u.$extend,v.$withData=u.$withData,v},u.$withData=function(t){var n=r(this);for(var o in t){var a=i(t,o);a!==e&&(n[o]=a)}return n},u}),OlapicRequireSDK.define("classy",function(){});var protocolFix="file:"===window.location.protocol?"https:":window.location.protocol,OlapicEnvironment={environment:"live",photorankBaseUrl:protocolFix+"//www.photorank.me/",photorankApiV1Url:protocolFix+"//api.photorank.me/",olapicApiBaseUrlHost:"photorankapi-a.akamaihd.net/",olapicApiBaseUrl:protocolFix+"//photorankapi-a.akamaihd.net/",olapicCDNStaticsBaseUrl:protocolFix+"//photorankstatics-a.akamaihd.net/",olapicStaticsBaseUrl:protocolFix+"//www.photorank.me/",sandboxBaseUrl:"//sandbox.photorank.me/",sandboxBaseUrlSecure:"https://sandbox.photorank.me/",localBaseUrl:"//local.photorank.me",cdnStaticBaseUrl:"//photorankstatics-a.akamaihd.net",cdnUploaderV3:"https://uploaderv3.photorank.me/",cdnUploaderV3Staging:"https://s3.amazonaws.com/uploaderv3-staging.photorank.me/",trackCookies:{abtesting:"__pr_AB_testing",control:"__olapicU"},useOlapicGA:!0,gAnalytivsUA:"UA-284996-8",debugMode:!1,ieProtocolfix:protocolFix,handlerEndpoints:{category:{get:"categories/:id:"},customer:{get:"customer/:id:"},media:{get:"media/:id:"},stream:{get:"streams/:id:"},user:{get:"user/:id:"},widgetConfig:{get:"widgets/settings/:id:"},widgetInstance:{get:"widgets/:id:"}},handlerSortings:{shuffled:"media:shuffled",recent:"media:recent",photorank:"media:photorank",rated:"media:rated"},handlerExcludes:{base_image:"base_image",stream:"stream",cover_media:"cover_media",media:"media"},apiVersion:"v2.2",olapicCSSBuildPath:"//photorankstatics-a.akamaihd.net/static/frontend/[version]/build.min.css",olapicLessDevPath:"",olapicAnalyticsAPI:"//analytics.photorank.me",olapicAnalyticsV2API:"//data.photorank.me",olapicAnalyticsPixAPI:"//analytics-pixel.photorank.me"};OlapicRequireSDK.define("environment",function(){}),function(e,t,n){"use strict";var i,r;if(e.uaMatch=function(e){e=e.toLowerCase();var t=/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(iphone)/.exec(e)||/(android)/.exec(e)||/(windows phone)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/i.exec(e)||[];return{browser:t[3]||t[1]||"",version:t[2]||"0",platform:n[0]||""}},i=e.uaMatch(t.navigator.userAgent),r={},i.browser&&(r[i.browser]=!0,r.version=i.version,r.versionNumber=parseInt(i.version)),i.platform&&(r[i.platform]=!0),(r.android||r.ipad||r.iphone||r["windows phone"])&&(r.mobile=!0),(r.cros||r.mac||r.linux||r.win)&&(r.desktop=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv){var o="msie";i.browser=o,r[o]=!0}if(r.opr){var a="opera";i.browser=a,r[a]=!0}if(r.safari&&r.android){var s="android";i.browser=s,r[s]=!0}r.name=i.browser,r.platform=i.platform,e.browser=r}(oQuery,window),OlapicRequireSDK.define("jquery.browser",["jquery"],function(){}),function(e){if(!e.support.cors&&e.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,n=/^get|post$/i,i=new RegExp("^"+location.protocol,"i"),r=/text\/html/i,o=/\/json/i,a=/\/xml/i;e.ajaxTransport("* text html xml json",function(s,c,l){if(s.crossDomain&&s.async&&n.test(s.type)&&t.test(s.url)&&i.test(s.url)){var u=null,p=(c.dataType||"").toLowerCase();return{send:function(t,n){u=new XDomainRequest,/^\d+$/.test(c.timeout)&&(u.timeout=c.timeout),u.ontimeout=function(){n(500,"timeout")},u.onload=function(){var t="Content-Length: "+u.responseText.length+"\r\nContent-Type: "+u.contentType,i={code:200,message:"success"},s={text:u.responseText};try{if("html"===p||r.test(u.contentType))s.html=u.responseText;else if("json"===p||"text"!==p&&o.test(u.contentType))try{s.json=e.parseJSON(u.responseText)}catch(c){i.code=500,i.message="parseerror"}else if("xml"===p||"text"!==p&&a.test(u.contentType)){var l=new ActiveXObject("Microsoft.XMLDOM");l.async=!1;try{l.loadXML(u.responseText)}catch(c){l=void 0}if(!l||!l.documentElement||l.getElementsByTagName("parsererror").length)throw i.code=500,i.message="parseerror","Invalid XML: "+u.responseText;s.xml=l}}catch(d){throw d}finally{n(i.code,i.message,s,t)}},u.onprogress=function(){},u.onerror=function(){n(500,"error",{text:u.responseText})};var i="";c.data&&(i="string"===e.type(c.data)?c.data:e.param(c.data)),u.open(s.type,s.url),u.send(i)},abort:function(){u&&u.abort()}}}})}}(oQuery),OlapicRequireSDK.define("jquery.XDomainRequest",["jquery"],function(){}),function(e,t,n,i){"use strict";var r,o,a,s,c,l,u,p,d,f,h,g;u=function(e){throw"ERROR: oQuery.rest: "+e},d=function(e){var t;for(t="";e-- >0;)t+="  ";return t},l=function(t){return e.btoa||u("You need a polyfill for 'btoa' to use basic auth."),e.btoa(t)},f=function(t){return e.JSON||u("You need a polyfill for 'JSON' to use stringify."),e.JSON.stringify(t)},p=function(e,t){var n;return n=function(){},n.prototype=e,oQuery.extend(!0,new n,t)},h=function(e){return e&&oQuery.isPlainObject(e)?(oQuery.each(e,function(e){return s[e]===i?u("Unknown option: '"+e+"'"):void 0}),null):!1},g=function(e,t){return"string"!==oQuery.type(t)?u("'"+e+"' must be a string"):void 0},c=function(){return alert('"delete()" has been deprecated. Please use "destroy()" or "del()" instead.')},s={url:"",cache:0,request:function(e,t){return oQuery.ajax(t)},cachableMethods:["GET"],methodOverride:!1,stringifyData:!1,stripTrailingSlash:!1,password:null,username:null,verbs:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},ajax:{dataType:"json"}},r=function(){function e(e){this.parent=e,this.c={}}return e.prototype.valid=function(e){var t;return t=(new Date).getTime()-e.getTime(),t<=1e3*this.parent.opts.cache},e.prototype.key=function(e){var t,n=this;return t="",oQuery.each(e,function(e,i){return t+=e+"="+(oQuery.isPlainObject(i)?"{"+n.key(i)+"}":i)+"|"}),t},e.prototype.get=function(e){var t;return(t=this.c[e])&&this.valid(t.created)?t.data:void 0},e.prototype.put=function(e,t){return this.c[e]={created:new Date,data:t}},e.prototype.clear=function(e){var t=this;return e?oQuery.each(this.c,function(n){return n.match(e)?delete t.c[n]:void 0}):this.c={}},e}(),a=function(){function e(e,t,n,i){this.name=e,this.method=t,null==n&&(n={}),this.parent=i,g("name",this.name),g("method",this.method),h(n),this.parent[this.name]&&u("Cannot add Verb: '"+e+"' already exists"),this.method=t.toUpperCase(),n.url||(n.url=""),this.opts=p(this.parent.opts,n),this.root=this.parent.root,this.custom=!s.verbs[this.name],this.call=oQuery.proxy(this.call,this),this.call.instance=this}return e.prototype.call=function(){var e,t,n;return n=this.parent.extractUrlData(this.method,arguments),t=n.url,e=n.data,this.custom&&(t+=this.opts.url||this.name),this.parent.ajax.call(this,this.method,t,e)},e.prototype.show=function(e){return console.log(d(e)+this.name+": "+this.method)},e}(),o=function(){function e(t,n,i){null==n&&(n={}),h(n),i&&i instanceof e?(this.name=t,g("name",this.name),this.constructChild(i,n)):(this.url=t||"",g("url",this.url),this.constructRoot(n))}return e.prototype.constructRoot=function(e){return this.opts=p(s,e),this.root=this,this.numParents=0,this.urlNoId=this.url,this.cache=new r(this),this.parent=null,this.name=this.opts.name||"ROOT"},e.prototype.constructChild=function(t,n){return this.parent=t,g("name",this.name),this.parent instanceof e||this.error("Invalid parent"),this.parent[this.name]&&this.error("'"+name+"' already exists"),n.url||(n.url=""),this.opts=p(this.parent.opts,n),this.root=this.parent.root,this.numParents=this.parent.numParents+1,this.urlNoId=this.parent.url+(""+(this.opts.url||this.name)+"/"),this.url=this.urlNoId+(":ID_"+this.numParents+"/"),oQuery.each(this.opts.verbs,oQuery.proxy(this.addVerb,this)),this.destroy?(this.del=this.destroy,this["delete"]=c):void 0},e.prototype.error=function(e){return u("Cannot add Resource: "+e)},e.prototype.add=function(t,n){return this[t]=new e(t,n,this)},e.prototype.addVerb=function(e,t,n){return this[e]=new a(e,t,n,this).call},e.prototype.show=function(t){return null==t&&(t=0),t>25&&u("Plugin Bug! Recursion Fail"),this.name&&console.log(d(t)+this.name+": "+this.url),oQuery.each(this,function(e,n){return"function"===oQuery.type(n)&&n.instance instanceof a&&"del"!==e?n.instance.show(t+1):void 0}),oQuery.each(this,function(n,i){return"parent"!==n&&"root"!==n&&i instanceof e?i.show(t+1):void 0}),null},e.prototype.toString=function(){return this.name},e.prototype.extractUrlData=function(e,t){var n,i,r,o,a,s,c,l,p,d,f,h,g,m,v,y;for(c=[],o=null,d=null,g=0,v=t.length;v>g;g++)n=t[g],f=oQuery.type(n),"string"===f||"number"===f?c.push(n):"object"===f&&null===o?o=n:"object"===f&&null===d?d=n:u("Invalid argument: "+n+" ("+f+"). Must be strings or ints (IDs) followed by one optional object and one optional query params object.");for(p=c.length,i="create"!==e,r="update"!==e&&"delete"!==e,h=null,i&&p===this.numParents&&(h=this.url),r&&p===this.numParents-1&&(h=this.urlNoId),null===h&&(r&&(l=this.numParents-1),i&&(l=(l?l+" or ":"")+this.numParents),u("Invalid number of ID arguments, required "+l+", provided "+p)),a=m=0,y=c.length;y>m;a=++m)s=c[a],h=h.replace(new RegExp("/:ID_"+(a+1)+"/"),s);return d&&(h+="?"+oQuery.param(d)),{url:h,data:o}},e.prototype.ajax=function(e,t,n){var i,r,o,a,s,c,p=this;return e||u("method missing"),t||u("url missing"),o={},this.opts.username&&this.opts.password&&(r=l(this.opts.username+":"+this.opts.password),o.Authorization="Basic "+r),n&&this.opts.stringifyData&&(n=f(n),o["Content-Type"]="application/json"),this.opts.methodOverride&&"GET"!==e&&"HEAD"!==e&&"POST"!==e&&(o["X-HTTP-Method-Override"]=e,e="POST"),this.opts.stripTrailingSlash&&(t=t.replace(/\/$/,"")),i={url:t,type:e,headers:o},n&&(i.data=n),i=oQuery.extend(!0,{},this.opts.ajax,i),c=this.opts.cache&&oQuery.inArray(e,this.opts.cachableMethods)>=0,c&&(a=this.root.cache.key(i),s=this.root.cache.get(a))?(s.statusText="Cache",s):(s=this.opts.request(this.parent,i),c&&s.done(function(){return p.root.cache.put(a,s)}),s)},e}(),o.defaults=s,oQuery.RestClient=o}(window,document,oQuery),OlapicRequireSDK.define("rest",["jquery"],function(){}),OlapicRequireSDK.define("network",["jquery","jquery.browser","rest"],function(){OlapicSDK.network={options:{apiBaseUrl:"",apiCustomerKey:""},restClient:null,browser:oQuery.browser,initRest:function(e){var t=_Ounder.isFunction(arguments[1])?arguments[1]:function(){};this.options=oQuery.extend(this.options,e),this.restClient=new oQuery.RestClient(this.options.apiBaseUrl,{cache:30,cachableMethods:["GET"],ajax:{error:function(e){e._url=this.url}},verbs:{create:"POST",formPost:"POST",formGet:"GET",read:"GET",update:"PUT",destroy:"DELETE",getMediaListData:"GET"}}),t(this)},addResource:function(e){this.restClient.hasOwnProperty(e)===!1&&this.restClient.add(e)},ajax:function(e){var t=arguments[1]?arguments[1]:{},n=oQuery.Deferred(function(n){var i={type:"get",dataType:"json",crossDomain:!0},r=oQuery.extend({},i,t);n.done(r.success),n.fail(r.error),n.done(r.complete),n.always(r.always);var o=oQuery.extend({},r,{success:function(e,t,i){"json"===r.dataType?e&&e.success?n.resolve(e,t,i,r):n.reject(e,t,i,r):n.resolve(e,t,i,r)},error:function(e,t,i){n.reject(e,t,i)},complete:function(){n.always()}});o.url=e,oQuery.ajax(o)}),i=n.promise();return i.success=n.done,i.error=n.fail,i.complete=n.done,i.always=n.always,i},addParameter:function(e,t,n,i){var r=0,o="",a="",s="",c=null,l=0,u=null;if(replaceDuplicates=!0,e.indexOf("#")>0?(r=e.indexOf("#"),urlhash=e.substring(e.indexOf("#"),e.length)):(urlhash="",r=e.length),o=e.substring(0,r),a=o.split("?"),s="",a.length>1&&""!==a[1])for(c=a[1].split("&"),l=0;l<c.length;l++)u=c[l].split("="),replaceDuplicates&&u[0]===t||(""===s?s="?":s+="&",s+=u[0]+"="+(u[1]?u[1]:""));return""===s&&(s="?"),i?s="?"+t+"="+n+(s.length>1?"&"+s.substring(1):""):(""!==s&&"?"!==s&&(s+="&"),s+=t+"="+(n?n:"")),a[0]+s+urlhash},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},urlAddParameters:function(e,t){var n=e||"",i=_Ounder.keys(t),r=0;r=i.length;for(var o=0;r>o;o++){var a=t[i[o]];_Ounder.isObject(a)||(n=this.addParameter(n,i[o],encodeURIComponent(a)))}return n}}}),OlapicRequireSDK.define("base",["classy","network"],function(e){OlapicSDK.base=e.$extend({_type:"Base",_self:null,__init__:function(e){e=e||{},e.callBack=e.hasOwnProperty("callBack")&&"function"==typeof e.callBack?e.callBack:function(){},e.callBack(this)}})}),OlapicRequireSDK.define("toolLoader",["toolLoader"],function(){OlapicSDK.loader=OlapicSDK.base.$extend({_type:"loader",queue:[],after:function(){},dones:{},__init__:function(e){this.$super(e),this.queue=e.queue,this.after="function"==typeof e.after?e.after:function(){}},getNext:function(){var e=this,t="boolean"==typeof arguments[0]?arguments[0]:!0;if(0!==e.queue.length){var n=e.queue.shift();return n}return t?void e.after(e):!1},add:function(e){this.queue.push(e)},setQueue:function(e){this.queue=e,this.dones={}}})}),OlapicRequireSDK.define("hbs/handlebars",[],function(){var e=function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return s[e]||"&amp;"}function n(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function i(e){return e instanceof a?e.toString():e||0===e?(e=""+e,l.test(e)?e.replace(c,t):e):""}function r(e){return e||0===e?d(e)&&0===e.length?!0:!1:!0}var o={},a=e,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,l=/[&<>"'`]/;o.extend=n;var u=Object.prototype.toString;o.toString=u;var p=function(e){return"function"==typeof e};p(/x/)&&(p=function(e){return"function"==typeof e&&"[object Function]"===u.call(e)});var p;o.isFunction=p;var d=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===u.call(e):!1};return o.isArray=d,o.escapeExpression=i,o.isEmpty=r,o}(e),n=function(){"use strict";function e(e,t){var i;t&&t.firstLine&&(i=t.firstLine,e+=" - "+i+":"+t.firstColumn);for(var r=Error.prototype.constructor.call(this,e),o=0;o<n.length;o++)this[n[o]]=r[n[o]];i&&(this.lineNumber=i,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),i=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(e){if(2!==arguments.length)throw new s("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse||function(){},r=n.fn;return d(t)&&(t=t.call(this)),t===!0?r(this):t===!1||null==t?i(this):p(t)?t.length>0?e.helpers.each(t,n):i(this):r(t)}),e.registerHelper("each",function(e,t){var n,i=t.fn,r=t.inverse,o=0,a="";if(d(e)&&(e=e.call(this)),t.data&&(n=m(t.data)),e&&"object"==typeof e)if(p(e))for(var s=e.length;s>o;o++)n&&(n.index=o,n.first=0===o,n.last=o===e.length-1),a+=i(e[o],{data:n});else for(var c in e)e.hasOwnProperty(c)&&(n&&(n.key=c,n.index=o,n.first=0===o),a+=i(e[c],{data:n}),o++);return 0===o&&(a=r(this)),a}),e.registerHelper("if",function(e,t){return d(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return d(e)&&(e=e.call(this)),a.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)})}function r(e,t){g.log(e,t)}var o={},a=e,s=t,c="1.3.0";o.VERSION=c;var l=4;o.COMPILER_REVISION=l;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};o.REVISION_CHANGES=u;var p=a.isArray,d=a.isFunction,f=a.toString,h="[object Object]";o.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:g,log:r,registerHelper:function(e,t,n){if(f.call(e)===h){if(n||t)throw new s("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){f.call(e)===h?a.extend(this.partials,e):this.partials[e]=t}};var g={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(g.level<=e){var n=g.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};o.logger=g,o.log=r;var m=function(e){var t={};return a.extend(t,e),t};return o.createFrame=m,o}(t,n),r=function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=d;if(t!==n){if(n>t){var i=f[n],r=f[t];throw new p("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new p("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){if(!t)throw new p("No environment passed to template");var n=function(e,n,i,r,o,a){var s=t.VM.invokePartial.apply(this,arguments);if(null!=s)return s;if(t.compile){var c={helpers:r,partials:o,data:a};return o[n]=t.compile(e,{data:void 0!==a},t),o[n](i,c)}throw new p("The partial "+n+" could not be compiled when running in runtime-only mode")},i={escapeExpression:u.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var i=this.programs[e];return n?i=a(e,t,n):i||(i=this.programs[e]=a(e,t)),i},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},u.extend(n,t),u.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,r){r=r||{};var o,a,s=r.partial?r:t;r.partial||(o=r.helpers,a=r.partials);var c=e.call(i,s,n,o,a,r.data);return r.partial||t.VM.checkRevision(i.compilerInfo),c}}function o(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r}function a(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i}function s(e,t,n,i,r,o){var a={partial:!0,helpers:i,partials:r,data:o};if(void 0===e)throw new p("The partial "+t+" could not be found");return e instanceof Function?e(n,a):void 0}function c(){return""}var l={},u=e,p=t,d=n.COMPILER_REVISION,f=n.REVISION_CHANGES;return l.checkRevision=i,l.template=r,l.programWithDepth=o,l.program=a,l.invokePartial=s,l.noop=c,
l}(t,n,i),o=function(e,t,n,i,r){"use strict";var o,a=e,s=t,c=n,l=i,u=r,p=function(){var e=new a.HandlebarsEnvironment;return l.extend(e,a),e.SafeString=s,e.Exception=c,e.Utils=l,e.VM=u,e.template=function(t){return u.template(t,e)},e},d=p();return d.create=p,o=d}(i,e,n,t,r),a=function(e){"use strict";function t(e){e=e||{},this.firstLine=e.first_line,this.firstColumn=e.first_column,this.lastColumn=e.last_column,this.lastLine=e.last_line}var n,i=e,r={ProgramNode:function(e,n,i,o){var a,s;3===arguments.length?(o=i,i=null):2===arguments.length&&(o=n,n=null),t.call(this,o),this.type="program",this.statements=e,this.strip={},i?(s=i[0],s?(a={first_line:s.firstLine,last_line:s.lastLine,last_column:s.lastColumn,first_column:s.firstColumn},this.inverse=new r.ProgramNode(i,n,a)):this.inverse=new r.ProgramNode(i,n),this.strip.right=n.left):n&&(this.strip.left=n.right)},MustacheNode:function(e,n,i,o,a){if(t.call(this,a),this.type="mustache",this.strip=o,null!=i&&i.charAt){var s=i.charAt(3)||i.charAt(2);this.escaped="{"!==s&&"&"!==s}else this.escaped=!!i;e instanceof r.SexprNode?this.sexpr=e:this.sexpr=new r.SexprNode(e,n),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(e,n,i){t.call(this,i),this.type="sexpr",this.hash=n;var r=this.id=e[0],o=this.params=e.slice(1),a=this.eligibleHelper=r.isSimple;this.isHelper=a&&(o.length||n)},PartialNode:function(e,n,i,r){t.call(this,r),this.type="partial",this.partialName=e,this.context=n,this.strip=i},BlockNode:function(e,n,r,o,a){if(t.call(this,a),e.sexpr.id.original!==o.path.original)throw new i(e.sexpr.id.original+" doesn't match "+o.path.original,this);this.type="block",this.mustache=e,this.program=n,this.inverse=r,this.strip={left:e.strip.left,right:o.strip.right},(n||r).strip.left=e.strip.right,(r||n).strip.right=o.strip.left,r&&!n&&(this.isInverse=!0)},ContentNode:function(e,n){t.call(this,n),this.type="content",this.string=e},HashNode:function(e,n){t.call(this,n),this.type="hash",this.pairs=e},IdNode:function(e,n){t.call(this,n),this.type="ID";for(var r="",o=[],a=0,s=0,c=e.length;c>s;s++){var l=e[s].part;if(r+=(e[s].separator||"")+l,".."===l||"."===l||"this"===l){if(o.length>0)throw new i("Invalid path: "+r,this);".."===l?a++:this.isScoped=!0}else o.push(l)}this.original=r,this.parts=o,this.string=o.join("."),this.depth=a,this.isSimple=1===e.length&&!this.isScoped&&0===a,this.stringModeValue=this.string},PartialNameNode:function(e,n){t.call(this,n),this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e,n){t.call(this,n),this.type="DATA",this.id=e},StringNode:function(e,n){t.call(this,n),this.type="STRING",this.original=this.string=this.stringModeValue=e},IntegerNode:function(e,n){t.call(this,n),this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},BooleanNode:function(e,n){t.call(this,n),this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},CommentNode:function(e,n){t.call(this,n),this.type="comment",this.comment=e}};return n=r}(n),s=function(){"use strict";var e,t=function(){function e(e,t){return{left:"~"===e.charAt(2),right:"~"===t.charAt(0)||"~"===t.charAt(1)}}function t(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(t,n,i,r,o,a,s){var c=a.length-1;switch(o){case 1:return new r.ProgramNode(a[c-1],this._$);case 2:return new r.ProgramNode([],this._$);case 3:this.$=new r.ProgramNode([],a[c-1],a[c],this._$);break;case 4:this.$=new r.ProgramNode(a[c-2],a[c-1],a[c],this._$);break;case 5:this.$=new r.ProgramNode(a[c-1],a[c],[],this._$);break;case 6:this.$=new r.ProgramNode(a[c],this._$);break;case 7:this.$=new r.ProgramNode([],this._$);break;case 8:this.$=new r.ProgramNode([],this._$);break;case 9:this.$=[a[c]];break;case 10:a[c-1].push(a[c]),this.$=a[c-1];break;case 11:this.$=new r.BlockNode(a[c-2],a[c-1].inverse,a[c-1],a[c],this._$);break;case 12:this.$=new r.BlockNode(a[c-2],a[c-1],a[c-1].inverse,a[c],this._$);break;case 13:this.$=a[c];break;case 14:this.$=a[c];break;case 15:this.$=new r.ContentNode(a[c],this._$);break;case 16:this.$=new r.CommentNode(a[c],this._$);break;case 17:this.$=new r.MustacheNode(a[c-1],null,a[c-2],e(a[c-2],a[c]),this._$);break;case 18:this.$=new r.MustacheNode(a[c-1],null,a[c-2],e(a[c-2],a[c]),this._$);break;case 19:this.$={path:a[c-1],strip:e(a[c-2],a[c])};break;case 20:this.$=new r.MustacheNode(a[c-1],null,a[c-2],e(a[c-2],a[c]),this._$);break;case 21:this.$=new r.MustacheNode(a[c-1],null,a[c-2],e(a[c-2],a[c]),this._$);break;case 22:this.$=new r.PartialNode(a[c-2],a[c-1],e(a[c-3],a[c]),this._$);break;case 23:this.$=e(a[c-1],a[c]);break;case 24:this.$=new r.SexprNode([a[c-2]].concat(a[c-1]),a[c],this._$);break;case 25:this.$=new r.SexprNode([a[c]],null,this._$);break;case 26:this.$=a[c];break;case 27:this.$=new r.StringNode(a[c],this._$);break;case 28:this.$=new r.IntegerNode(a[c],this._$);break;case 29:this.$=new r.BooleanNode(a[c],this._$);break;case 30:this.$=a[c];break;case 31:a[c-1].isHelper=!0,this.$=a[c-1];break;case 32:this.$=new r.HashNode(a[c],this._$);break;case 33:this.$=[a[c-2],a[c]];break;case 34:this.$=new r.PartialNameNode(a[c],this._$);break;case 35:this.$=new r.PartialNameNode(new r.StringNode(a[c],this._$),this._$);break;case 36:this.$=new r.PartialNameNode(new r.IntegerNode(a[c],this._$));break;case 37:this.$=new r.DataNode(a[c],this._$);break;case 38:this.$=new r.IdNode(a[c],this._$);break;case 39:a[c-2].push({part:a[c],separator:a[c-1]}),this.$=a[c-2];break;case 40:this.$=[{part:a[c]}];break;case 43:this.$=[];break;case 44:a[c-1].push(a[c]);break;case 47:this.$=[a[c]];break;case 48:a[c-1].push(a[c])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],o=[],a=this.table,s="",c=0,l=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;o.push(p);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,h,g,m,v,y,w,b,k,S={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===f||"undefined"==typeof f)&&(f=t()),m=a[g]&&a[g][f]),"undefined"==typeof m||!m.length||!m[0]){var x="";if(!u){k=[];for(y in a[g])this.terminals_[y]&&y>2&&k.push("'"+this.terminals_[y]+"'");x=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:p,expected:k})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+f);switch(m[0]){case 1:i.push(f),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(m[1]),f=null,h?(f=h,h=null):(l=this.lexer.yyleng,s=this.lexer.yytext,c=this.lexer.yylineno,p=this.lexer.yylloc,u>0&&u--);break;case 2:if(w=this.productions_[m[1]][1],S.$=r[r.length-w],S._$={first_line:o[o.length-(w||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(w||1)].first_column,last_column:o[o.length-1].last_column},d&&(S._$.range=[o[o.length-(w||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(S,s,l,c,this.yy,m[1],r,o),"undefined"!=typeof v)return v;w&&(i=i.slice(0,-1*w*2),r=r.slice(0,-1*w),o=o.slice(0,-1*w)),i.push(this.productions_[m[1]][0]),r.push(S.$),o.push(S._$),b=a[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(n=this._input.match(this.rules[o[a]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){function r(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return r(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return r(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return t.yytext=r(1,2).replace(/\\"/g,'"'),32;case 24:return t.yytext=r(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return t.yytext=r(1,2),40;case 31:return"INVALID";case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return n.lexer=i,t.prototype=n,n.Parser=t,new t}();return e=t}(),c=function(e,t){"use strict";function n(e){return e.constructor===o.ProgramNode?e:(r.yy=o,r.parse(e))}var i={},r=e,o=t;return i.parser=r,i.parse=n,i}(s,a),l=function(e){"use strict";function t(){}function n(e,t,n){if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new o("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var i=n.parse(e),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function i(e,t,n){function i(){var i=n.parse(e),r=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(o)}if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new o("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var r;return function(e,t){return r||(r=i()),r.call(this,e,t)}}var r={},o=e;return r.Compiler=t,t.prototype={compiler:t,disassemble:function(){for(var e,t,n,i=this.opcodes,r=[],o=0,a=i.length;a>o;o++)if(e=i[o],"DECLARE"===e.opcode)r.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var s=0;s<e.args.length;s++)n=e.args[s],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);r.push(e.opcode+" "+t.join(" "))}return r.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||i.args.length!==r.args.length)return!1;for(var o=0;o<i.args.length;o++)if(i.args[o]!==r.args[o])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(e)},accept:function(e){var t,n=e.strip||{};return n.left&&this.opcode("strip"),t=this[e.type](e),n.right&&this.opcode("strip"),t},program:function(e){for(var t=e.statements,n=0,i=t.length;i>n;n++)this.accept(t[n]);return this.isSimple=1===i,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,o=n.depths.list.length;o>r;r++)t=n.depths.list[r],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=t.sexpr,o=this.classifySexpr(r);"helper"===o?this.helperSexpr(r,n,i):"simple"===o?(this.simpleSexpr(r),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(r,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("pushHash");for(var r=0,o=i.length;o>r;r++)t=i[r],n=t[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type),"sexpr"===n.type&&this.sexpr(n)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){this.sexpr(e.sexpr),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(e,t,n){var i=e.id,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new o("You specified knownHelpersOnly, but used the unknown helper "+r,e);this.opcode("invokeHelper",i.length,r,e.isRoot)}},sexpr:function(e){var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,i=e.parts.length;i>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new o("Scoped data references are not supported: "+e.original,e);this.opcode("lookupData");for(var t=e.id.parts,n=0,i=t.length;i>n;n++)this.opcode("lookup",t[n])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifySexpr:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var r=e.id.parts[0];i.knownHelpers[r]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type),"sexpr"===t.type&&this.sexpr(t)):this[t.type](t)},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),i}},r.precompile=n,r.compile=i,r}(n),u=function(e,t){"use strict";function n(e){this.value=e}function i(){}var r,o=e.COMPILER_REVISION,a=e.REVISION_CHANGES,s=e.log,c=t;i.prototype={nameLookup:function(e,t){var n,r;return 0===e.indexOf("depth")&&(n=!0),r=/^[0-9]+$/.test(t)?e+"["+t+"]":i.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']",n?"("+e+" && "+r+")":r},compilerInfo:function(){var e=o,t=a[e];return"this.compilerInfo = ["+e+",'"+t+"'];\n"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,i){this.environment=e,this.options=t||{},s("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var r,o=e.opcodes;this.i=0;for(var a=o.length;this.i<a;this.i++)r=o[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args),r.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c("Compile completed with content left on stack");return this.createFunctionContext(i)},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);if(t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,o=this.environment.depths.list.length;o>r;r++)i.push("depth"+this.environment.depths.list[r]);var a=this.mergeSource();if(this.isChild||(a=this.compilerInfo()+a),e)return i.push(a),Function.apply(this,i);var c="function "+(this.name||"")+"("+i.join(",")+") {\n  "+a+"}";return s("debug",c+"\n\n"),c},mergeSource:function(){for(var e,t="",n=0,i=this.source.length;i>n;n++){var r=this.source[n];r.appendToBuffer?e=e?e+"\n    + "+r.content:r.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=r+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.stripNext&&(e=e.replace(/^\s+/,"")),this.pendingContent=e},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"sexpr"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+e.contexts.join(",")+"}"),this.push("{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t,n){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var i=this.lastHelper=this.setupHelper(e,t,!0),r=this.nameLookup("depth"+this.lastContext,t,"context"),o="helper = "+i.name+" || "+r;i.paramsInit&&(o+=","+i.paramsInit),this.push("("+o+",helper ? helper.call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+"))"),n||this.flushInline()},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var n=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),r=this.nameLookup("depth"+this.lastContext,e,"context"),o=this.nextStack();n.paramsInit&&this.pushSource(n.paramsInit),this.pushSource("if (helper = "+i+") { "+o+" = helper.call("+n.callParams+"); }"),
this.pushSource("else { helper = "+r+"; "+o+" = typeof helper === functionType ? helper.call("+n.callParams+") : helper; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var r=this.hash;t&&r.contexts.push("'"+e+"': "+t),n&&r.types.push("'"+e+"': "+n),r.values.push("'"+e+"': ("+i+")")},compiler:i,compileChildren:function(e,t){for(var n,i,r=e.children,o=0,a=r.length;a>o;o++){n=r[o],i=new this.compiler;var s=this.matchExistingProgram(n);null==s?(this.context.programs.push(""),s=this.context.programs.length,n.index=s,n.name="program"+s,this.context.programs[s]=i.compile(n,t,this.context),this.context.environments[s]=n):(n.index=s,n.name="program"+s)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],i=n.depths.list,r=[n.index,n.name,"data"],o=0,a=i.length;a>o;o++)t=i[o],1===t?r.push("depth0"):r.push("depth"+(t-1));return(0===i.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(e,t){this.useRegister(e),this.pushSource(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new n(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,i,r,o="",a=this.isInline();if(a){var s=this.popStack(!0);if(s instanceof n)t=s.value,r=!0;else{i=!this.stackSlot;var c=i?this.incrStack():this.topStackName();o="("+this.push(c)+" = "+s+"),",t=this.topStack()}}else t=this.topStack();var l=e.call(this,t);return a?(r||this.popStack(),i&&this.stackSlot--,this.push("("+o+l+")")):(/^stack/.test(t)||(t=this.nextStack()),this.pushSource(t+" = ("+o+l+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,i=e.length;i>t;t++){var r=e[t];r instanceof n?this.compileStack.push(r):this.pushStack(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();if(!e&&i instanceof n)return i.value;if(!t){if(!this.stackSlot)throw new c("Invalid stack pop");this.stackSlot--}return i},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,i=t[t.length-1];return!e&&i instanceof n?i.value:i},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var i=[],r=this.setupParams(e,i,n),o=this.nameLookup("helpers",t,"helper");return{params:i,paramsInit:r,name:o,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(i).join(", ")}},setupOptions:function(e,t){var n,i,r,o=[],a=[],s=[];o.push("hash:"+this.popStack()),this.options.stringParams&&(o.push("hashTypes:"+this.popStack()),o.push("hashContexts:"+this.popStack())),i=this.popStack(),r=this.popStack(),(r||i)&&(r||(this.context.aliases.self="this",r="self.noop"),i||(this.context.aliases.self="this",i="self.noop"),o.push("inverse:"+i),o.push("fn:"+r));for(var c=0;e>c;c++)n=this.popStack(),t.push(n),this.options.stringParams&&(s.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(o.push("contexts:["+a.join(",")+"]"),o.push("types:["+s.join(",")+"]")),this.options.data&&o.push("data:data"),o},setupParams:function(e,t,n){var i="{"+this.setupOptions(e,t).join(",")+"}";return n?(this.useRegister("options"),t.push("options"),"options="+i):(t.push(i),"")}};for(var l="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),u=i.RESERVED_WORDS={},p=0,d=l.length;d>p;p++)u[l[p]]=!0;return i.isValidJavaScriptVariableName=function(e){return!i.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)?!0:!1},r=i}(i,n),p=function(e,t,n,i,r){"use strict";var o,a=e,s=t,c=n.parser,l=n.parse,u=i.Compiler,p=i.compile,d=i.precompile,f=r,h=a.create,g=function(){var e=h();return e.compile=function(t,n){return p(t,n,e)},e.precompile=function(t,n){return d(t,n,e)},e.AST=s,e.Compiler=u,e.JavaScriptCompiler=f,e.Parser=c,e.parse=l,e};return a=g(),a.create=g,o=a}(o,a,c,l,u);return p}();return e}),function(){function e(e){var n=!1;return function(){if(n)throw new Error("Callback was already called.");n=!0,e.apply(t,arguments)}}var t,n,i={};t=this,null!=t&&(n=t.async),i.noConflict=function(){return t.async=n,i};var r=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},o=function(e,t){if(e.map)return e.map(t);var n=[];return r(e,function(e,i,r){n.push(t(e,i,r))}),n},a=function(e,t,n){return e.reduce?e.reduce(t,n):(r(e,function(e,i,r){n=t(n,e,i,r)}),n)},s=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof process&&process.nextTick?(i.nextTick=process.nextTick,"undefined"!=typeof setImmediate?i.setImmediate=function(e){setImmediate(e)}:i.setImmediate=i.nextTick):"function"==typeof setImmediate?(i.nextTick=function(e){setImmediate(e)},i.setImmediate=i.nextTick):(i.nextTick=function(e){setTimeout(e,0)},i.setImmediate=i.nextTick),i.each=function(t,n,i){if(i=i||function(){},!t.length)return i();var o=0;r(t,function(r){n(r,e(function(e){e?(i(e),i=function(){}):(o+=1,o>=t.length&&i(null))}))})},i.forEach=i.each,i.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var i=0,r=function(){t(e[i],function(t){t?(n(t),n=function(){}):(i+=1,i>=e.length?n(null):r())})};r()},i.forEachSeries=i.eachSeries,i.eachLimit=function(e,t,n,i){var r=c(t);r.apply(null,[e,n,i])},i.forEachLimit=i.eachLimit;var c=function(e){return function(t,n,i){if(i=i||function(){},!t.length||0>=e)return i();var r=0,o=0,a=0;!function s(){if(r>=t.length)return i();for(;e>a&&o<t.length;)o+=1,a+=1,n(t[o-1],function(e){e?(i(e),i=function(){}):(r+=1,a-=1,r>=t.length?i():s())})}()}},l=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[i.each].concat(t))}},u=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[c(e)].concat(n))}},p=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[i.eachSeries].concat(t))}},d=function(e,t,n,i){var r=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n,i){r[e.index]=i,t(n)})},function(e){i(e,r)})};i.map=l(d),i.mapSeries=p(d),i.mapLimit=function(e,t,n,i){return f(t)(e,n,i)};var f=function(e){return u(e,d)};i.reduce=function(e,t,n,r){i.eachSeries(e,function(e,i){n(t,e,function(e,n){t=n,i(e)})},function(e){r(e,t)})},i.inject=i.reduce,i.foldl=i.reduce,i.reduceRight=function(e,t,n,r){var a=o(e,function(e){return e}).reverse();i.reduce(a,t,n,r)},i.foldr=i.reduceRight;var h=function(e,t,n,i){var r=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&r.push(e),t()})},function(e){i(o(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};i.filter=l(h),i.filterSeries=p(h),i.select=i.filter,i.selectSeries=i.filterSeries;var g=function(e,t,n,i){var r=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||r.push(e),t()})},function(e){i(o(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};i.reject=l(g),i.rejectSeries=p(g);var m=function(e,t,n,i){e(t,function(e,t){n(e,function(n){n?(i(e),i=function(){}):t()})},function(e){i()})};i.detect=l(m),i.detectSeries=p(m),i.some=function(e,t,n){i.each(e,function(e,i){t(e,function(e){e&&(n(!0),n=function(){}),i()})},function(e){n(!1)})},i.any=i.some,i.every=function(e,t,n){i.each(e,function(e,i){t(e,function(e){e||(n(!1),n=function(){}),i()})},function(e){n(!0)})},i.all=i.every,i.sortBy=function(e,t,n){i.map(e,function(e,n){t(e,function(t,i){t?n(t):n(null,{value:e,criteria:i})})},function(e,t){if(e)return n(e);var i=function(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0};n(null,o(t.sort(i),function(e){return e.value}))})},i.auto=function(e,t){t=t||function(){};var n=s(e);if(!n.length)return t(null);var o={},c=[],l=function(e){c.unshift(e)},u=function(e){for(var t=0;t<c.length;t+=1)if(c[t]===e)return void c.splice(t,1)},p=function(){r(c.slice(0),function(e){e()})};l(function(){s(o).length===n.length&&(t(null,o),t=function(){})}),r(n,function(n){var c=e[n]instanceof Function?[e[n]]:e[n],d=function(e){var a=Array.prototype.slice.call(arguments,1);if(a.length<=1&&(a=a[0]),e){var c={};r(s(o),function(e){c[e]=o[e]}),c[n]=a,t(e,c),t=function(){}}else o[n]=a,i.setImmediate(p)},f=c.slice(0,Math.abs(c.length-1))||[],h=function(){return a(f,function(e,t){return e&&o.hasOwnProperty(t)},!0)&&!o.hasOwnProperty(n)};if(h())c[c.length-1](d,o);else{var g=function(){h()&&(u(g),c[c.length-1](d,o))};l(g)}})},i.waterfall=function(e,t){if(t=t||function(){},e.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var r=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var o=Array.prototype.slice.call(arguments,1),a=e.next();a?o.push(r(a)):o.push(t),i.setImmediate(function(){e.apply(null,o)})}}};r(i.iterator(e))()};var v=function(e,t,n){if(n=n||function(){},t.constructor===Array)e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var i={};e.each(s(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[e]=r,n(t)})},function(e){n(e,i)})}};i.parallel=function(e,t){v({map:i.map,each:i.each},e,t)},i.parallelLimit=function(e,t,n){v({map:f(t),each:c(t)},e,n)},i.series=function(e,t){if(t=t||function(){},e.constructor===Array)i.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};i.eachSeries(s(e),function(t,i){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[t]=r,i(e)})},function(e){t(e,n)})}},i.iterator=function(e){var t=function(n){var i=function(){return e.length&&e[n].apply(null,arguments),i.next()};return i.next=function(){return n<e.length-1?t(n+1):null},i};return t(0)},i.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var y=function(e,t,n,i){var r=[];e(t,function(e,t){n(e,function(e,n){r=r.concat(n||[]),t(e)})},function(e){i(e,r)})};i.concat=l(y),i.concatSeries=p(y),i.whilst=function(e,t,n){e()?t(function(r){return r?n(r):void i.whilst(e,t,n)}):n()},i.doWhilst=function(e,t,n){e(function(r){return r?n(r):void(t()?i.doWhilst(e,t,n):n())})},i.until=function(e,t,n){e()?n():t(function(r){return r?n(r):void i.until(e,t,n)})},i.doUntil=function(e,t,n){e(function(r){return r?n(r):void(t()?n():i.doUntil(e,t,n))})},i.queue=function(t,n){function o(e,t,o,a){t.constructor!==Array&&(t=[t]),r(t,function(t){var r={data:t,callback:"function"==typeof a?a:null};o?e.tasks.unshift(r):e.tasks.push(r),e.saturated&&e.tasks.length===n&&e.saturated(),i.setImmediate(e.process)})}void 0===n&&(n=1);var a=0,s={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(e,t){o(s,e,!1,t)},unshift:function(e,t){o(s,e,!0,t)},process:function(){if(a<s.concurrency&&s.tasks.length){var n=s.tasks.shift();s.empty&&0===s.tasks.length&&s.empty(),a+=1;var i=function(){a-=1,n.callback&&n.callback.apply(n,arguments),s.drain&&s.tasks.length+a===0&&s.drain(),s.process()},r=e(i);t(n.data,r)}},length:function(){return s.tasks.length},running:function(){return a}};return s},i.cargo=function(e,t){var n=!1,a=[],s={tasks:a,payload:t,saturated:null,empty:null,drain:null,push:function(e,n){e.constructor!==Array&&(e=[e]),r(e,function(e){a.push({data:e,callback:"function"==typeof n?n:null}),s.saturated&&a.length===t&&s.saturated()}),i.setImmediate(s.process)},process:function c(){if(!n){if(0===a.length)return void(s.drain&&s.drain());var i="number"==typeof t?a.splice(0,t):a.splice(0),l=o(i,function(e){return e.data});s.empty&&s.empty(),n=!0,e(l,function(){n=!1;var e=arguments;r(i,function(t){t.callback&&t.callback.apply(null,e)}),c()})}},length:function(){return a.length},running:function(){return n}};return s};var w=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&r(n,function(t){console[e](t)}))}]))}};i.log=w("log"),i.dir=w("dir"),i.memoize=function(e,t){var n={},i={};t=t||function(e){return e};var r=function(){var r=Array.prototype.slice.call(arguments),o=r.pop(),a=t.apply(null,r);a in n?o.apply(null,n[a]):a in i?i[a].push(o):(i[a]=[o],e.apply(null,r.concat([function(){n[a]=arguments;var e=i[a];delete i[a];for(var t=0,r=e.length;r>t;t++)e[t].apply(null,arguments)}])))};return r.memo=n,r.unmemoized=e,r},i.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},i.times=function(e,t,n){for(var r=[],o=0;e>o;o++)r.push(o);return i.map(r,t,n)},i.timesSeries=function(e,t,n){for(var r=[],o=0;e>o;o++)r.push(o);return i.mapSeries(r,t,n)},i.compose=function(){var e=Array.prototype.reverse.call(arguments);return function(){var t=this,n=Array.prototype.slice.call(arguments),r=n.pop();i.reduce(e,n,function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);i(e,t)}]))},function(e,n){r.apply(t,[e].concat(n))})}};var b=function(e,t){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};i.applyEach=l(b),i.applyEachSeries=p(b),i.forever=function(e,t){function n(i){if(i){if(t)return t(i);throw i}e(n)}n()},"undefined"!=typeof OlapicRequireSDK.define&&OlapicRequireSDK.define.amd?OlapicRequireSDK.define("async",[],function(){return i}):"undefined"!=typeof OlapicRequireSDK&&"function"==typeof OlapicRequireSDK.define&&"object"==typeof OlapicRequireSDK.define.amd?OlapicRequireSDK.define("async",[],function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:t.async=i}(),OlapicRequireSDK.define("toolLoaderHbs",["toolLoader","hbs/handlebars","async"],function(e,t,n){OlapicSDK.hbsLoader=OlapicSDK.loader.$extend({_type:"hbsLoader",templates:{},Handlebars:t,prefix:"",replaceExpre:/{{>([a-z0-9_\-]+)}}/gi,__init__:function(e){this.prefix=e.prefix||"",this.includeHelpers(),this.$super(e)},load:function(e){var t=this,i=t.getNext(!1),r=!1,o=null,a="";i!==!1?t.dones.hasOwnProperty(OlapicSDK.base64.encode(i.key))?t.load():OlapicSDK.devkit.helpers.request().get(i.url).success(function(s){"templates-set"===i.key?n.each(oQuery(s).filter('script[type="text/x-handlebars"]'),function(e,n){o=oQuery(e),a=o.html().replace(t.replaceExpre,"{{>"+t.prefix+"$1}}"),r=void 0!==o.attr("data-template-partial"),t.compileTemplate({key:t.prefix+o.attr("data-template-name"),tpl:a,isPartial:r}),n.apply()},function(n){n||t.load(e)}):t.compileTemplate({key:t.prefix+i.key,tpl:s.replace(t.replaceExpre,"{{>"+t.prefix+"$1}}"),isPartial:!1})}).error(function(){t.load(e)}):e(this)},compileTemplate:function(e){e.isPartial="boolean"==typeof e.isPartial?e.isPartial:!1,this.dones[OlapicSDK.base64.encode(e.key)]=e.key,e.isPartial===!0?this.Handlebars.registerPartial(e.key,e.tpl):this.templates[e.key]=this.Handlebars.compile(e.tpl)},includeHelpers:function(){var e=this;e.Handlebars.registerHelper("each",function(t,n){var i,r=n.fn,o=n.inverse,a=0,s="";if(n.data&&(i=e.Handlebars.createFrame(n.data)),t&&"object"==typeof t)if(_Ounder.isArray(t))for(var c=t.length;c>a;a++)i&&(i.index=a,i.first=0===a,i.last=a===t.length-1),s+=r(t[a],{data:i});else for(var l in t)t.hasOwnProperty(l)&&(i&&(i.key=l),s+=r(t[l],{data:i}),a++);return 0===a&&(s=o(this)),s}),e.Handlebars.registerHelper("debug",function(e){console.log("Current Context"),console.log("===================="),console.log(this),e&&(console.log("Value"),console.log("===================="),console.log(e))}),e.Handlebars.registerHelper("ifvalue",function(e,t){return t.hash.value===e?t.fn(this):t.inverse(this)}),e.Handlebars.registerHelper("ifcondition",function(e,t,n,i){switch(t){case"==":return e==n?i.fn(this):i.inverse(this);case"===":return e===n?i.fn(this):i.inverse(this);case"<":return n>e?i.fn(this):i.inverse(this);case"<=":return n>=e?i.fn(this):i.inverse(this);case">":return e>n?i.fn(this):i.inverse(this);case">=":return e>=n?i.fn(this):i.inverse(this);case"&&":return e&&n?i.fn(this):i.inverse(this);case"||":return e||n?i.fn(this):i.inverse(this);default:return i.inverse(this)}})}})}),OlapicRequireSDK.define("toolBase64",[],function(){OlapicSDK.base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,r,o,a,s,c="",l=0;for(e=OlapicSDK.base64._utf8_encode(e);l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),r=t>>2,o=(3&t)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return c},decode:function(e){var t,n,i,r,o,a,s,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)r=this._keyStr.indexOf(e.charAt(l++)),o=this._keyStr.indexOf(e.charAt(l++)),a=this._keyStr.indexOf(e.charAt(l++)),s=this._keyStr.indexOf(e.charAt(l++)),t=r<<2|o>>4,n=(15&o)<<4|a>>2,i=(3&a)<<6|s,c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(n)),64!=s&&(c+=String.fromCharCode(i));return c=OlapicSDK.base64._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=0,r=0;n<e.length;)i=e.charCodeAt(n),128>i?(t+=String.fromCharCode(i),n++):i>191&&224>i?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&c3),n+=3);return t}}}),OlapicRequireSDK.define("toolMobile",[],function(){OlapicSDK.mobileTools=function(e){var t={isMobile:!1},n=new RegExp("/(android|bbd+|meego).+mobile|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)/|plucker|pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i"),i=function(e){return/ipad|iphone|ipod/i.test(e.toLowerCase())?!0:!n.test(e.substr(0,4))},r=function(){return t.isMobile};return t=$.extend(t,e),t.isMobile=i(navigator.userAgent||navigator.vendor||window.opera),{isMobile:r}}}),OlapicRequireSDK.define("entity",["underscore"],function(e){Entity=function(t){var n=this;return e.extend(this,t),e.isUndefined(t)||e.isUndefined(t.views)||(n.templates=[{key:"templates-set",url:t.views}]),this.get=function(t){return e.has(n,t)?n[t]:null},this.set=function(e,t){return n[e]=t,n[e]},this.nextLink=function(){return e.has(n,"_links")&&e.has(n._links,"next")?n._links.next.href:null},this.prevLink=function(){if(e.has(n,"_links")){if(e.has(n._links,"prev"))return n._links.prev.href;if(e.has(n._links,"first"))return n._links.first.href}return null},this}}),OlapicRequireSDK.define("olapic-api-client",["network","entity","async"],function(e,t,n,i){apiClient=function(e){var t=void 0===e?OlapicSDK.Tools.createObject(OlapicSDK.network):e;return init=function(){var e=this,t=arguments[0]||function(){},n=arguments[1]||function(){};e.getNetwork().initRest({apiCustomerKey:OlapicSDK.conf.get("apikey")},function(){t()},function(){n()})},read=function(e){var t=this,n=arguments[1]||function(){},i=arguments[2]||function(){},r={auth_token:OlapicSDK.conf.get("apikey")};_Ounder.isString(e)&&(e={href:arguments[0]},n=arguments[2]||function(){},i=arguments[3]||function(){},e.href.search("auth_token")>-1&&delete r.auth_token),_Ounder.isNull(OlapicSDK.conf.get("apiVersion"))||(r.version=OlapicSDK.conf.get("apiVersion")),_Ounder.isUndefined(e.count)||""===e.count||(r.count=e.count),t.getNetwork().addResource(e.href),t.getNetwork().restClient[e.href].read("",r).done(function(r,o,a){200===a.status?_Ounder.has(e,"parse")?oQuery.browser.msie?setTimeout(function(){t.parse({data:r.data,options:e.parse},n,i)},100):"Cache"===a.statusText?setTimeout(function(){t.parse({data:r.data,options:e.parse},n,i)},100):t.parse({data:r.data,options:e.parse},n,i):n(r.data):i(a)}).fail(function(e){i(e)})},parse=function(e,t){var n=this,r=e.data||{},o=e.options.exclude||[],a={},s={},c=arguments[2]||function(){};if((e.options.entity&&r._fixed||e.options.forceFixed)&&(a[e.options.entity]=new Entity(r)),r._embedded&&_Ounder.each(r._embedded,function(t,n){-1!==_Ounder.indexOf(o,n)||_Ounder.isNull(t)||(_Ounder.isArray(t)?(a[n]=[],_Ounder.each(t,function(t,i){t._fixed?a[n].push(new Entity(t)):e.options.secondLevel&&(s[n]={href:t._links.self.href,parse:{entity:n,forceFixed:e.options.forceFixed},count:e.options.count})})):!t._fixed||_Ounder.isUndefined(t._fixed)?e.options.secondLevel&&(s[n]={href:t._links.self.href,parse:{entity:n,forceFixed:e.options.forceFixed},count:e.options.count}):a[n]=new Entity(t))}),_Ounder.size(s)){var l=_Ounder.toArray(s);i.each(l,function(e,t){n.read(e,function(e){_Ounder.each(e,function(e,t){a[t]=e}),t.apply()},function(e){c(e)})},function(e){t(a)})}else t(a)},readForm=function(e,t){var n=this,i=arguments[2]||function(){},r=arguments[3]||function(){},o="POST"==e.method?"formPost":"formGet",a={},s={};"POST"==e.method?(a=e.form,s={auth_token:OlapicSDK.conf.get("apikey")}):(a=_Ounder.extend(e.form,{auth_token:OlapicSDK.conf.get("apikey")}),s={}),_Ounder.isNull(OlapicSDK.conf.get("apiVersion"))||(s.version=OlapicSDK.conf.get("apiVersion")),n.getNetwork().addResource(e.href),n.getNetwork().restClient[e.href][o](a,s).done(function(e,o,a){200===a.status?_Ounder.size(t)?n.parse({data:e.data,options:t},i,r):i(e.data):201===a.status?i(e):r(a)}).fail(function(e){r(e)})},getNetwork=function(){return t},setNetwork=function(e){t=e},{init:init,read:read,parse:parse,readForm:readForm,getNetwork:getNetwork,setNetwork:setNetwork,apikey:OlapicSDK.conf.get("apikey"),settings:{apikey:OlapicSDK.conf.get("apikey"),baseURI:t.options.apiBaseUrl}}}}),OlapicRequireSDK.define("interface.base",["base","olapic-api-client"],function(){OlapicSDK["interface"]=function(){oInterface=this,this.init=function(){var e=this.prepareArgs(arguments);this.olapicClient=apiClient(),this.olapicClient.init(function(){e.callback()},function(t){e.callbackError(t)})},this.prepareArgs=function(e){var t={data:{},callback:function(){},callbackError:function(){},devkit:null};return _Ounder.isFunction(e[0])?(t.callback=e[0],_Ounder.isFunction(e[1])&&(t.callbackError=e[1]),_Ounder.isObject(e[2])&&(t.devkit=e[2])):(t.data=e[0],_Ounder.isFunction(e[1])?(t.callback=e[1],_Ounder.isFunction(e[2])&&(t.callbackError=e[2]),_Ounder.isObject(e[3])&&(t.devkit=e[3])):_Ounder.isObject(e[1])&&(t.devkit=e[1])),t},this.formatBatchToArray=function(e){e=e||[];var t=[],n=0;for(n=0;n<e.length;n++)t.push(new Entity(e[n].get("_raw")));return t},this.nextPage=function(e,t){e=oInterface.prepareArgs(e),t.next().then(function(t){e.callback(oInterface.formatBatchToArray(t))}).fail(function(t){oInterface.logError(t),e.callbackError(t)})},this.prevPage=function(e,t){e=oInterface.prepareArgs(e),t.prev().then(function(t){e.callback(oInterface.formatBatchToArray(t))}).fail(function(t){oInterface.logError(t),e.callbackError(t)})},this.havePages=function(e){return{prev:e&&e.prevURL?!0:!1,next:e&&e.nextURL?!0:!1}},this.getEntity=function(e,t,n,i){var r=null,o={};t=oInterface.prepareArgs(t),r=t.devkit||OlapicSDK.devkit,o={devkit:"$"+n,entity:n},i+=OlapicSDK.Tools.isID(t.data)?"ByID":"ByURL",r.api[n][i](t.data).then(function(n){e[o.devkit]=n,e[o.entity]=new Entity(n.get("_raw")),t.callback(e[o.entity])}).fail(function(e){oInterface.logError(e),t.callbackError(e)})},this.getBatch=function(e,t){e=oInterface.prepareArgs(e);var n=e.data.sorting||"photorank",i=e.data.count||20,r=new OlapicSDK.devkit.api.mediaBatch(t,n,i,OlapicSDK.conf.get("rights"));return r.fetch().then(function(t){e.callback(oInterface.formatBatchToArray(t))}).fail(function(t){oInterface.logError(t),e.callbackError(t)}),r},this.logError=function(e){OlapicSDK.debug.addError(e)}}}),OlapicRequireSDK.define("tools",["toolLoaderHbs","toolBase64","toolMobile","interface.base"],function(){OlapicSDK.Tools=OlapicSDK.Tools||{},OlapicSDK.Tools.mobileTools=new OlapicSDK.mobileTools,OlapicSDK.Tools.isID=function(e){return e=parseInt(e),e>0},OlapicSDK.Tools.extractID=function(e){e=e.replace(/(.*?)\/media\//g,"");var t=e.indexOf("?");return t>-1&&(e=e.substr(0,t)),e},OlapicSDK.Tools.getLasPathFromUrl=function(e){var t=0;if(!_Ounder.isEmpty(e)){var n=e.split("/").pop().split("?").shift();_Ounder.isEmpty(e)||(t=n)}return t},OlapicSDK.Tools.parseAnalyticsArrayFormat=function(e){var t={};if(_Ounder.isString(e)&&_Ounder.indexOf(e,",")>=0)for(var n=e.split(","),i=0;i<n.length;i++)if(_Ounder.indexOf(n[i],":")>=0){var r=n[i].split(":");if(_Ounder.isArray(r)&&_Ounder.size(r)>=2){var o=r[0].replace(/ /g,""),a=r[1].replace(/ /g,"");t[o]=a}}return t}}),OlapicRequireSDK.define("hbs",[],function(){return{get:function(){return Handlebars},write:function(e,t,n){if(t+customNameExtension in buildMap){var i=buildMap[t+customNameExtension];n.asModule(e+"!"+t,i)}},version:"0.5.0",load:function(e,t,n,i){}}}),+function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(r)}).emulateTransitionEnd(300):n.$element.focus().trigger(r)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bs.modal",o=new t(this,a)),"string"==typeof n?o[n](i):a.show&&o.show(i)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this}}(window.oQuery),OlapicRequireSDK.define("bootstrapModal",function(){}),+function(e){
"use strict";function t(){e(i).remove(),e(r).each(function(t){var i=n(e(this));i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.olapicDropdown")),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.olapicDropdown"))})}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}var i=".olapic-dropdown-backdrop",r="[data-toggle=olapic-dropdown]",o=function(t){e(t).on("click.bs.olapicDropdown",this.toggle)};o.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var o=n(r),a=o.hasClass("open");if(t(),!a){if("ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="olapicDropdown-backdrop"/>').insertAfter(e(this)).on("click",t),o.trigger(i=e.Event("show.bs.olapicDropdown")),i.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.olapicDropdown"),r.focus()}return!1}},o.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var o=n(i),a=o.hasClass("open");if(!a||a&&27==t.keyCode)return 27==t.which&&o.find(r).focus(),i.click();var s=e("[role=menu] li:not(.divider):visible a",o);if(s.length){var c=s.index(s.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<s.length-1&&c++,~c||(c=0),s.eq(c).focus()}}}};var a=e.fn.olapicDropdown;e.fn.olapicDropdown=function(t){return this.each(function(){var n=e(this),i=n.data("olapicDropdown");i||n.data("olapicDropdown",i=new o(this)),"string"==typeof t&&i[t].call(n)})},e.fn.olapicDropdown.Constructor=o,e.fn.olapicDropdown.noConflict=function(){return e.fn.olapicDropdown=a,this},e(document).on("click.bs.olapicDropdown.data-api",t).on("click.bs.olapicDropdown.data-api",".olapicDropdown form",function(e){e.stopPropagation()}).on("click.bs.olapicDropdown.data-api",r,o.prototype.toggle).on("keydown.bs.olapicDropdown.data-api",r+", [role=menu]",o.prototype.keydown)}(window.oQuery),OlapicRequireSDK.define("bootstrapDropdown",function(){}),OlapicRequireSDK.define("template",["underscore","oQuery","hbs","toolLoaderHbs","bootstrapModal","bootstrapDropdown"],function(e,t){OlapicSDK.template=OlapicSDK.base.$extend({_type:"template",urls:[],loader:null,__init__:function(e){this.$super(e),this.isIE9=t.browser.msie&&"9.0"===t.browser.version,this.prefix=e.prefix||"",this.loader=new OlapicSDK.hbsLoader({prefix:this.prefix,apiCustomerKey:OlapicSDK.conf.get("apikey"),queue:[]}),this.context=document,this.lang=e.lang||"",this.addTpls(e.templates)},draw:function(n,i){var r="",o="",a="";if(i=e.isFunction(i)?i:function(){},n.data=void 0===n.data?{}:n.data,n.data=e.extend(n.data,{customer:OlapicSDK.conf.get("customer")}),e.isUndefined(n.set)){n.set={};for(r in this.loader.dones)n.set[this.loader.dones[r]]=r}else if(e.isArray(n.set)){var s={},c=0;for(c=n.set.length-1;c>=0;c--)for(r in this.loader.dones)this.loader.dones[r]===n.set[c]&&(s[this.loader.dones[r]]=!0,c=0);n.set=s}for(r in n.set)if(e.isUndefined(this.loader.templates[this.prefix+r]))OlapicSDK.debug.add(12,{message:"Template "+r+" is undefined"});else if("styles"===r&this.isIE9)a+=this.loader.templates[this.prefix+r](n.data);else try{o+=this.loader.templates[this.prefix+r](n.data)}catch(l){OlapicSDK.debug.add(12,{message:l.message},l)}if(n.oReturn===!0)return o;if(e.isUndefined(n.wrapperId)){if(e.isNull(this.context.getElementById("olapicTemplatesArea"))){var u=this.context.createElement("div");u.setAttribute("id","olapicTemplatesArea"),u.className="olapic",this.context.getElementsByTagName("body")[0].appendChild(u)}t("#olapicTemplatesArea").append(o).append(a)}else if(e.isNull(t("#"+n.wrapperId,this.context)))OlapicSDK.debug.add(13,{wrapperId:n.wrapperId});else try{"append"===n.writeMethod?(t("#"+n.wrapperId).append(o),this.isIE9&&""!==a&&t("head").append(a)):t("#"+n.wrapperId).html(o)}catch(l){OlapicSDK.debug.add(12,{message:l.message},l)}i()},addTpls:function(t){var n=0;for(n=t.length-1;n>=0;n--)("development"===OlapicSDK.conf.get("mode")||OlapicSDK.conf.get("forceDevMode"))&&(t[n].url=t[n].url.replace(OlapicSDK.conf.get("cdnStaticBaseUrl"),OlapicSDK.conf.get("sandboxBaseUrl")),t[n].url=t[n].url.replace(OlapicSDK.conf.get("localBaseUrl"),OlapicSDK.conf.get("sandboxBaseUrl"))),e.isEmpty(this.lang)||(t[n].url=OlapicSDK.network.addParameter(t[n].url,"lang",this.lang));this.urls=t},loadTemplates:function(){var e=this,n=null;return n=t.Deferred(function(t){0===e.urls.length&&t.resolve(null),e.loader.setQueue(e.urls),e.loader.load(function(e){t.resolve(e)})})}})}),OlapicRequireSDK.define("social",["underscore"],function(e){var t=function(){this.defaultPopData={name:"olapicSharePopup",size:"height=300, width=600"},this.knowProviders=["redirect","tw","fb","pi"],this.redirect=function(e){window.location.href=e},this.newWindow=function(e){window.open(e,this.defaultPopData.name,this.defaultPopData.size)},this.share=function(t){var n=this;return e.isObject(t)?-1===n.knowProviders.indexOf(t.destination)?!1:void(t.newWindow?n.newWindow(t.href):n.redirect(t.href)):!1},this.SocialProviderRedirect=function(e){return{destination:"redirect",href:e,newWindow:!1}},this.SocialProviderTwitter=function(e,t){return{destination:"tw",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(e)+"&url="+encodeURIComponent(t),newWindow:!0}},this.SocialProviderFacebook=function(e){return{destination:"fb",href:"http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e),newWindow:!0}},this.SocialProviderPinterest=function(e){return{destination:"pi",href:e,newWindow:!0}}};return t}),OlapicRequireSDK.define("addon",["tools","template","social"],function(){OlapicSDK.addon=OlapicSDK.base.$extend({_type:"Addon",devkitName:null,cssWrapperName:"olapic",ready:!1,rendered:!1,tpls:null,__include__:[OlapicSDK.FrontEngine,OlapicSDK.Tools],__init__:function(e){oQuery("#"+e.wrapperId).addClass(this.cssWrapperName),_Ounder.isUndefined(e.tpls)?this.tpls=new OlapicSDK.template({templates:e.templates,lang:e.lang,prefix:e.templatesPrefix||""}):this.tpls=e.tpls,this.initCallBacks(),this.createDevKit(),this.$super(e)},createDevKit:function(){},getDevKit:function(e){return OlapicSDK.devkitHandler.get(this.devkitName,e)},initCallBacks:function(){var e=this,t=window.OlapicCallback||{};_Ounder.each(t,function(e,n){_Ounder.isFunction(e)||(OlapicSDK.debug.add(3,{0:"function()",1:typeof e}),t[n]=function(){})}),e.callBacks=oQuery.extend(e.callBackList,t)},render:function(e){var t=this,n=2===arguments.length?arguments[1]:void 0;t.tpls.loadTemplates().then(function(){t.tpls.draw({data:t.data,set:n},function(){t.ready=!0,_Ounder.isFunction(e)&&e(t)})})}})}),OlapicRequireSDK.define("cssAgent",[],function(){var e={toPrefix:"olapic",apply:function(e,t){void 0===t&&(t=navigator.userAgent);var n=this.categorize(t);n+=" "+this.isMobileClass(t),n+=" "+this.isTabletClass(t),n+=" "+this.isiOS(t),e.addClass(n)},categorize:function(e){var t=e.toLowerCase();return/msie\s(\d+)/.test(t)||/trident\//.test(t)?this.toPrefix+"-ie "+this.toPrefix+"-ie"+RegExp.$1:/firefox\//.test(t)?this.toPrefix+"-firefox":/chrome\//.test(t)?this.toPrefix+"-chrome":/safari\//.test(t)?this.toPrefix+"-safari":""},isMobileClass:function(e){var t=new RegExp("Android|webOS|iPhone|iPod","i");return t.test(e)?this.toPrefix+"-mobile":""},isTabletClass:function(e){var t=new RegExp("ipad","i");return t.test(e)?this.toPrefix+"-tablet":""},isiOS:function(e){var t="",n=new RegExp("ipad|ipod|iphone","i");return n.test(e)&&(t=this.toPrefix+"-ios",/ version\/(\d+)/i.test(e)&&(t+=" "+this.toPrefix+"-ios-"+RegExp.$1)),t},prefix:function(e){return this.toPrefix=e,this}};return e}),function(){"use strict";function e(t,i){function r(e,t){return function(){return e.apply(t,arguments)}}var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,l=a.length;l>c;c++)s[a[c]]=r(s[a[c]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(e){o(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,r=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=i&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,a,s,c,l,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(l=e.changedTouches[0],u=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-a>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),i&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return i&&!r&&(c=u.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,r,o;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},e.attach=function(t,n){return new e(t,n)},"function"==typeof OlapicRequireSDK.define&&"object"==typeof OlapicRequireSDK.define.amd&&OlapicRequireSDK.define.amd?OlapicRequireSDK.define("FastClick",[],function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),OlapicRequireSDK.define("viewerClass",["oQuery","addon","async","underscore"],function(e,t,n,i){OlapicSDK.OlapicViewer=OlapicSDK.addon.$extend({_type:"OlapicViewer",currentOpenMedia:null,options:{widgetWrapperID:"",useOpi:!0},__init__:function(e){var t=OlapicSDK.conf.get("customer").get("views").viewer;i.isEmpty(OlapicSDK.conf.get("viewer-asset"))||(t=OlapicSDK.conf.get("viewer-asset")),e.templates=[{key:"templates-set",url:OlapicSDK.conf.get("ieProtocolfix")+t}],i.isFunction(e.callBack)||(e.callBack=function(){}),this.$super(e)},open:function(){},close:function(){},getData:function(e,t,r){var o,a=this,s={};o=new OlapicSDK.olapicInterface.media(e,function(c){return"deleted"===c.status?void r(new Error("Media ID "+e+" not found")):(a.currentOpenMedia=o,s=c,void n.parallel([function(e){s._embedded.uploader._fixed?(s.uploader=s._embedded.uploader,e.apply()):o.getUploader(function(t){s.uploader=t,e.apply()})},function(e){s.relatedProducts=[],o.getStreams(function(t){n.each(t,function(e,t){i.isNull(e._embedded.base_image)||(e.base_image=e._embedded.base_image),e.shop_button_url=OlapicSDK.track.generateUrl("SHOP_THIS_PRODUCT",{media_id:s.id,redirect_url:e.product_url||window.location.href},!0,!0),s.relatedProducts.push(e),t.apply()},function(){e.apply()})},function(){e.apply()})},function(e){s.navigation=a.getNavigation({widgetId:a.options.widgetWrapperID,mediaId:s.id}),e.apply()}],function(){a.data=s,t()}))},function(e){r(e)},a.getDevKit())},getNavigation:function(t){var n=null,i=null,r=e(t.widgetId+" .olapic-item:not(.hide_item)")||[];return r.length>0&&e(r).each(function(o){e(this).data("url").search(t.mediaId)>-1&&(n=0===o?r[r.length-1]:r[o-1],n=e(n).data("url"),i=o===r.length-1?r[0]:r[o+1],i=e(i).data("url"))}),{prev:n,next:i,havePrev:null!==n,haveNext:null!==i}},historyControl:function(t,n){var r=this,o=0,a=0,s=null;if(r.options.useOpi)if("open"===t){if(a=OlapicSDK.Tools.extractID(n),a&&(s=new RegExp("^#opi([0-9]+)$"),!s.exec(window.location.href))){if(i.isFunction(window.history.pushState))try{window.history.pushState(null,"","#opi"+a)}catch(c){window.location.hash="#!opi"+a}else window.location.hash="#!opi"+a;o=parseInt(e("body").data("historycount"),10)||0,o++,e("body").data("historycount",o)}}else"close"===t&&(i.isFunction(window.history.pushState)?(o=parseInt(e("body").data("historycount"),10)||0,o>0&&window.history.go(-1*o)):window.location.hash="#!op",e("body").data("historycount",0))},checkHash:function(){if(this.options.useOpi){var e=this,t=null,n=null;t=new RegExp("^#opi([0-9]+)$"),n=t.exec(window.location.hash),n&&e.open({media:parseInt(n[1],10)})}},validateEmail:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}})}),OlapicRequireSDK.define("productsRelated",["oQuery"],function(e){var t=function(t,n){this.elem=e(t),this.opts=e.extend({},n||{totalProducts:0,itemWidth:0,slideWidth:1,minItems:0,arrowsSelector:"",prevArrowSelector:"prev",nextArrowSelector:"next",wrapper:null}),this.index=0,this.pages=0,this.allowMove=!0,this.arrows=[],this.init=function(){var t=this;t.pages=Math.ceil(t.opts.itemWidth*t.opts.totalProducts/t.opts.slideWidth),t.elem.width(t.opts.itemWidth*t.opts.totalProducts).data("pages",t.pages).data("index",t.index),t.opts.wrapper.addClass("productsRelated-"+t.opts.totalProducts),t.opts.minItems>0&&(t.allowMove=t.opts.totalProducts>=t.opts.minItems),t.arrows=e(t.opts.arrowsSelector),t.arrows.off("click"),t.allowMove&&t.arrows.on("click",function(n){n.preventDefault();var i=e(this).hasClass(t.opts.prevArrowSelector)?"left":"right";t.move(i)})},this.move=function(e){"left"===e?this.index-=0===this.index?0:1:this.index+=this.index===this.pages-1?0:1,this.elem.data("index",this.index),this.elem.css({left:-1*(this.index*this.opts.slideWidth)+"px"})},this.init()};e.fn.relatedProductsCarousel=function(n){return this.each(function(){var i,r=e(this);r.data("relatedProductCarousel")||(i=new t(r,n),r.data("relatedProductCarousel",i))})}}),OlapicRequireSDK.define("videoPlayer",["oQuery","underscore"],function(e,t){var n=function(n){var i={tagId:"olapic_video_viewer",tagClass:"videoplayer",playControlTag:'<span class="viewer-video-controls" />',playControlSelector:".viewer-video-controls",soundControlTag:'<span class="sound-video"><i class="glyphicon glyphicon-volume-off"></i></span>',soundControlSelector:".sound-video",soundIconSelector:"i",videoCoverSelector:".vjs-poster",videojsOptions:{controls:!0,autoplay:!1,preload:"auto",poster:"",muted:!0},wrapper:null,data:{},varname:"olapicPlayer"};i=e.extend(i,n);var r=null,o=null,a=null,s=i.wrapper,c=navigator.userAgent.indexOf("Mozilla")>-1,l=navigator.appVersion.indexOf("Win")>-1,u=function(){OlapicRequireSDK.require(["videojs"],function(){p(),d()})},p=function(){var t="",n="100%",c="100%";"youtube"===i.data.source?(n=s.width(),c=s.height(),i.videojsOptions.techOrder=["youtube"],i.videojsOptions.src=i.data.video_url):(s.append(i.playControlTag),r=s.find(i.playControlSelector),r.click(function(e){e.preventDefault(),e.stopPropagation(),window[i.varname].paused()?(window[i.varname].play(),r.hide()):(window[i.varname].pause(),r.show())})),s.append(i.soundControlTag),o=s.find(i.soundControlSelector),a=s.find(i.soundIconSelector),t='<video id="'+i.tagId+'" class="'+i.tagClass+'" poster="'+i.data.images.normal+'" width="'+n+'" height="'+c+'" muted="muted" ',t+="youtube"===i.data.source?'data-setup=\'{ "techOrder": ["youtube"], "src": "'+i.data.video_url+"\" }'>":'><source src="'+i.data.video_url+'" type="video/mp4" />',t+="</video>",s.append(t),o.click(function(e){e.preventDefault(),e.stopPropagation(),a.toggleClass("glyphicon-volume-up"),window[i.varname].muted(!a.hasClass("glyphicon-volume-up"))}),e("#olapic-viewer .type-video").remove()},d=function(){window[i.varname]=videojs(i.tagId,i.videojsOptions,function(){s.find(i.videoCoverSelector).remove()}),!l&&c&&window[i.varname].muted(!0),window[i.varname].on("play",function(){"youtube"!==i.data.source&&r.hide()}),window[i.varname].on("pause",function(){"youtube"!==i.data.source&&r.show()}),window[i.varname].on("ended",function(){c?window[i.varname].posterImage.show():(window[i.varname].currentTime(0),window[i.varname].pause())})},f=function(){if(!t.isUndefined(window[i.varname]))try{window[i.varname].dispose()}catch(e){}};return u(),{remove:f}};return n}),OlapicRequireSDK.define("viewer2v1",["oQuery","viewerClass","productsRelated","social","cssAgent","underscore","videoPlayer"],function(e,t,n,i,r,o,a){OlapicSDK.viewer2v1=OlapicSDK.OlapicViewer.$extend({elements:{},carouselSettings:null,video:null,supportPlaceHolders:!1,callBackList:{olapicViewer2AfterRender:function(){},olapicViewer2AfterShow:function(){},olapicViewer2AfterClose:function(){}},__init__:function(e){var t=this,n=o.isFunction(arguments[1])?arguments[1]:function(){};t.options=o.extend(o.clone(this.options),e),t.social=new i,t.$super({callBack:function(){t.render(function(){t.initCallBacks(),t.callBacks.olapicViewer2AfterRender(t),n(t)},{styles:!0,callbacks_viewer:!0,overlay:!0})},lang:t.options.lang})},afterRender:function(){this.fillElements(),this.elements.wrapper.css({top:"20px"}),this.options.widgetWrapperID&&this.elements.wrapper.addClass("from_widget_"+this.options.widgetWrapperID.replace("#","")),this.elements.productsList.length&&this.addProducRelated(),r.apply(this.elements.wrapper,navigator.userAgent),this.fixPlaceHolders(),this.addEvents(),"video"===this.data.type&&this.createVideoPlayer()},fillElements:function(){this.elements.viewerOverlay=e("#olapic_viewer_overlay"),this.elements.wrapper=e("#viewer-wrapper"),this.elements.image=e("#main-image"),this.elements.viewerContainer=this.elements.wrapper.find(".viewer-container"),this.elements.mediaContainer=this.elements.wrapper.find(".featured-photo"),this.elements.productsList=this.elements.wrapper.find(".products-list"),this.elements.productsSliderWrapper=this.elements.wrapper.find(".products"),this.elements.socialLinks=this.elements.wrapper.find(".sharing ul li a"),this.elements.unLinkedSources=this.elements.wrapper.find(".user_source_harddrive, .user_source_facebook"),this.elements.arrowNext=e('a[id="viewer-next"]'),this.elements.arrowPrev=e('a[id="viewer-prev"]'),this.elements.closeBtn=this.elements.viewerOverlay.find(".viewer-close"),this.elements.reportMediaBtn=this.elements.viewerOverlay.find(".report-photo"),this.elements.reportMediaDialog=e("#olapic-viewer-dialogreport"),this.elements.reportMediaDialogClose=this.elements.reportMediaDialog.find(".close"),this.elements.reportMediaForm=e("#olapic-report-form"),this.elements.reportMediaFields={email:this.elements.reportMediaDialog.find('input[name="email"]'),reason:this.elements.reportMediaDialog.find('input[name="reason"]')},this.elements.emailValidationNode=e("#reportInvalidEmail"),this.elements.reportMediaReportText=e("#reportText"),this.elements.reportMediaReportTextOK=e("#reportOK"),this.elements.reportMediaReportTextFail=e("#reportFail")},fixPlaceHolders:function(){this.supportPlaceHolders=!(this.elements.wrapper.hasClass("olapic-ie9")||this.elements.wrapper.hasClass("olapic-ie8")),this.supportPlaceHolders||this.elements.wrapper.find("input[placeholder]").focus(function(){var t=e(this);t.val()===t.attr("placeholder")&&(t.val(""),t.removeClass("placeholder"))}).blur(function(){var t=e(this);(""===t.val()||t.val()===t.attr("placeholder"))&&(t.addClass("placeholder"),t.val(t.attr("placeholder")))}).blur()},checkEmptyField:function(t){var n="",i=t.val();return(this.supportPlaceHolders||!this.supportPlaceHolders&&e.trim(i)!==t.attr("placeholder"))&&(n=i),0===e.trim(n).length},addEvents:function(){var t=this;t.elements.closeBtn.on("click",function(e){e.stopPropagation(),t.close()}),t.elements.viewerOverlay.off("click"),t.elements.viewerOverlay.on("click",function(e){e.stopPropagation(),t.close()}),t.elements.arrowPrev.on("click",function(e){e.preventDefault(),e.stopPropagation(),t.move("prev")}),t.elements.arrowNext.on("click",function(e){e.preventDefault(),e.stopPropagation(),t.move("next")}),t.elements.reportMediaDialog.on("click",function(e){e.stopPropagation()}),t.elements.viewerContainer.on("click",function(e){e.stopPropagation()}),t.elements.unLinkedSources.on("click",function(e){e.stopPropagation()}),t.elements.reportMediaBtn.on("click",function(e){e.preventDefault(),t.showReportForm()}),t.elements.reportMediaDialogClose.on("click",function(e){e.preventDefault(),t.hideReportForm()}),e(t.elements.reportMediaForm).submit(function(e){e.preventDefault(),t.submitMediaReport()}),t.addSocialClick(),e(document).off("keydown.olapicviewer"),e(document).bind("keydown.olapicviewer",function(e){return 27===e.keyCode&&t.close(),37===e.keyCode&&t.move("prev"),39===e.keyCode&&t.move("next"),!0})},open:function(e){var t=this;t.getData(e.media,function(){t.ready&&(t.data.lang=t.options.lang,t.tpls.draw({data:t.data,set:{show_media:!0},wrapperId:"olapic_viewer_overlay"},function(){t.afterRender(),t.historyControl("open",t.data._links.self.href),t.elements.viewerOverlay.show(),t.callBacks.olapicViewer2AfterShow(t),OlapicSDK.track.hit("MEDIA/VIEW",{media_id:t.data.id})}))},function(e){OlapicSDK.debug.add(0,{message:e},e)})},close:function(){var e=this;e.historyControl("close"),e.removeVideoPlayer(),e.elements.viewerOverlay.hide(),e.callBacks.olapicViewer2AfterClose(e),OlapicSDK.track.hit("MEDIA/CLOSE",{media_id:e.data.id})},move:function(t){var n=this,i="";i="next"===t?e(n.elements.arrowNext).data("href")||e(n.elements.arrowNext).attr("href"):e(n.elements.arrowPrev).data("href")||e(n.elements.arrowPrev).attr("href"),""!==i&&(n.removeVideoPlayer(),OlapicSDK.track.hit("MEDIA/MOVE",{media_id:n.data.id}),n.open({media:i}))},createVideoPlayer:function(){this.elements.image.remove(),this.video=new a({data:this.data,wrapper:this.elements.mediaContainer,varname:"olapicPlayer",videojsOptions:{controls:!0,autoplay:!1,preload:"auto",poster:this.data.images.normal,muted:!0,children:{controlBar:!1}}})},removeVideoPlayer:function(){o.isNull(this.video)||this.video.remove()},addProducRelated:function(){var t=this,n=e("li:first",t.elements.productsList).outerWidth(!0);t.carouselSettings={totalProducts:e("li",t.elements.productsList).length,itemWidth:n,slideWidth:e(t.elements.productsList).data("slide-width")||n,minItems:parseInt(e(t.elements.productsList).data("min-items"))||0,arrowsSelector:"#olapic_viewer_overlay a.products-previous, #olapic_viewer_overlay a.products-next",prevArrowSelector:"products-previous",nextArrowSelector:"products-next",wrapper:t.elements.productsSliderWrapper},t.elements.productsList.relatedProductsCarousel(t.carouselSettings)},showReportForm:function(){var e=this;e.elements.reportMediaDialog.show().animate({opacity:1,marginLeft:(e.elements.viewerContainer.outerWidth(!0)-365)/2},{duration:250})},hideReportForm:function(){this.elements.reportMediaDialog.hide()},submitMediaReport:function(){var t=this;o.isNull(t.currentOpenMedia)||(t.elements.reportMediaFields.email.blur(),t.elements.reportMediaFields.reason.blur(),t.checkEmptyField(t.elements.reportMediaFields.email)||!t.validateEmail(t.elements.reportMediaFields.email.val())?t.elements.emailValidationNode.length?t.elements.emailValidationNode.show():window.alert("Invalid email address"):(t.elements.emailValidationNode.hide(),t.elements.reportMediaReportText.addClass("reportPhotoTextHide"),t.elements.reportMediaForm.addClass("formSent"),t.currentOpenMedia.postReport({href:e(this).attr("action"),method:t.data._forms.report.method,form:{email:t.elements.reportMediaFields.email.val(),reason:t.elements.reportMediaFields.reason.val()}},function(){t.elements.reportMediaReportTextOK.removeClass("reportPhotoTextHide")},function(e){t.elements.reportMediaReportTextFail.removeClass("reportPhotoTextHide"),OlapicSDK.debug.add(11,{status:e.status,statusText:e.statusText,url:e._url})})))},addSocialClick:function(){var t=this;t.elements.socialLinks.on("click",function(n){n.preventDefault();var i=null,r=e(this);r.hasClass("sharing-fb")?(i=new t.social.SocialProviderFacebook(r.attr("href")),t.social.share(i)):r.hasClass("sharing-tw")?(i=new t.social.SocialProviderTwitter(r.attr("title"),r.attr("href")),t.social.share(i)):r.hasClass("sharing-pi")&&(i=new t.social.SocialProviderPinterest(r.attr("href")),t.social.share(i))})}})}),OlapicRequireSDK.define("viewer2v2",["oQuery","viewer2v1"],function(){OlapicSDK.viewer2v2=OlapicSDK.viewer2v1.$extend({elements:{},__init__:function(e,t){this.$super(e,t)},fillElements:function(){this.$super(),this.elements.reportMediaWrapper=this.elements.wrapper.find(".olapic-report-wrapper"),this.elements.reportMediaForm=this.elements.wrapper.find("#olapic-report-form"),this.elements.reportMediaCancel=this.elements.wrapper.find(".cancel-report"),this.elements.reportMediaClose=this.elements.wrapper.find(".close-report"),this.elements.productsListWrapper=this.elements.wrapper.find(".products-wrapper"),this.elements.productsListArrows=this.elements.wrapper.find(".products-previous, .products-next"),this.elements.productsListArrowPrev=this.elements.wrapper.find(".products-previous"),this.elements.productsListArrowNext=this.elements.wrapper.find(".products-next"),this.elements.mediaCaption=this.elements.wrapper.find(".photo-caption"),this.elements.reportMediaFields={email:this.elements.wrapper.find('input[name="email"]'),reason:this.elements.wrapper.find('input[name="reason"]')}},addEvents:function(){var e=this;e.$super(),e.elements.reportMediaBtn.on("click",function(t){t.preventDefault(),e.elements.reportMediaWrapper.addClass("open")}),e.elements.reportMediaCancel.on("click",function(){e.elements.reportMediaWrapper.removeClass("open")}),e.elements.reportMediaClose.on("click",function(){e.elements.reportMediaWrapper.removeClass("open"),e.elements.reportMediaForm.hide()})},addProducRelated:function(){var e=this,t=0;e.$super(),t=e.carouselSettings.itemWidth*e.carouselSettings.totalProducts,t>e.elements.productsListWrapper.width()&&(e.elements.productsListArrowPrev.hide(),e.elements.productsListArrows.on("click",function(){$(this).hasClass("products-next")&&e.elements.productsListArrowPrev.is(":hidden")&&e.elements.productsListArrowPrev.show(),0===e.elements.productsList.data("index")&&e.elements.productsListArrowPrev.hide(),e.elements.productsList.data("index")+1>=e.elements.productsList.data("pages")?e.elements.productsListArrowNext.hide():e.elements.productsListArrowNext.show();
}))},afterRender:function(){var e={charLimit:100,useWords:!1,lastWordLimit:20},t="";this.$super(),this.elements.mediaCaption.hasClass("ola-with-ellipsis")&&(t=parseInt(this.elements.mediaCaption.data("char-limit"),10),e.charLimit=t||e.amount,e.useWords=this.elements.mediaCaption.data("use-words")===!0,t=parseInt(this.elements.mediaCaption.data("last-word-length"),10),e.lastWordLimit=t||e.lastWordLimit,this.addElipsis(this.elements.mediaCaption,e))},addElipsis:function(e,t){var n=e.text(),i=n.length,r=t.charLimit+t.lastWordLimit;if(i>t.charLimit)if(t.useWords){for(var o=t.charLimit;r>=o;o++)" "===n.charAt(o)&&(n=n.slice(0,o),n+="...");e.text(n)}else n=n.slice(0,t.charLimit),n+="...",e.text(n)}})}),OlapicRequireSDK.define("viewerDispatcher",["base","viewer2v1","viewer2v2"],function(){OlapicSDK.Viewer=function(e,t){var n=OlapicSDK.conf.get("viewer-version")||OlapicSDK.conf.get("customer").settings.customer_dependant.viewer;return _Ounder.isUndefined(OlapicSDK[n])&&(n="viewer2v1"),new OlapicSDK[n](e,t)}}),OlapicRequireSDK.define("uploaderClass",["addon"],function(){OlapicSDK.OlapicUploader=OlapicSDK.addon.$extend({_type:"OlapicUploader",__init__:function(e){var t=OlapicSDK.conf.get("customer").get("views").uploader;_Ounder.isEmpty(OlapicSDK.conf.get("uploader-asset"))||(t=OlapicSDK.conf.get("uploader-asset")),e.templates=[{key:"templates-set",url:OlapicSDK.conf.get("ieProtocolfix")+t}],_Ounder.isFunction(e.callBack)||(e.callBack=function(){}),this.$super(e)},open:function(){},close:function(){},getUploaderUrl:function(){}})}),OlapicRequireSDK.define("uploader1v1",["uploaderClass","cssAgent"],function(e,t){OlapicSDK.uploader1v1=OlapicSDK.OlapicUploader.$extend({data:{uploadUrl:"",modalId:""},elements:{iframe:null,iframeWrapper:null,iframeHTML:""},appendIframeTag:!1,callBackList:{olapicUploaderAfterRender:function(){},olapicUploaderBeforeOpen:function(){},olapicUploaderAfterClose:function(){}},__init__:function(e){var t=this;t.options=e,t.data.modalId=this.createModalId(e.widget_id),t.$super(e)},open:function(){var e=this,t=oQuery("#"+e.data.modalId);e.ready===!1?e.render(function(){e.open()}):t.hasClass("in")===!1&&(OlapicSDK.track.hit("WIDGET/UPLOAD_CLICK"),e.callBacks.olapicUploaderBeforeOpen(e),t.modal("show"))},close:function(){oQuery("#"+this.data.modalId).modal("hide")},render:function(e){var n=this;n.data.uploadUrl=n.getUploaderUrl(),n.$super(function(){n.initCallBacks(),n.callBacks.olapicUploaderAfterRender(n);var i=oQuery("#"+n.data.modalId);i.on("hidden.bs.modal",function(){n.elements.iframe.remove(),n.callBacks.olapicUploaderAfterClose(n)}),i.on("show.bs.modal",function(){n.appendIframeTag?n.elements.iframeWrapper.html(n.elements.iframeHTML):n.appendIframeTag=!0}),t.apply(i,navigator.userAgent),n.fillElements(),e()},{modal:!0,callbacks_uploader:!0})},fillElements:function(){this.elements.iframe=oQuery(oQuery("#"+this.data.modalId+" iframe")[0]),this.elements.iframeHTML=oQuery("#"+this.data.modalId+" iframe")[0].outerHTML,this.elements.iframeWrapper=oQuery("#"+this.data.modalId+" .modal-body")},getUploaderUrl:function(){var e=this,t=["lang="+e.options.lang],n="live"!==OlapicSDK.conf.get("mode")?OlapicSDK.conf.get("sandboxBaseUrlSecure"):OlapicSDK.conf.get("photorankBaseUrl");return n+="uploader/"+OlapicSDK.conf.get("customer").get("template_dir"),_Ounder.isUndefined(e.options.photoList.id)||_Ounder.isUndefined(e.options.photoList._analytics)||"gallery"!==e.options.photoList._analytics.t||t.push("gallery="+e.options.photoList.id),_Ounder.isEmpty(OlapicSDK.conf.get("uploader-version"))?t.push("context="+e.options.context):t.push("context="+OlapicSDK.conf.get("uploader-version")),n+"?"+t.join("&")},createModalId:function(e){var t="olapicUploaderV1wID"+e;return t.replace("#","")}})}),OlapicRequireSDK.define("uploaderv3",["uploaderClass","cssAgent","uploader1v1"],function(e,t){OlapicSDK.uploaderv3=OlapicSDK.uploader1v1.$extend({__init__:function(e){e.templatesPrefix=e.wrapper_id,this.$super(e)},render:function(e){var n=this;n.data.uploadUrl=n.getUploaderUrl(),n.tpls.draw({data:n.data,set:{uploaderv3_modal:!0,uploaderv3_modal_callbacks:!0}},function(){n.initCallBacks(),n.callBacks.olapicUploaderAfterRender(n);var i=oQuery("#"+n.data.modalId);i.on("hidden.bs.modal",function(){n.elements.iframe.remove(),n.callBacks.olapicUploaderAfterClose(n)}),i.on("show.bs.modal",function(){n.appendIframeTag?n.elements.iframeWrapper.html(n.elements.iframeHTML):n.appendIframeTag=!0}),t.apply(i,navigator.userAgent),n.fillElements(),n.ready=!0,e()})},getUploaderUrl:function(){var e=this,t="",n="development"===OlapicSDK.conf.get("mode")?"sandbox/":"",i="",r=e.options.lang?"/lang/"+e.options.lang:"",o=OlapicSDK.conf.get("apikey")+"/"+e.options.instance.uploader_id,a=e.options.instance.enable_tagging?"/tagging/1":"";return t=OlapicSDK.conf.get("ihosyBranch")?OlapicSDK.conf.get("cdnUploaderV3Staging")+OlapicSDK.conf.get("ihosyBranch")+"/":OlapicSDK.conf.get("cdnUploaderV3"),_Ounder.isUndefined(e.options.photoList.id)||_Ounder.isUndefined(e.options.photoList._analytics)||"gallery"!==e.options.photoList._analytics.t||(i="/stream/"+e.options.photoList.id),t+n+"index.html#/"+o+i+r+a}})}),OlapicRequireSDK.define("uploaderDispatcher",["base","uploader1v1","uploaderv3"],function(){OlapicSDK.Uploader=function(e){var t=OlapicSDK.conf.get("customer").settings.customer_dependant.uploader;return e.instance.uploader_id?t="uploaderv3":_Ounder.isUndefined(OlapicSDK[t])&&(t="uploader1v1"),new OlapicSDK[t](e)}}),OlapicRequireSDK.define("widgetClass",["addon","underscore","cssAgent","FastClick","oQuery","viewerDispatcher","uploaderDispatcher"],function(e,t,n,i,r){OlapicSDK.OlapicWidget=OlapicSDK.addon.$extend({_type:"OlapicWidget",uploader:null,viewer:null,mediaList:null,trackWidgetAsGallery:!1,widgetInstanceHash:null,__init__:function(e){e.templates[0].url=OlapicSDK.conf.get("ieProtocolfix")+e.templates[0].url,e.callBack=_Ounder.isFunction(e.callBack)?e.callBack:function(){},this.lang=this.options.lang,this.instance=this.options.instance.settings,this.options=e.config,this.wrapperId=e.wrapperId,this.useOpi=e.useOpi,delete e.config,this.widgetInstanceHash=e.widget_instance,_Ounder.isEmpty(e.widget_instance)||OlapicSDK.track.setWidgetEnabled(e.widget_instance),OlapicSDK.track.setWidgetData(e.widget_instance,"gallery",this.trackWidgetAsGallery),this.$super(e)},finishRender:function(){var e=r("#"+this.wrapperId);e.addClass("olapic-widget-rendered"),n.apply(e,navigator.userAgent),i.attach(e[0]),this.trackRender(),this.initCallBacks()},trackRender:function(){OlapicSDK.track.setWidgetEnabled(this.widgetInstanceHash),OlapicSDK.track.hit("WIDGET/RENDER")}})}),OlapicRequireSDK.define("widgetsTypeButton",["widgetClass"],function(){OlapicSDK.Buttonv2Widget=OlapicSDK.OlapicWidget.$extend({_type:"Widget_Button",tpl:null,callBackList:{olapicButtonAfterRender:function(){}},__init__:function(e){var t=this;t.options=e,t.$super({config:e.config,wrapperId:e.wrapperId,templates:e.config.templates,callBack:function(){void 0!==e.callBack&&e.callBack(t)},lang:t.options.lang,tpls:e.tpls,widget_instance:t.options.widgetHash||null},e.photos)},render:function(e){e()},fill:function(e){var t=this;t.tpls.draw({data:t.options,wrapperId:t.wrapperId,writeMethod:"append",set:{styles:!0,link:!0}},function(){t.addEvents(),t.rendered=!0,t.callBacks.olapicButtonAfterRender(t),t.photoListEntityData=e.photoListEntityData,t.options.photoList=[],t.mediaList=e.photoList,t.options.photoListID=e.photoList.endpoint||"",t.finishRender()})},finishRender:function(){this.$super(),this.uploader=new OlapicSDK.Uploader({widget_id:this.options.id,wrapper_id:this.wrapperId,context:"",photoList:{},googleCategory:"OlapicSlideWidget",_analytics:this.options._analytics,lang:this.lang,instance:this.instance}),this.uploader.options.photoList=this.photoListEntityData},addEvents:function(){var e=this;oQuery("#"+e.wrapperId+" .olapic_upload_button").on("click",function(t){t.preventDefault(),e.uploader.open(this)})},afterRender:function(){}})}),OlapicRequireSDK.define("carouselv1",["oQuery"],function(e){var t=function(t,n){this.elem=e(t),this.items=e(this.elem).find("li"),this.animating=!1,this.timer=null,this.cssToUpdate="",this.opts=e.extend({infinite:!0,slideMode:1,autoPlay:0,interval:1e3,jsAnimation:0,duration:300,slideBy:1,slideByItemCount:1,slideRows:1,sliderWrapper:null,paginationWrapper:null,callbacks:{beforePagination:function(){},prevToggle:function(){},nextToggle:function(){}},events:{finishMovement:function(){}},sliderWidth:0},n||{}),this.pagination={sliderWidth:0,pageWidth:0,pages:0,pageIndex:0,eachIndex:0,byPageLi:[]},this.sanitizeOptions=function(){var e=0;this.opts.slideMode="2"===this.opts.slideMode||"1"===this.opts.slideMode?parseInt(this.opts.slideMode,10):1,this.opts.autoPlay="0"===this.opts.autoPlay||"1"===this.opts.autoPlay?parseInt(this.opts.autoPlay,10):0,e=parseInt(this.opts.interval,10),this.opts.interval=e>0?e:1e3,e=parseInt(this.opts.duration,10),this.opts.duration=e>0?e:300,e=parseInt(this.opts.slideBy,10),this.opts.slideBy=1===e||2===e?e:1,this.opts.jsAnimation="1"===this.opts.jsAnimation,this.cssToUpdate=1===this.opts.slideMode?"left":"top"},this.createCarousel=function(){var t=this,n=0,i={};t.elem.data("totalwidth",96e3),2===this.opts.slideBy?(t.opts.sliderWidth=t.elem.width(),this.paginateSlider(),e(window).resize(function(){t.resizeControl()})):t.opts.infinite===!0&&this.items.length>1&&(n=1===t.opts.slideMode?this.elem.position().left+e(t.items.last()).outerWidth(!0):this.elem.position().top+e(t.items.last()).outerHeight(!0),e(t.items.get(0)).before(t.items.last()),i[t.cssToUpdate]="-"+n+"px",t.elem.css(i))},this.moveNextEach=function(){var t=this,n=0,i={},r=0,o=0,a=!1;if(!(t.animating||t.elem.parent().width()>t.elem.data("totalwidth")))if(n=1===t.opts.slideMode?t.elem.position().left:t.elem.position().top,t.animating=!0,t.opts.infinite===!0&&this.items.length>1)n-=1===t.opts.slideMode?e(e("li",t.elem).get(1)).outerWidth(!0):e(e("li",t.elem).get(1)).outerHeight(!0),i[t.cssToUpdate]=n+"px",t.opts.callbacks.nextToggle(),t.animate({css:i,duration:t.opts.duration,completeFunction:function(){e("li:last",t.elem).after(e("li:first",t.elem)),1===t.opts.slideMode?i[t.cssToUpdate]=t.elem.position().left+e(t.items.last()).outerWidth(!0):i[t.cssToUpdate]=t.elem.position().top+e(t.items.last()).outerHeight(!0),t.elem.css(i),t.animating=!1,t.opts.events.finishMovement()}});else if(t.pagination.eachIndex<t.items.length-1){for(r=t.pagination.eachIndex;r<t.items.length;r++)o+=1===t.opts.slideMode?e(t.items.get(r)).outerWidth(!0):e(t.items.get(r)).outerHeight(!0);a=1===t.opts.slideMode?o>=t.elem.parent().width():o>=t.elem.parent().height(),a?(n-=1===t.opts.slideMode?e(t.items.get(t.pagination.eachIndex)).outerWidth(!0)*t.opts.slideByItemCount:e(t.items.get(t.pagination.eachIndex)).outerHeight(!0)*t.opts.slideByItemCount,i[t.cssToUpdate]=n+"px",t.opts.callbacks.nextToggle(),t.animate({css:i,duration:t.opts.duration,completeFunction:function(){t.animating=!1,t.pagination.eachIndex=t.pagination.eachIndex+t.opts.slideRows,t.opts.events.finishMovement()}})):t.animating=!1}else t.animating=!1},this.movePrevEach=function(){var t=this,n=0,i={};t.animating||t.elem.parent().width()>t.elem.data("totalwidth")||(n=1===t.opts.slideMode?t.elem.position().left:t.elem.position().top,t.animating=!0,t.opts.infinite===!0&&this.items.length>1?(n+=1===t.opts.slideMode?e(e("li",t.elem).get(1)).outerWidth(!0):e(e("li",t.elem).get(1)).outerHeight(!0),i[t.cssToUpdate]=n+"px",t.opts.callbacks.prevToggle(),t.animate({css:i,duration:t.opts.duration,completeFunction:function(){e("li:first",t.elem).before(e("li:last",t.elem)),1===t.opts.slideMode?i[t.cssToUpdate]=t.elem.position().left-e(t.items.first()).outerWidth(!0):i[t.cssToUpdate]=t.elem.position().top-e(t.items.first()).outerHeight(!0),t.elem.css(i),t.animating=!1,t.opts.events.finishMovement()}})):t.pagination.eachIndex>0?(n=1===t.opts.slideMode?e(t.items.get(t.pagination.eachIndex)).outerWidth(!0)*t.opts.slideByItemCount:e(t.items.get(t.pagination.eachIndex)).outerHeight(!0)*t.opts.slideByItemCount,n=parseInt(t.elem.css(t.cssToUpdate))+n,i[t.cssToUpdate]=n+"px",t.opts.callbacks.prevToggle(),t.animate({css:i,duration:t.opts.duration,completeFunction:function(){t.animating=!1,t.pagination.eachIndex-=t.opts.slideByItemCount,t.opts.events.finishMovement()}})):t.animating=!1)},this.moveNextPage=function(){this.pagination.pageIndex<this.pagination.pages-1&&(this.pagination.pageIndex++,this.moveToPage(this.pagination.pageIndex))},this.movePrevPage=function(){this.pagination.pageIndex>0&&(this.pagination.pageIndex--,this.moveToPage(this.pagination.pageIndex))},this.moveToPage=function(t){var n=this,i={},r=0;t>=0&&t<=n.pagination.pages&&(r=t*n.pagination.pageWidth,i[n.cssToUpdate]=-1*r+"px",n.opts.callbacks.nextToggle(),n.animate({css:i,duration:n.opts.duration,completeFunction:function(){n.animating=!1,n.pagination.byPageLi.each(function(){e(this).removeClass("active")}),e(n.pagination.byPageLi.get(t)).addClass("active"),n.opts.events.finishMovement()}}))},this.doMoveNext=function(e){e=e===!1?!1:!0,e&&this.stopAutoPlay(),1===this.opts.slideBy?this.moveNextEach():this.moveNextPage()},this.doMovePrev=function(e){e=e===!1?!1:!0,e&&this.stopAutoPlay(),1===this.opts.slideBy?this.movePrevEach():this.movePrevPage()},this.startAutoPlay=function(){var e=this;1===e.opts.autoPlay&&e.opts.infinite&&(clearInterval(e.timer),e.timer=setInterval(function(){e.doMoveNext(!1)},e.opts.interval))},this.stopAutoPlay=function(){clearInterval(this.timer)},this.animate=function(t){var n=this;t.completeFunction="function"==typeof t.completeFunction?t.completeFunction:function(){},this.opts.jsAnimation?this.elem.animate(t.css,{queue:!0,duration:t.duration,complete:t.completeFunction}):(this.elem.addClass("olapic-carousel-list-animation").css(t.css),e.browser.msie&e.browser.version<=9?(n.elem.removeClass("olapic-carousel-list-animation"),t.completeFunction()):e(this.elem).on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){e(n.elem).off("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"),n.elem.removeClass("olapic-carousel-list-animation"),t.completeFunction()}))},this.resizeControl=function(){this.opts.sliderWidth!==this.elem.width()&&(this.opts.sliderWidth=this.elem.width(),this.paginateSlider())},this.paginateSlider=function(){var t=this,n=0;for(t.opts.callbacks.beforePagination(),t.pagination.sliderWidth=this.calculateSlideWidth(),t.pagination.pageWidth=1===this.opts.slideMode?this.opts.sliderWrapper.width():this.opts.sliderWrapper.height(),t.pagination.pages=Math.ceil(t.pagination.sliderWidth/t.pagination.pageWidth),t.pagination.pageIndex=0,this.opts.paginationWrapper.html(""),n=0;t.pagination.pages>n;n++)this.opts.paginationWrapper.append(e("<li />").html('<a href="#" rel="'+n+'"></a>'));t.pagination.byPageLi=e("li",this.opts.paginationWrapper),t.pagination.byPageLi.first().addClass("active"),e("a",this.opts.paginationWrapper).click(function(n){n.preventDefault(),t.pagination.pageIndex=+e(this).attr("rel"),t.moveToPage(e(this).attr("rel"))})},this.calculateSlideWidth=function(){var t=this,n=0,i=!0;return e.each(t.opts.sliderWrapper.find("li"),function(){i=e(this).data("includeInPagination"),(_Ounder.isUndefined(i)||i===!0)&&(n+=1===t.opts.slideMode?e(this).outerWidth(!0):e(this).outerHeight(!0))}),n},this.init=function(){var e=this;"hidden"===this.opts.sliderWrapper.css("overflow")?(this.sanitizeOptions(),this.createCarousel(),this.startAutoPlay()):setTimeout(function(){e.init()},200)},this.init()};e.fn.createCarousel=function(n){return this.each(function(){var i,r=e(this);r.data("olapicCarousel")||(i=new t(r,n),e(r).data("olapicCarousel",i))})}}),OlapicRequireSDK.define("visibility",["underscore"],function(e){var t={VISIBLE_PADDING:2,check:function(t){for(var n=[],i=0;i<e.size(t);i++)n[i]=this.visibility(t[i]);return n},visibility:function(e){return this.isInvalid(e)?!1:this.elementVisible(e)&&this.inViewport(e,{method:"inside"})&&this.isVisible(e)?!0:!1},inViewport:function(e,t){e=e.jquery?e:oQuery(e),t={method:t.method?t.method:"inside"};var n=oQuery(window),i=n.scrollTop(),r=n.scrollLeft(),o=i+n.height(),a=r+n.width(),s=e.offset(),c=s.top,l=s.left,u=s.top+e.outerHeight(),p=s.left+e.outerWidth(),d=!1;switch(t.method){default:case"inside":var f=a>p&&l>r,h=c>i&&o>u;d=h&&f;break;case"bounds":var g=c>i||u>c,m=l>r||a>p;d=g&&m}return d},isInvalid:function(t){return e.isUndefined(t)||e.isNull(t)||e.isString(t)||e.isNumber(t)},getStyle:function(e,t){return window.getComputedStyle?document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:void 0},elementInDocument:function(e){for(;e=e.parentNode;)if(e===document)return!0;return!1},elementVisible:function(e){return e=e.jquery?e.get(0):e,"0"===this.getStyle(e,"opacity")||"none"===this.getStyle(e,"display")||"hidden"===this.getStyle(e,"visibility")?!1:!0},isVisible:function(t,n,i,r,o,a,s){t=t.jquery?t.get(0):t;var c=t.parentNode;return this.elementInDocument(t)?9===c.nodeType?!0:"0"===this.getStyle(t,"opacity")||"none"===this.getStyle(t,"display")||"hidden"===this.getStyle(t,"visibility")?!1:(e.indexOf([typeof n,typeof i,typeof r,typeof o,typeof a,typeof s],"undefined")>=0&&(n=t.offsetTop,o=t.offsetLeft,r=n+t.offsetHeight,i=o+t.offsetWidth,a=t.offsetWidth,s=t.offsetHeight),c?"hidden"!==this.getStyle(c,"overflow")&&"scroll"!==this.getStyle(c,"overflow")||!(o+this.VISIBLE_PADDING>c.offsetWidth+c.scrollLeft||o+a-this.VISIBLE_PADDING<c.scrollLeft||n+this.VISIBLE_PADDING>c.offsetHeight+c.scrollTop||n+s-this.VISIBLE_PADDING<c.scrollTop)?(t.offsetParent===c&&"static"!==this.getStyle(c.parentNode,"position")&&(o+=c.offsetLeft,n+=c.offsetTop),this.isVisible(c,n,i,r,o,a,s)):!1:!0):!1}};return t}),OlapicRequireSDK.define("view.tracking",["underscore","visibility"],function(e,t){var n={widgets:{},init:function(e,t,n,i){this.widgets[e]={photos:this._createVisibilityMatrix(t),extract:n?n:function(){},callback:i?i:function(){}}},track:function(t,n){if(0!==e.size(n)){var i=this.widgets[t],r=[];if(!e.isUndefined(i)){var o=this._checkPhotoVisibility(i,n);if(-1!==e.indexOf(o,!0)){var a=e.zip(n,o);e.each(a,function(e){var t=e[0],n=e[1],o=i.extract(oQuery(t));n&&o&&(i.photos[o]||(i.photos[o]=!0,r.push(o)))}),e.isEmpty(r)||i.callback(r)}}}},_checkPhotoVisibility:function(e,n){var i=[];return oQuery.each(n,function(n,r){r=oQuery(r),e.photos[e.extract(r)]?i.push(!0):i.push(t.check(r)[0])}),i},_createVisibilityMatrix:function(t){var n={};return e.each(t,function(e){n[e.id]=!1}),n}};return n}),OlapicRequireSDK.define("widgetsTypeSliderv3",["widgetClass","carouselv1","oQuery","view.tracking"],function(e,t,n,i){OlapicSDK.Olapic_slidev3Widget=OlapicSDK.OlapicWidget.$extend({_type:"Widget_Slidev3",tpl:null,elements:{wrapper:null,carouseWrapper:null},callBackList:{olapicSliderAfterRender:function(){},olapicSliderBeforeInitCarousel:function(){},olapicSliderCarouselBeforePagination:function(){},olapicSliderPrevToggle:function(){},olapicSliderNextToggle:function(){}},__init__:function(e){var t=this;t.options=e,t.options.sliderCreated=!1,t.$super({config:t.options.config,wrapperId:t.options.wrapperId,templates:t.options.config.templates,lang:t.options.lang,widget_instance:t.options.widgetHash||null,useOpi:t.options.useOpi,tpls:e.tpls,callBack:function(){e.callBack(t)}})},render:function(e){e()},fill:function(e){var t=this;switch(t.options.lang=t.lang,t.options.photoList=e.photoList,t.photoListEntityData=e.photoListEntityData,t.mediaList=e.photoList,t.options.stream_link){case"1":t.options.stream_link=OlapicSDK.conf.get("customer").get("domain")||"#";break;case"2":case"3":t.options.stream_link=_Ounder.isUndefined(t.photoListEntityData)?"#":t.photoListEntityData.product_url||"#";break;case"4":t.options.stream_link=t.options.stream_link_custom}t.tpls.draw({data:t.options,wrapperId:t.wrapperId,set:{styles:!0,body:!0,callbacks:!0},writeMethod:"append"},function(){t.finishRender(),t.afterRender()})},finishRender:function(){var e=this;e.$super(),e.viewer=new OlapicSDK.Viewer({widgetWrapperID:"#"+e.wrapperId,mediaList:e.mediaList,widget_id:e.options.id,lang:e.lang,useOpi:e.useOpi},function(){if("1"===e.options.auto_play){var t=e.viewer.callBacks.olapicViewer2AfterClose,n=e.getCurrentCarouselData();e.viewer.callBacks.olapicViewer2AfterClose=function(){n.startAutoPlay(!0),t()}}e.viewer.checkHash()}),e.uploader=new OlapicSDK.Uploader({widget_id:e.options.id,wrapper_id:this.wrapperId,context:"",photoList:e.photoListEntityData||{},googleCategory:"OlapicSlideWidget",_analytics:e.options._analytics,lang:e.lang,instance:e.instance}),e.attachPhotoIdToElement(),"v2"===e.options.customer.settings.analytics_api_version&&(e.attachScrollEventToWidget(),e.initPhotoViewTracking())},attachScrollEventToWidget:function(){var e=this;OlapicSDK.viewPortTracker.startWidgetTrack({wrapper:e.wrapperId,method:"bounds",callbacks:{viewed:function(){i.track(e.wrapperId,n("#"+e.wrapperId+" ul.olapic-carousel li"))}}})},attachPhotoIdToElement:function(){for(var e=this,t=n("#"+e.wrapperId+" ul.olapic-carousel li"),i=0;i<t.length;i++)n(t[i]).attr("data-olapic-photo-id",e.mediaList[i].id)},initPhotoViewTracking:function(){var e=this;i.init(e.wrapperId,e.mediaList,function(e){return e.attr("data-olapic-photo-id")},function(e){OlapicSDK.track.hit("MEDIA/RENDER",{media_id:e})})},addEvents:function(){var e=this,t=e.getCurrentCarouselWrapper();t.on("click",".olapic-upload a",function(t){t.preventDefault(),e.uploader.open(this)}),t.find(".olapic-item").click(function(t){t.preventDefault(),e.itemClick(this)}),e.addArrowEvents()},itemClick:function(e){var t=this,i=this.getCurrentCarouselData();OlapicSDK.track.setWidgetEnabled(t.widgetInstanceHash),OlapicSDK.track.hit("MEDIA/CLICK",{media_id:OlapicSDK.Tools.extractID(n(e).data("url"))}),t.options.sliderCreated&&i.stopAutoPlay(!0),this.viewer.open({media:n(e).data("url")})},addArrowEvents:function(){var e=this,t=e.getCurrentCarouselWrapper();return e.isInfinite()&&!e.hasMinPhotosForInfinite()?void t.find(".olapic-nav-button").addClass("olapic-slider-noArrows"):void t.find(".olapic-nav-button").click(function(){return e.moveSlider(n(this).hasClass("olapic-nav-next")?"r":"l"),!1})},moveFinished:function(e){i.track(e.wrapperId,n("#"+e.wrapperId+" ul.olapic-carousel li"))},moveSlider:function(e){var t=this,n=this.getCurrentCarouselData();OlapicSDK.track.setWidgetEnabled(t.widgetInstanceHash),OlapicSDK.track.hit("WIDGET/MOVE"),t.options.sliderCreated===!0&&("l"===e?n.doMovePrev(!0):(n.doMoveNext(!0),e="r"))},afterRender:function(){var e=this,t=0,i=!1,r=_Ounder.isUndefined(e.options.photoList)?0:e.options.photoList.length;e.elements.wrapper=e.getCurrentCarouselWrapper(),e.elements.carouseWrapper=e.getCurrentCarousel(),t=parseInt(e.elements.carouseWrapper.data("min-items-for-slider"))||1,i=e.elements.carouseWrapper.data("disable-gestures")===!0,e.callBacks.olapicSliderBeforeInitCarousel(e),e.addClassWithTheNumberOfItemsAndOrientation(),t>=0&&r>=t&&(e.options.sliderCreated=!0,e.elements.carouseWrapper.createCarousel({infinite:e.isInfiniteSlider(),slideMode:e.options.slide_mode,autoPlay:e.options.auto_play,interval:e.options.interval,jsAnimation:e.options.js_animation,duration:e.options.duration,slideBy:e.options.slide_by,slideByItemCount:parseInt(n("ul",e.elements.carouseWrapper).data("slide-by-item-count"))||1,slideRows:parseInt(n("ul",e.elements.carouseWrapper).data("slide-rows"))||1,sliderWrapper:n("#"+e.wrapperId+" .olapic-slider-wrapper"),paginationWrapper:n("#"+e.wrapperId+" .olapic-pagination ul"),callbacks:{beforePagination:e.callBacks.olapicSliderCarouselBeforePagination,prevToggle:e.callBacks.olapicSliderPrevToggle,nextToggle:e.callBacks.olapicSliderNextToggle},events:{finishMovement:function(){e.moveFinished(e)}}})),n.browser.mobile&&!i?e.initGestures(function(){e.addEvents(),e.callBacks.olapicSliderAfterRender(e)}):(e.addEvents(),e.callBacks.olapicSliderAfterRender(e))},addClassWithTheNumberOfItemsAndOrientation:function(){var e=this,t=_Ounder.size(e.options.photoList),n="1"===e.options.slide_mode?"horizontal":"vertical";e.getCurrentCarouselWrapper().addClass("olapic_items_"+t+" olapic_slide_"+n)},isInfiniteSlider:function(){var e=this;return e.isInfinite()&&e.hasMinPhotosForInfinite()},hasMinPhotosForInfinite:function(){var e=this,t=_Ounder.isUndefined(e.options.photoList)?0:e.options.photoList.length;return t>=e.options.minInfinite},isInfinite:function(){return"1"===this.options.infinite},initGestures:function(e){var t=this;OlapicRequireSDK.require(["touchSwipe"],function(){var n={excludedElements:".noSwipe",tap:function(e,n){t.itemClick(n)},allowPageScroll:t.options.slide_mode?"vertical":"horizontal",triggerOnTouchEnd:!0,threshold:200,swipeLeft:function(){t.moveSlider("r")},swipeRight:function(){t.moveSlider("l")},swipeUp:function(){t.moveSlider("r")},swipeDown:function(){t.moveSlider("l")}};t.getCurrentCarousel().swipe(n),e()})},getCurrentCarouselWrapper:function(){return n("#"+this.wrapperId)},getCurrentCarousel:function(){return this.getCurrentCarouselWrapper().find(".olapic-carousel-list-container")},getCurrentCarouselData:function(){return this.getCurrentCarousel().data("olapicCarousel")}})}),OlapicRequireSDK.define("muro",[],function(){var e=function(e,t){var n,i=oQuery(e)[0],r=oQuery(".olapic-wall",i),o=oQuery(".olapic-widget-main-loading",i),a=oQuery("#olapic-btn-open-sidebar",i),s=oQuery(".olapic-loadmore",i),c=oQuery("#go-top-olapic",i),l=oQuery("#olapic-filters ul li",i),u=oQuery(".olapic-nav-sticky",i),p=oQuery("#mobile-menu",i),d=oQuery.extend({sorting:"custom",filters:!0,initFilter:"All",showViewAll:!0,stickyMenu:!1,loadMore:null,pageToLoad:4,page_limit:10,goToTop:!0,shop_this_look:!1,havePages:{next:!1,prev:!1},callBacks:{}},t),f={isLoading:!1,currentPage:oQuery(".olapic-nav li.active",i).data("page")||1,pages:d.havePages()},h=function(){s.on("click",function(){O()}),a.on("click",function(e){e.preventDefault(),g()}),oQuery(i).on("mouseenter",function(){d.callBacks.olapicWallMouseHover()}),oQuery(i).on("mouseleave",function(){d.callBacks.olapicWallMouseOut()})},g=function(){a.toggleClass("active"),p&&p.toggleClass("open")},m=function(){oQuery("#olapic-filters ul li[data-name=all]",i).addClass("active")},v=function(){l.off("click"),l.on("click",function(e){if(e.preventDefault(),!f.isLoading){var t=oQuery(this).data("id");l.removeClass("active"),t?oQuery('#olapic-filters ul li[data-id="'+t+'"]',i).addClass("active"):m(),y(t),g()}}),m()},y=function(e){f.currentPage=oQuery(".olapic-nav li.active",i).data("page"),b(e)},w=function(){c.on("click",function(){oQuery("html, body").animate({scrollTop:oQuery(i).offset().top},"slow")})},b=function(e){if(!f.isLoading){k.show(),filter_class=e?"filter_"+e:e,D.filter(filter_class),f.currentPage>=d.pageToLoad&&s.fadeOut(),f.isLoading=!0,f.pages=d.havePages(e);var t=oQuery(".olapic-wall li",i).not(".hide_item"),n=oQuery(".olapic-nav li.active",i).data("init");t.length<d.pageToLoad*d.page_limit||_Ounder.isUndefined(n)?oQuery.when(d.loadFilter(e)).done(function(e,t){f.pages=t;var n=oQuery(e);D.insert(n),f.currentPage>=d.pageToLoad&&f.pages.next&&s.fadeIn(),x(),k.hide(),f.isLoading=!1,oQuery(".olapic-nav li.active",i).data("init","1"),d.callBacks.olapicWallAfterFilter()}).fail(function(){f.pages.next=!1,k.hide(),f.isLoading=!1}):(k.hide(),f.isLoading=!1,d.callBacks.olapicWallAfterFilter(),f.currentPage>=d.pageToLoad&&f.pages.next&&s.fadeIn())}},k={show:function(){o.fadeIn()},hide:function(){o.fadeOut()}},S=function(){var e=oQuery(window);e.scroll(function(){var t=oQuery(".olapic-wall-body",i).height()+oQuery(".olapic-wall-body",i).offset().top,n=e.scrollTop()+oQuery(window).height();n>=t&&!f.isLoading&&f.pages.next&&(f.currentPage<d.pageToLoad?O():(s.show(),d.callBacks.olapicWallBatchCompleted())),d.goToTop&&(e.scrollTop()>100?c.fadeIn():c.fadeOut()),d.stickyMenu&&(e.scrollTop()>oQuery(".olapic-wall-body",i).offset().top?u.fadeIn():u.fadeOut())})},x=function(){oQuery(".carousel-inner",i).each(function(){oQuery(this).find(".item:first").addClass("active"),oQuery(this).find(".item").length<=1&&(oQuery(this).parent(".carousel").find(".left").hide(),oQuery(this).parent(".carousel").find(".right").hide())})},O=function(){f.pages.next&&(f.isLoading||(k.show(),f.currentPage>=d.pageToLoad&&s.fadeOut(),f.isLoading=!0,oQuery.when(d.loadMore(oQuery(".olapic-nav li.active",i).data("id"))).done(function(e,t){f.pages=t;var n=oQuery(e);D.insert(n),f.pages.next||s.fadeOut(),f.currentPage>=d.pageToLoad&&f.pages.next&&s.fadeIn(),x(),k.hide(),f.currentPage+=1,oQuery(".olapic-nav li.active",i).data("page",f.currentPage),setTimeout(function(){f.isLoading=!1},500),d.callBacks.olapicWallAfterLoadPage(f)})))},_=function(){D.init()},D={packery:{init:function(){OlapicRequireSDK.require(["packery"],function(){r.addClass("mode_packery");var t=document.querySelector(e+" .olapic-wall",i),o=window.OlapicSDK.Packery||window.Packery;n=new o(t,{itemSelector:".item_wall",gutter:0}),window.oPackery=n})},destroy:function(){r.removeClass("mode_packery"),n.destroy()},insert:function(e){r.append(e),n.appended(e)},filter:function(e){e?(oQuery(".olapic-wall li",i).not("."+e).addClass("hide_item"),oQuery(".olapic-wall li",i).not("."+e).find(".olapic-item").addClass("hide_item"),oQuery(".olapic-wall li."+e,i).removeClass("hide_item"),oQuery(".olapic-wall li."+e,i).find(".olapic-item").removeClass("hide_item")):(oQuery(".olapic-wall li",i).removeClass("hide_item"),oQuery(".olapic-wall li",i).find(".olapic-item").removeClass("hide_item")),n.layout()}},custom:{insert:function(e){r.append(e)},filter:function(e){e?(oQuery(".olapic-wall li",i).not("."+e).addClass("hide_item"),oQuery(".olapic-wall li",i).not("."+e).find(".olapic-item").addClass("hide_item"),oQuery(".olapic-wall li."+e,i).removeClass("hide_item"),oQuery(".olapic-wall li."+e,i).find(".olapic-item").removeClass("hide_item")):(oQuery(".olapic-wall li",i).removeClass("hide_item"),oQuery(".olapic-wall li",i).find(".olapic-item").removeClass("hide_item"))}},init:function(){"packery"===d.sorting&&D.packery.init(),d.callBacks.olapicWallItemsInjected(f),d.callBacks.olapicWallInitSorting(D)},destroy:function(){"packery"===d.sorting&&D.packery.destroy()},insert:function(e){"packery"===d.sorting?D.packery.insert(e):D.custom.insert(e),d.callBacks.olapicWallItemsInjected(f)},filter:function(e){"packery"===d.sorting?D.packery.filter(e):D.custom.filter(e)}},E=function(){d.stickyMenu||u.remove()};this.init=function(){E(),x(),S(),h(),1===d.pageToLoad&&s.show(),d.goToTop&&w(),d.filters&&v(),r.addClass("grid"),_()},this.init()};oQuery.fn.createWall=function(t){var n=this.selector;new e(n,t)}}),OlapicRequireSDK.define("widgetsTypeWallv2",["widgetClass","muro","async","social","view.tracking"],function(e,t,n,i,r){OlapicSDK.Olapic_wallv2Widget=OlapicSDK.OlapicWidget.$extend({_type:"Widget_Wallv2",tpl:null,trackWidgetAsGallery:!0,photoListEntity:{},initListEntity:{},olalist:[],filters:{},filterStreams:!1,filterCategories:!1,firstRequest:{},callBackList:{olapicWallItemsInjected:function(){},olapicWallAfterLoadPage:function(){},olapicWallAfterLoad:function(){},olapicWallBatchCompleted:function(){},olapicWallMouseHover:function(){},olapicWallMouseOut:function(){},olapicWallInitSorting:function(){},olapicWallAfterFilter:function(){}},prepareFilters:function(e){var t=this,i=[],r=this.filterStreams?_Ounder.values(t.options.streams_order):[],o=this.filterCategories?_Ounder.values(t.options.categories_order):[];n.each(r,function(e,n){var o=new OlapicSDK.olapicInterface.stream(e,function(a){var s=_Ounder.indexOf(r,e);e=parseInt(e),a.filter_link=a._links.self.href,i[s]=a,t.filters[e]=o,n.apply()},function(){n.apply()},t.getDevKit())},function(){n.each(o,function(e,n){var r=new OlapicSDK.olapicInterface.category(e,function(a){var s=_Ounder.indexOf(o,e);e=parseInt(e),a.filter_link=a._links.self.href,i[s]=a,t.filters[e]=r,n.apply()},function(){n.apply()},t.getDevKit())},function(){t.options.streams_list=i,e()})})},__init__:function(e){var t=this;
t.options=e,t.options.streams_list=[],t.instance=e.instance,t.$super({config:t.options.config,apiCustomerKey:t.options.apiCustomerKey,wrapperId:t.options.wrapperId,templates:t.options.config.templates,auth_token:t.options.config.auth_token,lang:t.options.lang,widget_instance:t.options.widgetHash||null,useOpi:t.options.useOpi,tpls:e.tpls,callBack:function(){t.normalizeOptions(),t.social=new i,t.prepareFilters(function(){e.callBack(t)})}})},normalizeOptions:function(){this.options.streams_filter="1"===this.options.streams_filter,this.options.streams_filter_show_all="1"===this.options.streams_filter_show_all,this.options.sticky_menu="1"===this.options.sticky_menu,this.options.allow_gotop="1"===this.options.allow_gotop,this.options.sorting="packery"!==this.options.sorting?"custom":"packery",this.options.lang=this.lang,this.options.items_get_categories="1"===this.options.items_get_categories,this.options.shop_this_look="1"===this.options.shop_this_look,this.options.page_batch=parseInt(this.options.page_batch),this.options.page_limit=parseInt(this.options.page_limit),this.options.page_batch=this.options.page_batch?this.options.page_batch:4,this.options.page_limit=this.options.page_limit?this.options.page_limit:10},createDevKit:function(){if(_Ounder.isObject(this.options.streams_list)&&!_Ounder.isArray(this.options.streams_list)&&(this.filterStreams=!0),_Ounder.isObject(this.options.categories_list)&&!_Ounder.isArray(this.options.categories_list)&&(this.filterCategories=!0),!OlapicSDK.conf.get("preCacheDisabled")){var e="",t=[];this.filterStreams||this.filterCategories||this.options.shop_this_look?(t=["streams:all","categories:all"],e="FilterStreams"):e="Default",this.devkitName="Wall/"+e,this.getDevKit({preCacheEnabled:!0,preCacheEndpoints:/(\/(customers|streams|categories)\/\d+\/media)/g,preCacheEmbeddedProperties:t})}},render:function(e){var t=this;t.tpls.draw({data:t.options,wrapperId:t.wrapperId,set:{styles:!0,body:!0,callbacks:!0},writeMethod:"append"},function(){t.initCallBacks(),t.addEvents(),e()})},fill:function(e){var t=this;t.options.photoList=e.photoList,t.mediaList=e.photoList,t.photoListEntity=e.photoListEntity,t.initListEntity=e.photoListEntity,t.photoListEntityData=e.photoListEntityData,t.finishRender(),t.afterRender()},finishRender:function(){var e=this;e.$super(),e.uploader=new OlapicSDK.Uploader({widget_id:e.options.id,wrapper_id:this.wrapperId,context:"",photoList:e.photoListEntityData||{},googleCategory:"OlapicSlideWidget",_analytics:e.options._analytics,lang:e.lang,instance:e.instance}),e.viewer=new OlapicSDK.Viewer({widgetWrapperID:"#"+e.wrapperId,mediaList:e.mediaList,widget_id:e.options.id,lang:e.lang,useOpi:e.useOpi},function(){e.viewer.checkHash()}),"v2"===e.options.customer.settings.analytics_api_version&&(e.attachScrollEventToWidget(),e.initPhotoViewTracking())},initPhotoViewTracking:function(){r.init(this.wrapperId,this.mediaList,function(e){return e.attr("data-uniqueid")},function(e){OlapicSDK.track.hit("MEDIA/RENDER",{media_id:e})})},attachScrollEventToWidget:function(){var e=this;OlapicSDK.viewPortTracker.startWidgetTrack({wrapper:e.wrapperId,method:"bounds",callbacks:{viewed:function(){r.track(e.wrapperId,oQuery("#"+e.wrapperId+" ul.olapic-wall li.item_wall"))}}})},addEvents:function(){var e=this;oQuery("#"+e.wrapperId).on("click",".grid .olapic-item-info",function(){OlapicSDK.track.setWidgetEnabled(e.widgetInstanceHash),OlapicSDK.track.hit("MEDIA/CLICK",{media_id:OlapicSDK.Tools.extractID(oQuery(this).data("url"))}),e.viewer.open({media:oQuery(this).data("url")})}),oQuery("#"+e.wrapperId).on("click",".olapic-item-media",function(){OlapicSDK.track.setWidgetEnabled(e.widgetInstanceHash),OlapicSDK.track.hit("MEDIA/CLICK",{media_id:OlapicSDK.Tools.extractID(oQuery(this).parent().data("url"))}),e.viewer.open({media:oQuery(this).parent().data("url")})}),oQuery("#"+e.wrapperId).on("click",".olapic-upload",function(t){t.preventDefault(),e.uploader.open(this)}),oQuery("#"+e.wrapperId).on("click",".wall-sharing-fb",function(t){t.preventDefault(),t.stopPropagation();var n=new e.social.SocialProviderFacebook(oQuery(this).attr("href"));e.social.share(n)}),oQuery("#"+e.wrapperId).on("click",".wall-sharing-tw",function(t){t.preventDefault(),t.stopPropagation();var n=new e.social.SocialProviderTwitter(oQuery(this).attr("title"),oQuery(this).attr("href"));e.social.share(n)}),oQuery("#"+e.wrapperId).on("click",".wall-sharing-pinterest",function(t){t.preventDefault(),t.stopPropagation();var n=new e.social.SocialProviderPinterest(oQuery(this).attr("href"));e.social.share(n)}),oQuery("#"+e.wrapperId).on("click",".olapic-btn-shopthislook",function(e){e.stopPropagation()})},afterRender:function(){var e=this;e.callBacks.olapicWallAfterLoad(),_Ounder.size(e.mediaList)?e.renderItems(e.mediaList,function(){oQuery("#"+e.wrapperId+" .olapic-wall-widget").createWall({sorting:e.options.sorting,stickyMenu:e.options.sticky_menu,pageToLoad:e.options.page_batch,page_limit:e.options.page_limit,filters:e.options.streams_filter,showViewAll:e.options.streams_filter_show_all,viewAllHref:e.mediaList.href,goToTop:e.options.allow_gotop,havePages:function(t){return t?e.filters[t].havePages():e.initListEntity.havePages()},shop_this_look:e.options.shop_this_look,callBacks:e.callBacks,loadFilter:function(t){return e.loadFilter(t)},loadMore:function(t){var n=oQuery.Deferred();return OlapicSDK.track.setWidgetEnabled(e.widgetInstanceHash),OlapicSDK.track.hit("WIDGET/MOVE"),t?e.filters[t].nextPage(function(i){e.renderMore(i,function(i){n.resolve(i,e.filters[t].havePages())})},function(e){OlapicSDK.debug.add(0,{message:e},e)}):e.initListEntity.nextPage(function(t){e.renderMore(t,function(t){e.callBacks.olapicWallAfterLoadPage(),n.resolve(t,e.initListEntity.havePages())})},function(e){OlapicSDK.debug.add(0,{message:e},e)}),n.promise()}})}):oQuery("#"+e.wrapperId).addClass("empty_wall")},loadFilter:function(e){var t=this,n=oQuery.Deferred(),i="",r="";return i=_Ounder.isUndefined(e)?"all":e,r=String(i),"all"===i?t.photoListEntity=t.initListEntity:t.photoListEntity=t.filters[i],_Ounder.isUndefined(t.photoListEntity)?(OlapicSDK.debug.add(0,{message:"Unset stream"}),n.reject()):_Ounder.isUndefined(t.firstRequest[r])?t.photoListEntity.getMedia({sorting:t.instance.sorting,count:t.options.page_limit},function(e){t.firstRequest[r]="done",t.renderMore(e,function(e){t.callBacks.olapicWallAfterLoadPage(),n.resolve(e,t.photoListEntity.havePages())})},function(e){OlapicSDK.debug.add(11,{status:e.status,statusText:e.statusText,url:e._url}),n.reject()}):n.resolve(null,t.photoListEntity.havePages()),n},getStreams:function(e){var t=this,i=oQuery.Deferred(function(i){t.getStreamsFromMedia(e,function(r){r.length||(r=[r]);var o=_Ounder.toArray(r);n.each(o,function(n,i){_Ounder.isNull(n._embedded.base_image)?(n.shop_button_url=OlapicSDK.track.generateUrl("SHOP_THIS_PRODUCT",{media_id:e.id,redirect_url:n.product_url||window.location.href},!0,!0),e.relatedProducts.push(n),i.apply()):new OlapicSDK.olapicInterface.media(n._embedded.base_image._links.self.href,function(t){n.base_image=t.media,n.shop_button_url=OlapicSDK.track.generateUrl("SHOP_THIS_PRODUCT",{media_id:e.id,redirect_url:n.product_url||window.location.href},!0,!0),e.relatedProducts.push(n),i.apply()},function(){n.shop_button_url=OlapicSDK.track.generateUrl("SHOP_THIS_PRODUCT",{media_id:e.id,redirect_url:n.product_url||window.location.href},!0,!0),e.relatedProducts.push(n),i.apply()},t.getDevKit())},function(){i.resolve(e)})},function(){i.resolve(e)})});return i},getCategories:function(e){var t=this,i=oQuery.Deferred(function(i){t.getCategoriesFromMedia(e,function(t){t.length||(t=[t]);var r=_Ounder.toArray(t);n.each(r,function(t,n){e.categories.push(t),n.apply()},function(){i.resolve(e)})},function(){i.resolve(e)})});return i},getData:function(e){var t=this,n=e,i=oQuery.Deferred(function(i){n.uploader=e._embedded.uploader,n.relatedProducts=[],n.categories=[],n.shop_this_look=t.options.shop_this_look,t.options.streams_filter||t.options.shop_this_look?oQuery.when(t.getStreams(n)).done(function(e){t.options.items_get_categories?oQuery.when(t.getCategories(e)).done(function(e){i.resolve(e)}):i.resolve(e)}):t.options.items_get_categories?oQuery.when(t.getCategories(e)).done(function(e){i.resolve(e)}):i.resolve(e)});return i},getCategoriesFromMedia:function(e,t,n){var i=this.getDevKit(),r=i.api.media.createEntityFromJSON(e);i.api.media.getRelatedCategoriesFromMedia(r).then(function(e){t(oInterface.formatBatchToArray(e))}).fail(n)},getStreamsFromMedia:function(e,t,n){var i=this.getDevKit(),r=i.api.media.createEntityFromJSON(e);i.api.media.getRelatedStreamsFromMedia(r).then(function(e){t(oInterface.formatBatchToArray(e))}).fail(n)},renderItems:function(e){var t=this,i=arguments[1]||function(){},o=[],a=_Ounder.toArray(e);n.each(a,function(e,n){t.olalist.push(e.id),t.getData(e).then(function(t){var i=_Ounder.indexOf(a,e);o[i]=t,n.apply()})},function(){for(var e=0;e<o.length;e++)t.tpls.draw({data:o[e],wrapperId:t.wrapperId+" .olapic-wall",writeMethod:"append",set:{wall_item:!0}});_Ounder.isFunction(i)&&i(),r.track(t.wrapperId,oQuery("#"+t.wrapperId+" ul.olapic-wall li.item_wall"))})},renderMore:function(e){var t=this,i=arguments[1]||function(){},o=[],a=_Ounder.toArray(e),s="";n.each(a,function(e,n){_Ounder.indexOf(t.olalist,e.id)>-1?n.apply():(t.olalist.push(e.id),t.getData(e).then(function(t){var i=_Ounder.indexOf(a,e);o[i]=t,n.apply()}))},function(){_Ounder.each(o,function(e){_Ounder.isUndefined(e)||(s+=String(t.tpls.draw({data:e,wrapperId:"olapic-wall",oReturn:!0,set:{wall_item:!0}})))}),_Ounder.isFunction(i)&&i(s),r.track(t.wrapperId,oQuery("#"+t.wrapperId+" ul.olapic-wall li.item_wall"))})}})}),OlapicRequireSDK.define("widgetsTypeOneview",["widgetClass","underscore","cssAgent"],function(e,t,n){var i=function(){return t.isUndefined(OlapicSDK.OlapicWidget)?{$extend:function(e){return e}}:OlapicSDK.OlapicWidget};return OneViewWidget=i().$extend({_type:"Widget_OneView",container:"olapic_specific_widget",options:{},photoList:{},photoListEntity:{},photoListEntityData:{},cache:{},callBackList:{olapicOneViewBeforeRender:function(){},olapicOneViewAfterRender:function(){},olapicOneViewMainImageChanged:function(e){},olapicOneViewThumbsRendered:function(){}},__init__:function(e){var t=this;t.container=e.wrapperId,t.options=e,t.config=e.config,window.olapicPlayer=null,t.$super({widget_instance:e.widgetHash||null,config:e.config,wrapperId:e.wrapperId,templates:e.config.templates,lang:t.options.lang,tpls:e.tpls,callBack:function(){OlapicRequireSDK.require(["tinyScrollbar"],function(){e.callBack(t)})}})},render:function(e){e()},fill:function(e){var n=this;return n.photoList=e.photoList,n.photoListEntity=e.photoListEntity,n.photoListEntityData=e.photoListEntityData,t.isEmpty(n.photoList)?void n.getDebugger().add(15):(n.callBackList.olapicOneViewBeforeRender(n),void n.drawWidget(n))},drawWidget:function(e){e.tpls.draw({data:e.options,wrapperId:e.wrapperId,set:{styles:!0,body:!0,callbacks:!0},writeMethod:"append"},function(){e.initCallBacks(),e.addEvents(),e.loadMedias(),e.finishRender(),e.callBackList.olapicOneViewAfterRender(e)})},addEvents:function(){var e=this,t=e.getWidgetDomElements();e.addEventThumbScrollbar({thumbsContainer:t.thumbsContainer,scrollbar:t.scrollbar,item:oQuery(e.getThumbMediaList().get(1))}),e.toggleLoading(t.mainPreview),e.addEventSliderToggle(t.sliderContainer,t.sliderToggleButton,t.sliderToggleIcon),e.addEventRelatedProduct(),e.attachKeyEvents(),e.attachArrowEvents()},loadMedias:function(){var e=this,t=e.getWidgetDomElements();e.videoHtml=t.videoWrapper.html(),e.setMediaThumbs(),e.setMainMedia(e.photoList[0].id),e.setVideoEvents()},setVideoEvents:function(){var e=this,t=e.getWidgetDomElements();t.videoData.on("click",function(){e.eventClickToPlayVideo(oQuery(this))}),t.videoSmallPlayControl.on("click",e.playVideo),t.videoMuteControls.on("click",function(){e.muteVideo()})},addEventRelatedProduct:function(){var e=this,n=e.getWidgetDomElements();n.mediaPreviewContainer.on("hover",function(e){"mouseenter"===e.type?n.relatedProduct.fadeIn("fast"):0===t.size(oQuery(e.relatedTarget).parents("div.media-related-product-container"))&&n.relatedProduct.fadeOut("fast")})},setMainMedia:function(e){var n=this,i=n.getWidgetDomElements(),r=n.getMediaEntityFromId(e);if(!t.isUndefined(r)){var o=n.config.image_size||"mobile",a=r.images[o];i.mediaPreviewContainer.removeClass("type-image type-video"),i.mediaPreviewContainer.addClass("type-"+r.type.toLowerCase()),t.isNull(window.olapicPlayer)||(window.olapicPlayer.dispose(),window.olapicPlayer=null,i.videoData.remove(),i.mediaPreviewContainer.append(n.videoHtml),i=n.getWidgetDomElements(),n.setVideoEvents(),oQuery(".olapic-video-control").hide(),oQuery(".video-main-control").show()),"video"===r.type?(i.videoData.css("background-image","url("+a+")"),i.videoData.data("id",r.id),i.videoData.data("source",r.source),i.videoData.data("video-url",r.video_url)):i.imageData.attr("src",a),n.getTracker().hit("MEDIA/VIEW",{media_id:e}),n.addNavigationInfo(e),n.toggleLoading(i.mainPreview),n.getThumbMediaList().removeClass("icon-toggle-thumbs-selected"),n.getThumbMediaList().filter("[id="+r.id+"]").addClass("icon-toggle-thumbs-selected"),n.setMainMediaUploaderInfo(r._embedded.uploader,r),n.requestRelatedStreams(e,n.fillRelatedStreams),n.callBackList.olapicOneViewMainImageChanged(n,r)}},addNavigationInfo:function(e){var t=this,n=t.getWidgetDomElements(),i=t.getMediaNeighbors(e);n.mediaPreviewContainer.attr("media-id",e),n.mediaPreviewContainer.attr("media-next-id",i.next),n.mediaPreviewContainer.attr("media-prev-id",i.previous)},getMediaNeighbors:function(e){for(var n=this,i={next:"-",previous:"-"},r=0;r<n.photoList.length;r++)if(n.photoList[r].id===e){t.isUndefined(n.photoList[r+1])||(i.next=n.photoList[r+1].id),t.isUndefined(n.photoList[r-1])||(i.previous=n.photoList[r-1].id);break}return i},eventClickToPlayVideo:function(e){var n=this;if(t.isNull(window.olapicPlayer)){var i=n.getWidgetDomElements();n.hideThumbnails(i.sliderContainer,i.sliderToggleIcon);var r=(e.data("id"),e.data("video-url")),o=e.data("source");OlapicRequireSDK.require(["videojs"],function(){n.initVideoPlayer("oneview-video-container",r,o)})}},initVideoPlayer:function(e,t,n){var i=this,r={controls:!0,autoplay:!0,preload:"auto",muted:!0,src:t},o=i.getWidgetDomElements();"youtube"===n?(r.techOrder=["youtube"],r.src=t,o.videoSource.remove()):o.videoSource.attr("src",t),window.olapicPlayer=videojs(document.getElementById(e),r),window.olapicPlayer.on("play",function(e){oQuery(".olapic-video-control").show(),oQuery(".video-small-control, .video-main-control").hide()}),window.olapicPlayer.on("pause",function(e){oQuery(".video-small-control").show()})},playVideo:function(){t.isNull(window.olapicPlayer)||window.olapicPlayer.play()},muteVideo:function(){var e=this;if(!t.isNull(window.olapicPlayer)){var n=e.getWidgetDomElements();n.videoMuteControls.hasClass("olapic-icon-volume-up")?window.olapicPlayer.muted(!1):window.olapicPlayer.muted(!0),n.videoMuteControls.toggleClass("olapic-icon-volume-down olapic-icon-volume-up")}},setMainMediaUploaderInfo:function(e,t){var n=this,i=n.getWidgetDomElements();n.tpls.draw({data:{uploader:e,photo:t},wrapperId:i.header,set:{uploader:!0}})},getMediaEntityFromId:function(e){var n=this;return t.findWhere(n.photoList,{id:e})},setMediaThumbs:function(){for(var e=this,t=e.getWidgetDomElements(),n=0;n<e.photoList.length;n++)e.tpls.draw({data:e.photoList[n],wrapperId:t.thumbsList,writeMethod:"append",set:{thumbs_item:!0}},e.preloadImages(e.photoList[n],["normal","mobile"],e.hideThumbLoading));e.mediaThumbsUpdate(),e.callBackList.olapicOneViewThumbsRendered(e),e.addEventToThumbs()},preloadImages:function(e,n,i){var r=this;if(0===t.size(n))i(r,e.id);else{var o=n.shift();oQuery("<img>").attr("src",e.images[o]).load(function(){i(r,e.id)}).error(function(){i(r,e.id)})}},hideThumbLoading:function(e,t){var n=e.getThumbMediaList().filter("[id="+t+"]").find("div.loading-spinner, div.img-loading-wrapper");e.hideElement(n)},mediaThumbsUpdate:function(){var e=this,n=e.getWidgetDomElements(),i=e.getThumbMediaList(),r=oQuery(i.get(1)).outerWidth(!0)*e.photoList.length+20;n.thumbsWrapper.css("width",r+"px"),n.thumbsContainer.data("plugin_olapictinyscrollbar").update(),n.thumbsContainer.attr("count",t.size(i))},addEventToThumbs:function(){var e=this;e.getThumbMediaList().click(function(){var t=oQuery(this).attr("id");e.getTracker().hit("MEDIA/CLICK",{media_id:t}),e.setMainMedia(t)})},addEventThumbScrollbar:function(e){e.thumbsContainer.olapictinyscrollbar({axis:"x",trackSize:e.scrollbar.outerWidth(!0),thumbSize:e.item.outerWidth(!0)})},addEventSliderToggle:function(e,t,n){var i=this;t.on("click",function(){e.hasClass("thumbs-slider-in")?i.hideThumbnails(e,n):i.showThumbnails(e,n)})},hideThumbnails:function(e,t){var n=this,i=n.getWidgetDomElements(),r=i.sliderToggleButton.outerHeight();e.animate({top:"-"+r+"px"},500,function(){e.removeClass("thumbs-slider-in").addClass("thumbs-slider-out")}),t.addClass("icon-toggle-thumbs-flip-in"),t.removeClass("icon-toggle-thumbs-flip-out"),i.navigationArrows.addClass("show-navigation-arrows").removeClass("hide-navigation-arrows"),n.getTracker().hit("WIDGET/MOVE")},showThumbnails:function(e,t){var n=this,i=n.getWidgetDomElements(),r=i.sliderContainer.outerHeight();e.animate({top:"-"+r+"px"},500,function(){e.removeClass("thumbs-slider-out").addClass("thumbs-slider-in")}),t.addClass("icon-toggle-thumbs-flip-out"),t.removeClass("icon-toggle-thumbs-flip-in"),i.navigationArrows.removeClass("show-navigation-arrows").addClass("hide-navigation-arrows"),n.getTracker().hit("WIDGET/MOVE")},toggleLoading:function(e){e.find(".img-loading-wrapper, .loading-spinner").toggleClass("no-display")},requestRelatedStreams:function(e,t){var n=this;n.cleanRelatedStreamPopup();var i=parseInt(e);$media=new OlapicSDK.olapicInterface.media(i,function(e){$media.getStreams(function(e){t(e,n)},function(){t([],n)})},function(){t([])})},cleanRelatedStreamPopup:function(){var e=this,t=e.getWidgetDomElements();t.relatedProductPhoto.css("background-image",""),t.relatedProductName.html("..."),t.relatedProductLink.attr("href","#")},fillRelatedStreams:function(e,n){for(var i=n.getWidgetDomElements(),r=null,o=0;o<e.length;o++){var a=e[o];if("false"===a.hide_from_related||a.hide_from_related===!1){r=a;break}}if(t.isNull(r))n.hideElement(i.relatedProduct);else{i.relatedProduct.removeClass("no-display"),i.relatedProductPhoto.find("div.loading-spinner, div.img-loading-wrapper").removeClass("no-display"),i.relatedProductName.html(r.name);var s=i.mediaPreviewContainer.attr("media-id"),c=n.getTracker().generateUrl("SHOP_THIS_PRODUCT",{media_id:s,redirect_url:r.product_url||window.location.href},!0,!0);if(i.relatedProductLink.attr("href",c),t.isNull(r._embedded.base_image)||t.isNull(r._embedded.base_image.images.mobile))n.hideElement(i.relatedProductPhoto);else{var l=r._embedded.base_image.images.mobile;i.relatedProductPhoto.removeClass("no-display"),i.relatedProductPhoto.css("background-image","url("+l+")"),n.hideElement(i.relatedProductPhoto.find("div.loading-spinner, div.img-loading-wrapper"))}}},hideElement:function(e){e.addClass("no-display")},attachKeyEvents:function(){var e=this,t=e.getWidgetDomElements();t.container.parents("html").keyup(function(n){switch(n.keyCode){case 39:e.getTracker().hit("WIDGET/MOVE"),e.moveToMedia(t.mediaPreviewContainer.attr("media-next-id"));break;case 37:e.getTracker().hit("WIDGET/MOVE"),e.moveToMedia(t.mediaPreviewContainer.attr("media-prev-id"))}})},attachArrowEvents:function(){var e=this,t=e.getWidgetDomElements();t.navigationArrowBox.off("click").on("click",function(n){e.getTracker().hit("WIDGET/MOVE"),oQuery(this).hasClass("move-photo-prev")?e.moveToMedia(t.mediaPreviewContainer.attr("media-prev-id")):oQuery(this).hasClass("move-photo-next")&&e.moveToMedia(t.mediaPreviewContainer.attr("media-next-id"))})},moveToMedia:function(e){var n=this;t.isUndefined(e)||"-"===e||(n.setMainMedia(e),n.scrollToTumb(e))},scrollToTumb:function(e){var n=this,i=n.getWidgetDomElements(),r=oQuery("#"+i.thumbsList+" li#"+e);if(!t.isUndefined(r)){var o=r.position().left,a=i.thumbsWrapper.width()-i.thumbsViewport.width();o>a&&(o=a),i.thumbsContainer.data("plugin_olapictinyscrollbar").update(o)}},getTracker:function(){return OlapicSDK.track},getDebugger:function(){return OlapicSDK.debug},getWidgetDomElements:function(){var e=this,t="#"+e.container+" ";return{container:oQuery(t+"div.olapic"),mainPreview:oQuery(t+"div.media-preview"),thumbsContainer:oQuery(t+"div.thumbs-container"),sliderToggleButton:oQuery(t+"div.thumbs-slider-style"),sliderContainer:oQuery(t+"div.thumbs-slider"),sliderToggleIcon:oQuery(t+"div.thumbs-slider-style i"),thumbsWrapper:oQuery(t+"div.overview.thumbs-medias-wrapper"),thumbsViewport:oQuery(t+"div.viewport"),uploaderPhotoSource:oQuery(t+"div.uploader-photo-source"),uploaderPhotoCaption:oQuery(t+"div.uploader-description"),relatedProduct:oQuery(t+"div.media-related-product-container"),relatedProductName:oQuery(t+"div.related-product-name"),relatedProductPhoto:oQuery(t+"div.product-photo"),relatedProductLink:oQuery(t+"div.related-product-shop-this-look a"),mediaPreviewContainer:oQuery(t+"div.media-preview-container"),uploaderAvatarLink:oQuery(t+"a.uploader-avatar-link"),scrollbar:oQuery(t+".scrollbar"),videoData:oQuery(t+".video-data"),imageData:oQuery(t+".image-data"),videoSource:oQuery(t+".oneview-video-container source"),videoMainPlayControl:oQuery(t+".video-main-control"),videoSmallPlayControl:oQuery(t+".video-small-control"),videoMuteControls:oQuery(t+".video-mute-controls"),videoWrapper:oQuery(t+".video-wrapper"),navigationArrows:oQuery(t+"div.move-arrows"),navigationArrowBox:oQuery(t+"div.move-photo"),thumbsList:e.container+" ul.thumbs-medias",header:e.container+" .header"}},getThumbMediaList:function(){var e=this,n=null;return t.isEmpty(e.cache.thumbsList)?(aux=oQuery("ul.thumbs-medias li","#"+e.container),aux.length>0&&(e.cache.thumbsList=aux),n=aux):n=aux,n}}),OlapicSDK.Olapic_oneviewWidget=OneViewWidget,OneViewWidget}),OlapicRequireSDK.define("widgetTypes",["widgetsTypeButton","widgetsTypeSliderv3","widgetsTypeWallv2","widgetsTypeOneview"],function(e){}),OlapicRequireSDK.define("widgetManager",["base","widgetTypes"],function(){OlapicSDK.widgetManager=OlapicSDK.base.$extend({queue:{},queueWidget:{},photoList:{},photoListEntity:{},photoListEntityData:{},defaults:{config:{context:document},options:{force:!1,init:!0,renderNow:!0,wrapper:"",lang:"",useOpi:!0}},_helper:{validate:function(e){var t={result:!0,code:0};return _Ounder.isEmpty(e.wrapper)?t.code=6:null===e.context.getElementById(e.wrapper)&&(t.code=6),(""===e.widget_id||""===e.id)&&(t.code=7),t.code>0&&(t.result=!1),t},getDataForWidgetInstance:function(e,t,n,i,r){var o,a=n.queue[t].widget,s=n.queue[t].config,c={};if(r=r||OlapicSDK.devkit,n.photoList[t]={},n.photoListEntity[t]={},n.photoListEntityData[t]={},a.page_limit=a.page_limit||a.photos_limit,OlapicSDK.track.setWidgetData(e.id,"pdp",!1),OlapicSDK.track.setWidgetData(e.id,"pics",0),"by_gallery"!==e.type||_Ounder.isUndefined(e._embedded.stream._links.self.href))if("by_category"!==e.type||_Ounder.isUndefined(e._embedded.category._links.self.href))if("by_tag"===e.type||"by_tag_category"===e.type){o=e.get("settings").sorting;var l="by_tag"===e.type?"stream":"category";if(OlapicSDK.track.setWidgetData(e.id,"object_type",l),_Ounder.isNull(s.tags))OlapicSDK.track.setWidgetData(e.id,"object_id","0"),i();else{"by_tag"===e.type&&OlapicSDK.track.setWidgetData(e.id,"pdp",!0);var u=OlapicSDK.conf.get("customer"),p={href:OlapicSDK.conf.get("ieProtocolfix")+("by_tag"===e.type?u.get("_forms")["streams:search"].action.href:u.get("_forms")["categories:search"].action.href),method:"by_tag"===e.type?u.get("_forms")["streams:search"].method:u.get("_forms")["categories:search"].method,type:l,form:{tag_key:s.tags},sorting:o,count:a.page_limit};c=OlapicSDK.conf.get("customerInterface"),c.searchMedia(p,function(r){OlapicSDK.track.setWidgetData(e.id,"object_id",r.entity.id),n.photoListEntityData[t]=r.entity,n.photoList[t]=r.media,i()},function(r){OlapicSDK.track.setWidgetData(e.id,"object_id","0"),n.photoListEntityData[t]=r.entity||{tag_based_key:s.tags},n.photoList[t]={},i()},r),n.photoListEntity[t]=c}}else o=e.get?e.get("settings").sorting:void 0,OlapicSDK.track.setWidgetData(e.id,"object_type","best"),c=OlapicSDK.conf.get("customerInterface"),n.photoListEntity[t]=c,n.photoListEntityData[t]={},c.getMedia({sorting:o,count:a.page_limit},function(e){n.photoList[t]=e,i()},function(){i()},r);else{o=e.get("settings").sorting,OlapicSDK.track.setWidgetData(e.id,"object_type","category");var d=new OlapicSDK.olapicInterface.category(e._embedded.category._links.self.href,function(r){OlapicSDK.track.setWidgetData(e.id,"object_id",r.id),n.photoListEntityData[t]=r,d.getMedia({sorting:o,count:a.page_limit},function(e){n.photoList[t]=e,i()},function(){i()})},function(){OlapicSDK.track.setWidgetData(e.id,"object_id",OlapicSDK.Tools.getLasPathFromUrl(e._embedded.category._links.self.href)),i()},r);n.photoListEntity[t]=d}else{o=e.get("settings").sorting,OlapicSDK.track.setWidgetData(e.id,"object_type","stream");var f=new OlapicSDK.olapicInterface.stream(e._embedded.stream._links.self.href,function(r){OlapicSDK.track.setWidgetData(e.id,"object_id",r.id),n.photoListEntityData[t]=r,f.getMedia({sorting:o,count:a.page_limit},function(e){n.photoList[t]=e,i()},function(){i()})},function(){OlapicSDK.track.setWidgetData(e.id,"object_id",OlapicSDK.Tools.getLasPathFromUrl(e._embedded.stream._links.self.href)),i()},r);n.photoListEntity[t]=f}}},add:function(e,t){var n=this,i=!0,r={},o=!1,a=t||{},s=null;if(e=_Ounder.extend(_Ounder.clone(n.defaults.config),e),a=_Ounder.extend(_Ounder.clone(n.defaults.options),a),a.wrapper=e.wrapper,a.lang=e.lang,a.useOpi=e.useOpi,a.hideWidgetForABTesting=!1,_Ounder.has(n.queue,a.wrapper)&&!a.force&&(i=!1),i){if(r=n._helper.validate(e),!r.result)return OlapicSDK.debug.add(r.code,e);n.queue[a.wrapper]={widget:null,config:e,initOptions:a},o?n.showWidget(e,a,o):(s=new OlapicSDK.template({prefix:a.wrapper,templates:[{key:"templates-set",url:OlapicSDK.conf.get("cdnStaticBaseUrl")+(_Ounder.isUndefined(e.id)?"/assets2/widget_old/"+e.widget_id:"/assets2/widget/"+e.id)}],lang:a.lang}),s.loadTemplates().then(function(){s.draw({data:{},wrapperId:a.wrapper,set:{preloading:!0}}),n.showWidget(e,a,o,s)}))}},showWidget:function(e,t,n,i){var r=this,o=OlapicSDK.network.getParameterByName("olapicLimit");_Ounder.isUndefined(e.widget_id)?new OlapicSDK.olapicInterface.widgetInstance(e.id,function(a){!r.applyAbTesting||"by_tag"!==a.type&&"by_tag_gallery"!==a.type||(r.queue[t.wrapper].initOptions.hideWidgetForABTesting=!0,OlapicSDK.debug.add(18,{id:e.id})),OlapicSDK.track.setWidgetData(a.id,"instance_hash",a.id);var s=OlapicSDK.Tools.parseAnalyticsArrayFormat(e.segments);if(OlapicSDK.track.setWidgetData(a.id,"segments",s),_Ounder.isUndefined(OlapicSDK.conf.get("mode"))?("live"!==a.get("settings").mode&&OlapicSDK.debug.add(14,{mode:a.get("settings").mode}),OlapicSDK.conf.set("mode",a.get("settings").mode)):OlapicSDK.debug.add(14,{mode:OlapicSDK.conf.get("mode")}),"live"!==OlapicSDK.conf.get("mode")&&(n=!OlapicSDK.conf.get("forceRender")),OlapicSDK.conf.get("rights")||"yes"!==String(a.get("settings").rights).toLowerCase()||OlapicSDK.conf.set("rights",!0,!0),OlapicSDK.conf.get("preCacheByAttr")||"yes"!==String(a.get("settings").precache).toLowerCase()||OlapicSDK.conf.set("preCacheDisabled",!1,!0),"yes"!==String(a.get("settings").disable_base_styles).toLowerCase()&&OlapicSDK.instance.loadBootrstrapCSS(OlapicSDK.instance.version),!n){var c=new Entity(a.get("_embedded").setting);_Ounder.isEmpty(o)||(c.page_limit=o),r.queue[t.wrapper].widget=c,r.initialize(t,a,i)}},function(){return OlapicSDK.debug.add(16,{id:e.id})}):new OlapicSDK.olapicInterface.widget(e.widget_id,function(n){e.stream_page_limit=parseInt(e.stream_page_limit),n.page_limit=e.stream_page_limit>=0?e.stream_page_limit:n.page_limit,r.queue[t.wrapper].widget=n,r.initialize(t,{type:e.stream_type||"",stream_type_href:e.stream_type_href||""},i)},function(){return OlapicSDK.debug.add(16,{id:e.widget_id})})},initialize:function(e,t,n){var i=this,r=i.queue[e.wrapper],o=r.widget.type+"Widget";r.initOptions.init?(o=o.charAt(0).toUpperCase()+o.slice(1),i.queueWidget[e.wrapper]=new window.OlapicSDK[o]({config:r.widget,wrapperId:e.wrapper,lang:r.initOptions.lang,widgetHash:r.config.id,useOpi:r.config.useOpi,tpls:n,instance:t,callBack:function(n){r.initOptions.hideWidgetForABTesting?i._helper.getDataForWidgetInstance(t,e.wrapper,i,function(){n.trackRender()},n.getDevKit()):r.initOptions.renderNow&&n.render(function(){i._helper.getDataForWidgetInstance(t,e.wrapper,i,function(){OlapicSDK.track.setWidgetData(r.config.id,"pics",i.photoList[e.wrapper].length||0),n.fill({photoList:i.photoList[e.wrapper],photoListEntity:i.photoListEntity[e.wrapper],photoListEntityData:i.photoListEntityData[e.wrapper]})},n.getDevKit())})}}),_Ounder.isFunction(r.initOptions.afterInstace)&&r.initOptions.afterInstace(i.queueWidget[e.wrapper])):i.console.log(r.widget)},get:function(e){return _Ounder.has(this.queueWidget,e)?this.queueWidget[e]:null},hasWidgets:function(){return _Ounder.keys(this.queue).length>0}})}),function(e,t){function n(t,n,i,r){var o=e();return e.each(s,function(e,a){var s=a.offset().top,c=a.offset().left,l=c+a.width(),u=s+a.height(),p=!(c>n||r>l||s>i||t>u);p&&o.push(a)}),o}function i(){++u;var t=a.scrollTop(),i=a.scrollLeft(),r=i+a.width(),o=t+a.height(),s=n(t+p.top,r+p.right,o+p.bottom,i+p.left);e.each(s,function(e,t){var n=t.data("scrollSpy:ticks");"number"!=typeof n&&t.triggerHandler("scrollSpy:enter"),t.triggerHandler("scrollSpy:ticks"),t.data("scrollSpy:ticks",u)}),e.each(c,function(e,t){var n=t.data("scrollSpy:ticks");"number"==typeof n&&n!==u?(t.triggerHandler("scrollSpy:exit"),t.data("scrollSpy:ticks",null)):t.triggerHandler("scrollSpy:ticks")}),c=s}function r(){a.trigger("scrollSpy:winSize")}function o(e,t,n){var i,r,o,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:h(),a=null,o=e.apply(i,r),i=r=null};return function(){var l=h();s||n.leading!==!1||(s=l);var u=t-(l-s);return i=this,r=arguments,0>=u?(clearTimeout(a),a=null,s=l,o=e.apply(i,r),i=r=null):a||n.trailing===!1||(a=setTimeout(c,u)),o}}var a=e(t),s=[],c=[],l=!1,u=0,p={top:0,right:0,bottom:0,left:0},d={},f={},h=Date.now||function(){return(new Date).getTime()};e.scrollSpy=function(t,n){t=e(t),t.each(function(t,n){s.push(e(n))}),n=n||{throttle:100},p.top=n.offsetTop||0,p.right=n.offsetRight||0,p.bottom=n.offsetBottom||0,p.left=n.offsetLeft||0;var r=o(i,n.throttle||100),c=d[t.get(0)]=function(){e(document).ready(r)};return l||(a.on("scroll",c),a.on("resize",c),l=!0),setTimeout(c,0),t},e.clearScrollSpy=function(t,n){t=e(t),t.each(function(i,r){e.each(s,function(e,i){return i.get(0)===r?(s.splice(e,1),n.scroll,a.off("scroll",d[t.get(0)]),!1):void 0})})},e.winSizeSpy=function(t,n){e.winSizeSpy=function(){return a},n=n||{throttle:100};var i=f[t.get(0)]=o(r,n.throttle||500,n);return a.on("resize",i)},e.fn.scrollSpy=function(t){var n=t.action?t.action:"add";return"add"===n?e.scrollSpy($(this),t):e.clearScrollSpy($(this),t)}}(oQuery,window),OlapicRequireSDK.define("jquery.scrollspy",["jquery"],function(){}),OlapicRequireSDK.define("viewport-tracker",["jquery.scrollspy","underscore","visibility"],function(e,t,n){OlapicViewPortTracker=function(){var e=this;this.widgets={},this.startWidgetTrack=function(t){e._isValid(t.wrapper)&&(e.widgets[t.wrapper]={node:oQuery("#"+t.wrapper),method:t.method?t.method:"inside",callbacks:t.callbacks},e._trackWidget(t.wrapper))},this.stopWidgetTrack=function(e){e.node.scrollSpy({action:"remove"})},this._trackWidget=function(t){var i=e.widgets[t],r={method:i.method};i.node.on("scrollSpy:enter",function(){e._actionEnter(i)}).on("scrollSpy:exit",function(){e._actionLeave(i)}).on("scrollSpy:ticks",function(){n.inViewport(i.node,r)?e._actionViewed(i):e._actionTick(i);
}).scrollSpy({action:"add",throttle:750})},this._actionEnter=function(e){e.callbacks.enter&&e.callbacks.enter($(this).attr("id"))},this._actionLeave=function(e){e.callbacks.leave&&e.callbacks.leave($(this).attr("id"))},this._actionViewed=function(e){e.callbacks.viewed&&e.callbacks.viewed(e)},this._actionTick=function(e){e.callbacks.tick&&e.callbacks.tick($(this).attr("id"))},this._isValid=function(e){var t=oQuery("#"+e);return t.is(":visible")}}}),OlapicRequireSDK.define("interface.category",["interface.base"],function(){OlapicSDK["interface"].prototype.category=function(){var e=this;return e.$category=null,e.category=null,e.batch=null,this.init=function(){oInterface.getEntity(this,arguments,"category","getCategory")},this.getMedia=function(){e.batch=oInterface.getBatch(arguments,e.$category)},this.nextPage=function(){return oInterface.nextPage(arguments,e.batch)},this.prevPage=function(){return oInterface.prevPage(arguments,e.batch)},this.havePages=function(){return oInterface.havePages(e.batch)},this.init.apply(this,arguments),{getMedia:this.getMedia,nextPage:this.nextPage,prevPage:this.prevPage,havePages:this.havePages}}}),OlapicRequireSDK.define("interface.customer",["interface.base"],function(){OlapicSDK["interface"].prototype.customer=function(){var e=this;return e.$customer=null,e.customer=null,e.batch=null,this.init=function(){e.$customer=arguments[0],e.customer=new Entity(e.$customer.get("_raw"))},this.getMedia=function(){e.batch=oInterface.getBatch(arguments,e.$customer)},this.getStreams=function(){},this.getCategories=function(){},this.searchMedia=function(){var t=oInterface.prepareArgs(arguments),n=null,i=t.data.sorting||"photorank",r=t.data.count||20,o="category"===t.data.type;return(n=o?OlapicSDK.devkit.api.customer.searchCategoryFromCustomer:OlapicSDK.devkit.api.customer.searchStreamFromCustomer)?void n(e.$customer,t.data.form.tag_key).then(function(n){e.batch=new OlapicSDK.devkit.api.mediaBatch(n,i,r,OlapicSDK.conf.get("rights")),e.batch.fetch().then(function(e){t.callback({media:oInterface.formatBatchToArray(e),entity:new Entity(n.get("_raw"))})}).fail(function(){t.callback({media:[],entity:new Entity(n.get("_raw"))})})}).fail(function(e){oInterface.logError(e),t.callbackError(e)}):!1},this.nextPage=function(){return oInterface.nextPage(arguments,e.batch)},this.prevPage=function(){return oInterface.prevPage(arguments,e.batch)},this.havePages=function(){return oInterface.havePages(e.batch)},this.init.apply(this,arguments),{getMedia:this.getMedia,getStreams:this.getStreams,getCategories:this.getCategories,searchMedia:this.searchMedia,nextPage:this.nextPage,prevPage:this.prevPage,havePages:this.havePages,customer:this.customer}}}),OlapicRequireSDK.define("interface.media",["interface.base"],function(){OlapicSDK["interface"].prototype.media=function(){var e=this;return e.$media=null,e.media=null,this.init=function(){oInterface.getEntity(this,arguments,"media","getMedia")},this.getUploader=function(){var t=oInterface.prepareArgs(arguments);OlapicSDK.devkit.api.media.getUploaderFromMedia(e.$media).then(function(e){t.callback(new Entity(e.get("_raw")))}).fail(function(e){oInterface.logError(e),t.callbackError(e)})},this.getStreams=function(){var t=oInterface.prepareArgs(arguments);OlapicSDK.devkit.api.media.getRelatedStreamsFromMedia(e.$media).then(function(e){t.callback(oInterface.formatBatchToArray(e))}).fail(function(e){oInterface.logError(e),t.callbackError(e)})},this.getCategories=function(){var t=oInterface.prepareArgs(arguments);OlapicSDK.devkit.api.media.getRelatedCategoriesFromMedia(e.$media).then(function(e){t.callback(oInterface.formatBatchToArray(e))}).fail(function(e){oInterface.logError(e),t.callbackError(e)})},this.postReport=function(){var t=oInterface.prepareArgs(arguments);OlapicSDK.devkit.api.media.reportMedia(e.$media,t.data.form).then(t.callback).fail(function(e){oInterface.logError(e),t.callbackError(e)})},this.init.apply(this,arguments),{getUploader:this.getUploader,getStreams:this.getStreams,postReport:this.postReport}}}),OlapicRequireSDK.define("interface.stream",["interface.base"],function(){OlapicSDK["interface"].prototype.stream=function(){var e=this;return e.$stream=null,e.stream=null,e.batch=null,this.init=function(){oInterface.getEntity(this,arguments,"stream","getStream")},this.getMedia=function(){e.batch=oInterface.getBatch(arguments,e.$stream)},this.nextPage=function(){return oInterface.nextPage(arguments,e.batch)},this.prevPage=function(){return oInterface.prevPage(arguments,e.batch)},this.havePages=function(){return oInterface.havePages(e.batch)},this.init.apply(this,arguments),{getMedia:this.getMedia,nextPage:this.nextPage,prevPage:this.prevPage,havePages:this.havePages}}}),OlapicRequireSDK.define("interface.uploader",["interface.base"],function(){OlapicSDK["interface"].prototype.uploader=function(){var e=this;return e.$uploader=null,e.uploader=null,this.init=function(){oInterface.getEntity(this,arguments,"uploader","getUploader")},this.init.apply(this,arguments),{}}}),OlapicRequireSDK.define("interface.widget",["interface.base"],function(){OlapicSDK["interface"].prototype.widget=function(){var e=this;return e.widgetConfig=null,this.init=function(){var t=oInterface.prepareArgs(arguments);OlapicSDK.devkit.api.widget.getSettingsById(t.data).then(function(n){e.widgetConfig=new Entity(n.data),t.callback(e.widgetConfig)}).fail(function(e){oInterface.logError(e),t.callbackError(e)})},this.init.apply(this,arguments),{}}}),OlapicRequireSDK.define("interface.widgetInstance",["interface.base"],function(){OlapicSDK["interface"].prototype.widgetInstance=function(){return this.init=function(){var e=oInterface.prepareArgs(arguments);OlapicSDK.devkit.connectWithTokenAndWidgetInstance(OlapicSDK.conf.get("apikey"),e.data).then(function(t){OlapicSDK.instance.processCustomer(t.customer),e.callback(new Entity(t.widget.get("_raw")))}).fail(function(t){oInterface.logError(t),e.callbackError(t)})},this.init.apply(this,arguments),{}}}),OlapicRequireSDK.define("interfaces",["interface.category","interface.customer","interface.media","interface.stream","interface.uploader","interface.widget","interface.widgetInstance"],function(){}),OlapicRequireSDK.define("imgCli",["underscore"],function(e){imgCli=function(t){return this.settings=e.extend({apikey:"justAnApiKey",baseURI:"//fake.pix.api.com"},t),this.read=function(e,t,n,i){var r=(new Date).getTime()+Math.floor(999*Math.random()+1),o=document.createElement("img");o.setAttribute("id","olapic-track-img-"+r),o.setAttribute("src",e),o.setAttribute("height","1px"),o.setAttribute("width","1px"),o.onload=function(){var i=document.getElementById("olapic-track-img-"+r);i.parentNode.removeChild(i),n("URL("+t+"): "+e)},o.onerror=function(){i("URL("+t+"): "+e)},document.body.appendChild(o)},this}}),function(){var e,t,n,i,r,o,a,s;!function(e,t){"function"==typeof OlapicRequireSDK.define&&OlapicRequireSDK.define.amd?OlapicRequireSDK.define("track",[],t):e.libGlobalName=t()}(this,function(){var c,l;return e=function(){var e={analytics_id:null,pics:null,ab_testing:"",segments:null};return c={WIDGET:{RENDER:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/render",qs:{analytics_id:null,pics:null,ab_testing:null,pdp:null,gallery:null,segments:null}},MOVE:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/move",qs:e},UPLOAD_CLICK:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/upload_click",qs:e}},MEDIA:{CLICK:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/click",qs:e},VIEW:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/view",qs:e},MOVE:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/move",qs:e},CLOSE:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/close",qs:e}},SHOP_THIS_PRODUCT:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/shop",qs:{analytics_id:null,pics:null,ab_testing:"",redirect_url:"",segments:null}}}}(),t=function(){var e={analytics_id:null,pics:null,ab_testing:"",segments:null};return c={WIDGET:{RENDER:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/render",qs:e},VIEW:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/view",qs:e},MOVE:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/move",qs:e},UPLOAD_CLICK:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/upload_click",qs:e}},MEDIA:{CLICK:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/click",qs:e},RENDER:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/render",qs:e},VIEW:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/view",qs:e},MOVE:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/move",qs:e},CLOSE:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/close",qs:e}},SHOP_THIS_PRODUCT:{url:"/track/widget/{instance_hash}/{object_type}/{object_id}/media/{media_id}/shop",qs:{analytics_id:null,pics:null,ab_testing:"",redirect_url:""}}}}(),n=function(e,t){return oEventsFactory={get:function(n){switch(n){case"v1":return e;default:case"v2":return t}}},oEventsFactory}(e,t),i=function(e){var t={},n=Array.isArray,i=Object.keys;t.isNull=function(e){return null===e},t.has=function(e,t){var n={}.hasOwnProperty;return null!=e&&n.call(e,t)},t.size=function(e){return null==e?0:e.length===+e.length?e.length:t.keys(e).length},t.isUndefined=function(e){return void 0===e},t.isEmpty=function(e){if(null==e)return!0;if(t.isArray(e)||t.isString(e)||t.isArguments(e))return 0===e.length;for(var n in e)if(t.has(e,n))return!1;return!0};var r=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}};t.each=t.forEach=function(e,n,i){if(null==e)return e;n=r(n,i);var o,a=e.length;if(a===+a)for(o=0;a>o;o++)n(e[o],o,e);else{var s=t.keys(e);for(o=0,a=s.length;a>o;o++)n(e[s[o]],s[o],e)}return e},t.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){t["is"+e]=function(t){var n={}.toString;return n.call(t)==="[object "+e+"]"}}),t.isArguments(arguments)||(t.isArguments=function(e){return t.has(e,"callee")}),"function"!=typeof/./&&(t.isFunction=function(e){return"function"==typeof e||!1}),t.isArray=n||function(e){var t={}.toString;return"[object Array]"===t.call(e)},t.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},t.extend=function(e){if(!t.isObject(e))return e;for(var n,i,r=1,o=arguments.length;o>r;r++){n=arguments[r];for(i in n)e[i]=n[i]}return e},t.map=t.collect=function(e,n,i){if(null==e)return[];n=t.iteratee(n,i);for(var r,o=e.length!==+e.length&&t.keys(e),a=(o||e).length,s=Array(a),c=0;a>c;c++)r=o?o[c]:c,s[c]=n(e[r],r,e);return s},t.matches=function(e){var n=t.pairs(e),i=n.length;return function(e){if(null==e)return!i;e=new Object(e);for(var t=0;i>t;t++){var r=n[t],o=r[0];if(r[1]!==e[o]||!(o in e))return!1}return!0}},t.iteratee=function(e,n,i){return null==e?t.identity:t.isFunction(e)?r(e,n,i):t.isObject(e)?t.matches(e):t.property(e)},t.property=function(e){return function(t){return null==t?void 0:t[e]}};var o=!{toString:null}.propertyIsEnumerable("toString"),a=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];return t.keys=function(e){if(!t.isObject(e))return[];if(i)return i(e);var n=[];for(var r in e)t.has(e,r)&&n.push(r);if(o)for(var s=a.length;s--;){var c=a[s];t.has(e,c)&&!t.contains(n,c)&&n.push(c)}return n},t.pairs=function(e){for(var n=t.keys(e),i=n.length,r=Array(i),o=0;i>o;o++)r[o]=[n[o],e[n[o]]];return r},t.notEmptyObjectKey=function(e){var n=[];for(var i in e)(t.isNull(e[i])||t.isUndefined(e[i]))&&n.push(i);return n},t.completeObject=function(e,n){for(var i in e)"object"==typeof e[i]&&null!==e[i]?t.completeObject():e[i]=n[i];return e},t.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===toString.call(e)},t.serializeObject=function(e){var n=[],i="",r=0,o=0,a=null;for(i in e)if(t.has(e,i))if("[object Object]"!={}.toString.call(e[i]))if(t.isArray(e[i]))for(r=0,o=e[i].length,a=null,r=0;o>r;r++)a={},a[i+"["+r+"]"]=e[i][r],n.push(this.serializeObject(a));else n.push(i+"="+encodeURIComponent(e[i]));else n.push(this.serializeObject(e[i]));return n.join("&")},t}({}),r=function(e){var t=function(){return this.settings={isReady:!1,isWritable:!1,controlCookieName:"__olapicU",controlCookieDays:30,randMaxValue:999,domain:""},this.init=function(t){var n=null;return this.settings.isWritable=e.isBoolean(t)===!0?t:!0,this.settings.isReady===!1&&(this.settings.isReady=!0,n=this.getControlCookie(),null===n&&(n=this.createUniqueCookie())),this},this.setDomain=function(e){this.settings.domain=e},this.createUniqueCookie=function(){var e=arguments[1]||this.uniqueValue(),t="/";return this.create(this.settings.controlCookieName,e,this.settings.controlCookieDays,t),e},this.create=function(e,t,n,i,r){if(this.settings.isWritable===!0){if(null===e||""===e)throw"Cookie name is required";var o=e+"="+escape(t)+";";return n&&(n instanceof Date?isNaN(n.getTime())&&(n=new Date):n=new Date((new Date).getTime()+1e3*parseInt(n,0)*60*60*24),o+="expires="+n.toGMTString()+";"),i&&(o+="path="+i+";"),r?o+="domain="+r+";":""!==this.settings.domain&&(o+="domain="+this.settings.domain+";"),document.cookie=o,o}return!1},this.read=function(e){var t=escape(e)+"=",n=document.cookie.split(";"),i=0,r=null;for(i=0;i<n.length;i++){for(r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return unescape(r.substring(t.length,r.length))}return null},this.invalidate=function(e){return this.create(e,"",-1e3,"/")},this.getControlCookie=function(){var e=this.read(this.settings.controlCookieName);return(null===e||""===e||void 0===e)&&(e=this.createUniqueCookie()),e},this.getControlCookieName=function(){return this.settings.controlCookieName},this.deleteControlCookie=function(){return this.invalidate(this.settings.controlCookieName)},this.uniqueValue=function(){var e=(new Date).getTime();return e+=Math.floor(Math.random()*this.settings.randMaxValue+1)},this};return t}(i),o=function(e,t,n,i,r){var o=function(t){var n=this;this.makeURL=function(e,t,r,o){var a=e.endpoint,s=i.keys(e.query_string),c=s.length;return r===!0&&(a=n.getSetting("cli").settings.baseURI+a),c>0&&(a+="?"),a+=i.serializeObject(e.query_string),t===!0&&(a+=a.indexOf("?")>-1?"&auth_token="+n.getSetting("cli").settings.apikey:"?auth_token="+n.getSetting("cli").settings.apikey),a};var o=i.extend({currentWidgetInstance:null,api_version:"v2",cookiesHandler:new r,abtestingHandler:{settings:{isInitialized:!1},getSetting:function(e){return this.settings[e]},getExperiment:function(){return!0},isInitialized:function(){return!1}},cli:null,mode:"client_side",debugPrefixMessage:"OlapicTracker said: ",console:{doDebug:!0,setDebug:function(e){this.doDebug="boolean"==typeof e?e:!0},sanitizeMessage:function(){this.doDebug===!0&&console.log(arguments[1].message,arguments)}},events:e.get("v2"),abtestingQueryString:"ab_testing",hash_parameter:"instance_hash",custom_make_url:n.makeURL,ab_testing_control:function(){return document.querySelectorAll(".olapic-widget-rendered").length>1}},t);this.setApiVersion=function(t){switch(t.toLowerCase()){case"v1":o.api_version="v1",o.events=e.get("v1");break;default:case"v2":o.api_version="v2",o.events=e.get("v2")}};var a={widgets:{}},s={widgets:{}};return this.setWidgetData=function(e,t,n){i.has(a.widgets,e)||(a.widgets[e]={}),a.widgets[e][t]=n},this._setExcludedData=function(e,t,n){i.has(s.widgets,e)||(s.widgets[e]={}),s.widgets[e][t]=n},this._getExcludedData=function(e,t){var n=null;return t=t||!1,i.has(s.widgets,e)&&(t?i.has(a.widgets[e],t)&&(n=a.widgets[e][t]):n=s.widgets[e]),n},this.getWidgetData=function(e,t){var n=null;return i.has(a.widgets,e)&&i.has(a.widgets[e],t)&&(n=a.widgets[e][t]),n},this.deleteWidgetData=function(e,t){delete a.widgets[e][t]},this.setWidgetEnabled=function(e){i.has(a.widgets,e)?(n.setSetting("currentWidgetInstance",e),n.setWidgetData(e,n.getSetting("hash_parameter"),e)):n.setSetting("currentWidgetInstance",null)},this.setSetting=function(e,t,n){return n="undefined"==typeof n?!0:n===!0,n===!0&&i.has(o,e)?(o[e]=t,!0):!1},this.getSetting=function(e){return i.has(o,e)?o[e]:null},this.hit=function(e){var t=null,i=n.getSetting("debugPrefixMessage"),r={},o=function(){},a=function(){};"object"==typeof arguments[1]?(r=arguments[1],o="function"==typeof arguments[2]?arguments[2]:o,a="function"==typeof arguments[3]?arguments[3]:a):"function"==typeof arguments[1]&&(o=arguments[1],a="function"==typeof arguments[2]?arguments[2]:a),n._cliDefined()?(t=n.generateUrl.call(n,e,r,!0,!1),t!==!1?n.getSetting("cli").read(t,e,o,a):(i+=" hit fail",n._debug(i),a(i))):(i+=" the cli setting is not defined",n._debug(i),a(i))},this.generateUrl=function(e){var t=null,r={},a=n.getSetting("debugPrefixMessage");if(n._cliDefined()){if(l="undefined"==typeof arguments[2]?!1:arguments[2],absolute="undefined"==typeof arguments[3]?!1:arguments[3],i.isNull(n.getSetting("currentWidgetInstance")))return a+=" track on a Non instance",n._debug(a),!1;if(t=n._eventFromPath(e),i.size(t)>0){if(r=n._proccessEndpoint.call(n,t,arguments[1],l),r!==!1){var s=n.getSetting("custom_make_url"),c={api_version:o.api_version};return s(r,l,absolute,c)}}else a+=" unknow event ("+e+")",n._debug(a)}else a+=" the cli setting is not defined",n._debug(a);return!1},this._eventFromPath=function(e){for(var t=e.split("/"),r={},o=0;o<i.size(t);o++)if(r=1>o?n.getSetting("events")[t[o]]:r[t[o]],i.isUndefined(r))return{};return r},this._proccessEndpoint=function(e,t,r){var o=null,s=[],c="",l=null,u=null,p=null,d=[],f=n.getSetting("debugPrefixMessage"),h={endpoint:"",query_string:""};for("client_side"===n.getSetting("mode")?n._readCookiesData():n._setExcludedData(n.getSetting("currentWidgetInstance"),"analytics_id",!0),n._readAbtestingData(),o=i.extend(a.widgets[n.getSetting("currentWidgetInstance")],t),h.endpoint=e.url,h.query_string=e.qs,s=h.endpoint.split("/"),c=h.endpoint,i.has(o,"object_type")&&"best"===o.object_type&&(h.endpoint=h.endpoint.replace("{object_id}/","")),"stream"===o.object_type&&0===Number(o.object_id)&&(h.endpoint=h.endpoint.replace("{object_id}","not_found")),l=0;l<s.length;l++)u=s[l],p=u.replace("{","").replace("}",""),"{"===u.substring(0,1)&&i.has(o,p)&&(h.endpoint=h.endpoint.replace(u,o[p]));return h.query_string=i.completeObject(h.query_string,o),h.query_string=n._controlExcluded(h.query_string),d=i.notEmptyObjectKey(h.query_string),-1==h.endpoint.search("{")&&i.isEmpty(d)?h:(f+=" URL or Query String are wrong on the template:"+c+" ("+h.endpoint+"); empty query strings: "+JSON.stringify(d),n._debug(f),!1)},this._readCookiesData=function(){var e=n.getSetting("cookiesHandler").getControlCookie();null===e&&(e=n.getSetting("cookiesHandler").createUniqueCookie()),n.setWidgetData(n.getSetting("currentWidgetInstance"),"analytics_id",e)},this._readAbtestingData=function(){var e=null;i.isNull(n.getSetting("abtestingHandler"))||n.getSetting("abtestingHandler").isInitialized()!==!0?n._setExcludedData(n.getSetting("currentWidgetInstance"),n.getSetting("abtestingQueryString"),!0):(e=n.getSetting("abtestingHandler").getExperiment(),i.isUndefined(e)&&(e=n.getSetting("ab_testing_control")()?"1":"0"),n.setWidgetData(n.getSetting("currentWidgetInstance"),n.getSetting("abtestingQueryString"),e))},this._cliDefined=function(){return!i.isNull(n.getSetting("cli"))},this._controlExcluded=function(e){var t=this._getExcludedData(n.getSetting("currentWidgetInstance"))||{};if(!i.isEmpty(t))for(var r in t)delete e[r];return e},this._debug=function(e,t){t=i.isNumber(t)?t:1,n.getSetting("console").sanitizeMessage({code:t},{message:e})},{setWidgetData:this.setWidgetData,getWidgetData:this.getWidgetData,setApiVersion:this.setApiVersion,deleteWidgetData:this.deleteWidgetData,setWidgetEnabled:this.setWidgetEnabled,setSetting:this.setSetting,getSetting:this.getSetting,hit:this.hit,generateUrl:this.generateUrl,getExcludedData:this.getExcludedData}};return o}(n,e,t,i,r),a=function(e,t){var n=function(t){var n=this,i={setSetting:null,getSetting:null,enabled:null,disabled:null,getExperiment:null,isInitialized:null},r=e.extend({cookiesHandler:{read:function(){return null},createUniqueCookie:function(){},getControlCookie:function(){},create:function(e,t,n,i,r){}},debugPrefixMessage:"OlapicTracker said: ",console:{doDebug:!0,setDebug:function(e){this.doDebug="boolean"==typeof e?e:!0},sanitizeMessage:function(){this.doDebug===!0&&console.log(arguments)}},cookieName:"__pr_AB_testing",cookieDays:30,cookieDomain:"/",isInitialized:!1,maxExperiments:2},t),o="";return this.setSetting=function(t,n,i){return i="undefined"==typeof i?!0:i===!0,i===!0&&e.has(r,t)?(r[t]=n,!0):!1},i.setSetting=this.setSetting,this.getSetting=function(t){return e.has(r,t)?r[t]:null},i.getSetting=this.getSetting,this.enabled=function(t){n.getSetting("debugPrefixMessage");return n.setSetting("isInitialized",!0),o=n.getSetting("cookiesHandler").read(r.cookieName),(null===o||""===o||e.isNumber(t))&&(o=n._getRandExperiment(t),n.getSetting("cookiesHandler").createUniqueCookie()),o},i.enabled=this.enabled,this._getRandExperiment=function(t){var i=0;return i=e.isNumber(t)?t:Math.floor(Math.random()*n.getSetting("maxExperiments")),n.getSetting("cookiesHandler").create(n.getSetting("cookieName"),i,n.getSetting("cookieDays"),n.getSetting("cookieDomain")),i},this.disabled=function(){return o=0,n.getSetting("cookiesHandler").invalidate(n.getSetting("cookieName")),o},i.disabled=this.disabled,this.getExperiment=function(){return o},i.getExperiment=this.getExperiment,this.isInitialized=function(){return n.getSetting("isInitialized")===!0},i.isInitialized=this.isInitialized,this._debug=function(t,i){i=e.isNumber(i)?i:1,n.getSetting("console").sanitizeMessage({code:i},{message:t})},i};return n}(i,r),"undefined"!=typeof olapicTrackerRequireConf&&OlapicRequireSDK.require.config(olapicTrackerRequireConf),s=function(e,t,n){oTracker=e,oCookies=t,oAbtesting=n}(o,r,a)})}(),OlapicRequireSDK.define("olapic",["OlapicDevKitHandler","OlapicDevKit","toolDebugger","widgetManager","underscore","viewport-tracker","interfaces","jquery","imgCli","track"],function(e,t,n,i,r){window.oQuery=oQuery,window.oQuery.support.cors=!0,_Ounder=r.noConflict(),OlapicSDK.Olapic=function(){var t=_Ounder.isFunction(arguments[0])?arguments[0]:function(){},i=_Ounder.isBoolean(arguments[1])?arguments[1]:!1,r={ab_testing:!1,ab_testingCookieName:_Ounder.isUndefined(OlapicSDK.conf)?"__pr_AB_testing":OlapicSDK.conf.get("trackCookies").abtesting,ab_testingCookieValue:null},o={cookies:{}},a=null,s=null,c=!1;OlapicSDK.debug=new n({0:"General Error {message}",1:"Invalid API key value. More Info: https://olapic1.zendesk.com/hc/en-us/articles/201461164-Widget-instances",2:"Customer already init",3:"Wrong data type {0} expected, {1} given",4:"Widget config not found",5:"deprecated_error_message_5",6:"Unable to find the wrapper element: #{wrapper}. Verify that this element is present in the DOM or use the alternative widget load. More info: https://olapic1.zendesk.com/hc/en-us/articles/203456360",7:"Empty widget id or widget instance. The widget has not been correctly initialized or created. More Info: https://olapic1.zendesk.com/hc/en-us/articles/201461164-Widget-instances",8:"Empty Customer id. The widget has not been correctly initialized or created. More Info: https://olapic1.zendesk.com/hc/en-us/articles/201461164-Widget-instances",9:"deprecated_error_message_9",10:"{objectID} has been already rendered",11:"Network code: {status} ({statusText}) for {url}",12:"Template error, Handlebars said: {message}",13:"Error drawing, the wrapper ({wrapperId}) doesn't exists",14:"Instance in mode {mode}",15:"There are no photos to show",16:"The widget instance or id does not exist. The instance ({id}) is wrong or was deleted. More info: https://olapic1.zendesk.com/hc/en-us/articles/201461164-Widget-instances",17:"A/B testing mode value {value}",18:"No renderization due A/B testing",19:"Network code: {status} ({statusText}) for {url}",20:"{message}"},[0,1,2,3,4,6,7,8,12,16,18],OlapicSDK.conf.get("debugMode")),a=new oCookies;var l=function(e){var t=!0,n=arguments[1]||{};return e.ab_testing=!1,t=this.widgetManager.add(e,n),t===!0&&errors.push(t),t},u=function(e){return this.widgetManager.get(e)},p=function(e){var t=null;return o.hasOwnProperty(e)&&(t=o[e]),t},d=function(e,t){var n="";switch(e){case"v1":n=t?"olapicAnalyticsPixAPI":"olapicAnalyticsAPI";break;default:case"v2":n="olapicAnalyticsV2API"}return OlapicSDK.conf.get(n)},f="",h=function(e,t,n,i){var r="";n=n||!1,n&&(e.endpoint=d(i.api_version,!1)+e.endpoint),r=f.urlAddParameters(e.endpoint,e.query_string);var o="";if(_Ounder.isObject(e.query_string.segments)){for(var a=_Ounder.keys(e.query_string.segments),s=0;s<a.length;s++){var c=a[s],l=e.query_string.segments[c];o+="&segments[]="+encodeURIComponent(c+":"+l)}_Ounder.isEmpty(o)||(r+=o)}return t===!0&&(r=f.urlAddParameters(r,{auth_token:OlapicSDK.conf.get("apikey"),trand:+(new Date).getTime()})),r},g=function(e,t,n,i){var r=d(OlapicSDK.track.getSetting("api_version"),!0)+e.endpoint,o=_Ounder.keys(e.query_string),a=0,s="";a=o.length;for(var c=0;a>c;c++){var l=e.query_string[o[c]],u=o[c];if(_Ounder.isObject(l)){if("segments"===u&&_Ounder.isObject(e.query_string.segments))for(var p=_Ounder.keys(e.query_string.segments),f=0;f<p.length;f++){var h=p[f],g=e.query_string.segments[h];s+="&segments[]="+encodeURIComponent(h+":"+g)}}else s+=(s?"&":"")+u+"="+encodeURIComponent(l)}return t===!0&&(s+="&auth_token="+OlapicSDK.conf.get("apikey"),s+="&trand="+ +(new Date).getTime()),r+="?"+s},m=function(e,t,n,i){for(var r=d(OlapicSDK.track.getSetting("api_version"),!0)+e.endpoint,o=_Ounder.keys(e.query_string),a="",s=0;s<o.length;s++){var c=e.query_string[o[s]],l=o[s];if(_Ounder.isObject(c)){if("segments"===l&&_Ounder.isObject(c))for(var u=_Ounder.keys(c),p=0;p<u.length;p++){var f=u[p],h=c[f];a+="&segments[]="+encodeURIComponent(f+":"+h)}}else a+=(a?"&":"")+l+"="+encodeURIComponent(c)}return t===!0&&(a+="&auth_token="+OlapicSDK.conf.get("apikey")),a+="&trand="+ +(new Date).getTime(),r+=".gif?"+a},v=function(e){var t=e.get("settings").analytics_api_version;return _Ounder.isEmpty(t)&&(t="v2"),t},y=function(e){var t=e.get("settings").olapicU;return"disabled"===t||t===!1},w=function(e,t){var n=new imgCli({apikey:OlapicSDK.conf.get("apikey"),baseURI:d(e,!0)});OlapicSDK.track.setSetting("cli",n,!0),OlapicSDK.track.setSetting("custom_make_url",t,!0)},b=function(e,t){f=OlapicSDK.Tools.createObject(OlapicSDK.network),f.initRest({apiBaseUrl:d(e,!1)}),s=new apiClient(f),s.init(),OlapicSDK.track.setSetting("cli",s,!0),OlapicSDK.track.setSetting("custom_make_url",t,!0)},k=function(e){if(!c){c=!0;var t=new OlapicSDK.olapicInterface.customer(e);e=t.customer,OlapicSDK.track=new oTracker({cookiesHandler:a}),OlapicSDK.track.setSetting("console",{sanitizeMessage:function(e,t){return OlapicSDK.debug.add(e.code,t)}});var n=v(e);OlapicSDK.track.setApiVersion(n);var i=y(e);switch(i?(OlapicSDK.track.setSetting("mode","server_side"),a.init(!1),a.deleteControlCookie(),a.invalidate(r.ab_testingCookieName)):(OlapicSDK.track.setSetting("mode","client_side"),_Ounder.isEmpty(e.get("settings").analytics_cookie_domain)||a.setDomain(e.get("settings").analytics_cookie_domain),a.init(!0)),n){case"v1":i?w(n,g):b(n,h);break;default:case"v2":w(n,m)}abTesting=new oAbtesting,abTesting.setSetting("cookiesHandler",a,!0),OlapicSDK.track.setSetting("cookiesHandler",a,!0),OlapicSDK.track.setSetting("abtestingHandler",abTesting),OlapicSDK.conf.set("customer",e),OlapicSDK.conf.set("customerInterface",t),r.ab_testing=OlapicSDK.conf.get("customer").get("settings").ab_testing||0,1===r.ab_testing?(abTesting.enabled(),(1===abTesting.getExperiment()||"1"===abTesting.getExperiment())&&(OlapicSDK.instance.widgetManager.applyAbTesting=!0)):abTesting.disabled()}},S=function(e){OlapicSDK.devkit.isConnected()?e():OlapicSDK.devkit.connectWithToken(OlapicSDK.conf.get("apikey")).then(function(t){OlapicSDK.instance.processCustomer(t),e()}).fail(function(){OlapicSDK.debug.add(1)})},x=function(e){var t="",n="",i=window.location.protocol;i="file:"===i?"https:":i,"devel"===OlapicEnvironment.environment?(t=i+OlapicSDK.conf.get("olapicCSSBuildPath"),n=document.createElement("link"),n.setAttribute("rel","stylesheet/less"),n.setAttribute("type","text/css"),n.setAttribute("href",t),n.setAttribute("id","olapicsdk_bootstrap_file"),document.getElementsByTagName("head")[0].appendChild(n),"undefined"==typeof OlapicRequireSDK?require([i+OlapicSDK.conf.get("olapicLessDevPath")]):OlapicRequireSDK.require([i+OlapicSDK.conf.get("olapicLessDevPath")])):(t=i+OlapicSDK.conf.get("olapicCSSBuildPath").replace("[version]",e),n=document.createElement("link"),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",t),n.setAttribute("id","olapicsdk_bootstrap_file"),document.getElementsByTagName("head")[0].appendChild(n))},O=function(){OlapicSDK.instance.widgetManager.hasWidgets()||x(OlapicSDK.instance.version)},_=new RegExp("[\\?&]olaApiVersion=([^&#]*)").exec(location.search);null!==_?(_=_[1],window.console.log("Switching to API version "+_)):_=OlapicSDK.conf.get("apiVersion"),OlapicSDK.devkitHandler=new e(OlapicSDK.conf.get("apikey"),_,OlapicSDK.conf.get("olapicApiBaseUrl"),!OlapicSDK.conf.get("devkit")),OlapicSDK.devkit=OlapicSDK.devkitHandler.get(),OlapicSDK.devkitHandler.disableTaggedGalleries(),OlapicSDK.viewPortTracker=new OlapicViewPortTracker,OlapicSDK.olapicInterface=new OlapicSDK["interface"];var D={widgetManager:new OlapicSDK.widgetManager,prepareWidget:l,getWidgetInstance:u,getSetting:p,version:"undefined"!=typeof OlapicVersion?OlapicVersion:"devel",processCustomer:k,connect:S,loadBootrstrapCSS:x};return OlapicSDK.instance=D,i?(t(D),O()):S(function(){t(D),O()}),D}}),"undefined"==typeof OlapicRequireSDK?OlapicRequireSDK.require.config(devRequirejsPaths):OlapicRequireSDK.require.config(requirejsExternalPaths),OlapicRequireSDK.define("widgets",["jquery","olapicSDK","olapic","environment"],function(){if(!(location.search.indexOf("olapicNoRender")>-1)){var e=function(){var e=new RegExp("[\\?&]olaVersion=([^&#]*)").exec(location.search);if(null!==e&&null===document.getElementById("olaversion")){var t=document.createElement("script"),n=null;if("local"===e[1]?n="//debug.photorank.me/sdkjs/dist/build.js":e[1].match(/^v?\d+\.\d+\.\d+$/)?("v"!==e[1][0]&&(e[1]="v"+e[1]),n="//photorankstatics-a.akamaihd.net/static/frontend/"+e[1]+"/build.js"):n="//widgets-tests.photorank.me.s3.amazonaws.com/frontend-build-tests/"+e[1]+"/build.js",null!==n)return t.setAttribute("src",n),t.setAttribute("id","olaversion"),t.setAttribute("async","async"),document.body.appendChild(t),window.console.log("Switching to SDK version "+e[1]),!0}return!1};if(!e()){var t=function(){var e=new RegExp("[\\?&]ihosyBranch=([^&#]*)").exec(location.search);OlapicSDK.conf.set("ihosyBranch",null!==e?e[1]:"",!0)},n=document.getElementsByTagName("script"),i=[],r=0,o={},a=null,s=null;if(0!==document.getElementsByName("photorank:tags").length&&(a=document.getElementsByName("photorank:tags")[0].content),"undefined"!=typeof OlapicEnvironment)for(var c in OlapicEnvironment)OlapicSDK.conf.set(c,OlapicEnvironment[c]);for(OlapicSDK.conf.set("forceRender",window.location.href.indexOf("olapicForceRender")>-1),OlapicSDK.conf.set("preCacheDisabled",window.location.href.indexOf("olapicPreCache")<0),OlapicSDK.conf.set("forceDevMode",window.location.href.indexOf("olapicDevMode")>-1),t(),r=0;r<n.length;r++){var l=n[r].getAttribute("data-olapic");if(null!==l&&void 0!==l){if(s=n[r].getAttribute("data-apikey"),null===s||void 0===s)return;o={id:n[r].getAttribute("data-instance"),apikey:s,
wrapper:"",tags:n[r].getAttribute("data-tags")||a,lang:n[r].getAttribute("data-lang")||"en_US",segments:n[r].getAttribute("data-segments")||{},useOpi:"false"===n[r].getAttribute("data-use-opi")?!1:!0},o.wrapper=l;var u=n[r].getAttribute("data-mode");null!==u&&void 0!==u&&""!==u&&OlapicSDK.conf.set("mode",u),"true"===n[r].getAttribute("data-prevent-ga")&&OlapicSDK.conf.set("useOlapicGA",!1,!0);var p=n[r].getAttribute("data-viewer"),d="";null!==p&&void 0!==p&&(OlapicSDK.conf.set("viewer-asset",p),d=p.match(/assets\/([a-z0-9]+)\/([a-z0-9]+).html/i),OlapicSDK.conf.set("viewer-version",d[2].toLowerCase()));var f=n[r].getAttribute("data-uploader");null!==f&&void 0!==f&&OlapicSDK.conf.set("uploader-asset",f.toLowerCase());var h=n[r].getAttribute("data-uploader-version");null!==h&&void 0!==h&&OlapicSDK.conf.set("uploader-version",h),"true"===n[r].getAttribute("data-precache")&&(OlapicSDK.conf.set("preCacheDisabled",!1,!0),OlapicSDK.conf.set("preCacheByAttr",!0,!0)),OlapicSDK.conf.set("devkit","true"===String(n[r].getAttribute("data-latest")).toLowerCase()),OlapicSDK.conf.set("rights","true"===String(n[r].getAttribute("data-rights")).toLowerCase()),i.push(o)}else{var g=n[r].getAttribute("data-olapic-search-divs"),m=0,v=[],y=null;if(null!==g&&void 0!==g&&"true"===g){if(s=n[r].getAttribute("data-apikey"),null===s||void 0===s)return;for(v=oQuery("div[data-olapic-widget]"),m=0;m<v.length;m++)y=oQuery(v[m]),i.push({id:y.data("olapic-widget"),wrapper:y.attr("id"),apikey:s,tags:y.data("tags")||a,lang:y.data("lang")||"",segments:y.data("segments")||{},useOpi:y.data("use-opi")===!1?!1:!0})}}}i.length>0&&(OlapicSDK.conf.set("apikey",i[0].apikey),window.olapic=window.olapic||new OlapicSDK.Olapic(function(e){for(window.olapic=e,r=0;r<i.length;r++)olapic.prepareWidget(i[r])},!0)),"function"==typeof onOlapicLoad&&onOlapicLoad()}}}),OlapicRequireSDK.require(["widgets"]),$=window.$.noConflict()}(window,void 0,Object);
//# sourceMappingURL=//debug.photorank.me/sdkjs/dist/build.min.js.map