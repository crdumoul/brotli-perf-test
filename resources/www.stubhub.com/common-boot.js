!function(e,n){function t(e,n){try{if("function"!=typeof e)return e;if(!e.bugsnag){var t=o();e.bugsnag=function(r){if(n&&n.eventHandler&&(w=r),N=t,!k){var o=e.apply(this,arguments);return N=null,o}try{return e.apply(this,arguments)}catch(a){throw f("autoNotify",!0)&&(S.notifyException(a,null,null,"error"),h()),a}finally{N=null}},e.bugsnag.bugsnag=e.bugsnag}return e.bugsnag}catch(r){return e}}function r(){R=!1}function o(){var e=document.currentScript||N;if(!e&&R){var n=document.scripts||document.getElementsByTagName("script");e=n[n.length-1]}return e}function a(e){var n=o();n&&(e.script={src:n.src,content:f("inlineScript",!0)?n.innerHTML:""})}function i(n){var t=e.console;void 0!==t&&void 0!==t.log&&t.log("[Bugsnag] "+n)}function u(n,t,r){if(r>=5)return encodeURIComponent(t)+"=[RECURSIVE]";r=r+1||1;try{if(e.Node&&n instanceof e.Node)return encodeURIComponent(t)+"="+encodeURIComponent(y(n));var o=[];for(var a in n)if(n.hasOwnProperty(a)&&null!=a&&null!=n[a]){var i=t?t+"["+a+"]":a,c=n[a];o.push("object"==typeof c?u(c,i,r):encodeURIComponent(i)+"="+encodeURIComponent(c))}return o.join("&")}catch(s){return encodeURIComponent(t)+"="+encodeURIComponent(""+s)}}function c(e,n){if(null==n)return e;e=e||{};for(var t in n)if(n.hasOwnProperty(t))try{e[t]=n[t].constructor===Object?c(e[t],n[t]):n[t]}catch(r){e[t]=n[t]}return e}function s(e,n){e+="?"+u(n)+"&ct=img&cb="+(new Date).getTime();var t=new Image;t.src=e}function l(e){for(var n={},t=/^data\-([\w\-]+)$/,r=e.attributes,o=0;o<r.length;o++){var a=r[o];if(t.test(a.nodeName)){var i=a.nodeName.match(t)[1];n[i]=a.value||a.nodeValue}}return n}function f(e,n){C=C||l(A);var t=void 0!==S[e]?S[e]:C[e.toLowerCase()];return"false"===t&&(t=!1),void 0!==t?t:n}function g(e){return null!=e&&e.match(T)?!0:(i("Invalid API key '"+e+"'"),!1)}function m(n,t){var r=f("apiKey");if(g(r)&&L){L-=1;var o=f("releaseStage"),a=f("notifyReleaseStages");if(a){for(var u=!1,l=0;l<a.length;l++)if(o===a[l]){u=!0;break}if(!u)return}var m=[n.name,n.message,n.stacktrace].join("|");if(m!==E){E=m,w&&(t=t||{},t["Last Event"]=v(w));var d={notifierVersion:H,apiKey:r,projectRoot:f("projectRoot")||e.location.protocol+"//"+e.location.host,context:f("context")||e.location.pathname,userId:f("userId"),user:f("user"),metaData:c(c({},f("metaData")),t),releaseStage:o,appVersion:f("appVersion"),url:e.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:n.severity,name:n.name,message:n.message,stacktrace:n.stacktrace,file:n.file,lineNumber:n.lineNumber,columnNumber:n.columnNumber,payloadVersion:"2"},p=S.beforeNotify;if("function"==typeof p){var y=p(d,d.metaData);if(y===!1)return}return 0===d.lineNumber&&/Script error\.?/.test(d.message)?i("Ignoring cross-domain script error. See https://bugsnag.com/docs/notifiers/js/cors"):void s(f("endpoint")||x,d)}}}function d(){var e,n,t=10,r="[anonymous]";try{throw new Error("")}catch(o){e="<generated>\n",n=p(o)}if(!n){e="<generated-ie>\n";var a=[];try{for(var u=arguments.callee.caller.caller;u&&a.length<t;){var c=B.test(u.toString())?RegExp.$1||r:r;a.push(c),u=u.caller}}catch(s){i(s)}n=a.join("\n")}return e+n}function p(e){return e.stack||e.backtrace||e.stacktrace}function v(e){var n={millisecondsAgo:new Date-e.timeStamp,type:e.type,which:e.which,target:y(e.target)};return n}function y(e){if(e){var n=e.attributes;if(n){for(var t="<"+e.nodeName.toLowerCase(),r=0;r<n.length;r++)n[r].value&&"null"!=n[r].value.toString()&&(t+=" "+n[r].name+'="'+n[r].value+'"');return t+">"}return e.nodeName}}function h(){I+=1,e.setTimeout(function(){I-=1})}function b(e,n,t){var r=e[n],o=t(r);e[n]=o}var w,N,E,S={},k=!0,I=0,L=10;S.noConflict=function(){return e.Bugsnag=n,S},S.refresh=function(){L=10},S.notifyException=function(e,n,t,r){n&&"string"!=typeof n&&(t=n,n=void 0),t||(t={}),a(t),m({name:n||e.name,message:e.message||e.description,stacktrace:p(e)||d(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line,columnNumber:e.columnNumber?e.columnNumber+1:void 0,severity:r||"warning"},t)},S.notify=function(n,t,r,o){m({name:n,message:t,stacktrace:d(),file:e.location.toString(),lineNumber:1,severity:o||"warning"},r)};var R="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!0),e.addEventListener("load",r,!0)):e.attachEvent("onload",r);var C,T=/^[0-9a-f]{32}$/i,B=/function\s*([\w\-$]+)?\s*\(/i,j="https://notify.bugsnag.com/",x=j+"js",H="2.4.6",U=document.getElementsByTagName("script"),A=U[U.length-1];if(e.atob){if(e.ErrorEvent)try{0===new e.ErrorEvent("test").colno&&(k=!1)}catch(D){}}else k=!1;if(f("autoNotify",!0)){b(e,"onerror",function(n){return function(t,r,o,i,u){var c=f("autoNotify",!0),s={};!i&&e.event&&(i=e.event.errorCharacter),a(s),N=null,c&&!I&&m({name:u&&u.name||"window.onerror",message:t,file:r,lineNumber:o,columnNumber:i,stacktrace:u&&p(u)||d(),severity:"error"},s),n&&n(t,r,o,i,u)}});var M=function(e){return function(n,r){if("function"==typeof n){n=t(n);var o=Array.prototype.slice.call(arguments,2);return e(function(){n.apply(this,o)},r)}return e(n,r)}};b(e,"setTimeout",M),b(e,"setInterval",M),e.requestAnimationFrame&&b(e,"requestAnimationFrame",function(e){return function(n){return e(t(n))}}),e.setImmediate&&b(e,"setImmediate",function(e){return function(){var n=Array.prototype.slice.call(arguments);return n[0]=t(n[0]),e.apply(this,n)}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(n){var r=e[n]&&e[n].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(b(r,"addEventListener",function(e){return function(n,r,o,a){return r&&r.handleEvent&&(r.handleEvent=t(r.handleEvent,{eventHandler:!0})),e.call(this,n,t(r,{eventHandler:!0}),o,a)}}),b(r,"removeEventListener",function(e){return function(n,r,o,a){return e.call(this,n,r,o,a),e.call(this,n,t(r),o,a)}}))})}e.Bugsnag=S,"function"==typeof define&&define.amd?define("common-boot.js",[],function(){return S}):"object"==typeof module&&"object"==typeof module.exports&&(module.exports=S)}(window,window.Bugsnag),window.Bugsnag&&(SH.bugsnag&&SH.bugsnag.apikey&&(window.Bugsnag.apiKey=SH.bugsnag.apikey),window.location.host.indexOf("stubhub")>-1?window.Bugsnag.releaseStage="production":window.Bugsnag.releaseStage="development");