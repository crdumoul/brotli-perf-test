(function(e){var t="selectric",n=function(e){var t,n="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" ");for(t in n){if(!n.hasOwnProperty(t))continue;e=e.toLowerCase().replace(RegExp("["+n[t]+"]","g"),"aeiouncy".charAt(t))}return e},r=function(r,i){function P(){var r=f.children();_$li="<ul>",selectedIndex=r.filter(":"+C).index();L=k=~selectedIndex?selectedIndex:0;if(_=r.length){r.each(function(t){var r=e(this),s=r.html(),o=r.prop("disabled");d[t]={object:r,value:r.val(),text:s,slug:n(s),disabled:o};_$li+='<li class="'+(t==L?C:"")+(t==_-1?" last":"")+(o?" disabled":"")+'">';if(i.template.length){_$li+=i.template(r)}else{_$li+=s}_$li+="</li>"});h.html(_$li+"</ul>");if(i.selectedTemplate.length){m.html(i.selectedTemplate(d[L].object))}else if(i.template.length){m.html(i.template(d[L].object))}else{m.html(d[L].text)}}c.add(f).off(y);p.data(t,true).prop("class",[u[6],f.prop("class"),T,i.responsive?u[8]:""].join(" "));if(!f.prop("disabled")){p.removeClass(T).hover(function(){e(this).toggleClass(u[7])});i.openOnHover&&c.on("mouseenter"+y,B);c.on(E,function(e){v?F():B(e)});function s(e){if(/^(9|13|27)$/.test(e.keyCode||e.which)){e.stopPropagation();I(k,true)}}l.off().on({keypress:s,keydown:function(e){s(e);clearTimeout(S);S=setTimeout(function(){l.val("")},i.keySearchTimeout);var t=e.keyCode||e.which;if(t>36&&t<41)I(t<39?U():R())},focusin:function(e){l.one("blur",function(){l.blur()});v||B(e)}}).on(D,function(){if(l.val().length){e.each(d,function(e,t){if(RegExp("^"+l.val(),"i").test(t.slug)&&!t.disabled){I(e);return false}})}});g=e("li",h.removeAttr("style")).click(function(){I(e(this).index(),true);return false})}else l.prop("disabled",true)}function H(){var e=h.closest(":visible").children(":hidden"),t=i.maxHeight;e.addClass(N);var n=h.outerWidth(),r=c.outerWidth()-(n-h.width());if(!i.expandToItemText||r>n)M=r;else{h.css("overflow","scroll");p.width(9e4);M=n;h.css("overflow","");p.width("")}h.width(M).height()>t&&h.height(t);e.removeClass(N)}function B(t){t.preventDefault();t.stopPropagation();H();e("."+x).removeClass(x);v=true;A=h.outerHeight();j();l.val("").is(":focus")||l.focus();b.on(E,F);if(i.openOnHover){clearTimeout(O);p.one("mouseleave"+y,function(){O=setTimeout(F,500)})}p.addClass(x);q(k);i.onOpen(r)}function j(){if(v){H();h.css("top",p.offset().top+p.outerHeight()+A>w.scrollTop()+w.height()?-A:"");setTimeout(j,100)}}function F(e){if(!e&&L!=k){var t=d[k].text;f.prop("selectedIndex",L=k).data("value",t).trigger("change",[t,L]);i.onChange(r);if(i.selectedTemplate.length){m.html(i.selectedTemplate(d[k].object))}else if(i.template.length){m.html(i.template(d[k].object))}else{m.html(t)}}b.off(y);p.removeClass(x);v=false;i.onClose(r)}function I(e,t){if(!d[k=e].disabled){g.removeClass(C).eq(e).addClass(C);q(e);t&&F()}}function q(e){var t=g.eq(e).outerHeight(),n=g[e].offsetTop,r=h.scrollTop(),i=n+t*2;h.scrollTop(i>r+A?i-A:n-t<r?n-t:r)}function R(e){if(d[e=(k+1)%_].disabled)while(d[e=(e+1)%_].disabled){}return e}function U(e){if(d[e=(k>0?k:_)-1].disabled)while(d[e=(e>0?e:_)-1].disabled){}return e}var i=e.extend({onOpen:e.noop,onClose:e.noop,onChange:e.noop,template:e.noop,selectedTemplate:e.noop,maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:true,openOnHover:false,expandToItemText:false,responsive:false,customClass:{prefix:"selectric",postfixes:"Input Items Open Disabled TempShow HideSelect Wrapper Hover Responsive",camelCase:true}},i),s=i.customClass,o=s.postfixes.split(" "),u=[],a;if(i.disableOnMobile&&/android|ip(hone|od|ad)/i.test(navigator.userAgent))return;while(a=o.shift())u.push(s.camelCase?s.prefix+a:(s.prefix+a).replace(/([A-Z])/g,"-$&").toLowerCase());var f=e(r),l=e('<input type="text" class="'+u[0]+'"/>'),c=e('<div class="'+s.prefix+'"><p class="label"/>'+i.arrowButtonMarkup+"</div>"),h=e('<div class="'+u[1]+'" tabindex="-1"></div>'),p=f.data(t,true).wrap("<div>").parent().append(c.add(h).add(l)),d=[],v,m=e(".label",c),g,y=".sl",b=e(document),w=e(window),E="click"+y,S,x=u[2],T=u[3],N=u[4],C="selected",k,L,A,O,M,_,D="oninput"in l[0]?"input":"keyup";f.wrap('<div class="'+u[5]+'">');P();f.on({refresh:P,destroy:function(){h.add(c).add(l).remove();f.removeData(t).removeData("value").off(y+" refresh destroy open close").unwrap().unwrap()},open:B,close:F})};e.fn[t]=function(n,i){return this.each(function(){if(!e(this).data(t))r(this,n||i);else if(""+n===n)e(this).trigger(n)})}})(jQuery)