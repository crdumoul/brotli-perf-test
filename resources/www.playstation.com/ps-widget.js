var PriceSpider;!function(a){var b;!function(a){function b(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;++b){var c=a[b];if(c.src.indexOf("ps-widget")>=0)return c.src.substr(0,c.src.lastIndexOf("/")+1)}}function c(a){for(var b=document.head.getElementsByTagName("meta"),c=0;c<b.length;++c){var d=b[c],e=d.getAttribute("name");if(e===a)return d.getAttribute("content")}}function d(a,b){return c(a)||n[a]||b}function e(a,b){void 0===b&&(b=!1);var c=d(a);if(c){var e=g(c);if(void 0!==e)return e}return b}function f(a,b){void 0===a&&(a=!0),void 0===b&&(b=!0);var c={};if(a&&window.location.search.length>1){var d=window.location.search.substring(1),e=d.indexOf("&")>0?d.split("&"):[d];h(e,c)}if(b&&window.location.hash){var d=window.location.hash.substring(1),e=d.indexOf("&")>0?d.split("&"):[d];h(e,c)}return c}function g(a){return a=a.toLowerCase(),"true"===a||"yes"===a?!0:"false"===a||"no"===a?!1:void 0}function h(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.indexOf("="),f=e>=0?d.substr(0,e):d,g=e>=0?d.substr(e+1):void 0;b.hasOwnProperty(f)||"function"==typeof f?b[f]instanceof Array?b[f].push(g):b[f]=[b[f],g]:b[f]=g}}function i(a,b){var c=document.createElement("script");return c.src=a,c.type="text/javascript",c.charset="UTF-8",j(a,c,b)}function j(a,b,c){return void 0===b.readyState?(b.onload=function(){return c(null,null)},b.onerror=function(){return c(k(a),null)}):b.onreadystatechange=function(){("loaded"==b.readyState||"complete"==b.readyState)&&(b.onreadystatechange=null,c(null,null))},document.body?document.body.appendChild(b):document.head.appendChild(b),l("GET",a),b}function k(a){var b=new Error("Not found");return b.name="LibraryLoader.loadScript",b.url=a,b.status=404,b}function l(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];o&&console.log.apply(console,a)}function m(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];o&&console.error.apply(console,a)}var n=f(),o=e("ps-trace",!1);a.getCodebaseUrl=b,a.getMetaParam=c,a.getParam=d,a.getParamBoolean=e,a.getUrlParams=f,a.loadScript=i,a.trace=l,a.error=m}(b=a.LibraryLoader||(a.LibraryLoader={}))}(PriceSpider||(PriceSpider={}));var PriceSpider;!function(a){function b(a,b){var d=c.handler;c.element&&c.element.parentElement.removeChild(c.element),c.element=void 0,c.handler=void 0,d&&d(null,b)}var c;!function(b){function c(c,d){b.handler=d,b.element=a.LibraryLoader.loadScript(c,function(a){a&&d(a,null)})}b.element,b.handler,b.load=c}(c=a.Jsonp||(a.Jsonp={})),a.onload=b}(PriceSpider||(PriceSpider={}));var PriceSpider;!function(a){function b(b){PriceSpider.hasOwnProperty("WidgetBinder")?PriceSpider.WidgetBinder.insert(b):a.deferredWidgets.push(b)}function c(){PriceSpider.hasOwnProperty("WidgetBinder")&&PriceSpider.WidgetBinder.bind()}a.version,a.debug,a.account,a.deferredWidgets=[],a.insertWidget=b,a.rebind=c}(PriceSpider||(PriceSpider={}));var PriceSpider;!function(a){var b;!function(b){function c(){var a=b.getMetaParam("ps-account");return a?parseInt(a):null}function d(b,c){var d=f+b+"/config.js";a.Jsonp.load(d,function(d,e){d||(a.account=e,a.account.id=b,a.account.version||(a.account.version=null),a.account.configs||(a.account.configs=[])),c(d,null)})}function e(){if(a.version){var c;c=a.debug?g+a.version+"/debug/ps-widget.js":g+a.version+"/ps-widget.js",b.loadScript(c,function(c){c?b.error("Failed to load library ps-version="+a.version,c):b.trace("Loaded library ps-version="+a.version)})}else b.error("Unable to load library, missing or invalid library version")}var f="https://cdn.pricespider.com/1/",g=b.getCodebaseUrl();a.debug=b.getParamBoolean("ps-debug",!1);var h=c();h?(b.trace("ps-account="+h),d(h,function(c){if(c)b.error("Unable to load library, failed to load account configuration ps-account="+h,c);else{var d=b.getParam("ps-version");d?a.version=d:a.version=a.account.version,e()}})):b.error("Unable to load library, missing or invalid ps-account meta tag")}(b=a.LibraryLoader||(a.LibraryLoader={}))}(PriceSpider||(PriceSpider={}));
//# sourceMappingURL=ps-widget.js.map