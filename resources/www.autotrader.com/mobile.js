!function(n){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=c),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=n.extend({},n.fn.swipe.defaults,t),this.each(function(){var r=n(this),i=r.data(m);i||(i=new e(this,t),r.data(m,i))})}function e(t,e){function L(t){if(!(lt()||n(t.target).closest(e.excludedElements,Ct).length>0)){var r,i=t.originalEvent?t.originalEvent:t,u=y?i.touches[0]:i;return Wt=S,y?qt=i.touches.length:t.preventDefault(),It=0,Nt=null,Xt=null,Ut=0,Ht=0,_t=0,jt=1,Qt=0,Ft=pt(),Yt=dt(),ut(),!y||qt===e.fingers||e.fingers===T||Y()?(ct(0,u),Vt=yt(),2==qt&&(ct(1,i.touches[1]),Ht=_t=Tt(Ft[0].start,Ft[1].start)),(e.swipeStatus||e.pinchStatus)&&(r=I(i,Wt))):r=!1,r===!1?(Wt=x,I(i,Wt),r):void at(!0)}}function M(n){var t=n.originalEvent?n.originalEvent:n;if(Wt!==O&&Wt!==x&&!ot()){var r,i=y?t.touches[0]:t,u=st(i);if(zt=yt(),y&&(qt=t.touches.length),Wt=E,2==qt&&(0==Ht?(ct(1,t.touches[1]),Ht=_t=Tt(Ft[0].start,Ft[1].start)):(st(t.touches[1]),_t=Tt(Ft[0].end,Ft[1].end),Xt=St(Ft[0].end,Ft[1].end)),jt=bt(Ht,_t),Qt=Math.abs(Ht-_t)),qt===e.fingers||e.fingers===T||!y||Y()){if(Nt=xt(u.start,u.end),Q(n,Nt),It=Et(u.start,u.end),Ut=vt(),ft(Nt,It),(e.swipeStatus||e.pinchStatus)&&(r=I(t,Wt)),!e.triggerOnTouchEnd||e.triggerOnTouchLeave){var o=!0;if(e.triggerOnTouchLeave){var l=mt(this);o=Lt(u.end,l)}!e.triggerOnTouchEnd&&o?Wt=A(E):e.triggerOnTouchLeave&&!o&&(Wt=A(O)),(Wt==x||Wt==O)&&I(t,Wt)}}else Wt=x,I(t,Wt);r===!1&&(Wt=x,I(t,Wt))}}function D(n){var t=n.originalEvent;return y&&t.touches.length>0?(it(),!0):(ot()&&(qt=Zt),n.preventDefault(),zt=yt(),Ut=vt(),H()?(Wt=x,I(t,Wt)):e.triggerOnTouchEnd||0==e.triggerOnTouchEnd&&Wt===E?(Wt=O,I(t,Wt)):!e.triggerOnTouchEnd&&G()?(Wt=O,N(t,Wt,f)):Wt===E&&(Wt=x,I(t,Wt)),void at(!1))}function P(){qt=0,zt=0,Vt=0,Ht=0,_t=0,jt=1,ut(),at(!1)}function R(n){var t=n.originalEvent;e.triggerOnTouchLeave&&(Wt=A(O),I(t,Wt))}function k(){Ct.unbind(Dt,L),Ct.unbind(At,P),Ct.unbind(Pt,M),Ct.unbind(Rt,D),kt&&Ct.unbind(kt,R),at(!1)}function A(n){var t=n,r=j(),i=U(),u=H();return!r||u?t=x:!i||n!=E||e.triggerOnTouchEnd&&!e.triggerOnTouchLeave?!i&&n==O&&e.triggerOnTouchLeave&&(t=x):t=O,t}function I(n,t){var e=void 0;return F()||q()?e=N(n,t,h):(C()||Y())&&e!==!1&&(e=N(n,t,p)),et()&&e!==!1?e=N(n,t,g):rt()&&e!==!1?e=N(n,t,d):tt()&&e!==!1&&(e=N(n,t,f)),t===x&&P(n),t===O&&(y?0==n.touches.length&&P(n):P(n)),e}function N(t,c,s){var w=void 0;if(s==h){if(Ct.trigger("swipeStatus",[c,Nt||null,It||0,Ut||0,qt]),e.swipeStatus&&(w=e.swipeStatus.call(Ct,t,c,Nt||null,It||0,Ut||0,qt),w===!1))return!1;if(c==O&&W()){if(Ct.trigger("swipe",[Nt,It,Ut,qt]),e.swipe&&(w=e.swipe.call(Ct,t,Nt,It,Ut,qt),w===!1))return!1;switch(Nt){case r:Ct.trigger("swipeLeft",[Nt,It,Ut,qt]),e.swipeLeft&&(w=e.swipeLeft.call(Ct,t,Nt,It,Ut,qt));break;case i:Ct.trigger("swipeRight",[Nt,It,Ut,qt]),e.swipeRight&&(w=e.swipeRight.call(Ct,t,Nt,It,Ut,qt));break;case u:Ct.trigger("swipeUp",[Nt,It,Ut,qt]),e.swipeUp&&(w=e.swipeUp.call(Ct,t,Nt,It,Ut,qt));break;case o:Ct.trigger("swipeDown",[Nt,It,Ut,qt]),e.swipeDown&&(w=e.swipeDown.call(Ct,t,Nt,It,Ut,qt))}}}if(s==p){if(Ct.trigger("pinchStatus",[c,Xt||null,Qt||0,Ut||0,qt,jt]),e.pinchStatus&&(w=e.pinchStatus.call(Ct,t,c,Xt||null,Qt||0,Ut||0,qt,jt),w===!1))return!1;if(c==O&&X())switch(Xt){case l:Ct.trigger("pinchIn",[Xt||null,Qt||0,Ut||0,qt,jt]),e.pinchIn&&(w=e.pinchIn.call(Ct,t,Xt||null,Qt||0,Ut||0,qt,jt));break;case a:Ct.trigger("pinchOut",[Xt||null,Qt||0,Ut||0,qt,jt]),e.pinchOut&&(w=e.pinchOut.call(Ct,t,Xt||null,Qt||0,Ut||0,qt,jt))}}return s==f?(c===x||c===O)&&(clearTimeout(Jt),Z()&&!K()?(Bt=yt(),Jt=setTimeout(n.proxy(function(){Bt=null,Ct.trigger("tap",[t.target]),e.tap&&(w=e.tap.call(Ct,t,t.target))},this),e.doubleTapThreshold)):(Bt=null,Ct.trigger("tap",[t.target]),e.tap&&(w=e.tap.call(Ct,t,t.target)))):s==g?(c===x||c===O)&&(clearTimeout(Jt),Bt=null,Ct.trigger("doubletap",[t.target]),e.doubleTap&&(w=e.doubleTap.call(Ct,t,t.target))):s==d&&(c===x||c===O)&&(clearTimeout(Jt),Bt=null,Ct.trigger("longtap",[t.target]),e.longTap&&(w=e.longTap.call(Ct,t,t.target))),w}function U(){var n=!0;return null!==e.threshold&&(n=It>=e.threshold),n}function H(){var n=!1;return null!==e.cancelThreshold&&null!==Nt&&(n=gt(Nt)-It>=e.cancelThreshold),n}function _(){return null!==e.pinchThreshold?Qt>=e.pinchThreshold:!0}function j(){var n;return n=e.maxTimeThreshold&&Ut>=e.maxTimeThreshold?!1:!0}function Q(n,t){if(e.allowPageScroll===c||Y())n.preventDefault();else{var l=e.allowPageScroll===s;switch(t){case r:(e.swipeLeft&&l||!l&&e.allowPageScroll!=w)&&n.preventDefault();break;case i:(e.swipeRight&&l||!l&&e.allowPageScroll!=w)&&n.preventDefault();break;case u:(e.swipeUp&&l||!l&&e.allowPageScroll!=v)&&n.preventDefault();break;case o:(e.swipeDown&&l||!l&&e.allowPageScroll!=v)&&n.preventDefault()}}}function X(){var n=V(),t=z(),e=_();return n&&t&&e}function Y(){return!!(e.pinchStatus||e.pinchIn||e.pinchOut)}function C(){return!(!X()||!Y())}function W(){var n=j(),t=U(),e=V(),r=z(),i=H(),u=!i&&r&&e&&t&&n;return u}function q(){return!!(e.swipe||e.swipeStatus||e.swipeLeft||e.swipeRight||e.swipeUp||e.swipeDown)}function F(){return!(!W()||!q())}function V(){return qt===e.fingers||e.fingers===T||!y}function z(){return 0!==Ft[0].end.x}function G(){return!!e.tap}function Z(){return!!e.doubleTap}function B(){return!!e.longTap}function J(){if(null==Bt)return!1;var n=yt();return Z()&&n-Bt<=e.doubleTapThreshold}function K(){return J()}function $(){return!(1!==qt&&y||!isNaN(It)&&0!==It)}function nt(){return Ut>e.longTapThreshold&&b>It}function tt(){return!(!$()||!G())}function et(){return!(!J()||!Z())}function rt(){return!(!nt()||!B())}function it(){Gt=yt(),Zt=event.touches.length+1}function ut(){Gt=0,Zt=0}function ot(){var n=!1;if(Gt){var t=yt()-Gt;t<=e.fingerReleaseThreshold&&(n=!0)}return n}function lt(){return!(Ct.data(m+"_intouch")!==!0)}function at(n){n===!0?(Ct.bind(Pt,M),Ct.bind(Rt,D),kt&&Ct.bind(kt,R)):(Ct.unbind(Pt,M,!1),Ct.unbind(Rt,D,!1),kt&&Ct.unbind(kt,R,!1)),Ct.data(m+"_intouch",n===!0)}function ct(n,t){var e=void 0!==t.identifier?t.identifier:0;return Ft[n].identifier=e,Ft[n].start.x=Ft[n].end.x=t.pageX||t.clientX,Ft[n].start.y=Ft[n].end.y=t.pageY||t.clientY,Ft[n]}function st(n){var t=void 0!==n.identifier?n.identifier:0,e=ht(t);return e.end.x=n.pageX||n.clientX,e.end.y=n.pageY||n.clientY,e}function ht(n){for(var t=0;t<Ft.length;t++)if(Ft[t].identifier==n)return Ft[t]}function pt(){for(var n=[],t=0;5>=t;t++)n.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return n}function ft(n,t){t=Math.max(t,gt(n)),Yt[n].distance=t}function gt(n){return Yt[n].distance}function dt(){var n={};return n[r]=wt(r),n[i]=wt(i),n[u]=wt(u),n[o]=wt(o),n}function wt(n){return{direction:n,distance:0}}function vt(){return zt-Vt}function Tt(n,t){var e=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y);return Math.round(Math.sqrt(e*e+r*r))}function bt(n,t){var e=t/n*1;return e.toFixed(2)}function St(){return 1>jt?a:l}function Et(n,t){return Math.round(Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)))}function Ot(n,t){var e=n.x-t.x,r=t.y-n.y,i=Math.atan2(r,e),u=Math.round(180*i/Math.PI);return 0>u&&(u=360-Math.abs(u)),u}function xt(n,t){var e=Ot(n,t);return 45>=e&&e>=0?r:360>=e&&e>=315?r:e>=135&&225>=e?i:e>45&&135>e?o:u}function yt(){var n=new Date;return n.getTime()}function mt(t){t=n(t);var e=t.offset(),r={left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()};return r}function Lt(n,t){return n.x>t.left&&n.x<t.right&&n.y>t.top&&n.y<t.bottom}var Mt=y||!e.fallbackToMouseEvents,Dt=Mt?"touchstart":"mousedown",Pt=Mt?"touchmove":"mousemove",Rt=Mt?"touchend":"mouseup",kt=Mt?null:"mouseleave",At="touchcancel",It=0,Nt=null,Ut=0,Ht=0,_t=0,jt=1,Qt=0,Xt=0,Yt=null,Ct=n(t),Wt="start",qt=0,Ft=null,Vt=0,zt=0,Gt=0,Zt=0,Bt=0,Jt=null;try{Ct.bind(Dt,L),Ct.bind(At,P)}catch(Kt){n.error("events not supported "+Dt+","+At+" on jQuery.swipe")}this.enable=function(){return Ct.bind(Dt,L),Ct.bind(At,P),Ct},this.disable=function(){return k(),Ct},this.destroy=function(){return k(),Ct.data(m,null),Ct},this.option=function(t,r){if(void 0!==e[t]){if(void 0===r)return e[t];e[t]=r}else n.error("Option "+t+" does not exist on jQuery.swipe.options")}}var r="left",i="right",u="up",o="down",l="in",a="out",c="none",s="auto",h="swipe",p="pinch",f="tap",g="doubletap",d="longtap",w="horizontal",v="vertical",T="all",b=10,S="start",E="move",O="end",x="cancel",y="ontouchstart"in window,m="TouchSwipe",L={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"};n.fn.swipe=function(e){var r=n(this),i=r.data(m);if(i&&"string"==typeof e){if(i[e])return i[e].apply(this,Array.prototype.slice.call(arguments,1));n.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(i||"object"!=typeof e&&e))return t.apply(this,arguments);return r},n.fn.swipe.defaults=L,n.fn.swipe.phases={PHASE_START:S,PHASE_MOVE:E,PHASE_END:O,PHASE_CANCEL:x},n.fn.swipe.directions={LEFT:r,RIGHT:i,UP:u,DOWN:o,IN:l,OUT:a},n.fn.swipe.pageScroll={NONE:c,HORIZONTAL:w,VERTICAL:v,AUTO:s},n.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:T}}(jQuery);