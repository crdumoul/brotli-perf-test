(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t,n){t=k(t);var r=[],i=[];return T(e,function(e){(t.call(n,e)?r:i).push(e)}),[r,i]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}).call(this),function(){var e=this,t=e.Backbone,n=Array.prototype.slice,r=Array.prototype.splice,i;typeof exports!="undefined"?i=exports:i=e.Backbone={},i.VERSION="0.9.2";var s=e._;!s&&typeof require!="undefined"&&(s=require("underscore"));var o=e.jQuery||e.Zepto||e.ender;i.setDomLibrary=function(e){o=e},i.noConflict=function(){return e.Backbone=t,this},i.emulateHTTP=!1,i.emulateJSON=!1;var u=/\s+/,a=i.Events={on:function(e,t,n){var r,i,s,o,a;if(!t)return this;e=e.split(u),r=this._callbacks||(this._callbacks={});while(i=e.shift())a=r[i],s=a?a.tail:{},s.next=o={},s.context=n,s.callback=t,r[i]={tail:o,next:a?a.next:s};return this},off:function(e,t,n){var r,i,o,a,f,l;if(!(i=this._callbacks))return;if(!(e||t||n))return delete this._callbacks,this;e=e?e.split(u):s.keys(i);while(r=e.shift()){o=i[r],delete i[r];if(!o||!t&&!n)continue;a=o.tail;while((o=o.next)!==a)f=o.callback,l=o.context,(t&&f!==t||n&&l!==n)&&this.on(r,f,l)}return this},trigger:function(e){var t,r,i,s,o,a,f;if(!(i=this._callbacks))return this;a=i.all,e=e.split(u),f=n.call(arguments,1);while(t=e.shift()){if(r=i[t]){s=r.tail;while((r=r.next)!==s)r.callback.apply(r.context||this,f)}if(r=a){s=r.tail,o=[t].concat(f);while((r=r.next)!==s)r.callback.apply(r.context||this,o)}}return this}};a.bind=a.on,a.unbind=a.off;var f=i.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e));if(n=C(this,"defaults"))e=s.extend({},n,e);t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=s.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=s.clone(this.attributes),this.initialize.apply(this,arguments)};s.extend(f.prototype,a,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=s.escape(n==null?"":""+n)},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n||(n={});if(!r)return this;r instanceof f&&(r=r.attributes);if(n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var u=n.changes={},a=this.attributes,l=this._escapedAttributes,c=this._previousAttributes||{};for(i in r){o=r[i];if(!s.isEqual(a[i],o)||n.unset&&s.has(a,i))delete l[i],(n.silent?this._silent:u)[i]=!0;n.unset?delete a[i]:a[i]=o,!s.isEqual(c[i],o)||s.has(a,i)!=s.has(c,i)?(this.changed[i]=o,n.silent||(this._pending[i]=!0)):(delete this.changed[i],delete this._pending[i])}return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(s.clone(this.attributes),e)},fetch:function(e){e=e?s.clone(e):{};var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},save:function(e,t,n){var r,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n=n?s.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;o=s.clone(this.attributes)}var u=s.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?u:n))return!1;var a=this,f=n.success;n.success=function(e,t,i){var o=a.parse(e,i);n.wait&&(delete n.wait,o=s.extend(r||{},o));if(!a.set(o,n))return!1;f?f(a,e):a.trigger("sync",a,e,n)},n.error=i.wrapError(n.error,a,n);var l=this.isNew()?"create":"update",c=(this.sync||i.sync).call(this,l,this,n);return n.wait&&this.set(o,u),c},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(this.isNew())return r(),!1;e.success=function(i){e.wait&&r(),n?n(t,i):t.trigger("sync",t,i,e)},e.error=i.wrapError(e.error,t,e);var o=(this.sync||i.sync).call(this,"delete",this,e);return e.wait||r(),o},url:function(){var e=C(this,"urlRoot")||C(this.collection,"url")||k();return this.isNew()?e:e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=s.extend({},e.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;while(!s.isEmpty(this._pending)){this._pending={},this.trigger("change",this,e);for(var n in this.changed){if(this._pending[n]||this._silent[n])continue;delete this.changed[n]}this._previousAttributes=s.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?s.has(this.changed,e):!s.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(s.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var l=i.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};s.extend(l.prototype,a,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,o,u,a,f,l={},c={},h=[];t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,o=e.length;n<o;n++){if(!(u=e[n]=this._prepareModel(e[n],t)))throw new Error("Can't add an invalid model to a collection");a=u.cid,f=u.id;if(l[a]||this._byCid[a]||f!=null&&(c[f]||this._byId[f])){h.push(n);continue}l[a]=c[f]=u}n=h.length;while(n--)e.splice(h[n],1);for(n=0,o=e.length;n<o;n++)(u=e[n]).on("all",this._onModelEvent,this),this._byCid[u.cid]=u,u.id!=null&&(this._byId[u.id]=u);this.length+=o,i=t.at!=null?t.at:this.models.length,r.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0});if(t.silent)return this;for(n=0,o=this.models.length;n<o;n++){if(!l[(u=this.models[n]).cid])continue;t.index=n,u.trigger("add",u,this,t)}return this},remove:function(e,t){var n,r,i,o;t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){o=this.getByCid(e[n])||this.get(e[n]);if(!o)continue;delete this._byId[o.id],delete this._byCid[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return s.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){e||(e={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=s.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return s.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?s.clone(e):{},e.parse===undefined&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},create:function(e,t){var n=this;t=t?s.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(i,s,o){t.wait&&n.add(i,t),r?r(i,s):i.trigger("sync",e,s,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return s(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){t||(t={});if(e instanceof f)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e=="add"||e=="remove")&&n!=this)return;e=="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments)}});var c=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];s.each(c,function(e){l.prototype[e]=function(){return s[e].apply(s,[this.models].concat(s.toArray(arguments)))}});var h=i.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/:\w+/g,d=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(h.prototype,a,{initialize:function(){},route:function(e,t,n){return i.history||(i.history=new m),s.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),i.history.route(e,s.bind(function(r){var s=this._extractParameters(e,r);n&&n.apply(this,s),this.trigger.apply(this,["route:"+t].concat(s)),i.history.trigger("route",this,t,s)},this)),this},navigate:function(e,t){i.history.navigate(e,t)},_bindRoutes:function(){if(!this.routes)return;var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;n<r;n++)this.route(e[n][0],e[n][1],this[e[n][1]])},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(p,"([^/]+)").replace(d,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var m=i.History=function(){this.handlers=[],s.bindAll(this,"checkUrl")},g=/^[#\/]/,y=/msie [\w.]+/;m.started=!1,s.extend(m.prototype,a,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(g,"")},start:function(e){if(m.started)throw new Error("Backbone.history has already been started");m.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,r=y.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);r&&(this.iframe=o('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=window.location,u=i.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!u)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&u&&i.hash&&(this.fragment=this.getHash().replace(g,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){o(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t==this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!m.started)return!1;if(!t||t===!0)t={trigger:t};var n=(e||"").replace(g,"");if(this.fragment==n)return;this._hasPushState?(n.indexOf(this.options.root)!=0&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var b=i.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName"];s.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&o(r).attr(t),n&&o(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o?e:o(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=C(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];s.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(w),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,o===""?this.$el.bind(i,n):this.$el.delegate(o,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=s.extend({},this.options,e));for(var t=0,n=E.length;t<n;t++){var r=E[t];e[r]&&(this[r]=e[r])}this.options=e},_ensureElement:function(){if(!this.el){var e=C(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}else this.setElement(this.el,!1)}});var S=function(e,t){var n=N(this,e,t);return n.extend=this.extend,n};f.extend=l.extend=h.extend=b.extend=S;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};i.sync=function(e,t,n){var r=x[e];n||(n={});var u={type:r,dataType:"json"};return n.url||(u.url=C(t,"url")||k()),!n.data&&t&&(e=="create"||e=="update")&&(u.contentType="application/json",u.data=JSON.stringify(t.toJSON())),i.emulateJSON&&(u.contentType="application/x-www-form-urlencoded",u.data=u.data?{model:u.data}:{}),i.emulateHTTP&&(r==="PUT"||r==="DELETE")&&(i.emulateJSON&&(u.data._method=r),u.type="POST",u.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),u.type!=="GET"&&!i.emulateJSON&&(u.processData=!1),o.ajax(s.extend(u,n))},i.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var T=function(){},N=function(e,t,n){var r;return t&&t.hasOwnProperty("constructor")?r=t.constructor:r=function(){e.apply(this,arguments)},s.extend(r,e),T.prototype=e.prototype,r.prototype=new T,t&&s.extend(r.prototype,t),n&&s.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},C=function(e,t){return!e||!e[t]?null:s.isFunction(e[t])?e[t]():e[t]},k=function(){throw new Error('A "url" property or function must be specified')}}.call(this),function(e){"use strict";var t=e.jQuery,n=e._,r=e.Backbone,i=n.sortedIndex,s=r.Events,o=r.View,u=o.prototype.remove,a="breakpoints",f=function(e,t,n){var r=i(n,e+1),s=i(n,t+1);return r!==s?n.slice(Math.min(r,s),Math.max(r,s)):[]},l=r.Resize={trigger:s.trigger,width:function(){return t(e).width()}};l[a]=[],n.each(["on","off","bind","unbind"],function(t){l[t]=function(r,i,o){s[t].call(this,r,i,o),this[a]=n.compact(n.map(n.keys(this._callbacks||{}),function(t){return e.parseInt(t)})).sort(function(e,t){return e-t})}}),r.View=o.extend({constructor:function(e){o.call(this,e),this[a]&&l.on(this[a],this.resize,this)},resize:function(){this.render()},remove:function(){return this[a]&&l.off(this[a],this.resize,this),u.call(this)}}),t(function(){var n=l.width();t(e).resize(function(){var e,t=l.width();t!==n&&(e=f(n,t,l[a]),e.length&&l.trigger(e.join(" "),t,n<t?"up":"down"),n=t)})})}(this),function(e){"use strict";var t=e.Spatula={},n=e.jQuery,r=e._,i=e.Backbone,s=r.isFunction,o=r.map,u=t.whenAll=function(e){return n.when.apply(n,e||[])},a=t.tryCall=function(e,t){var n=e&&e[t];if(s(n))return n.apply(e,r.rest(arguments,2))},f={},l={},c={model:!0,collection:!0},h=[],p=[],d=function(e,t,n){f[e]=t,l[e]=n};t.ContainerView=i.View.extend({mod:0,transition:function(e){if(e===this.current)return e.render();var t=this,r=++t.mod,i=t.current,s=u();return t.current=e,i||t.$el.empty(),t.trigger("begin",e),i&&(i.hide&&(s=n.when(i.hide(),s)),s.done(function(){i.remove()})),s=u(o(this._cb,function(t){return t.call(this,e)}).concat([a(e,"load"),s])),s.fail(function(){var n=Array.prototype.slice.call(arguments);t.mod===r&&(t.current=null,t.$el.empty(),t.trigger.apply(t,["error",e].concat(n)))}),s=s.pipe(function(){if(t.mod===r)return e.render(),t.
$el.prepend(e.el),a(e,"ready"),t.trigger("ready",e),a(e,"show")}),s.pipe(function(){if(t.mod!==r)return n.Deferred().reject();t.$el.css("minHeight",""),t.trigger("end",e)})},loader:function(e){(this._cb||(this._cb=[])).push(e)},render:function(){return a(this.current,"render"),this},ready:function(){return a(this.current,"ready"),this}}),t.RichView=i.View.extend({assets:c,load:function(e,t){var n=this;return n._load||(n._load=u(o(n.assets,function(e,t){return f[t].call(n,e).done(function(){n.trigger("load:"+t)})})).done(function(){n.trigger("load")})),n._load.then(e,t)},render:function(){var e=this,t=e.load();return t.state()==="resolved"?e.safeRender():e._render||(e._render=!0,t.then(function(){e.safeRender()})),e},safeRender:function(){},remove:function(){var e=this;return e.destroy(),e.trigger("destroy"),e.off(),r.each(e.assets,function(e,t){a(l,t,e)}),i.View.prototype.remove.apply(e,arguments),e},destroy:function(){}},{assetLoader:d}),d("scripts",function(e){return e=r.difference(e,h),u(o(e,function(e){return h.push(e),n.ajax(e,{dataType:"script",cache:!0,error:function(){h=r.without(h,e)}})}))}),n(function(){h=r.union(h,n("script[src]").not("[async]").map(function(){return n(this).attr("src")}).get())}),d("styles",function(e){return u(o(e,function(e){n("<link/>",{"class":"css-"+this.cid,rel:"stylesheet",type:"text/css",href:e}).appendTo("head")}))},function(){n("link.css-"+this.cid).remove()}),d("templates",function(e,t){return t||(t=this.templates={}),u(o(e,function(e,r){return n.ajax(e,{cache:!0,success:function(e){t[r]=e}})}))}),d("data",function(e){var t=this;return n.ajax(e,{dataType:"json",success:function(e){t.data=e}})}),r.each(c,function(e,t){d(t,function(e){return e=s(e.fetch)?e:this[t],a(e,"fetch")||u()})}),t.start=function(s){var o=i.history,u=/^([^\/]+?:\/\/[^\/]+?)(\/[^?#]*)/.exec(e.location.href),a;s=r.extend({pushState:!0,hashChange:!1},s),u&&o.start(s)&&(u=u[1]+o.options.root,a=u.length,n("body").on("click.spatula","a[href]",function(e){var n=this.href;!e.metaKey&&!e.ctrlKey&&!e.isDefaultPrevented()&&n&&n.substr(0,a)===u&&(n=n.substr(a),t.test(n)&&r.any(o.handlers,function(t){if(t.route.test(n))return e.preventDefault(),o.navigate(n,!0),!0}))}))},t.test=function(e){return!r.any(p,function(t){return t.test(e)})},t.exclude=function(e){r.isRegExp(e)||(e=i.Router.prototype._routeToRegExp.call({},e)),p.push(e)}}(this),function(e){"use strict";var t=e.Disney,n=e.Spatula,r=e.jQuery,i=e._,s=e.Backbone,o=s.sync,u=/^\/(?:[^\/]|$)/,a=t.ajaxBase;r(function(){var s=t.redirect,o=t.top=new n.ContainerView({el:"#main"});o.on("ready",function(t){var n=t.title;r.isFunction(n)&&(n=n.call(t)),n&&(e.document.title=n)}),s&&o.loader(s.loader);if(r("#error_page").length)return;i.defer(n.start)}),r.ajaxSetup({timeout:2e4}),a&&(s.sync=function(e,t,n){var r=n.url||t&&t.url;return u.exec(r)&&(n=i.extend({url:a+r.substr(1)},n)),o(e,t,n)})}(this),function(e,t){"use strict";t.support.css3=function(){function t(t,n){var r=e.document.body||e.document.documentElement,i=r.style,s=["Webkit","Moz","ms","O"];if(i[t]!==undefined)return n?t:!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var o=0;o<s.length;o++)if(i[s[o]+t]!==undefined)return n?s[o]+t:!0}return t}(),t.fn.selectTransitionEnd=function(){var t,n=e.document.createElement("fakeelement"),r={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(t in r)if(n.style[t]!==undefined)return r[t]}}(this,jQuery),function(e){"use strict";var t=e.console,n=e.Grill={},r=e.Spatula,i=e.jQuery,s=e._,o=e.Backbone,u=r.whenAll,a=o.Model,f=o.Collection,l=o.View,c=r.tryCall,h,p=function(n){var r=e.onerror;t&&t.error&&t.error(n.stack||n.toString()),r&&r(n.toString())},d=function(e,t){try{return c(e,t)}catch(n){p(n)}},v=function(e){return s.map(this.views,function(t){return d(t,e)})},m=i.support.css3("transition")?function(t){var n=i.Deferred(),r=i(e).selectTransitionEnd()+".grill";return i(".overlay",t).on(r,function(e){this===e.target&&(n.resolve(),t.off(r))}),n}:function(){return!0},g=n.Module=a.extend({initialize:function(){this.data=this.data(this.get("data")),this.on("change:data",function(e,t){e.data.reset(t)})},data:function(e){return new f(e)}}),y=n.Burger=f.extend({model:g,fetch:function(e){var t=n.burger,r=e&&e.success;return t?(delete n.burger,this.reset(this.parse(t)),r&&r(this,t),i.when()):f.prototype.fetch.call(this,e)},parse:function(e){for(var t in e)t in y.prototype||(this[t]=e[t]);return this.trigger("parse",e),e.stack}}),b=l.extend({initialize:function(e){this.template=e.template,this.render(),this.model.on("change",this.render,this)},render:function(){var e=this.$el;this.setElement(i(this.template.render(this.model))),e.replaceWith(this.$el)}}),w=n.ListView=l.extend({tagName:"ul",initialize:function(e){var t=this,n=t.collection;t.template=e.template,t.reset(),n.on("add",function(e,n){var r=n.indexOf(e),i=t.spawn(e);t.views.splice(r,0,i),r===0?t.$el.prepend(i.el):t.views[r-1].$el.after(i.el)}),n.on("remove",function(e,n,r){t.views.splice(r.index,1)[0].remove()}),n.on("reset",t.reset,t)},reset:function(){var e=this;return e.views&&s.invoke(e.views,"remove"),e.views=e.collection.map(function(t){var n=e.spawn(t);return e.$el.append(n.el),n}),e},spawn:function(e){return new b({model:e,template:this.template})}}),E={},S=n.ModuleView=r.RichView.extend({assets:{},tagName:"section",className:"module",safeRender:function(){var e=this.template;e&&e.render&&this.$el.html(e.render(this.model.toJSON()))}},{register:function(e,t,n){return E[e]=this.extend(t,n)},create:function(e,t){var n=E[e]||this,r=new n(t),i=r.model&&r.model.get("has_geo_restrictions"),s=r.model&&r.model.get("ref"),o=r.style_classes,u=r.model&&r.model.get("style"),a=u&&u.additional_style_classes;return r.$el.addClass(e).attr("data-module",e),i&&r.$el.attr("data-geo-temp-hidden","true"),s&&r.$el.attr("id","ref-"+s),o&&r.$el.addClass(o.join(" ")),a&&r.$el.addClass(a.join(" ")),r}}),x=w.prototype,T=n.BurgerView=w.extend({id:"burger",tagName:"article",className:"hidden",subview:S,initialize:function(e){x.initialize.call(this,e),i("<div/>",{"class":"overlay"}).appendTo(this.el)},load:function(){var e=this;return this.collection.fetch().pipe(function(){return u(v.call(e,"load"))})},spawn:function(e){return S.create(e.get("view"),{model:e})},itemOptions:function(){return{}},title:function(){return this.collection.title},url:function(){return this.collection.url},render:function(){v.call(this,"render")},ready:function(){u(v.call(this,"ready"))},show:function(){return this.$el.hasClass("hidden")?(this.$el.removeClass("hidden"),u([m(this.$el)].concat(v.call(this,"show")))):!0},hide:function(){return this.$el.hasClass("hidden")?!0:(this.$el.addClass("hidden"),u([m(this.$el)].concat(v.call(this,"hide"))))},remove:function(){v.call(this,"remove"),x.remove.call(this)}});n.BunView=S.extend({className:"module_container",tagName:"div"}),h={model:y,view:T},n.config=function(e){s.extend(h,e)},n.order=function(e){var t=h.model,n=h.view,r=new t;r.url=e,h.container.transition(new n({collection:r}))}}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e._,i;t.DL=function(e){i=e},new(e.Backbone.Router.extend({routes:{"*p":"a"},a:function(t){var s=e.window.location.pathname;t&&t==="?register=1"&&s==="/"&&i.login();var o="/_grill/json/";t&&(o+=t),e.Grill.order(o),r.defer(function(){n("html,body").scrollTop(0)})}}))}(this),function(e){"use strict";var t=e.Disney,n=t.Cookie,r=e.Backbone,i=e._,s=/^([0-9a-f]+):([^:]+)/,o="dolMttAbn",u=7,a=function(){var e=s.exec(n.get(o)||"");return e&&{id:e[1],group:e[2]}},f=function(e){n.set(o,e.id+":"+e.group,{domain:n.domain(),path:"/",expires:u})},l=t.abn=i.extend({testcase:function(){return a()},parse:function(e){var r=e.abn,s=r&&r.cases,o=a(),u,f,l=-1;return s&&(f=i.pluck(s,"weight"),u=i.keys(s),n.enabled()&&(!o||o.id===r.id)&&(o?l=i.indexOf(u,o.group):(l=t.randi(f),l>=0&&(o={id:r.id,group:u[l]}))),e=s[u[l<0?0:l]].data,l>=0&&this.trigger("view",o,e)),e}},r.Events);l.on("view",f),t.randi=function(t){var n=0,r,i,s=t.length;for(r=s-1;r>-1;--r)n+=+t[r]||0;i=e.Math.random()*n;for(r=s-1;i>=0&&r>-2;--r)i-=+t[r]||0;return r+1}}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e._,i=e.Modernizr;t.vis={deviceExcluded:function(e){var t=e.visibility,n=!1;if(t&&t.invisible_device_types){var s=i.mobile?"mobile":"desktop";n=r.contains(t.invisible_device_types,s)}return n},hasGeoRestrictions:function(e){var t=e.visibility;return t&&(t.allowed_regions||t.disallowed_regions)},geoExcluded:function(e,t){var n=e.get("visibility"),i=!1;return n&&(n.allowed_regions||n.disallowed_regions)&&(n.allowed_regions?i=!r.contains(n.allowed_regions,t):n.disallowed_regions&&(i=r.contains(n.disallowed_regions,t))),i},parse:function(e){var t=this,n=[];r.each(e.stack,function(e){t.hasGeoRestrictions(e)&&(e.has_geo_restrictions=!0),t.deviceExcluded(e)&&(e.device_hidden=!0,n.push(e))});var i=r.difference(e.stack,n);return r.extend(e,{stack:i}),e}},n(function(){t.top&&t.top.on("ready",function(e){if(r.isUndefined(e.collection)||r.isEmpty(e.collection.where({has_geo_restrictions:!0})))return;t.geo(function(n){r.each(e.views,function(e){var r=e.model;r.get("has_geo_restrictions")&&(t.vis.geoExcluded(r,n)?e.remove():e.$el.removeAttr("data-geo-temp-hidden"))})})})})}(this),function(e){"use strict";var t=e.jQuery,n=e._,r=e.Backbone,i=e.Math,s=r.Collection,o=function(e,t){var n=new Array(e),r;if(t!==n[0])for(r=0;r<e;++r)n[r]=t;return n},u=function(e){return{models:e}};r.LazyCollection=s.extend({params:{limit:"limit",offset:"offset"},constructor:function(e,t){t||(t={}),this.count=t.count,this.min=t.min||e&&e.length||1,t.params&&(this.params=n.defaults(t.params,this.params)),s.call(this,e,t)},ensure:function(e){var n=this,r=n.count,s=n.length,o=n._ensure,u=n.params,a=i.max(e-s,n.min),f,l;return r&&(e=i.min(e,r)),e<=s?l=t.when():o?(l=t.Deferred(),o.always(function(){n.ensure(e).then(function(){l.resolveWith(arguments)},function(){l.rejectWith(arguments)})})):(f={},f[u.limit]=a,f[u.offset]=s,n.trigger("loading",n,!0),l=n._ensure=n.fetch({add:!0,data:f}).then(function(){n.length<s+a&&(n.count=n.length)}).always(function(){n._ensure=null,n.trigger("loading",n,!1)})),l},remaining:function(){var e=this.count;return e?e-this.length:null},loading:function(){return!!this._ensure},pages:function(e,t){var r=[],s,a,f=t&&t.whole,l=t&&t.pad,c=t&&t.nest,h=t&&t.fill;e=+e||1;for(a=0;a<this.length;a+=e)r.push(this.models.slice(a,a+e));a=r.length-1,f&&a>0&&r[a].length<e&&(--a,r.pop()),l&&(a>=0&&(r[a]=r[a].concat(o(e-r[a].length,h))),s=o(e,h)),c&&(r=n.map(r,u),s=u(s));if(l){a=i.floor(this.count/e);while(r.length<a)r.push(s);a=this.count-a*e,a>0&&!f&&(s=o(a,h),r.push(c?u(s):s))}return r}}),r.LazySliderCollection=r.LazyCollection.extend({constructor:function(e,t){this.loadedPageCounter=[],this.pageOptions={nest:!0},n.each(e,function(e){e.set("hidden",!0)}),r.LazyCollection.call(this,e,t)},startingIndex:0,lastIndex:function(e){return this.pages(e,this.pageOptions).length-1},page:function(e,t,r,i){var s=this.pages(t,this.pageOptions);n.each(s[e].models,function(e){e&&e.set("hidden",!1)});if(this.nextPeek(e,s)){var o=s[e+1];n(r).times(function(e){var t=o.models[e*i];t&&t.set("hidden",!1)})}return n.contains(this.loadedPageCounter,e)||this.loadedPageCounter.push(e),s},loadedPages:function(){return this.loadedPageCounter.length},peeking:function(e){return this.length>e},nextPeek:function(e,t){return e<t.length-1}}),r.LazyFilterCollection=r.LazyCollection.extend({parse:function(e){return this.count=e.count,e.next?this.nextFilter=e.next:this.nextFilter=null,e.data},next:function(){this.nextFilter&&(this.url=this.baseUrl+this.nextFilter)}})}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e.Math,i=/%%([a-z0-9]+)%%/g,s=function(e,t){return t==="rng"?""+r.floor(r.random()*1e18):""},o=t.ping=function(t){if(t){var n=new e.Image;n.src=t.toString().replace(i,s)}};n("body").on("click","a[data-ping]",function(){o(this.getAttribute("data-ping"))})}(this),function(e){"use strict";var t=e.Grill,n=e.jQuery,r=e.Backbone,i=e.Disney,s=t.Burger,o=s.prototype,u=e.location,a=/[&?]draft_id=([^&]+)/.exec(u.search),f=/^\/_grill\/json(\/.*)/,l=t.Module.extend({data:function(e){var t=new r.LazyCollection(e,{model:i.Entity,params:{offset:"o",limit:"l"},count:this.get("count")}),s=this.collection.url,o;if(o=f.exec(s))s=o[1];var u=s.indexOf("?")>=0?"&":"?";return s="/_grill/more"+s+u+n.param({r:this.get("ref")}),a&&(s+="&draft_id="+a[1]),t.url=s,t},subject:function(){return this.data.first()}}),c=s.extend({model:l,parse:function(e){var t=i.vis.parse(i.abn.parse(e)),n=o.parse.call(this,t);return n}});n(function(){var t=i.top;e.Grill.config({container:t,model:c})})}(this);var Hogan={};(function(e,t){"use strict";function a(e){return String(e===null||e===undefined?"":e)}function f(e){return e=a(e),u.test(e)?e.replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(s,"&#39;").replace(o,"&quot;"):e}e.Template=function(e,n,r,i){this.r=e||this.r,this.c=r,this.options=i,this.text=n||"",this.buf=t?[]:""},e.Template.prototype={r:function(){return""},v:f,t:a,render:function(t,n,r){return this.ri([t],n||{},r)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,r){var i=n[e];return i?(this.c&&typeof i=="string"&&(i=this.c.compile(i,this.options)),i.ri(t,n,r)):""},rs:function(e,t,n){var r=e[e.length-1];if(!l(r)&&(typeof r!="object"||!l(r=r.models))){n(e,t,this);return}for(var i=0;i<r.length;i++)e.push(r[i]),n(e,t,this),e.pop()},s:function(e,t,n,r,i,s,o){var u;return l(e)&&e.length===0?!1:(typeof e=="function"&&(e=this.ls(e,t,n,r,i,s,o)),u=e===""||!!e,!r&&u&&t&&t.push(typeof e=="object"?e:t[t.length-1]),u)},d:function(e,t,n,r){var i=e.split("."),s=this.f(i[0],t,n,r),o=null;if(e==="."&&l(t[t.length-2]))return t[t.length-1];for(var u=1;u<i.length;u++)s&&typeof s=="object"&&(i[u]in s||(s=s.attributes)&&typeof s=="object"&&i[u]in s)?(o=s,s=s[i[u]]):s="";return r&&!s?!1:(!r&&typeof s=="function"&&(t.push(o),s=this.lv(s,t,n),t.pop()),s)},f:function(e,t,n,r){var i=!1,s=null,o=!1;for(var u=t.length-1;u>=0;u--){s=t[u];if(s&&typeof s=="object"&&(e in s||(s=s.attributes)&&typeof s=="object"&&e in s)){i=s[e],o=!0;break}}return o?(!r&&typeof i=="function"&&(i=this.lv(i,t,n)),i):r?!1:""},ho:function(e,t,n,r,i){var s=this.c,o=this.options;return o.delimiters=i,r=e.call(t,r),r=r==null?String(r):r.toString(),this.b(s.compile(r,o).render(t,n)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,n,r,i,s,o){var u=t[t.length-1],a=null;if(!r&&this.c&&e.length>0)return this.ho(e,u,n,this.text.substring(i,s),o);a=e.call(u);if(typeof a=="function"){if(r)return!0;if(this.c)return this.ho(a,u,n,this.text.substring(i,s),o)}return a},lv:function(e,t,n){var r=t[t.length-1],i=e.call(r);if(typeof i=="function"){i=a(i.call(r));if(this.c&&~i.indexOf("{{"))return this.c.compile(i,this.options).render(r,n)}return a(i)}};var n=/&/g,r=/</g,i=/>/g,s=/\'/g,o=/\"/g,u=/[&<>\"\']/,l=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan),this.Whiskers||function(e){"use strict";var t=function(e,t){var n=this,r;e=e.split(".");while(e.length>1)r=e.shift(),n.hasOwnProperty(r)?n=n[r]:n=n[r]={};n[e[0]]=t},n=e.Whiskers=function(r,i){t.call(n,r,new e.Hogan.Template(i))}}(this),Whiskers("errors.e404",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<article id="error_page" class="e404 bound"> <div class="inner"> <img src="'),r.b(r.v(r.f("image",e,t,0))),r.b('" alt="404 Error"> <div class="message"> <h2>This page is not fully armed and operational.</h2> <h1>Try something else?</h1> </div> </div> </article>'),r.fl()}),Whiskers("errors.e500",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<article id="error_page" class="e500 bound"> <div class="inner"> <img src="'),r.b(r.v(r.f("image",e,t,0))),r.b('"> <div class="message"> <h2>It\'s a Trap! Or an internal server error.</h2> <h1>Try something else?</h1> </div> </div> </article>'),r.fl()}),Whiskers("errors.enet",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<article id="error_page" class="enet bound"> <div class="inner"> <img src="'),r.b(r.v(r.f("image",e,t,0))),r.b('" alt="General Error"> <div class="message"> <h2>I don\'t know what all this trouble is about, but I\'m sure it must be your fault.</h2> <h1>Try something else?</h1> </div> </div> </article>'),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.Backbone,r=e.jQuery,i=e.Whiskers,s=["//a.dilcdn.com/sw/errors/e404-9c883fbf9964.jpg","//a.dilcdn.com/sw/errors/e500-0ee07e3661e0.jpg","//a.dilcdn.com/sw/errors/enet-ae2187e44c9f.jpg"],o=n.View.extend({render:function(){this.el.innerHTML=this.template.render({image:this.image})}}),u=o.extend({image:s[0],template:i.errors.e404,error:"404"}),a=o.extend({image:s[1],template:i.errors.e500,error:"500"}),f=o.extend({image:s[2],template:i.errors.enet,error:"network"});r(function(){t.top.on("error",function(e,n,r,i){r==="timeout"?t.top.transition(new f):i==="Not Found"?t.top.transition(new u):r!=="abort"&&t.top.transition(new a)}),t.ajaxBase==="/"&&e.setTimeout(function(){for(var t=0;t<s.length;++t)(new e.Image).src=s[t];s=null},4e3)})}(this),function(e){"use strict";e.jQuery(function(){var t=e.Backbone.history,n=10;t.on("route",function(){--n<0&&(t._hasPushState=!1)})})}(this),this.Disney.Style=this.Disney.Style||{},this.Disney.SocialServices=this.Disney.SocialServices||{},this.Disney.Style.breakpoints={midLow:480,midHigh:768,max:1024,wideMax:1200},function(e){"use strict";var t=e.jQuery,n=e.Grill,r=n.BurgerView;n.BurgerView=r.extend({initialize:function(){r.prototype.initialize.apply(this,arguments)},spawn:function(e){var t={model:e};return n.ModuleView.create(e.get("view"),t)},cto:function(){var e=this.collection.cto;return e},url:function(){return this.collection.href}}),t(function(){e.Grill.config({view:n.BurgerView})})}(this),Whiskers("modals.modal",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b("<style type='text/css'> @media screen and (max-width: 767px){ #modal-container #modal-window .modal img.desktop{ display: none; } } @media screen and (min-width: 768px){ #modal-container #modal-window .modal img.mobile{ display: none; } } </style> <div class='modal-content'> <div class='modal-close top-right'></div> <section> "),r.s(r.f("header",e,t,1),e,t,0,339,540,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("text",e,t,1),e,t,0,349,378,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <header>"),n.b(n.t(n.f("text",e,t,0))),n.b("</header> ")}),e.pop()),n.b(" "),n.s(n.f("image",e,t,1),e,t,0,398,529,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("desktop",e,t,1),e,t,0,411,453,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <img class='desktop' src='"),n.b(n.v(n.f("desktop",e,t,0))),n.b("'/> ")}),e.pop()),n.b(" "),n.s(n.f("mobile",e,t,1),e,t,0,477,517,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <img class='mobile' src='"),n.b(n.v(n.f("mobile",e,t,0))),n.b("'/> ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b(" </section> "),r.s(r.f("sections",e,t,1),e,t,0,576,974,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" <section> <header>"),n.b(n.t(n.f("header",e,t,0))),n.b("</header> <ul> "),n.s(n.f("content",e,t,1),e,t,0,634,944,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.d("images.assets.desktop_image",e,t,1),e,t,0,667,758,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <li> <a href='"),n.b(n.v(n.f("url",e,t,0))),n.b("' target='_blank'><img class='desktop' src='"),n.b(n.v(n.f("cdn_url",e,t,0))),n.b("'/></a> </li> ")}),e.pop()),n.b(" "),n.s(n.d("images.assets.mobile_image",e,t,1),e,t,0,822,912,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <li> <a href='"),n.b(n.v(n.f("url",e,t,0))),n.b("' target='_blank'><img class='mobile' src='"),n.b(n.v(n.f("cdn_url",e,t,0))),n.b("'/></a> </li> ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" </ul> </section> ")}),e.pop()),r.b(' <div class="bedazzlement"></div> </div>'),r.fl()}),function(e){"use strict";var t=e.Backbone,n=e.Grill||{},r=e.Whiskers,i=e._,s=t.View.extend({},{getInstance:function(){if(this._instance===undefined){var e=this;this._instance=new e}return this._instance}}),o=s.extend({el:"#modal-window",views:[],initialize:function(){this._bindEvents()},add:function(e){this.contains(e)||(this.el.appendChild(e.el),this.views.push(e))},contains:function(e){return this.views.indexOf(e)>=0},scrollStart:function(){if(typeof this._bodyStyle=="object"&&this._bodyStyle.hasOwnProperty("cssText")){var t=-parseInt(e.document.body.style.top,10)||0;e.document.body.style.cssText=this._bodyStyle.cssText,e.scrollBy(0,t)}},scrollStop:function(){this._bodyStyle=i.extend({},e.document.body.style),e.document.body.style.top=-e.pageYOffset+"px",e.document.body.style.overflow="hidden",e.document.body.style.position="fixed"},show:function(t,n){var r=n&&n.render;if(r||!this.contains(t))t.el.innerHTML=t.render(),t.close||(t.close=new u({closeElement:t.el.querySelector(t.options.closeElement||".modal-close")})),this.add(t);e.document.body.className+=" modal-show",t.close.show(),t.el.className+=" show",t.el.scrollTop=0,t.visible=!0,t.ready(),t._trackEvent("show"),this.scrollStop(),this.el.className+=" show"},hide:function(){e.document.body.className=e.document.body.className.replace(" modal-show",""),i.each(this.views,function(e){e.visible&&(e.el.className=e.el.className.replace(" show",""),e.visible=!1,e.close.hide(),e._trackEvent("hide"))}),this.el.className=this.el.className.replace(" show",""),this.scrollStart()},_bindEvents:function(){var e=this;this.el.addEventListener("click",function(t){this===t.target&&e.hide()})}}),u=s.extend({el:"#modal-close",initialize:function(e){var t=e&&e.closeElement;i.extend(e,{windowView:o.getInstance()}),t&&(this.el=t),this.options=e,this.el.addEventListener("click",this._closeWindow.bind(this))},show:function(){this.el.className=this.el.className.replace(" hidden","")},hide:function(){this.el.className.indexOf(" hidden")<0&&(this.el.className+=" hidden")},_closeWindow:function(){this.options.windowView.hide()}});n.ModalView=t.View.extend({className:"modal",options:{template:r.modals.modal},constructor:function(e){t.View.apply(this,arguments);var n=this;i.extend(e,{windowView:o.getInstance(),keyEvents:[{name:"keyup",keyCode:27,callback:function(){n.hide()}}]}),i.extend(n.options,e),n.el.id=i.uniqueId(n.options.name),n.el.className+=" "+n.options.name,n._bindEvents()},ready:function(){},render:function(){return this.options.template.render(this.model)},show:function(e){var t=e&&e.event;t&&(t.preventDefault(),t.stopPropagation()),this.options.windowView.show(this,e)},hide:function(e){this.options.windowView.hide(e)},_bindEvents:function(){var t=this;t.el.addEventListener("click",function(e){this===e.target&&t.hide()}),i.each(t.options.keyEvents,function(n){var r=t._handleKeyEvent.bind(n);e.document.addEventListener(n.name,r)})},_handleKeyEvent:function(e){var t=this;t.keyCode===e.keyCode&&t.callback()},_trackEvent:function(t){var n=this.options.tracking||{};if(n.eventCategory&&t){var r={engagementMeta:n.engagementMeta,engagementType:n.eventCategory+"_"+t,eventCategory:n.eventCategory,action:t};e.cto.trackEvent(r)}}})}(this),function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function i(e){if(e instanceof Date)return e;if(String(e).match(n))return String(e).match(/^[0-9]*$/)&&(e=Number(e)),String(e).match(/\-/)&&(e=String(e).replace(/\-/g,"/")),new Date(e);throw new Error("Couldn't cast `"+e+"` to a date object.")}function o(e){var t=e.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(t)}function u(e){return function(t){var n=t.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(n)for(var r=0,i=n.length;r<i;++r){var u=n[r].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),f=o(u[0]),l=u[1]||"",c=u[3]||"",h=null;u=u[2],s.hasOwnProperty(u)&&(h=s[u],h=Number(e[h])),h!==null&&(l==="!"&&(h=a(c,h)),l===""&&h<10&&(h="0"+h.toString()),t=t.replace(f,h.toString()))}return t=t.replace(/%%/,"%"),t}}function a(e,t){var n="s",r="";return e&&(e=e.replace(/(:|;|\s)/gi,"").split(/\,/),e.length===1?n=e[0]:(r=e[0],n=e[1])),Math.abs(t)===1?r:n}var t=[],n=[],r={precision:100,elapse:!1};n.push(/^[0-9]*$/.source),n.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),n.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),n=new RegExp(n.join("|"));var s={Y:"years",m:"months",n:"daysToMonth",w:"weeks",d:"daysToWeek",D:"totalDays",H:"hours",M:"minutes",S:"seconds"},f=function(n,i,s){this.el=n,this.$el=e(n),this.interval=null,this.offset={},this.options=e.extend({},r),this.instanceNumber=t.length,t.push(this),this.$el.data("countdown-instance",this.instanceNumber),s&&(typeof s=="function"?(this.$el.on("update.countdown",s),this.$el.on("stoped.countdown",s),this.$el.on("finish.countdown",s)):this.options=e.extend({},r,s)),this.setFinalDate(i),this.start()};e.extend(f.prototype,{start:function(){this.interval!==null&&clearInterval(this.interval);var e=this;this.update(),this.interval=setInterval(function(){e.update.call(e)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),t[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(e){this.finalDate=i(e)},update:function(){if(this.$el.closest("html").length===0){this.remove();return}var t=e._data(this.el,"events")!==undefined,n=new Date,r;r=this.finalDate.getTime()-n.getTime(),r=Math.ceil(r/1e3),r=!this.options.elapse&&r<0?0:Math.abs(r);if(this.totalSecsLeft===r||!t)return;this.totalSecsLeft=r,this.elapsed=n>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),totalDays:Math.floor(this.totalSecsLeft/60/60/24),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-n.getFullYear())},!this.options.elapse&&this.totalSecsLeft===0?(this.stop(),this.dispatchEvent("finish")):this.dispatchEvent("update")},dispatchEvent:function(t){var n=e.Event(t+".countdown");n.finalDate=this.finalDate,n.elapsed=this.elapsed,n.offset=e.extend({},this.offset),n.strftime=u(this.offset),this.$el.trigger(n)}}),e.fn.countdown=function(){var n=Array.prototype.slice.call(arguments,0);return this.each(function(){var r=e(this).data("countdown-instance");if(r!==undefined){var i=t[r],s=n[0];f.prototype.hasOwnProperty(s)?i[s].apply(i,n.slice(1)):String(s).match(/^[$A-Z_][0-9A-Z_$]*$/i)===null?(i.setFinalDate.call(i,s),i.start()):e.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,s))}else new f(this,n[0],n[1])})}}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function t(){return e.apply(null,arguments)}function n(t){e=t}function r(e){return Object.prototype.toString.call(e)==="[object Array]"}function i(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function s(e,t){var n=[],r;for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,n,r){return gn(e,t,n,r,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return e._pf==null&&(e._pf=f()),e._pf}function c(e){if(e._isValid==null){var t=l(e);e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated,e._strict&&(e._isValid=e._isValid&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined)}return e._isValid}function h(e){var t=a(NaN);return e!=null?u(l(t),e):l(t).userInvalidated=!0,t}function d(e,t){var n,r,i;typeof t._isAMomentObject!="undefined"&&(e._isAMomentObject=t._isAMomentObject),typeof t._i!="undefined"&&(e._i=t._i),typeof t._f!="undefined"&&(e._f=t._f),typeof t._l!="undefined"&&(e._l=t._l),typeof t._strict!="undefined"&&(e._strict=t._strict),typeof t._tzm!="undefined"&&(e._tzm=t._tzm),typeof t._isUTC!="undefined"&&(e._isUTC=t._isUTC),typeof t._offset!="undefined"&&(e._offset=t._offset),typeof t._pf!="undefined"&&(e._pf=l(t)),typeof t._locale!="undefined"&&(e._locale=t._locale);if(p.length>0)for(n in p)r=p[n],i=t[r],typeof i!="undefined"&&(e[r]=i);return e}function m(e){d(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),v===!1&&(v=!0,t.updateOffset(this),v=!1)}function g(e){return e instanceof m||e!=null&&e._isAMomentObject!=null}function y(e){return e<0?Math.ceil(e):Math.floor(e)}function b(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=y(t)),n}function w(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&b(e[o])!==b(t[o]))&&s++;return s+i}function E(){}function T(e){return e?e.toLowerCase().replace("_","-"):e}function N(e){var t=0,n,r,i,s;while(t<e.length){s=T(e[t]).split("-"),n=s.length,r=T(e[t+1]),r=r?r.split("-"):null;while(n>0){i=C(s.slice(0,n).join("-"));if(i)return i;if(r&&r.length>=n&&w(s,r,!0)>=n-1)break;n--}t++}return null}function C(e){var t=null;if(!S[e]&&typeof module!="undefined"&&module&&module.exports)try{t=x._abbr,require("./locale/"+e),k(t)}catch(n){}return S[e]}function k(e,t){var n;return e&&(typeof t=="undefined"?n=A(e):n=L(e,t),n&&(x=n)),x._abbr}function L(e,t){return t!==null?(t.abbr=e,S[e]=S[e]||new E,S[e].set(t),k(e),S[e]):(delete S[e],null)}function A(e){var t;e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr);if(!e)return x;if(!r(e)){t=C(e);if(t)return t;e=[e]}return N(e)}function M(e,t){var n=e.toLowerCase();O[n]=O[n+"s"]=O[t]=e}function _(e){return typeof e=="string"?O[e]||O[e.toLowerCase()]:undefined}function D(e){var t={},n,r;for(r in e)o(e,r)&&(n=_(r),n&&(t[n]=e[r]));return t}function P(e,n){return function(r){return r!=null?(B(this,e,r),t.updateOffset(this,n),this):H(this,e)}}function H(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function B(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function j(e,t){var n;if(typeof e=="object")for(n in e)this.set(n,e[n]);else{e=_(e);if(typeof this[e]=="function")return this[e](t)}return this}function F(e,t,n){var r=""+Math.abs(e),i=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function z(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return F(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function X(e){var t=e.match(I),n,r;for(n=0,r=t.length;n<r;n++)U[t[n]]?t[n]=U[t[n]]:t[n]=W(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=t[n]instanceof Function?t[n].call(i,e):t[n];return s}}function V(e,t){return e.isValid()?(t=$(t,e.localeData()),R[t]=R[t]||X(t),R[t](e)):e.localeData().invalidDate()}function $(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;q.lastIndex=0;while(n>=0&&q.test(e))e=e.replace(q,r),q.lastIndex=0,n-=1;return e}function ft(e){return typeof e=="function"&&Object.prototype.toString.call(e)==="[object Function]"}function lt(e,t,n){at[e]=ft(t)?t:function(e){return e&&n?n:t}}function ct(e,t){return o(at,e)?at[e](t._strict,t._locale):new RegExp(ht(e))}function ht(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function dt(e,t){var n,r=t;typeof e=="string"&&(e=[e]),typeof t=="number"&&(r=function(e,n){n[t]=b(e)});for(n=0;n<e.length;n++)pt[e[n]]=r}function vt(e,t){dt(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function mt(e,t,n){t!=null&&o(pt,e)&&pt[e](t,n._a,n,e)}function Tt(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function Ct(e){return this._months[e.month()]}function Lt(e){return this._monthsShort[e.month()]}function At(e,t,n){var r,i,s;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[])
;for(r=0;r<12;r++){i=a([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i"));if(n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Ot(e,t){var n;if(typeof t=="string"){t=e.localeData().monthsParse(t);if(typeof t!="number")return e}return n=Math.min(e.date(),Tt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Mt(e){return e!=null?(Ot(this,e),t.updateOffset(this,!0),this):H(this,"Month")}function _t(){return Tt(this.year(),this.month())}function Dt(e){var t,n=e._a;return n&&l(e).overflow===-2&&(t=n[yt]<0||n[yt]>11?yt:n[bt]<1||n[bt]>Tt(n[gt],n[yt])?bt:n[wt]<0||n[wt]>24||n[wt]===24&&(n[Et]!==0||n[St]!==0||n[xt]!==0)?wt:n[Et]<0||n[Et]>59?Et:n[St]<0||n[St]>59?St:n[xt]<0||n[xt]>999?xt:-1,l(e)._overflowDayOfYear&&(t<gt||t>bt)&&(t=bt),l(e).overflow=t),e}function Pt(e){t.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function Ht(e,t){var n=!0;return u(function(){return n&&(Pt(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function jt(e,t){Bt[e]||(Pt(t),Bt[e]=!0)}function Ut(e){var t,n,r=e._i,i=Ft.exec(r);if(i){l(e).iso=!0;for(t=0,n=It.length;t<n;t++)if(It[t][1].exec(r)){e._f=It[t][0];break}for(t=0,n=qt.length;t<n;t++)if(qt[t][1].exec(r)){e._f+=(i[6]||" ")+qt[t][0];break}r.match(st)&&(e._f+="Z"),ln(e)}else e._isValid=!1}function zt(e){var n=Rt.exec(e._i);if(n!==null){e._d=new Date(+n[1]);return}Ut(e),e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))}function Wt(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return e<1970&&u.setFullYear(e),u}function Xt(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function Vt(e){return $t(e)?366:365}function $t(e){return e%4===0&&e%100!==0||e%400===0}function Kt(){return $t(this.year())}function Qt(e,t,n){var r=n-t,i=n-e.day(),s;return i>r&&(i-=7),i<r-7&&(i+=7),s=yn(e).add(i,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function Gt(e){return Qt(e,this._week.dow,this._week.doy).week}function Zt(){return this._week.dow}function en(){return this._week.doy}function tn(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function nn(e){var t=Qt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}function rn(e,t,n,r,i){var s=6+i-r,o=Xt(e,0,1+s),u=o.getUTCDay(),a;return u<i&&(u+=7),n=n!=null?1*n:i,a=1+s+7*(t-1)-u+n,{year:a>0?e:e-1,dayOfYear:a>0?a:Vt(e-1)+a}}function sn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}function on(e,t,n){return e!=null?e:t!=null?t:n}function un(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function an(e){var t,n,r=[],i,s;if(e._d)return;i=un(e),e._w&&e._a[bt]==null&&e._a[yt]==null&&fn(e),e._dayOfYear&&(s=on(e._a[gt],i[gt]),e._dayOfYear>Vt(s)&&(l(e)._overflowDayOfYear=!0),n=Xt(s,0,e._dayOfYear),e._a[yt]=n.getUTCMonth(),e._a[bt]=n.getUTCDate());for(t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[wt]===24&&e._a[Et]===0&&e._a[St]===0&&e._a[xt]===0&&(e._nextDay=!0,e._a[wt]=0),e._d=(e._useUTC?Xt:Wt).apply(null,r),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[wt]=24)}function fn(e){var t,n,r,i,s,o,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,n=on(t.GG,e._a[gt],Qt(yn(),1,4).year),r=on(t.W,1),i=on(t.E,1)):(s=e._locale._week.dow,o=e._locale._week.doy,n=on(t.gg,e._a[gt],Qt(yn(),s,o).year),r=on(t.w,1),t.d!=null?(i=t.d,i<s&&++r):t.e!=null?i=t.e+s:i=s),u=rn(n,r,i,o,s),e._a[gt]=u.year,e._dayOfYear=u.dayOfYear}function ln(e){if(e._f===t.ISO_8601){Ut(e);return}e._a=[],l(e).empty=!0;var n=""+e._i,r,i,s,o,u,a=n.length,f=0;s=$(e._f,e._locale).match(I)||[];for(r=0;r<s.length;r++)o=s[r],i=(n.match(ct(o,e))||[])[0],i&&(u=n.substr(0,n.indexOf(i)),u.length>0&&l(e).unusedInput.push(u),n=n.slice(n.indexOf(i)+i.length),f+=i.length),U[o]?(i?l(e).empty=!1:l(e).unusedTokens.push(o),mt(o,i,e)):e._strict&&!i&&l(e).unusedTokens.push(o);l(e).charsLeftOver=a-f,n.length>0&&l(e).unusedInput.push(n),l(e).bigHour===!0&&e._a[wt]<=12&&e._a[wt]>0&&(l(e).bigHour=undefined),e._a[wt]=cn(e._locale,e._a[wt],e._meridiem),an(e),Dt(e)}function cn(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):e.isPM!=null?(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0),t):t}function hn(e){var t,n,r,i,s;if(e._f.length===0){l(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<e._f.length;i++){s=0,t=d({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],ln(t);if(!c(t))continue;s+=l(t).charsLeftOver,s+=l(t).unusedTokens.length*10,l(t).score=s;if(r==null||s<r)r=s,n=t}u(e,n||t)}function pn(e){if(e._d)return;var t=D(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],an(e)}function dn(e){var t=new m(Dt(vn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=undefined),t}function vn(e){var t=e._i,n=e._f;return e._locale=e._locale||A(e._l),t===null||n===undefined&&t===""?h({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),g(t)?new m(Dt(t)):(r(n)?hn(e):n?ln(e):i(t)?e._d=t:mn(e),e))}function mn(e){var n=e._i;n===undefined?e._d=new Date:i(n)?e._d=new Date(+n):typeof n=="string"?zt(e):r(n)?(e._a=s(n.slice(0),function(e){return parseInt(e,10)}),an(e)):typeof n=="object"?pn(e):typeof n=="number"?e._d=new Date(n):t.createFromInputFallback(e)}function gn(e,t,n,r,i){var s={};return typeof n=="boolean"&&(r=n,n=undefined),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,dn(s)}function yn(e,t,n,r){return gn(e,t,n,r,!1)}function En(e,t){var n,i;t.length===1&&r(t[0])&&(t=t[0]);if(!t.length)return yn();n=t[0];for(i=1;i<t.length;++i)if(!t[i].isValid()||t[i][e](n))n=t[i];return n}function Sn(){var e=[].slice.call(arguments,0);return En("isBefore",e)}function xn(){var e=[].slice.call(arguments,0);return En("isAfter",e)}function Tn(e){var t=D(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,u=t.hour||0,a=t.minute||0,f=t.second||0,l=t.millisecond||0;this._milliseconds=+l+f*1e3+a*6e4+u*36e5,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=A(),this._bubble()}function Nn(e){return e instanceof Tn}function Cn(e,t){z(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}function Ln(e){var t=(e||"").match(st)||[],n=t[t.length-1]||[],r=(n+"").match(kn)||["-",0,0],i=+(r[1]*60)+b(r[2]);return r[0]==="+"?i:-i}function An(e,n){var r,s;return n._isUTC?(r=n.clone(),s=(g(e)||i(e)?+e:+yn(e))- +r,r._d.setTime(+r._d+s),t.updateOffset(r,!1),r):yn(e).local()}function On(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}function Mn(e,n){var r=this._offset||0,i;return e!=null?(typeof e=="string"&&(e=Ln(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&n&&(i=On(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?Kn(this,Wn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:On(this)}function _n(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Dn(e){return this.utcOffset(0,e)}function Pn(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(On(this),"m")),this}function Hn(){return this._tzm?this.utcOffset(this._tzm):typeof this._i=="string"&&this.utcOffset(Ln(this._i)),this}function Bn(e){return e=e?yn(e).utcOffset():0,(this.utcOffset()-e)%60===0}function jn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Fn(){if(typeof this._isDSTShifted!="undefined")return this._isDSTShifted;var e={};d(e,this),e=vn(e);if(e._a){var t=e._isUTC?a(e._a):yn(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function In(){return!this._isUTC}function qn(){return this._isUTC}function Rn(){return this._isUTC&&this._offset===0}function Wn(e,t){var n=e,r=null,i,s,u;return Nn(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:typeof e=="number"?(n={},t?n[t]=e:n.milliseconds=e):(r=Un.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:b(r[bt])*i,h:b(r[wt])*i,m:b(r[Et])*i,s:b(r[St])*i,ms:b(r[xt])*i}):(r=zn.exec(e))?(i=r[1]==="-"?-1:1,n={y:Xn(r[2],i),M:Xn(r[3],i),d:Xn(r[4],i),h:Xn(r[5],i),m:Xn(r[6],i),s:Xn(r[7],i),w:Xn(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(u=$n(yn(n.from),yn(n.to)),n={},n.ms=u.milliseconds,n.M=u.months),s=new Tn(n),Nn(e)&&o(e,"_locale")&&(s._locale=e._locale),s}function Xn(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Vn(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t- +e.clone().add(n.months,"M"),n}function $n(e,t){var n;return t=An(t,e),e.isBefore(t)?n=Vn(e,t):(n=Vn(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Jn(e,t){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(jt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=r,r=s),n=typeof n=="string"?+n:n,i=Wn(n,r),Kn(this,i,e),this}}function Kn(e,n,r,i){var s=n._milliseconds,o=n._days,u=n._months;i=i==null?!0:i,s&&e._d.setTime(+e._d+s*r),o&&B(e,"Date",H(e,"Date")+o*r),u&&Ot(e,H(e,"Month")+u*r),i&&t.updateOffset(e,o||u)}function Yn(e,t){var n=e||yn(),r=An(n,this).startOf("day"),i=this.diff(r,"days",!0),s=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(t&&t[s]||this.localeData().calendar(s,this,yn(n)))}function Zn(){return new m(this)}function er(e,t){var n;return t=_(typeof t!="undefined"?t:"millisecond"),t==="millisecond"?(e=g(e)?e:yn(e),+this>+e):(n=g(e)?+e:+yn(e),n<+this.clone().startOf(t))}function tr(e,t){var n;return t=_(typeof t!="undefined"?t:"millisecond"),t==="millisecond"?(e=g(e)?e:yn(e),+this<+e):(n=g(e)?+e:+yn(e),+this.clone().endOf(t)<n)}function nr(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function rr(e,t){var n;return t=_(t||"millisecond"),t==="millisecond"?(e=g(e)?e:yn(e),+this===+e):(n=+yn(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function ir(e,t,n){var r=An(e,this),i=(r.utcOffset()-this.utcOffset())*6e4,s,o;return t=_(t),t==="year"||t==="month"||t==="quarter"?(o=sr(this,r),t==="quarter"?o/=3:t==="year"&&(o/=12)):(s=this-r,o=t==="second"?s/1e3:t==="minute"?s/6e4:t==="hour"?s/36e5:t==="day"?(s-i)/864e5:t==="week"?(s-i)/6048e5:s),n?o:y(o)}function sr(e,t){var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,s;return t-r<0?(i=e.clone().add(n-1,"months"),s=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),s=(t-r)/(i-r)),-(n+s)}function or(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ur(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():V(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):V(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ar(e){var n=V(this,e||t.defaultFormat);return this.localeData().postformat(n)}function fr(e,t){return this.isValid()?Wn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function lr(e){return this.from(yn(),e)}function cr(e,t){return this.isValid()?Wn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hr(e){return this.to(yn(),e)}function pr(e){var t;return e===undefined?this._locale._abbr:(t=A(e),t!=null&&(this._locale=t),this)}function vr(){return this._locale}function mr(e){e=_(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return e==="week"&&this.weekday(0),e==="isoWeek"&&this.isoWeekday(1),e==="quarter"&&this.month(Math.floor(this.month()/3)*3),this}function gr(e){return e=_(e),e===undefined||e==="millisecond"?this:this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")}function yr(){return+this._d-(this._offset||0)*6e4}function br(){return Math.floor(+this/1e3)}function wr(){return this._offset?new Date(+this):this._d}function Er(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Sr(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xr(){return c(this)}function Tr(){return u({},l(this))}function Nr(){return l(this).overflow}function Cr(e,t){z(0,[e,e.length],0,t)}function kr(e,t,n){return Qt(yn([e,11,31+t-n]),t,n).week}function Lr(e){var t=Qt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return e==null?t:this.add(e-t,"y")}function Ar(e){var t=Qt(this,1,4).year;return e==null?t:this.add(e-t,"y")}function Or(){return kr(this.year(),1,4)}function Mr(){var e=this.localeData()._week;return kr(this.year(),e.dow,e.doy)}function _r(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}function Pr(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Br(e){return this._weekdays[e.day()]}function Fr(e){return this._weekdaysShort[e.day()]}function qr(e){return this._weekdaysMin[e.day()]}function Rr(e){var t,n,r;this._weekdaysParse=this._weekdaysParse||[];for(t=0;t<7;t++){this._weekdaysParse[t]||(n=yn([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i"));if(this._weekdaysParse[t].test(e))return t}}function Ur(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=Pr(e,this.localeData()),this.add(e-t,"d")):t}function zr(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Wr(e){return e==null?this.day()||7:this.day(this.day()%7?e:e-7)}function Xr(e,t){z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Vr(e,t){return t._meridiemParse}function $r(e){return(e+"").toLowerCase().charAt(0)==="p"}function Kr(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function ei(e,t){t[xt]=b(("0."+e)*1e3)}function ni(){return this._isUTC?"UTC":""}function ri(){return this._isUTC?"Coordinated Universal Time":""}function oi(e){return yn(e*1e3)}function ui(){return yn.apply(null,arguments).parseZone()}function fi(e,t,n){var r=this._calendar[e];return typeof r=="function"?r.call(t,n):r}function ci(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function pi(){return this._invalidDate}function mi(e){return this._ordinal.replace("%d",e)}function gi(e){return e}function bi(e,t,n,r){var i=this._relativeTime[n];return typeof i=="function"?i(e,t,n,r):i.replace(/%d/i,e)}function wi(e,t){var n=this._relativeTime[e>0?"future":"past"];return typeof n=="function"?n(t):n.replace(/%s/i,t)}function Ei(e){var t,n;for(n in e)t=e[n],typeof t=="function"?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function xi(e,t,n,r){var i=A(),s=a().set(r,t);return i[n](s,e)}function Ti(e,t,n,r,i){typeof e=="number"&&(t=e,e=undefined),e=e||"";if(t!=null)return xi(e,t,n,i);var s,o=[];for(s=0;s<r;s++)o[s]=xi(e,s,n,i);return o}function Ni(e,t){return Ti(e,t,"months",12,"month")}function Ci(e,t){return Ti(e,t,"monthsShort",12,"month")}function ki(e,t){return Ti(e,t,"weekdays",7,"day")}function Li(e,t){return Ti(e,t,"weekdaysShort",7,"day")}function Ai(e,t){return Ti(e,t,"weekdaysMin",7,"day")}function Mi(){var e=this._data;return this._milliseconds=Oi(this._milliseconds),this._days=Oi(this._days),this._months=Oi(this._months),e.milliseconds=Oi(e.milliseconds),e.seconds=Oi(e.seconds),e.minutes=Oi(e.minutes),e.hours=Oi(e.hours),e.months=Oi(e.months),e.years=Oi(e.years),this}function _i(e,t,n,r){var i=Wn(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Di(e,t){return _i(this,e,t,1)}function Pi(e,t){return _i(this,e,t,-1)}function Hi(e){return e<0?Math.floor(e):Math.ceil(e)}function Bi(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,u,a;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=Hi(Fi(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=y(e/1e3),r.seconds=i%60,s=y(i/60),r.minutes=s%60,o=y(s/60),r.hours=o%24,t+=y(o/24),a=y(ji(t)),n+=a,t-=Hi(Fi(a)),u=y(n/12),n%=12,r.days=t,r.months=n,r.years=u,this}function ji(e){return e*4800/146097}function Fi(e){return e*146097/4800}function Ii(e){var t,n,r=this._milliseconds;e=_(e);if(e==="month"||e==="year")return t=this._days+r/864e5,n=this._months+ji(t),e==="month"?n:n/12;t=this._days+Math.round(Fi(this._months));switch(e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function qi(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+b(this._months/12)*31536e6}function Ri(e){return function(){return this.as(e)}}function Qi(e){return e=_(e),this[e+"s"]()}function Gi(e){return function(){return this._data[e]}}function ss(){return y(this.days()/7)}function as(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function fs(e,t,n){var r=Wn(e).abs(),i=os(r.as("s")),s=os(r.as("m")),o=os(r.as("h")),u=os(r.as("d")),a=os(r.as("M")),f=os(r.as("y")),l=i<us.s&&["s",i]||s===1&&["m"]||s<us.m&&["mm",s]||o===1&&["h"]||o<us.h&&["hh",o]||u===1&&["d"]||u<us.d&&["dd",u]||a===1&&["M"]||a<us.M&&["MM",a]||f===1&&["y"]||["yy",f];return l[2]=t,l[3]=+e>0,l[4]=n,as.apply(null,l)}function ls(e,t){return us[e]===undefined?!1:t===undefined?us[e]:(us[e]=t,!0)}function cs(e){var t=this.localeData(),n=fs(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function ps(){var e=hs(this._milliseconds)/1e3,t=hs(this._days),n=hs(this._months),r,i,s;r=y(e/60),i=y(r/60),e%=60,r%=60,s=y(n/12),n%=12;var o=s,u=n,a=t,f=i,l=r,c=e,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(u?u+"M":"")+(a?a+"D":"")+(f||l||c?"T":"")+(f?f+"H":"")+(l?l+"M":"")+(c?c+"S":""):"P0D"}var e,p=t.momentProperties=[],v=!1,S={},x,O={},I=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},U={},J=/\d/,K=/\d\d/,Q=/\d{3}/,G=/\d{4}/,Y=/[+-]?\d{6}/,Z=/\d\d?/,et=/\d{1,3}/,tt=/\d{1,4}/,nt=/[+-]?\d{1,6}/,rt=/\d+/,it=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,ot=/[+-]?\d+(\.\d{1,3})?/,ut=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,at={},pt={},gt=0,yt=1,bt=2,wt=3,Et=4,St=5,xt=6;z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),z("MMMM",0,0,function(e){return this.localeData().months(this,e)}),M("month","M"),lt("M",Z),lt("MM",Z,K),lt("MMM",ut),lt("MMMM",ut),dt(["M","MM"],function(e,t){t[yt]=b(e)-1}),dt(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[yt]=i:l(n).invalidMonth=e});var Nt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),kt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Bt={};t.suppressDeprecationWarnings=!1;var Ft=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,It=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],qt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Rt=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=Ht("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),M("year","y"),lt("Y",it),lt("YY",Z,K),lt("YYYY",tt,G),lt("YYYYY",nt,Y),lt("YYYYYY",nt,Y),dt(["YYYYY","YYYYYY"],gt),dt("YYYY",function(e,n){n[gt]=e.length===2?t.parseTwoDigitYear(e):b(e)}),dt("YY",function(e,n){n[gt]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var Jt=P("FullYear",!1);z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),lt("w",Z),lt("ww",Z,K),lt("W",Z),lt("WW",Z,K),vt(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=b(e)});var Yt={dow:0,doy:6};z("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),lt("DDD",et),lt("DDDD",Q),dt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),t.ISO_8601=function(){};var bn=Ht("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=yn.apply(null,arguments);return e<this?this:e}),wn=Ht("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=yn.apply(null,arguments);return e>this?this:e});Cn("Z",":"),Cn("ZZ",""),lt("Z",st),lt("ZZ",st),dt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ln(e)});var kn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Un=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zn=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Wn.fn=Tn.prototype;var Qn=Jn(1,"add"),Gn=Jn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var dr=Ht("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===undefined?this.localeData():this.locale(e)});z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Cr("gggg","weekYear"),Cr("ggggg","weekYear"),Cr("GGGG","isoWeekYear"),Cr("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),lt("G",it),lt("g",it),lt("GG",Z,K),lt("gg",Z,K),lt("GGGG",tt,G),lt("gggg",tt,G),lt("GGGGG",nt,Y),lt("ggggg",nt,Y),vt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=b(e)}),vt(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),z("Q",0,0,"quarter"),M("quarter","Q"),lt("Q",J),dt("Q",function(e,t){t[yt]=(b(e)-1)*3}),z("D",["DD",2],"Do","date"),M("date","D"),lt("D",Z),lt("DD",Z,K),lt("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),dt(["D","DD"],bt),dt("Do",function(e,t){t[bt]=b(e.match(Z)[0],10)});var Dr=P("Date",!0);z("d",0,"do","day"),z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),lt("d",Z),lt("e",Z),lt("E",Z),lt("dd",ut),lt("ddd",ut),lt("dddd",ut),vt(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);r!=null?t.d=r:l(n).invalidWeekday=e}),vt(["d","e","E"],function(e,t,n,r){t[r]=b(e)});var Hr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ir="Su_Mo_Tu_We_Th_Fr_Sa".split("_");z("H",["HH",2],0,"hour"),z("h",["hh",2],0,function(){return this.hours()%12||12}),Xr("a",!0),Xr("A",!1),M("hour","h"),lt("a",Vr),lt("A",Vr),lt("H",Z),lt("h",Z),lt("HH",Z,K),lt("hh",Z,K),dt(["H","HH"],wt),dt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),dt(["h","hh"],function(e,t,n){t[wt]=b(e),l(n).bigHour=!0});var Jr=/[ap]\.?m?\.?/i,Qr=P("Hours",!0);z("m",["mm",2],0,"minute"),M("minute","m"),lt("m",Z),lt("mm",Z,K),dt(["m","mm"],Et);var Gr=P("Minutes",!1);z("s",["ss",2],0,"second"),M("second","s"),lt("s",Z),lt("ss",Z,K),dt(["s","ss"],St);var Yr=P("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return this.millisecond()*10}),z(0,["SSSSS",5],0,function(){return this.millisecond()*100}),z(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),z(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),z(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),z(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),M("millisecond","ms"),lt("S",et,J),lt("SS",et,K),lt("SSS",et,Q);var Zr;for(Zr="SSSS";Zr.length<=9;Zr+="S")lt(Zr,rt);for(Zr="S";Zr.length<=9;Zr+="S")dt(Zr,ei);var ti=P("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var ii=m.prototype;ii.add=Qn,ii.calendar=Yn,ii.clone=Zn,ii.diff=ir,ii.endOf=gr,ii.format=ar,ii.from=fr,ii.fromNow=lr,ii.to=cr,ii.toNow=hr,ii.get=j,ii.invalidAt=Nr,ii.isAfter=er,ii.isBefore=tr,ii.isBetween=nr,ii.isSame=rr,ii.isValid=xr,ii.lang=dr,ii.locale=pr,ii.localeData=vr,ii.max=wn,ii.min=bn,ii.parsingFlags=Tr,ii.set=j,ii.startOf=mr,ii.subtract=Gn,ii.toArray=Er,ii.toObject=Sr,ii.toDate=wr,ii.toISOString=ur,ii.toJSON=ur,ii.toString=or,ii.unix=br,ii.valueOf=yr,ii.year=Jt,ii.isLeapYear=Kt,ii.weekYear=Lr,ii.isoWeekYear=Ar,ii.quarter=ii.quarters=_r,ii.month=Mt,ii.daysInMonth=_t,ii.week=ii.weeks=tn,ii.isoWeek=ii.isoWeeks=nn,ii.weeksInYear=Mr,ii.isoWeeksInYear=Or,ii.date=Dr,ii.day=ii.days=Ur,ii.weekday=zr,ii.isoWeekday=Wr,ii.dayOfYear=sn,ii.hour=ii.hours=Qr,ii.minute=ii.minutes=Gr,ii.second=ii.seconds=Yr,ii.millisecond=ii.milliseconds=ti,ii.utcOffset=Mn,ii.utc=Dn,ii.local=Pn,ii.parseZone=Hn,ii.hasAlignedHourOffset=Bn,ii.isDST=jn,ii.isDSTShifted=Fn,ii.isLocal=In,ii.isUtcOffset=qn,ii.isUtc=Rn,ii.isUTC=Rn,ii.zoneAbbr=ni,ii.zoneName=ri,ii.dates=Ht("dates accessor is deprecated. Use date instead.",Dr),ii.months=Ht("months accessor is deprecated. Use month instead",Mt),ii.years=Ht("years accessor is deprecated. Use year instead",Jt),ii.zone=Ht("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",_n);var si=ii,ai={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},li={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},hi="Invalid date",di="%d",vi=/\d{1,2}/,yi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Si=E.prototype;Si._calendar=ai,Si.calendar=fi,Si._longDateFormat=li,Si.longDateFormat=ci,Si._invalidDate=hi,Si.invalidDate=pi,Si._ordinal=di,Si.ordinal=mi,Si._ordinalParse=vi,Si.preparse=gi,Si.postformat=gi,Si._relativeTime=yi,Si.relativeTime=bi,Si.pastFuture=wi,Si.set=Ei,Si.months=Ct,Si._months=Nt,Si.monthsShort=Lt,Si._monthsShort=kt,Si.monthsParse=At,Si.week=Gt,Si._week=Yt,Si.firstDayOfYear=en,Si.firstDayOfWeek=Zt,Si.weekdays=Br,Si._weekdays=Hr,Si.weekdaysMin=qr,Si._weekdaysMin=Ir,Si.weekdaysShort=Fr,Si._weekdaysShort=jr,Si.weekdaysParse=Rr,Si.isPM=$r,Si._meridiemParse=Jr,Si.meridiem=Kr,k("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=b(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),t.lang=Ht("moment.lang is deprecated. Use moment.locale instead.",k),t.langData=Ht("moment.langData is deprecated. Use moment.localeData instead.",A);var Oi=Math.abs,Ui=Ri("ms"),zi=Ri("s"),Wi=Ri("m"),Xi=Ri("h"),Vi=Ri("d"),$i=Ri("w"),Ji=Ri("M"),Ki=Ri("y"),Yi=Gi("milliseconds"),Zi=Gi("seconds"),es=Gi("minutes"),ts=Gi("hours"),ns=Gi("days"),rs=Gi("months"),is=Gi("years"),os=Math.round,us={s:45,m:45,h:22,d:26,M:11},hs=Math.abs,ds=Tn.prototype;ds.abs=Mi,ds.add=Di,ds.subtract=Pi,ds.as=Ii,ds.asMilliseconds=Ui,ds.asSeconds=zi,ds.asMinutes=Wi,ds.asHours=Xi,ds.asDays=Vi,ds.asWeeks=$i,ds.asMonths=Ji,ds.asYears=Ki,ds.valueOf=qi,ds._bubble=Bi,ds.get=Qi,ds.milliseconds=Yi,ds.seconds=Zi,ds.minutes=es,ds.hours=ts,ds.days=ns,ds.weeks=ss,ds.months=rs,ds.years=is,ds.humanize=cs,ds.toISOString=ps,ds.toString=ps,ds.toJSON=ps,ds.locale=pr,ds.localeData=vr,ds.toIsoString=Ht("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ps),ds.lang=dr,z("X",0,0,"unix"),z("x",0,0,"valueOf"),lt("x",it),lt("X",ot),dt("X",function(e,t,n){n._d=new Date(parseFloat(e,10)*1e3)}),dt("x",function(e,t,n){n._d=new Date(b(e))}),t.version="2.10.6",n(yn),t.fn=si,t.min=Sn,t.max=xn,t.utc=a,t.unix=oi,t.months=Ni,t.isDate=i,t.locale=k,t.invalid=h,t.duration=Wn,t.isMoment=g,t.weekdays=ki,t.parseZone=ui,t.localeData=A,t.isDuration=Nn,t.monthsShort=Ci,t.weekdaysMin=Ai,t.defineLocale=L,t.weekdaysShort=Li,t.normalizeUnits=_,t.relativeTimeThreshold=ls;var vs=t;return vs}),function(e){"use strict";var t=e.Disney,n=e.Grill,r=e.moment,i=e.jQuery;t.Countdown=function(e){this.el=e,this.render=function(){var e=i(this.el).find("li"),n=i.Deferred();return t.geo(function(o){e=e.filter(function(e,n){var r={get:function(){return i(n).data()}};return!t.vis.geoExcluded(r,o)}).slice(0,1);if(e.length){var u=e.find(".clock:first").html();e.each(function(e,t){var n=i(t),o=r.utc(n.data("datetime")),a=n.data("locked"),f=n.data("preStateModal"),l=n.data("postStateModal"),c=i(".clock",t),h=i(".cta",t),p=i(".title",t);n.removeClass("hidden"),a&&(o=o.local()),f&&s(f,h.filter(":not(.finished)").children("a")),l&&s(l,h.filter(".finished").children("a")),c.countdown(o.format("YYYY-MM-DD HH:mm"),function(e){e.elapsed||i(this).html(e.strftime(u)),h.filter(":not(.finished)").length||p.filter(":not(.finished)").addClass("center"),h.filter(".finished").length||p.filter(".finished").addClass("center"),p.add(h).filter(":not(.finished)").toggleClass("hidden",e.elapsed),p.add(h).filter(".finished").toggleClass("hidden",!e.elapsed),i(this).toggleClass("hidden",e.elapsed)})}),n.resolve()}else n.reject()}),n.promise()}};var s=function(e,t){var r=t.data("cto")||"",i=t.data("modalCto")||"",s=new n.ModalView({model:e,name:"countdown",tracking:{engagementMeta:r,eventCategory:"SW"+i+"Modal"}});t.on("click",function(e){s.show({event:e})})}}(this),function(e){"use strict";function r(){var t=e.window.location.pathname.split("/")[1],r=n('nav a[href^="/'+t+'"]'),i=n("#nav-outer-container").data("section"),s=r.data("section");n("nav a").removeClass("active"),r.addClass("active"),!i||n("#nav-outer-container").removeClass(i+"-content has-border"),t&&s&&n("#nav-outer-container").data("section",s).addClass(s+"-content has-border")}var t=e.Disney,n=e.jQuery;n(function(){typeof t.top!="undefined"?t.top.on("ready",r):r()})}(this),function(e){"use strict";var t=e.NAV=e.NAV||{};t.queue=t.queue||[],t.opts=t.opts||{};var n=e.NAV,r=e.document,i=r.documentElement,s=String.prototype.trim,o=Array.prototype.splice,u=Array.prototype.slice,a=s||function(){return this.toString().replace(/^\s+|\s+$/g,"")},f={};e.NAV.load=function(t,n){var r=e.document,i=r.getElementsByTagName("script")[0],s=r.createElement("script");s.type="text/javascript",s.async="async",s.onload=s.onreadystatechange=function(e,t){var r=this,i=r.readyState,s=r.parentNode;s&&(t||!i||i==="complete"||i==="loaded")&&(s.removeChild(this),!t&&n&&n())},s.src=t,i.parentNode.insertBefore(s,i),s=r=i=null};var l=function(e){var t=e.apply?e:n[e[0]];t&&t.apply&&t.apply(n,e.slice?e.slice(1):[])};e.setTimeout(function(){var e=n.queue||[],t=0;for(;t<e.length;++t)l(e[t]);n.queue={push:l}},1),n.on=function(e,t,n){var r=f[e]||(f[e]=[]);return t&&r.push({f:t,c:n}),this},n.off=function(e,t,n){var r,i,s=0,o;if(!e)f={};else if(!t)delete f[e];else if(r=f[e]){i=f[e]=[];for(;s<r.length;++s)o=r[s],o.f===t&&(n?o.c===n:o.c===this)&&i.push(o)}return this},n.trigger=function(e){var t=f[e],n=0,r,i=u.call(arguments,1);if(t){t=t.slice();for(;n<t.length;++n)r=t[n],r.f.apply(r
.c||this,i)}e!=="all"&&this.trigger.apply(this,["all",e].concat(i))};var c=function(t){var n=this.length||0,r=0,i=0;if(t)if(t.nodeType||t===e)r=1,this[n]=t;else{r=t.length||0;for(;i<r;++i)this[n+i]=t[i]}this.length=n+r},h=n.dom=function(e){return new c(e)},p=function(e){var t=this,n=e.target||e.srcElement||i,r=e.fromElement;n.nodeType===3&&(n=n.parentNode),t.type=e.type,t.target=n,t.original=e,t.altKey=!!e.altKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t.ctrlKey=!!e.ctrlKey,t.charCode=e.charCode,t.keyCode=e.keyCode,t.relatedTarget=e.relatedTarget||(r===n?e.toElement:r),t.defaultPrevented=!!(e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())};p.prototype={preventDefault:function(){var e=this.original;this.defaultPrevented=!0,e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.original;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},c.prototype={splice:o,add:c,ea:function(e){var t=0,n=this.length;for(;t<n;++t)e.call(this[t],t);return this},eaN:function(e){var t=0,n=this.length,r;for(;t<n;++t)r=this[t],r.nodeType===1&&e.call(r,t);return this},before:function(e){return this.ea(function(){e.parentNode.insertBefore(this,e)})},after:function(e){var t=e.nextSibling;return t?this.before(t):this.ea(function(){e.parentNode.appendChild(this)})},rm:function(){return this.ea(function(){var e=this.parentNode;e&&e.removeChild(this)}),this},on:function(t,n){var r=u.call(arguments,2);return this.eaN(function(){var i=this,s,o=function(i){i=i||e.event||{type:t},s&&s.call(this,i),n.apply(this,[new p(i)].concat(r))};i.addEventListener?i.addEventListener(t,o,!1):(s=i["on"+t],i["on"+t]=o),i=null})},listener:function(e,t,n){var r=f[e]||(f[e]=[]);return t&&r.push({f:t,c:n}),this},trigger:function(e){var t=f[e],n=0,r,i=u.call(arguments,1);if(t){t=t.slice();for(;n<t.length;++n)r=t[n],r.f.apply(r.c||this,i)}e!=="all"&&this.trigger.apply(this,["all",e].concat(i))},hasC:function(e){var t=0,n=this.length,r;for(;t<n;++t){r=this[t];if(r.nodeType===1&&(" "+r.className+" ").indexOf(" "+e+" ")>-1)return!0}return!1},addC:function(e){var t=e;return e=" "+e+" ",this.eaN(function(){var n=" "+(this.className||"")+" ";n.indexOf(e)<0&&(this.className=a.call(n+t))})},rmC:function(e){return e=" "+e+" ",this.eaN(function(){var t=" "+(this.className||"")+" ";while(t.indexOf(e)>-1)t=t.replace(e," ");this.className=a.call(t)})},byTag:function(e){var t=h();return this.eaN(function(){t.add(this.getElementsByTagName(e))}),t}},h.byId=function(e){return h(r.getElementById(e))},h.byTag=function(e){return h(i).byTag(e)},h.byName=function(e){return h(r.getElementsByName(e))},h.byClass=function(e){return r.getElementsByClassName?h(r.getElementsByClassName(e)):h(r.querySelectorAll(e))},h.parse=function(e){var t=r.createElement("div");return t.innerHTML=e,h(t.childNodes)},h.contains=i.compareDocumentPosition?function(e,t){return!!(e.compareDocumentPosition(t)&16)}:i.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},h.create=function(e){return h(r.createElement(e))},n.go=function(e){return e}}(this),function(e){"use strict";function l(e){return n.Deferred(function(t){var n=e.displayName,r=e.profile,i=e.tokens,s={};n&&n.displayName&&(s.username=n.displayName),r&&r.swid&&(s.swid=r.swid),i&&i.access&&(s.token=i.access),t.resolve(s)}).promise()}function c(e){var t="url("+e+")";f().css({"background-image":t,"background-size":"100%","background-color":"transparent"})}function h(e){var t=new RegExp(s+"$");if(e.match(t)){f().removeAttr("style");return}c(e)}function p(){f().removeAttr("style")}var t=e.Disney.SocialServices,n=e.jQuery,r=e.NREUM,i="SMALL",s="default-SMALL-LOW.png",o,u=function(){return e.__disneySocial},a=function(){return e.__disneySocial.avatar},f=function(){return n("div.nav-login").find("span.user-avatar")};t.auth=function(t){var i,s=n.Deferred();if(!u()){var a="Unable to connect with SocialHub: Social Services are Unavailable";return r&&r.noticeError(a),s.reject(a),s.promise()}return l(t).then(function(e){i=e,o===e.token?s.resolve(e.swid):(o=e.token,u().authDisneyID(e.username,e.swid,e.token))}),u().onAuthDisneyID(function(){s.resolve(i.swid)}),e.setTimeout(function(){if(s.state()==="pending"){s.reject("Unable to connect with Social Hub: Social Services never called back");if(r){var e=new Error("AVATAR SERVICE ERROR: __disneySocial.avatar.authDisneyID() did not respond");r.noticeError(e)}}},5e3),s.promise()},t.unauth=function(){o=undefined,u().unauthDisneyID()},t.pickAvatar=function(e){e.refresh().then(t.auth).then(function(){a().pickAvatar(h,i)},function(e){r&&r.noticeError(e)})},t.displayAvatar=function(e){a().subscribeToAvatar(e,i,h,!0)},t.defaultAvatar=function(){p()}}(this);if(!jQuery.support.cors&&window.XDomainRequest){var httpRegEx=/^https?:\/\//i,getOrPostRegEx=/^get|post$/i,sameSchemeRegEx=new RegExp("^"+location.protocol,"i"),xmlRegEx=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(e,t,n){if(e.crossDomain&&e.async&&getOrPostRegEx.test(e.type)&&httpRegEx.test(t.url)&&sameSchemeRegEx.test(t.url)){var r=null,i=(t.dataType||"").toLowerCase();return{send:function(n,s){r=new XDomainRequest,/^\d+$/.test(t.timeout)&&(r.timeout=t.timeout),r.ontimeout=function(){s(500,"timeout")},r.onload=function(){var e="Content-Length: "+r.responseText.length+"\r\nContent-Type: "+r.contentType,t={code:200,message:"success"},n={text:r.responseText};try{if(i==="json")try{n.json=JSON.parse(r.responseText)}catch(o){t.code=500,t.message="parseerror"}else if(i==="xml"||i!=="text"&&xmlRegEx.test(r.contentType)){var u=new ActiveXObject("Microsoft.XMLDOM");u.async=!1;try{u.loadXML(r.responseText)}catch(o){u=undefined}if(!u||!u.documentElement||u.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+r.responseText;n.xml=u}}catch(a){throw a}finally{s(t.code,t.message,n,e)}},r.onerror=function(){s(500,"error",{text:r.responseText})},r.open(e.type,e.url),r.send()},abort:function(){r&&r.abort()}}}})}(function(e){"use strict";var t=e.jQuery,n=e.navigator,r=e.location.protocol==="https:",i=Array.prototype.slice,s,o=[],u=function(e){o===null?e(s):o.push(e)},a=e.cto={trackPagination:function(e){e+="";while(e.length<2)e="0"+e;u(function(t){var n=t.pageName;n&&(t.pageName=n.replace(/\|page_\d+$/,"")+"|page_"+e,t.track())})}};t.each(["resetObj","track","trackEvent","trackLink","trackVideo","trackGame"],function(e,t){a[t]=function(){var e=i.call(arguments),n=e[0];n&&n.ctoSrcPath&&f(n.ctoSrcPath),u(function(n){n[t].apply(n,e)})}});var f=function(i){function u(){s=new e.CTO;var t=0,n=function(){t<o.length?(o[t](s),++t,e.setTimeout(n,200)):o=null};n()}if(n&&n.loadPurpose==="preview")return;if(e.cto.account)return;t(e).one("CTOReady",u),t.ajax((r?"https://global":"http://aglobal")+".go.com"+i,{dataType:"script",cache:!0})}})(this),function(e){"use strict";var t=e.jQuery;e.Tracker={page:function(n){var r={pageName:""};t.extend(r,n),e.cto.track({pageName:r.pageName})},event:function(n){var r={eventCategory:null,action:null,label:null,value:null};t.extend(r,n),r.engagementType=r.eventCategory+":"+r.action,e.cto.trackEvent(r)},link:function(n){var r={linkPosition:null,linkName:null,isChrome:!1,href:null};t.extend(r,n),e.cto.trackLink(r.linkPosition,r.linkName,undefined,r.href),r.isChrome&&(r.linkPosition="Chrome: "+r.linkPosition)},video:function(n){var r={analyticsData:null,info:null};t.extend(r,n),e.cto.trackVideo(r.analyticsData)}},t(function(){t("#nav-outer-container").on("click","li a, #nav-sw-logo, #nav-sw-logo-bar, .sponsor a",function(){var n=t(this),r=n.attr("href"),i=n.data("cto")||"",s="";switch(i){case"ac":return;case"social":s="/"+n.attr("class"),i+="/link";break;case"section":s="/"+n.data("section"),i+="/link";break;case"swlogo":s="/starwars-logo",i="logo";break;case"sponsorship":s="/link";var o=n.attr("title");o&&(s+="/"+o);break;default:var u=n.text();u&&(s="/"+u),typeof i=="object"&&"slug"in i&&(i=i.slug)}e.Tracker.link({linkPosition:"top-nav/"+i+s,linkName:"top-nav/"+i,href:r})}),t("footer").on("click","#legal li a, .social-links li a",function(){var n=t(this),r=n.attr("href"),i=n.data("cto")||"",s="";i==="social"?(s="/"+n.attr("class"),i+="/"):s="/"+n.context.innerText.replace(/(\s|\/)/g,"-"),e.Tracker.link({linkPosition:"footer/"+i+"link"+s,linkName:"footer",href:r})})})}(this),function(e,t){"use strict";var n=e._,r=e.NAV,i=r.dom,s=e.document,o=i(s.documentElement),u=e.encodeURIComponent,a=e.location.protocol==="https:",f="sw_nav",l="",c,h,p;r.searchAttemptUsedPlacements={};var d=r.closeSearch=function(){var n=i.byId("nav-ac").rm();e.clearTimeout(p),c=l=h=t,n.length&&(o.rmC("nav-open-search"),o.hasC("nav-open-menu")||(o.rmC("nav-open"),r.trigger("close")),r.trigger("close:search"))},v=function(e,n){var i=c&&c.value;p=t;if(i!==t&&i!==l){l=i;if(i==="")d();else{var s=r.a+u(i)+"?"+(a?"s":"")+"&p="+e+(n?"&f[search_section]="+u(n):"");r.load(s),r.trigger("change:search",e)}}},m=function(e){var t=i.byId("nav-ac").byTag("li"),n=t.length-1;n>=0&&(h=e,h<0&&(h=n),h>n&&(h=0),t.rmC("nav-active"),i(t[h]).addC("nav-active"))},g=function(e){m(h!==t?h+e:e>0?0:-1)},y=function(e){r.trigger("click"),r.trigger("click:search",e,this)},b={13:function(t){var n=i(i.byId("nav-ac").byTag("li")[h]).byTag("a")[0];return n?(y.call(n),e.location.href=n.href):r.trigger("submit:search",t),d(),!!n},27:function(){if(c)return d(),!0},38:function(){return g(-1),!0},40:function(){return g(1),!0}},w=function(t,n,r){var i=b[t.keyCode];c=this,i?i.call(this,n)&&t.preventDefault():p||(p=e.setTimeout(function(){v(n,r)},100))};r.ac=function(e,t,r){return r=n.isUndefined(r)?"":r,i(e).byTag("form").ea(function(){var e=i(this);e.hasC("nav-search")&&e.byTag("input").ea(function(){this.name==="q"&&(t=t||f,this.setAttribute("autocomplete","off"),i(this).on("keydown",w,t,r))})}),e},r._aSac=function(e,n){var s=i.byId("nav-ac").rm();s.rm(),s=s.length,c&&(r.go(i.parse(n)).after(c).byTag("li").ea(function(n){i(this).on("mouseover",function(e){var t=e.target;(t===this||i.contains(this,t))&&m(n)}).on("mouseout",function(e){var n=e.relatedTarget;(!n||n!==this&&!i.contains(this,n))&&m(t)}).byTag("a").on("click",y,e)}),s?m(h):(o.hasC("nav-open-menu")||r.trigger("open"),r.trigger("open:search"),o.addC("nav-open-search"),o.addC("nav-open")),r.trigger("accept:search"))},o.on("click",function(t){var n=t.target;c&&n!==c&&e.setTimeout(d,0)});var E=e.cto,S=function(e){E&&E.trackLink(e)},x=function(e){var t=e.getAttribute("data-linkname"),n=e.getAttribute("data-linkposition"),r=e.getAttribute("data-linkinput");return t&&n?r?[t,n,r]:[t,n]:!1};r.on("change:search",function(e){E&&!r.searchAttemptUsedPlacements[e]&&(r.searchAttemptUsedPlacements[e]=!0,E.trackEvent({searchAttempt:"y",engagementType:e}))}),r.on("click:search",function(e,t){var n;e&&(n=x(e.target)),n||(n=x(t)),n[0]&&S({linkName:n[0],linkPosition:n[1],href:t.href,searchPhraseInput:n[2]})})}(this),function(e){"use strict";function g(){var t=o.byId("nav-login");t.add([h.chrome_togg[0],h.search[0],h.social[0]]),h.els=t,h.diff=h.full-h.cmprsd,b(),p.tog.on("click",function(){p.open=M(p.open,{el:[h.outer_container,p.bod],klass:["pushed","pushed"]}),f.event({eventCategory:"starwars",action:"nav-drawer-"+(p.open?"open":"closed"),abTest:"navigation"})}),p.overlay.on("click",function(){if(!h.outer_container.hasC("pushed"))return;p.open=C()}),h.section_link.listener("close:drawer",function(){e.setTimeout(function(){p.open=C()},300)}),h.section_link.on("click",function(){o.byClass("active")[0]!==this&&h.section_link.trigger("close:drawer")}),h.mobile_logo.on("click",function(){h.section_link.trigger("close:drawer"),o.byClass("active")[0]!==this&&e.setTimeout(function(){p.open=C()},300)}),h.search_togg.on("click",function(){h.search_open=M(h.search_open,{el:[h.search,h.login],klass:["visible","visible"]});var e=h.search_open?"open":"closed";f.event({eventCategory:"starwars",action:"search-icon-"+e,abTest:"navigation"}),e==="open"?h.search_input[0].focus():(s.closeSearch(),h.search_input[0].blur())}),h.search_input.on("focus",function(){h.search.addC("visible")}),h.search_input.on("blur",function(){e.setTimeout(function(){h.search_open=!1,h.search.rmC("visible"),h.search_input[0].value="",s.searchAttemptUsedPlacements={}},200)}),h.search_form.on("submit",function(){e.cto.trackLink("navigation/search/link/search_enter","navigation/search")}),h.did_log_in.on("click",function(){L("log-in")}),h.did_sign_up.on("click",function(){L("sign-up")}),h.choose_avatar.on("click",function(){f.event({eventCategory:"starwars",action:"account",abTest:"choose-avatar"}),m&&n.pickAvatar(v)}),h.userName.on("click",function(){var e=o.byClass("logged-in");e.hasC("active")?e.rmC("active"):e.addC("active")}),h.chrome_togg.on("click",function(){var e={el:[h.d_chrome,h.chrome_cntrl,h.outer_container],klass:["show","hide","chrome_push"]};h.chrome_rst_top&&(h.chrome_open=!0,h.chrome_rst_top=!1),H(d)>0?(D(),h.chrome_rst_top=N("open")):(f.event({eventCategory:"starwars",action:"disney-chrome-"+(h.chrome_open?"hide":"show"),abTest:"navigation"}),h.chrome_open=M(h.chrome_open,e))})}function b(){d=o(e)[0],h.init_win_width=d.innerWidth,A(),w(),E(),j(d,"resize",r.throttle(function(){S(),k()},300)),typeof t.top!="undefined"&&t.top.on("ready",function(){h.isSlim=h.outer_container.hasC("slim-nav"),h.isSlim&&T()})}function w(){s.a="/_sac/",s.ac(h.search[0],"navigation/search"),h.desktop=h.init_win_width>l.max,h.isSlim=h.outer_container.hasC("slim-nav");if(h.desktop&&h.isMob||h.isSlim)p.bod.addC("compressed"),h.outer_container.rmC("full-nav"),h.outer_container.addC("compressed");h.outer_container.hasC("countdown")&&p.bod.addC("countdown"),h.init_win_width>l.max&&!h.mobile&&j(d,"scroll",y)}function E(){if(t&&t.Countdown){var e=new t.Countdown(h.countdown);e.render().done(function(){h.countdown.addC("show")}).fail(function(){p.bod.rmC("countdown"),h.countdown.addC("hidden"),h.outer_container.rmC("countdown")})}}function S(){h.desktop=h.init_win_width>l.max,d.innerWidth>l.max?j(d,"scroll",y):F(d,"scroll",y)}function x(e){var t=r.isNumber(e);if(t&&e>=h.diff)h.outer_container.rmC("full-nav"),h.outer_container.addC("compressed");else if(t){h.outer_container.rmC("compressed"),h.outer_container.addC("full-nav");return}T()}function T(){h.els.eaN(function(){this.removeAttribute("style")}),h.bar[0].removeAttribute("style"),h.wrapper[0].removeAttribute("style")}function N(e){var t=[h.d_chrome,h.chrome_cntrl,h.outer_container],n=["show","hide","chrome_push"],r=0;if(e==="open"){for(;r<t.length;r++)t[r].addC(n[r]);return!0}for(;r<t.length;r++)t[r].rmC(n[r]);return h.chrome_open=!1,!1}function C(){return p.open&&(h.outer_container.rmC("pushed"),p.bod.rmC("pushed")),!1}function k(){var e=d.innerWidth,t=e>l.max;s.closeSearch(),h.desktop=t,r.each(l,function(t){if(e+1>t||e-1<t)h.crssd_ovr=!0}),x(!1),h.isMob||(!t&&!h.willReset?(h.bar[0].setAttribute("style",""),D(),h.willReset=!0):h.willReset=!1,r.defer(function(){h.search_open=M(!0,{el:[h.search,h.login],klass:["visible","visible"]})})),!t&&!h.isMob&&(p.open=C(),h.isCompressed&&(h.outer_container.rmC("compressed"),h.isCompressed=!1)),e>=900&&(e<=l.max||h.desktop&&h.isMob)&&(h.outer_container.rmC("pushed"),p.bod.rmC("pushed")),t&&!h.isCompressed&&!h.isMob&&!h.isSlim&&(h.outer_container.addC("full-nav"),h.isCompressed=!0,h.outer_container.rmC("pushed"),p.bod.rmC("pushed")),h.desktop&&(h.isMob||h.isSlim)&&(h.outer_container.rmC("full-nav"),h.outer_container.addC("compressed"),h.outer_container.hasC("gapless")&&p.bod.addC("gapless"))}function L(e){v.current?v.current&&e==="log-in"?(f.event({eventCategory:"starwars",action:"account",abTest:"navigation"}),v.update()):(O(v),n.unauth()):(f.event({eventCategory:"starwars",action:e,abTest:"navigation"}),(e==="sign-up"?v.signup:v.login).call(v).then(function(){f.event({eventCategory:"starwars",action:"log-in-success",abTest:"navigation"});return},function(){f.event({eventCategory:"starwars",action:e+"-aborted",abTest:"navigation"});return}))}function A(){if(v){var e=o.byClass("nav-login");v.refresh().then(function(t){t&&e.addC("show")}).fail(function(){e.addC("show")})}else h.login[0].setAttribute("display","none")}function O(e){e.logout().then(function(){f.event({eventCategory:"starwars",action:"sign out",abTest:"navigation"}),t.updateSWid(null),n.unauth(),m=!1})}function M(e,t){var n=t||{};if(r.isEmpty(n))return!1;var i=r.values(n.el),s=r.values(n.klass);if(e)for(var o=0;o<i.length;o++)i[o].rmC(s[o]);else for(var u=0;u<i.length;u++)i[u].addC(s[u]);return e?!1:!0}function _(e,t,n,r){return e/=r/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}function D(){var t=H(d),n=0-t,r=0,i=20,s=function(){r+=i;var o=_(r,t,n,120);u.body.scrollTop=u.documentElement.scrollTop=o,r<120&&e.setTimeout(s,i)};s()}function P(e,t){var n=i.round((1-e/t*1.15)*100)/100;return n>0?n:0}function H(){return d.pageYOffset!==undefined?d.pageYOffset:(u.documentElement||u.body.parentNode||u.body).scrollTop}function B(t,n){var r=!1,i=!0,s=t.document,o=s.documentElement,u=s.addEventListener?"addEventListener":"attachEvent",a=s.addEventListener?"removeEventListener":"detachEvent",f=s.addEventListener?"":"on",l=function(e){if(e.type==="readystatechange"&&s.readyState!=="complete")return;(e.type==="load"?t:s)[a](f+e.type,l,!1),!r&&(r=!0)&&n.call(t,e.type||e)},c=function(){try{o.doScroll("left")}catch(t){e.setTimeout(c,50);return}l("poll")};if(s.readyState==="complete")n.call(t,"lazy");else{if(s.createEventObject&&o.doScroll){try{i=!t.frameElement}catch(h){}i&&c()}s[u](f+"DOMContentLoaded",l,!1),s[u](f+"readystatechange",l,!1),t[u](f+"load",l,!1)}}function j(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function F(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}var t=e.Disney,n=t.SocialServices,r=e._,i=e.Math,s=e.NAV,o=s.dom,u=e.document,a=e.Modernizr,f=e.Tracker,l=t.Style.breakpoints,c=t.Cookie,h={depth:0,init_win_width:0,diff:0,cmprsd:70,full:300,search_open:!1,chrome_open:!1,chrome_rst_top:!1,desktop:!1,isCompressed:!1,els:{},bar:o.byId("navbar"),countdown:o.byId("countdown"),outer_container:o.byId("nav-outer-container"),d_chrome:o.byId("chrome-container"),chrome_cntrl:o.byId("chrome-controls"),logo:o.byId("nav-sw-logo"),wrapper:o.byId("nav-wrapper"),did_log_in:o.byClass("disid-login"),did_sign_up:o.byClass("disid-signup"),choose_avatar:o.byClass("choose-avatar"),userName:o.byClass("disid-user"),login:o.byId("nav-login"),social:o.byId("social-links"),search:o.byId("nav-search-container"),search_form:o.byId("topnav-search"),search_input:o.byId("nav-search-input"),search_togg:o.byId("nav-search-icon"),chrome_togg:o.byId("chrome-controls-container"),section_link:o.byClass("section-link"),mobile_logo:o.byId("nav-sw-logo-bar"),o_pre:a.prefixed("opacity"),isMob:a.mobile},p={open:!1,tog:o.byId("nav-drawer-toggle"),bod:o.byId("body-wrapper"),overlay:o.byId("page-overlay")},d,v,m;t.NAV=function(e){function r(){if(v.watched()||v.current)t.updateSWid(v.current),m||n.auth(v.current).then(function(e){n.displayAvatar(e),m=!0},function(){n.defaultAvatar(),m=!1})}v=e,v.on("login",r)},t.updateSWid=function(t){var n=o.byClass("nav-login"),r=o.byClass("disid-user"),i="innerText"in h.login?"innerText":"textContent";if(t){var s="",u=e.unescape(t.profile.swid);c.set("SWID",u,{domain:c.domain(),expires:7300,raw:!0}),t.displayName&&t.displayName.displayName?s=t.displayName.displayName:t.profile&&t.profile.username&&(s=t.profile.username),n.addC("logged-in");for(var a=0;a<r.length;a++)r[a][i]=s}else n.rmC("logged-in")},B(e,g);var y=r.throttle(function(){var t=H(this);h.isSlim=h.outer_container.hasC("slim-nav"),h.modalOpen=u.body.className.indexOf("modal-show")>=0,e.GOC&&e.GOC.queue.push(["closeSearch"]),t!==0&&h.chrome_open&&!h.chrome_rst_top&&N("close"),t===0&&h.chrome_rst_top&&(h.chrome_open=!0,h.chrome_rst_top=!1);if(h.isCompressed&&t>=h.diff||!h.desktop||h.isMob||h.isSlim||h.modalOpen)return;var n="height:"+(h.full-(t<h.diff?t:h.diff))+"px;",r=P(t,h.diff)+"",i=h.o_pre+":"+r;h.depth=t,h.isCompressed=t>=h.diff,h.bar[0].setAttribute("style",n),h.wrapper[0].setAttribute("style",i),x(t)},5)}(this),function(e){"use strict";var t=e.Disney,n=e.Backbone,r=e._,i="change:watched",s=function(e,t){t?this.retain():this.release()},o=function(e){e!==i&&this.trigger.apply(this,arguments)},u=function(e){this.current=r.extend(this.current||{},r.reduce(e,function(e,t,n){return t&&(e[n]=t),e},{}))},a=function(){this.current=void 0},f={},l=["login","logout","signup","refresh","update"],c=t.GuestContext=function(e){this._h=e||{},this.on("login",u),this.on("signup",u),this.on("refresh",u),this.on("update",u),this.on("logout",a)};c.actions=l,r.extend(c.prototype,n.Events,{_r:0,retain:function(){return this._r++===0&&this.trigger(i,this,!0),this},release:function(){this._r>0&&--this._r===0&&this.trigger(i,this,!1)},watched:function(){return this._r>0},spawn:function(){var e=new c(f);return e._p=this,e.current=this.current,e.on(i,s,this),this.on("all",o,e),e},disown:function(e){e.off(i,s,this),this.off("all",o,e),e._r>0&&this.release()}});var h=function(){throw"Not implemented"};r.each(l,function(e){c.prototype[e]=function(){return(this._h[e]||h).apply(this,arguments)},f[e]=function(){return this._p[e].apply(this._p,arguments)}})}(this),function(e,t){"use strict";function f(){}var n=e.Disney,r=e._,i=e.JSON,s=r.rest,o={query:f,provide:f,pub:f,sub:f},u,a;i&&e.postMessage&&(e.addEventListener?(u=function(t){e.addEventListener("message",t,!1)},a=function(t){e.removeEventListener("message",t,!1)}):e.attachEvent&&(u=function(t){e.attachEvent("onmessage",t)},a=function(t){e.detachEvent("onmessage",t)})),n.xdc=function(e,n,f,l){function g(t){var r=h+i.stringify([t].concat(s(arguments)));e.postMessage(r,n)}function y(e){var o,u,a=c.length;e.origin===n&&typeof e.data=="string"&&e.data.substr(0,a)===c&&(o=i.parse(e.data.substr(a)),typeof o[0]=="string"&&(u=r.has(m,o[0])&&m[o[0]])&&u.apply(t,s(o)))}var c="xdc "+f+" ",h="xdc "+(l||f)+" ",p={},d={},v={},m;return u?(u(y),m={call:function(e,n,i){function a(){if(o++)throw"reply already sent";g("reply",n,r.toArray(arguments))}var s=r.has(d,e)&&d[e],o=0,u=!1;if(s)try{s.apply(t,i.concat([a])),u=!0}finally{u||g("error",n,"unexpected remote exception")}else g("error",n,"undefined remote procedure: "+e)},reply:function(e,n){var i=r.has(p,e)&&p[e];i&&(delete p[e],i.apply(t,n))},notify:function(e,n){var i=r.has(v,e)&&v[e],s,o;if(typeof n.length=="number"){if(i)for(s=0,o=i.length;s<o;++s)i[s].apply(t,n);e!=="all"&&m.notify("all",[e].concat(n))}},error:function(e,t){var n=r.has(p,e)&&p[e];if(n)throw delete p[e],""+t}},{query:function(e){var t=s(arguments),n=t[t.length-1],i=r.uniqueId();n&&(p[i]=n,g("call",e,i,r.initial(t)))},provide:function(e,t){d[e]=t},pub:function(e){g("notify",e,s(arguments))},sub:function(e,t){var n=v[e];n||(n=v[e]=[]),n.push(t)},close:function(){a(y)}}):o}}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e._,i=e.document,s=/^([^\/:]+:\/\/[^\/]+)\//;t.initGuestConsumer=function(o,u){var a=s.exec(o)||s.exec(e.location.href),f=n.Deferred(),l={};return r.each(t.GuestContext.actions,function(e){l[e]=function(){return f.then(function(t){return n.Deferred(function(n){t.query(e,function(e,t){t?n.reject(t):n.resolve(e)})})})}}),l=new t.GuestContext(l),f.then(function(e){e.sub("all",function(){l.trigger.apply(l,r.toArray(arguments))})}),a?function(){function c(){r.style.visibility="hidden",r.style.minHeight="0",r.style.left="-100%"}var e,r=i.createElement("div"),s=i.createElement("iframe");s.setAttribute("allowtransparency","true"),s.setAttribute("frameBorder","0"),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("scrolling","no"),s.setAttribute("style","overflow:hidden;display:block;"),s.src=o,r.setAttribute("style","position:absolute;top:0;bottom:0;width:100%;z-index:10000;"),r.appendChild(s),c(),u=u||i.body,u.appendChild(r),u.style.position="relative",e=t.xdc(s.contentWindow,a[1],"guest"),e.provide("ready",function(t){t(),f.resolve(e)}),l.on("open",function(){r.style.visibility="visible",r.style.minHeight="2000px",r.style.left="0",s.focus&&s.focus(),n("html,body").scrollTop(0)}),l.on("close",c)}():f.reject(),l}}(this),function(e){"use strict";var t=e.Disney,n=e._,r=e.jQuery;t.initEmptyGuestConsumer=function(){var e={};return n.each(t.GuestContext.actions,function(t){e[t]=function(){return r.Deferred()}}),new t.GuestContext(e)}}(this),function(e){"use strict";function u(){var n=t.DidOpts,r=i.size(n),s=0,o="?";for(var u in n)n.hasOwnProperty(u)&&(o+=u+"="+n[u],r!==s+1&&(o+="&"),s++);if(t.didBase)return t.initGuestConsumer(t.didBase+e.location.host+encodeURI(o));t.initEmptyGuestConsumer()}var t=e.Disney,n=e.Grill,r=e.jQuery,i=e._,s=u();t.NAV(s),t.DL&&t.DL(s);if(n){var o=n.BurgerView.extend({initialize:function(){this.guest=s.spawn(),n.BurgerView.prototype.initialize.apply(this,arguments)},spawn:function(e){var t={model:e,guest:this.guest};return n.ModuleView.create(e.get("view"),t)},remove:function(){return s.disown(this.guest),n.BurgerView.prototype.remove.call(this)}});r(function(){e.Grill.config({container:t.top,view:o})})}}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery;n(function(){var e=n("footer #utility");t.top.on("ready",function(e){})})}(this),Whiskers("page_elements.page_styles",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<style type="text/css"> /* header background images and color settings */ '),r.s(r.f("header_theming",e,t,1),e,t,0,93,1441,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" @media screen and (min-width: 1025px){ "),n.s(n.f("image",e,t,1),e,t,0,143,234,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #nav-outer-container.full-nav #navbar #nav-header-bg{ background-image: url("),n.b(n.v(n.f("image",e,t,0))),n.b("); } ")}),e.pop()),n.b(" "),n.s(n.f("background_color",e,t,1),e,t,0,266,969,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #nav-outer-container.full-nav #navbar{ background-color: rgb("),n.b(n.v(n.f("rgb",e,t,0))),n.b("); } #nav-outer-container.full-nav #nav-header-bg .nav-header-fade { background-color: rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 1); background-image: -webkit-linear-gradient(left, rgb("),n.b(n.v(n.f("rgb",e,t,0))),n.b(") 0%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.9) 15%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.8) 27%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.5) 50%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.15) 75%, transparent 100%); background-image: linear-gradient(to right,"),n.b(n.v(n.f("rgb",e,t,0))),n.b(" 0%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.9) 15%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.8) 27%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.5) 50%, rgba("),n.b(n.v(n.f("rgb",e,t,0))),n.b(", 0.15) 75%, transparent 100%); background-color: transparent; "),n.s(n.f("hex",e,t,1),e,t,0,831,958,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='#00"),n.b(n.v(n.f("hex",e,t,0))),n.b("', endColorstr='#FF"),n.b(n.v(n.f("hex",e,t,0))),n.b("', GradientType=0)\";")}),e.pop()),n.b(" } ")}),e.pop()),n.b(" } @media screen and (min-width: 1025px) and (-webkit-min-device-pixel-ratio: 1.3), not all, not all, only screen and (min-resolution: 125dpi), only screen and (min-resolution: 1.3dppx){ "),n.s(n.f("image_retina",e,t,1),e,t,0,1194,1292,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #nav-outer-container.full-nav #navbar #nav-header-bg{ background-image: url("),n.b(n.v(n.f("image_retina",e,t,0))),n.b("); } ")}),e.pop()),n.b(" } "),n.s(n.f("hidden",e,t,1),e,t,0,1323,1429,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #nav-outer-container{ display: none; } #body-wrapper, #body-wrapper:not(.compressed){ margin-top: 0px; } ")}),e.pop()),n.b(" ")}),e.pop()),r.b(" "),r.s(r.f("footer_theming",e,t,1),e,t,0,1480,1663,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("footer_transparency",e,t,1),e,t,0,1505,1638,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" footer{ background: none; min-height: 210px; } footer #utility{ padding-top: 0; } footer #utility .social-links p{ margin-top: 0; } ")}),e.pop()),n.b(" ")}),e.pop()),r.b(" /* page background images and color settings */ "),r.s(r.f("background_theming",e,t,1),e,t,0,1754,3142,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("background_color",e,t,1),e,t,0,1776,1839,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #background-styles{ background-color: "),n.b(n.v(n.f("background_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("vertical_repeating_left",e,t,1),e,t,0,1889,1966,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .starfield.star-left{ background-image: url("),n.b(n.v(n.f("vertical_repeating_left",e,t,0))),n.b("); } ")}),e.pop()),n.b(" "),n.s(n.f("vertical_repeating_right",e,t,1),e,t,0,2024,2103,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .starfield.star-right{ background-image: url("),n.b(n.v(n.f("vertical_repeating_right",e,t,0))),n.b("); } ")}),e.pop()),n.b(" "),n.s(n.f("centered_background_image",e,t,1),e,t,0,2163,2580,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #background-styles{ background-position: top center; background-repeat: no-repeat; } "),n.s(n.f("mobile",e,t,1),e,t,0,2260,2347,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #background-styles{ background-image: url("),n.b(n.v(n.f("mobile",e,t,0))),n.b("); background-size: 768px auto; } ")}),e.pop()),n.b(" "),n.s(n.f("desktop",e,t,1),e,t,0,2371,2567,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" @media screen and (min-width: 768px){ #background-styles{ background-image: url("),n.b(n.v(n.f("desktop",e,t,0))),n.b("); background-size: 1600px auto; } .starfield.star-right, .starfield.star-left{ visibility: hidden; } } ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" "),n.s(n.f("content_background_image",e,t,1),e,t,0,2640,3112,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #burger-container{ background-repeat: no-repeat; background-position: top center; } "),n.s(n.f("mobile",e,t,1),e,t,0,2736,2821,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #burger-container{ background-size: 100% auto; background-image: url("),n.b(n.v(n.f("mobile",e,t,0))),n.b("); } ")}),e.pop()),n.b(" "),n.s(n.f("desktop",e,t,1),e,t,0,2845,3099,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" @media screen and (min-width: 768px){ #burger-container{ background-size: 133% auto; background-image: url("),n.b(n.v(n.f("desktop",e,t,0))),n.b("); } } @media screen and (min-width: 1200px){ #burger-container{ background-size: 1600px auto; background-image: url("),n.b(n.v(n.f("desktop",e,t,0))),n.b("); } } ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b(" "),r.s(r.f("section_styles",e,t,1),e,t,0,3185,3625,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" .section-color, .module .rich-text-enabled a{ color: "),n.b(n.v(n.f("color",e,t,0))),n.b("; } .section-border{ border-color: "),n.b(n.v(n.f("color",e,t,0))),n.b(" !important; } html.no-touch .module.rich_text, html.no-touch .module .rich-text-enabled a:hover, html.no-touch .module.stats a:hover{ color: rgb("),n.b(n.v(n.f("rgb_lighten",e,t,0))),n.b("); } html.no-touch .module a.underline:hover:after, html.no-touch .module .module_header ul li.underline:not(.active) > span:hover:after{ border-bottom-color: "),n.b(n.v(n.f("color",e,t,0))),n.b("; } ")}),e.pop()),r.b(" </style>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e._;n(function(){t.top.on("ready",function(t){var i=n("#body-wrapper"),s=n("#nav-outer-container"),o=n("#nav-inner-container"),u=n("#background-styles"),a=s.is(":visible");s.removeClass("nav-text-color-dark nav-text-color-light");if(t.collection&&t.collection.style){var f=t.collection.style,l=e.Whiskers.page_elements.page_styles.render(f),c=f.section_class||"";n("#style-pack-theming").html(l),i.attr("data-section",c)}f&&f.background_theming&&i.addClass("body-text-color-"+f.background_theming.text_color);if(f&&f.header_theming){var h=f.header_theming,p=h.style==="slim";i.toggleClass("compressed",p),s.addClass("nav-text-color-"+h.text_color),s.toggleClass("compressed",p),p?s.removeClass("full-nav").addClass("slim-nav"):s.removeClass("slim-nav").addClass("full-nav")}else s.removeClass("nav-text-color-dark nav-text-color-light");f&&f.background_theming&&f.background_theming.content_background_image&&a&&(i.addClass("gapless"),s.addClass("gapless"));var d=function(){var e=0;if(a){var t=o.height(),r=n("#navbar").height();e=t>0?t:r}u.css("background-position","top "+e+"px center")};d(),n(e.window).on("scroll",r.debounce(d))})})}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e.Math,i=/%%([a-z0-9]+)%%/g,s=function(e,t){return t==="rng"?""+r.floor(r.random()*1e18):""},o=function(t){if(t){var r=t.toString().replace(i,s),o=e.document.createElement("iframe");o.src=r,o.frameborder="0"
,o.height="1",o.width="1",o.style.display="none",n(e.document.body).prepend(o)}};n(function(){t.top.on("ready",function(e){var t=e.collection;t&&t.floodlight&&o(t.floodlight)})})}(this),function(e){"use strict";var t=e.Spatula;t.exclude("news"),t.exclude("news?*p"),t.exclude("news/*p"),t.exclude("events"),t.exclude("events?*p"),t.exclude("events/*p"),t.exclude("feed"),t.exclude("feed?*p"),t.exclude("feed/*p"),t.exclude("wp-content"),t.exclude("wp-content?*p"),t.exclude("wp-content/*p"),t.exclude("wp-includes"),t.exclude("wp-includes?*p"),t.exclude("wp-includes/*p"),t.exclude("the-force-awakens"),t.exclude("the-force-awakens?*p"),t.exclude("the-force-awakens/*p"),t.exclude(/search.*/)}(this),Whiskers("search.results",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b(' <div class="search-bound'),r.s(r.f("meta",e,t,1),e,t,0,60,111,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("total",e,t,1),e,t,1,0,0,"")||n.b(" no_results display-view module")}),e.pop()),r.b('"> '),r.s(r.f("meta",e,t,1),e,t,0,132,810,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <section class="search_top"> '),n.b(' <form class="search-form nav-search mod-search" action="/search" method="GET"> <div class="bedazzlement-container"> <span class="bedazzlement"></span> </div> <div class="query-field"> <input name="q" type="text" placeholder="'),n.b(n.v(n.f("placeholder",e,t,0))),n.b('" spellcheck="false" autocorrect="off" autocapitalize="off" value="'),n.s(n.f("keywords",e,t,1),e,t,0,533,545,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("keywords",e,t,0)))}),e.pop()),n.b('"> <span class="search-button"> <input class="large button" type="submit" value="'),n.b(n.v(n.d("translations.search",e,t,0))),n.b('"> </span> </div> '),n.s(n.f("active_section",e,t,1),e,t,0,699,771,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<input type="hidden" value="'),n.b(n.v(n.f("active_filter",e,t,0))),n.b('" name="f[search_section]">')}),e.pop()),n.b(" </form> </section> ")}),e.pop()),r.b(' <div class="refine-container"> '),r.b(' <section class="facet_groups"> <p class="refine-title">'),r.s(r.f("meta",e,t,1),e,t,0,946,979,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.d("translations.sw_refine_search",e,t,0)))}),e.pop()),r.b("</p> "),r.s(r.f("primary",e,t,1),e,t,0,1005,1421,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("facets",e,t,1),e,t,0,1017,1409,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("search_section",e,t,1),e,t,0,1037,1389,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <section class="filter-container'),n.s(n.f("active",e,t,1),e,t,0,1081,1088,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" active")}),e.pop()),n.b('"> <a class="'),n.b(n.t(n.f("searchIcons",e,t,0))),n.b('-filter" href="'),n.b(n.v(n.f("url",e,t,0))),n.b('"> <span class="facet-icon '),n.b(n.t(n.f("searchIcons",e,t,0))),n.b("-icon"),n.s(n.f("active",e,t,1),e,t,0,1211,1219,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" present")}),e.pop()),n.b('"></span> <span class="facet-name '),n.b(n.t(n.f("searchIcons",e,t,0))),n.b('-content">'),n.b(n.v(n.f("label",e,t,0))),n.b("</span> "),n.s(n.f("count",e,t,1),e,t,0,1318,1362,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="num-result"> ['),n.b(n.v(n.f("count",e,t,0))),n.b("]</span>")}),e.pop()),n.b(" </a> </section> ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b(' </section> </div> <div class="search-view-container"> '),r.s(r.f("meta",e,t,1),e,t,0,1497,2846,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("total",e,t,1),e,t,0,1508,2565,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.b(" "),n.s(n.f("suggestion",e,t,1),e,t,1,0,0,"")||(n.b(' <div class="totals"> <h2 class="'),n.s(n.f("active_section",e,t,1),e,t,0,1620,1630,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("in-section")}),e.pop()),n.b('"><strong>'),n.b(n.v(n.f("total",e,t,0))),n.b("</strong> "),n.b(n.v(n.d("translations.results_for",e,t,0))),n.b(' <span class="search-term"><strong>&ldquo;'),n.b(n.v(n.f("keywords",e,t,0))),n.b("&rdquo;</strong></span></h2> "),n.s(n.f("active_section",e,t,1),e,t,0,1808,2056,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="type-container '),n.b(n.v(n.f("active_class",e,t,0))),n.b('-content"> <div class="section-type"> <span class="in">'),n.b(n.v(n.d("translations.in",e,t,0))),n.b('</span> <span class="section-icon '),n.b(n.v(n.f("active_class",e,t,0))),n.b('-icon"></span> <span class="type-label">'),n.b(n.v(n.f("active_section",e,t,0))),n.b("</span> </div> </div> ")}),e.pop()),n.b(" </div> ")),n.b(" "),n.s(n.f("suggestion",e,t,1),e,t,0,2114,2549,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="suggestion"> <h2><strong>'),n.b(n.v(n.f("total",e,t,0))),n.b("</strong> "),n.b(n.v(n.d("translations.results_for",e,t,0))),n.b(" <strong>&ldquo;"),n.b(n.v(n.f("actual",e,t,0))),n.b("&rdquo;</strong></h2> "),n.s(n.f("corrected",e,t,1),e,t,0,2261,2379,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <h3>"),n.b(n.v(n.d("translations.search_instead_for",e,t,0))),n.b(' &ldquo;<a href="'),n.b(n.v(n.f("literal_url",e,t,0))),n.b('" class="route">'),n.b(n.v(n.f("keywords",e,t,0))),n.b("</a>&rdquo;?</h3> ")}),e.pop()),n.b(" "),n.s(n.f("corrected",e,t,1),e,t,1,0,0,"")||(n.b(" <h3> "),n.b(n.v(n.d("translations.did_you_mean",e,t,0))),n.b(' &ldquo;<a href="'),n.b(n.v(n.f("suggestion_url",e,t,0))),n.b('" class="route">'),n.b(n.v(n.f("suggestion",e,t,0))),n.b("</a>&rdquo;? </h3> ")),n.b(" </div> ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("total",e,t,1),e,t,1,0,0,"")||(n.b(' <div class="suggestionNoResults"> <h2>'),n.b(n.v(n.d("translations.no_results",e,t,0))),n.b(' <span class="search-term"><strong>&ldquo;'),n.b(n.v(n.f("keywords",e,t,0))),n.b("&ldquo;</strong></span></h2> </div> <p>"),n.b(n.t(n.d("translations.sw_please_try_another_search",e,t,0))),n.b("</p> ")),n.b(" ")}),e.pop()),r.b(" "),r.s(r.f("primary",e,t,1),e,t,0,2868,3278,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("total",e,t,1),e,t,0,2879,2924,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.b(" "),n.b(n.rp("everything",e,t,"")),n.b(" ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("total",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.s(n.f("hasLatest",e,t,1),e,t,0,2978,3252,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <section class="search_results_none"> <div class="module_header"> <h2 class="module_title">'),n.s(n.f("meta",e,t,1),e,t,0,3079,3109,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.d("translations.latest_videos",e,t,0)))}),e.pop()),n.b('</h2> </div> <div class="blocks-bound"> <span class="blocks-container"> '),n.s(n.f("latest",e,t,1),e,t,0,3201,3214,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.b(n.rp("entity",e,t,"")),n.b(" ")}),e.pop()),n.b(" </span> </div> </section> ")}),e.pop()),n.b(" ")),n.b(" ")}),e.pop()),r.b(" </div> </div>"),r.fl()}),Whiskers("search.no_results",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b(' <div class="building-block-config '),r.b(r.v(r.f("section_class",e,t,0))),r.b('-content without-description with-image third image-top ratio-2x1 short mob-width-full mob-image-top"> <div class="building-block"> <div class="building-block-aspect"> <div class="building-block-padding"> <a class="building-block-wrapper" href="'),r.b(r.v(r.f("href",e,t,0))),r.b('"'),r.s(r.f("ping",e,t,1),e,t,0,353,374,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' data-ping="'),n.b(n.v(n.f("ping",e,t,0))),n.b('"')}),e.pop()),r.b('> <div class="image-wrapper"> <div class="aspect"> <img src="'),r.b(r.v(r.f("noResult_image_src",e,t,0))),r.b('" class="thumb" alt="'),r.b(r.v(r.f("title",e,t,0))),r.b('"> </div> </div> <div class="content-wrapper"> <div class="bedazzlement"></div> '),r.s(r.f("duration",e,t,1),e,t,0,589,614,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<time>"),n.b(n.v(n.f("duration",e,t,0))),n.b("</time>")}),e.pop()),r.b(' <div class="content-bumper"> <div class="content-info"> <h3 class="title">'),r.b(r.v(r.f("title",e,t,0))),r.b('</h3> </div> </div> <div class="metadata"> <div class="anchored-text"> <h4 class="category-info"> <span class="content-icon '),r.b(r.v(r.f("section_class",e,t,0))),r.b('-icon"></span> <span class="category-name">'),r.b(r.v(r.f("section_label",e,t,0))),r.b('</span> </h4> </div> </div> <div class="decal"></div> </div> </a> </div> </div> </div> </div> '),r.fl()}),Whiskers("search.everything",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="search-view"> <section class="search_results '),r.s(r.f("more_url",e,t,1),e,t,0,70,78,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("has-more")}),e.pop()),r.b('"> <ul> '),r.s(r.f("results",e,t,1),e,t,0,111,962,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<li class="'),n.b(n.v(n.f("type",e,t,0))),n.b(" "),n.b(n.v(n.f("section_class",e,t,0))),n.b('-content result"> <div class="title-wrap"> <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" class="route result-title"> <h3 class="title bolder-list result_ul" aria-hidden="true">'),n.b(n.v(n.f("title",e,t,0))),n.b("</h3> </a> "),n.s(n.f("section_label",e,t,1),e,t,0,335,574,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("meta",e,t,1),e,t,0,344,565,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("show_in",e,t,1),e,t,0,356,553,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="type-container"> <div class="section-type"> '),n.s(n.f("type",e,t,1),e,t,0,422,479,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="section-icon '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-icon"></span>')}),e.pop()),n.b(' <span class="type-label">'),n.b(n.v(n.f("section_label",e,t,0))),n.b("</span> </div> </div> ")}),e.pop())}),e.pop())}),e.pop()),n.b(' </div> <div class="search-desc'),n.s(n.f("image_url",e,t,1),e,t,1,0,0,"")||n.b(" no-image"),n.b('"> '),n.s(n.f("result_image_src",e,t,1),e,t,0,684,799,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" class="route result-image"> <img src="'),n.b(n.v(n.f("result_image_src",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('" align="left"> </a> ')}),e.pop()),n.b(" "),n.s(n.f("description",e,t,1),e,t,0,837,874,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <p class="desc">'),n.b(n.v(n.f("description",e,t,0))),n.b("</p> ")}),e.pop()),n.b(" "),n.s(n.d("sitelinks.length",e,t,1),e,t,0,912,928,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.b(n.rp("sitelinks",e,t,"")),n.b(" ")}),e.pop()),n.b(" </div> </li>")}),e.pop()),r.b(" </ul> "),r.s(r.f("more_url",e,t,1),e,t,0,994,1212,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),n.s(n.f("meta",e,t,1),e,t,0,1125,1151,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.d("translations.show_more",e,t,0)))}),e.pop()),n.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),r.b(" </section> </div>"),r.fl()}),Whiskers("search.sitelinks",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b(' <ul class="search_sitelinks"> '),r.s(r.f("sitelinks",e,t,1),e,t,0,74,336,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <li class ="'),n.s(n.f("image_url",e,t,1),e,t,0,101,113,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("has_image_sl")}),e.pop()),n.b(" "),n.s(n.f("description",e,t,1),e,t,0,144,155,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("has_desc_sl")}),e.pop()),n.b('"> <a href="'),n.b(n.v(n.f("url",e,t,0))),n.b('" data-linkname="OrganicResults/link/'),n.b(n.v(n.f("slug",e,t,0))),n.b("-"),n.b(n.v(n.f("id",e,t,0))),n.b("/"),n.b(n.v(n.f("text",e,t,0))),n.b('" data-linkposition="sitesearch:results:OrganicResults'),n.b(n.v(n.f("index",e,t,0))),n.b('/">'),n.b(n.v(n.f("text",e,t,0))),n.b("</a> </li> ")}),e.pop()),r.b(" </ul> "),r.fl()}),function(e){"use strict";var t=e.Disney,n=t.Style.breakpoints,r=e.Backbone,i=e.jQuery,s=e.Math,o=s.min(e.devicePixelRatio,2);t.LumiereHelpers={sizes:[160,320,480,600,768,960,1200,1536,1920],imgSrc:function(e,t){var u=s.min(r.Resize.width(),n.wideMax),a=t*u*o*.94,f=this.nativeSize(e),l=f&&f.width,c=l,h=e;return i(this.sizes).each(function(e,t){c=t;if(a<t)return!1}),c<l&&(h+="&width="+c),h},nativeSize:function(e){var t=e&&e.split("?")[1],n=t&&decodeURIComponent(t).split("region=")[1];if(n){var r=n.split("&")[0].split(","),i=r[2],s=r[3];return{width:i,height:s}}}}}(this),function(e){"use strict";function c(e,t){t=n.isUndefined(t)?"":t,e.target.placeholder=t}var t=e.jQuery,n=e._,r=e.NAV,i=e.Disney,s=e.Spatula,o=e.Tracker,u=e.Whiskers,a=e.Backbone,f=i.Style.breakpoints,l=function(e){var t="OrganicResults";return' data-linkposition="sitesearch:results:'+t+this.index+'/" data-linkname="'+t+"/"+e+"/"+this.slug+"-"+this.id+'"'};i.SearchView=s.RichView.extend({title:"Search",initialize:function(t){var r=i.search;this.options=t;if(r){delete i.search;var s=r.meta.translations,o={sw_placeholder:"Search Star Wars",sw_refine_search:"Refine Your Search",sw_please_try_another_search:"Please try another search or browse the recommendations below."};n.defaults(s,o),this.placeholder=s.sw_placeholder,r.meta.translations=s,this.data=r}e.Spatula.exclude(/.*/)},safeRender:function(){var e=u.search,t=a.Resize.width()>=f.midLow,s=n.extend({searchIcons:function(){return this.name.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")},ctoLinkAttr:function(){return l.call(this,"link")},ctoImgAttr:function(){return l.call(this,"thumb")},result_image_src:function(){var e=this.image_url;if(e){var t=.125;return i.LumiereHelpers.imgSrc(e,t)}},noResult_image_src:function(){var e=this.base_images&&this.base_images.desktop.ratio_16x9;if(e){var n=t?.33:1;return i.LumiereHelpers.imgSrc(e,n)}},placeholder:this.placeholder,hasLatest:this.data.latest?!0:!1},this.data);this.el.innerHTML=u.search.results.render(s,{entity:e.no_results,everything:e.everything,sitelinks:e.sitelinks}),r&&r.ac(this.el,"srp/search_module")},cto:function(){return this.data.cto},events:{"click .show_more_container":function(n){var r=this,i=r.data.primary,s=t(n.currentTarget),u=s.attr("href"),a=t.trim(t(n.target).attr("alt")||s.text()),f="search",l=t(n.target).is("img")?"thumb":"link",c=[f,l].join("/"),h=[c,a].join("/");o.link({linkName:h,linkPosition:c,href:u}),n.preventDefault(),this.$(".show_more").addClass("loading"),t.getJSON("/search/more.json"+i.more_url,function(t){i.results=i.results.concat(t.results),i.more_url=t.more_url,r.safeRender(),e.cto.track(),r.$(".show_more").removeClass("loading")})},"click input[name=q]":function(e){c(e)},"onfocus input[name=q]":function(e){c(e)},"blur input[name=q]":function(e){c(e,this.placeholder),r.searchAttemptUsedPlacements={}},"click a":function(e){var n=t(e.currentTarget),r=n.attr("href"),i=n.data("cto")||"";if(i==="ac")return;e.target.nodeName.toLowerCase()==="img"&&(n=t(e.target)),o.link({linkName:n.data("linkname"),linkPosition:n.data("linkposition"),href:r})},"submit form.nav-search":function(){o.link({linkName:"srp/searchbox/search_enter",linkPosition:"srp/searchbox"})}}})}(this),function(e){"use strict";var t=e.Disney,n=e.Backbone.Router.extend({routes:{"search?*params":"search"},search:function(e){var n=new t.SearchView({params:e?"?"+e:""});t.top.transition(n)}});new n}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=t.Spinner={};n(function(){var i=t.top,s,o=n("#spinner"),u=function(){o.fadeIn("fast")},a=function(){e.clearTimeout(s),o.hide()};i.on("begin",function(){a(),s=e.setTimeout(u,1e3)}).on("ready",a).on("error",a),r=t.Spinner={show:function(){u()},hide:function(){a()}}})}(this),function(e){"use strict";e.Disney.FormElements=e.Disney.FormElements||{};var t=e.Disney.FormElements,n=e.Whiskers,r=e.jQuery;r(function(){t.characterCountdown={renderTemplate:function(e){var t={rows:e.rows,maxLength:e.maxLength||140,tag:e.tag,label:e.label,required:e.required};return n.modules.shared_components.character_countdown.render(t)},onReady:function(e){e.each(function(){var e=r(this),t=e.next(".count-remaining"),n=e.attr("maxlength");t.html(n),e.on("keyup",function(){var e=r(this).val(),i=n-e.length;t.html(i)})})}}})}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e.Spatula||{};n(function(){t.top.on("ready",function(t){if(!t||!t.collection)return;var i=t.collection.optimizely;if(i&&!n.isEmptyObject(i)){r.test=function(){return!1};if(e.optimizely)e.optimizely.push(["activate"]);else{var s="http://cdn.optimizely.com/js/"+i.project_id+".js";n.getScript([s],function(){e.optimizely&&e.optimizely.push(["activate"])})}}})})}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=t.Cookie,i=365;n(function(){var e=n("#cookie-warning");e.length&&r.get("cookies-accepted")!=="true"&&(e.removeClass("hidden"),e.children("#cookie-accept").on("click",function(t){r.set("cookies-accepted","true",{domain:r.domain(),expires:i}),e.addClass("hidden"),t.preventDefault()}))})}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=n.isFunction,i=function(t){var n=e.onerror,r=e.console;r&&r.error&&r.error(t.stack||t.toString()),n&&n(t.toString())};n(function(){t.top.on("ready",function(t){var n=e.cto,s={};r(t.cto)&&(s=t.cto());if(s&&s.account)try{n.resetObj(),n.track(s)}catch(o){i(o)}})})}(this),function(e){"use strict";var t=e.Tracker,n=e.jQuery,r="#burger > [data-module]",i=".slides li",s=function(e){return e!=null&&(e=n.trim(e).replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g," ")),e},o=function(e,t,r){var i=e.closest(t);return i.length?n(t,r).index(i):-1},u=function(e,t,u,a){var f=[],l=n(r).index(t),c=o(e,".entity,.item,.col,.building-block",t),h=o(e,i,t),p=o(e,".button",e.closest(i+","+r)),d=o(e,".all",t),v=s(n.trim(t.data("slug")))||s(n.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text()))||"no title";return f.push(v,"mod"+(l+1)),c>=0?f.push("item"+(c+1)):h>=0&&f.push("slide"+(h+1)),a&&f.push(a),p>=0?u="button"+(p+1):o(e,".gallery-item",t)>=0&&(u=null),u&&f.push(u),d>=0&&f.push("viewall"),f.join("/")},a=function(e,t,n){var r=o(e,".suggested",t),i=o(e,".card .next",t);return r>=0?"card/suggested/p"+r+"/"+n:i>=0?"card/next/p"+i+"/"+n:o(e,"#next_container",t)>=0?(n==="link"&&(n="details"),"upnext/"+n):u(e,t,n)},f=function(e,t,i){var a=s(n.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text())),f=n(r).index(t),l=o(e,".modal-window .arrow-next",t),c=o(e,".modal-window .arrow-prev",t),h=o(e,".modal-window .modal-close",t);if(l>=0||c>=0||h>=0){var p=e.data("viewtype"),d=parseInt(e.data("currentitem"),10)+1,v=p==="ad"?"ad":"item"+d,m=a+"/mod"+(f+1)+"/"+v+"/modal";return m}return u(e,t,i)};n("body").on("click","#burger a[href], #burger .button, #burger .launches-modal",function(e){var i=n(this),o=n(e.target),l=o.is("img"),c=i.closest(r),h=l?"thumb":"link",p=s(i.closest("[data-title]").data("title")||l&&o.attr("alt")||i.text()),d=s(c.data("module")),v=s(i.closest("[data-convert]").data("convert")),m;if(d==="search")return;c.length&&(m=(d==="watch"?a:d==="image_gallery"?f:u)(i,c,h,v),t.link({linkName:d+"/"+m,linkPosition:d+"/"+m+"/"+p,href:i.attr("href")}))})}(this),Whiskers("modules.auto_modal",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="auto_modal-bound"> <div class="modal-window"> <div class="modal-content '),r.s(r.f("noBranding",e,t,1),e,t,0,99,105,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("center")}),e.pop()),r.b('"> '),r.s(r.f("branding",e,t,1),e,t,0,136,240,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("top",e,t,1),e,t,0,145,231,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="top-branding"> <img class="branding top-branding" src="'),n.b(n.v(n.f("top",e,t,0))),n.b('"/> </div> ')}),e.pop()),n.b(" ")}),e.pop()),r.b(' <div class="'),r.b(r.v(r.f("playerType",e,t,0))),r.b(' video-player module"> <div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler ratio-16x9"></div> '),r.b(r.rp("player",e,t,"")),r.b(" </div> </div> </div> </div> </div> </div> </div> "),r.s(r.f("branding",e,t,1),e,t,0,590,676,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("bottom",e,t,1),e,t,0,602,664,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="bottom-branding"> <img src="'),n.b(n.v(n.f("bottom",e,t,0))),n.b('"/> </div> ')}),e.pop()),n.b(" ")}),e.pop()),r.b(' </div> <div class="modal-footer"> '),r.s(r.f("socialShare",e,t,1),e,t,0,740,757,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("social_share",e,t,""))}),e.pop()),r.b(' </div> <div class="modal-close clicon" data-title="close"></div> </div> <div class="modal-overlay"></div> </div>'),r.fl()}),Whiskers("modules.shared_components.nowlive_player",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b("<div class='nowlive-inline-player reserved-ratio'> <iframe width='100%' height='100%' scrolling='no' frameborder='0' src='//iframe.nowlive.com/event/"),r.b(r.v(r.f("nowlive_id",e,t,0))),r.s(r.f("nowlive_query",e,t,1),e,t,0,181,199,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("?"),n.b(n.v(n.f("nowlive_query",e,t,0)))}),e.pop()),r.b("'> </iframe> </div>"),r.fl()}),Whiskers("modules.shared_components.youtube_player",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="youtube-inline-player reserved-ratio"> <iframe width="100%" height="100%" src="//www.youtube.com/embed/'),r.b(r.v(r.f("youtube_id",e,t,0))),r.b("?rel=0&autohide=1&showinfo=0&color=white&wmode=opaque"),r.s(r.f("youtube_query",e,t,1),e,t,0,200,218,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("&"),n.b(n.v(n.f("youtube_query",e,t,0)))}),e.pop()),r.b('" frameborder="0" allowfullscreen> </iframe> </div>'),r.fl()}),Whiskers("modules.shared_components.social_share",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("socialShare",e,t,1),e,t,0,16,880,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="social-share-links"> '),n.s(n.f("facebook",e,t,1),e,t,0,63,323,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.b(' <span class="social-share service facebook" data-social-type="facebook" data-text="'),n.b(n.v(n.f("title",e,t,0))),n.b('" data-share-url="'),n.b(n.v(n.f("source",e,t,0))),n.b('" data-href=""> <span class="social-icon fb-f-icon">Facebook</span> </span> ')}),e.pop()),n.b(" "),n.s(n.f("twitter",e,t,1),e,t,0,349,592,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <span class="social-share service twitter" data-social-type="twitter" data-text="'),n.b(n.v(n.f("title",e,t,0))),n.b('" data-href="https://twitter.com/intent/tweet?url='),n.b(n.v(n.f("sourceEncoded",e,t,0))),n.b("&text="),n.b(n.v(n.f("titleEncoded",e,t,0))),n.b('"> <span class="social-icon twitter-icon">Tweet</span> </span> ')}),e.pop()),n.b(" "),n.s(n.f("google_plus",e,t,1),e,t,0,621,856,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <span class="social-share service google_plus" data-social-type="google_plus" data-text="'),n.b(n.v(n.f("title",e,t,0))),n.b('" data-href="https://plus.google.com/share?url='),n.b(n.v(n.f("sourceEncoded",e,t,0))),n.b('"> <span class="social-icon googleplus-icon">Google-Plus</span> </span> ')}),e.pop()),n.b(" </div> ")}),e.pop()),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.jQuery;t.Social=t.Social||{init:function(e){var r=t.Social[e].callback,i=t.Social[e].url;n.getScript(i,r)},shareFacebook:function(t){e.FB.ui({method:"share",href:t})},shareSocial:function(t,n){e.open(t,n,"height=440,width=550,resizable=1")},bindShareClick:function(){n(".social-share.service").on("click",function(e){e.preventDefault();var r=n(this),i=r.data("social-type"),s=r.data("share-url"),o=r.data("href");i==="facebook"&&t.Social.shareFacebook(s),i==="twitter"&&t.Social.shareSocial(o,i),i==="google_plus"&&t.Social.shareSocial(o,i)})}},t.Social.facebook={url:"//connect.facebook.net/en_US/sdk.js",callback:function(){e.FB.init({appId:n("meta[property='fb:app_id']").attr("content"),status:!0,cookie:!0,xfbml:!0,version:"v2.0"})}},t.Social.google={url:"//apis.google.com/js/plusone.js"},n(function(){n("<div/>",{id:"fb-root"}).appendTo("body"),t.top.on("ready",function(){t.Social.bindShareClick()})})}(this),function(e){"use strict";var t=e.Whiskers,n=e.Grill,r=e.Disney,i=e._,s=e.jQuery;n.ModuleView.register("auto_modal",{template:t.modules.auto_modal,initialize:function(){i.extend(this,{partials:{player:t.modules.shared_components[this._playerType()],social_share:t.modules.shared_components.social_share},socialShare:this.model.collection&&this.model.collection.social_share_networks,title:this.model.get("title")||s("title").get(0).textContent,source:e.location.href})},render:function(){var e=this.model.get("schema_json")||{},t=e.branding,n=i.extend(e,{noBranding:t&&!t.top&&!t.bottom,playerType:this._playerType(),socialShare:this.socialShare,title:this.title,source:this.source,sourceEncoded:encodeURIComponent(this.source),titleEncoded:encodeURIComponent(this.title)});if(this.modalShouldAppear()&&this._playerType()){this.$el.html(this.template.render(n,this.partials));if(this.socialShare){var s=this.socialShare;s.facebook&&r.Social.init("facebook"),s.google_plus&&r.Social.init("google")}this.bindModalEvents(),this.showModal()}},showModal:function(){var e=this.$el.find(".modal-window");e.addClass("first-shown"),e.addClass("modal-show"),e.css("visibility","visible"),s("body").addClass("no-scroll")},bindModalEvents:function(){var t=this,n=t.$el;n.on("click",".modal-window .modal-close, .modal-overlay",function(){n.find(".modal-window").delay(100).remove(),s("body").removeClass("no-scroll")}),s(e.window).resize(i.debounce(function(){t.fixVideoSize()},100)),t.fixVideoSize()},ready:function(){var t=this,n=27;s(e.document).keyup(function(e){switch(e.keyCode){case n:t.$el.find(".modal-window .modal-close").trigger("click")}})},modalShouldAppear:function(){var e=this.model.get("schema_json")||{},t=(new Date).getTime();if(e.start_time&&e.end_time){var n=Date.parse(e.start_time),r=Date.parse(e.end_time);return t>=n&&t<r}return!1},fixVideoSize:function(){var t=s(e.window).height(),n=t>800?1.25:1.1,r=i.min([1280,t*n]);this.$el.find(".video-player.module .bound").css("max-width",r+"px")},_playerType:function(){var e=this.model.get("schema_json")||{};if(e.youtube_id)return"youtube_player";if(e.nowlive_id)return"nowlive_player"}})}(this),Whiskers("modules.catalog",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("data",e,t,1),e,t,0,9,1455,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="bound" data-title="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <div class="poster-container"> <div class="poster-box '),n.s(n.f("isMobile",e,t,1),e,t,0,120,128,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("isMobile")}),e.pop()),n.b('"> <div class="aspect"><img src="'),n.b(n.v(n.f("poster_image_src",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('" width="100%"></div> </div> </div> <div class="description-container '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-content"> '),n.s(n.f("logo_src",e,t,1),e,t,0,321,361,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.f("logo_src",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('">')}),e.pop()),n.b(' <h1 class="'),n.s(n.f("logo_src",e,t,1),e,t,0,399,407,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("has-logo")}),e.pop()),n.b('"> '),n.s(n.d("header_data.title",e,t,1),e,t,0,445,468,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.t(n.d("header_data.title",e,t,0)))}),e.pop()),n.b(" "),n.s(n.d("header_data.title",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.f("title",e,t,0))),n.b(' </h1> <div class="desc"> '),n.s(n.d("header_data.desc",e,t,1),e,t,0,591,640,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="quote">'),n.b(n.t(n.d("header_data.desc",e,t,0))),n.b("</span>")}),e.pop()),n.b(" "),n.b(n.v(n.f("desc",e,t,0))),n.b(" "),n.s(n.f("price",e,t,1),e,t,0,681,718,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="price">$'),n.b(n.v(n.f("price",e,t,0))),n.b("</span>")}),e.pop()),n.b(' </div> <p class="meta"> '),n.s(n.f("rating",e,t,1),e,t,0,764,798,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<span>"),n.b(n.v(n.f("rated",e,t,0))),n.b(": "),n.b(n.v(n.f("rating",e,t,0))),n.b("</span>")}),e.pop()),n.b(" "),n.s(n.f("release",e,t,1),e,t,0,822,1001,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <span>"),n.s(n.f("reRelease",e,t,1),e,t,0,843,861,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("reReleasedText",e,t,0)))}),e.pop()),n.s(n.f("reRelease",e,t,1),e,t,1,0,0,"")||n.b("Released:"),n.b(" "),n.s(n.f("reRelease",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.f("release",e,t,0))),n.s(n.f("reRelease",e,t,1),e,t,0,966,979,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("reRelease",e,t,0)))}),e.pop()),n.b("</span> ")}),e.pop()),n.b(" "),n.s(n.f("platform_data",e,t,1),e,t,0,1032,1082,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <span>"),n.b(n.v(n.f("available_on",e,t,0))),n.b(": "),n.b(n.v(n.f("platform_data",e,t,0))),n.b("</span> ")}),e.pop()),n.b(' </p> <div class="cta"> '),n.s(n.f("retailerData",e,t,1),e,t,0,1141,1176,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="retail-button"></div> ')}),e.pop()),n.b(" "),n.s(n.f("hasButton",e,t,1),e,t,0,1208,1419,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="links-container"> '),n.s(n.f("buttons",e,t,1),e,t,0,1251,1399,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" class="button large links '),n.b(n.v(n.f("type",e,t,0))),n.b(' underline" '),n.s(n.f("convert",e,t,1),e,t,0,1329,1356,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' data-convert="'),n.b(n.v(n.f("convert",e,t,0))),n.b('"')}),e.pop()),n.b(' target="_blank">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a> ")}),e.pop()),n.b(" </div> ")}),e.pop()),n.b(" </div> </div> </div> ")}),e.pop()),r.fl()}),Whiskers("modules.shared_components.product_button",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="purchase_product"> <a class="button large'),r.s(r.f("retail_links",e,t,1),e,t,1,0,0,"")||r.b(" clear"),r.b('"> <div class="bedazzlement"></div> '),r.s(r.f("retail_links",e,t,1),e,t,1,0,0,"")||r.b('<div class="arrow-left"></div>'),r.b(" "),r.s(r.f("purchase_cta",e,t,1),e,t,0,211,227,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("purchase_cta",e,t,0)))}),e.pop()),r.b(" "),r.s(r.f("purchase_cta",e,t,1),e,t,1,0,0,"")||(r.b(" "),r.s(r.f("retail_links",e,t,1),e,t,0,280,293,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("Pre-order Now")}),e.pop()),r.b(" "),r.s(r.f("retail_links",e,t,1),e,t,1,0,0,"")||r.b("Coming Soon"),r.b(" ")),r.b(" "),r.s(r.f("retail_links",e,t,1),e,t,1,0,0,"")||r.b('<div class="arrow-right"></div>'),r.b(' </a> <div class="buy '),r.s(r.f("retail_links",e,t,1),e,t,1,0,0,"")||r.b("no_flyout"),r.b('" data-convert="buy"> <ul> '),r.s(r.f("retail_links",e,t,1),e,t,0,549,641,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <li><a href="'),n.b(n.v(n.f("content_url",e,t,0))),n.b('" target="_blank" data-retailer="'),n.b(n.v(n.f("title",e,t,0))),n.b('">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a></li> ")}),e.pop()),r.b(" </ul> </div> </div>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.Backbone,r=e.Whiskers;t.ProductButtonView=n.View.extend({_flyoutVisible:!1,flyoutVisible:function(e){if(typeof e=="undefined")return this._flyoutVisible;this._flyoutVisible=e,this.renderFlyout()},initialize:function(){this.render()},render:function(){var e=this;this.$el.html(r.modules.shared_components.product_button.render(e.model)),this.$el.click(function(){e.flyoutVisible(!e.flyoutVisible()),e.trigger("change",e)})},renderFlyout:function(){var e=this.$(".buy");this.flyoutVisible()?e.addClass("active"):e.removeClass("active")}})}(this),function(e){"use strict";var t=e.Grill,n=e.Disney,r=n.Style.breakpoints,i=r.midHigh.toString(),s=e.Whiskers,o=e.Backbone,u=e._;t.ModuleView.register("catalog",{breakpoints:i,template:s.modules.catalog,render:function(){var e=this,t=e.model.data.first(),i=e.model.get("data")[0],s=i.buttons,a=o.Resize.width()>=r.midLow,f=e.model.get("translations"),l=new Date,c=l.getUTCDate(),h=l.getUTCMonth()+1,p=l.getUTCFullYear(),d=!1,v;c<10&&(c="0"+c),h<10&&(h="0"+h),l=p+"-"+h+"-"+c;var m=(i.re_release_date<=l?f.re_released:f.re_releasing)+":";i.type==="Game"&&(v=i.platforms,v&&v.length>0&&(v=v.join(", ")));if(v||i.rating||i.release)d=!0;var g=u.extend({platform_data:v,meta:d,reReleasedText:m,hasButton:!!s,poster_image_src:function(){var e=this.get("poster_image");if(e){var t=a?.38:1;return n.LumiereHelpers.imgSrc(e,t)}},logo_src:function(){var e=this.get("logo_image");if(e){var t=a?.33:1;return n.LumiereHelpers.imgSrc(e,t)}}},f,e.model);e.$el.html(e.template.render(g,{}));var y=t.get("retailerData");y&&y.retail_links.length&&new n.ProductButtonView({el:e.$(".retail-button"),model:y})},ready:function(){var e=this.model.get("style"),t=e&&e.background_color;t&&this.$el.css({"background-color":t})}})}(this),Whiskers("modules.disclaimer",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound"> <div class="rules-container inner-container"> <div class="links"> '),r.s(r.f("data",e,t,1),e,t,0,95,166,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" class="button small" target="_blank">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a> ")}),e.pop()),r.b(" </div> "),r.s(r.d("header_data.desc",e,t,1),e,t,0,204,275,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<div class="description rich-text-enabled">'
),n.b(n.t(n.d("header_data.desc",e,t,0))),n.b("</div>")}),e.pop()),r.b(" </div> </div>"),r.fl()}),function(e){"use strict";var t=e.Grill,n=e._,r=e.Whiskers;t.ModuleView.register("disclaimer",{template:r.modules.disclaimer,render:function(){var e=n.extend({},this.model);this.$el.html(this.template.render(e))}})}(this),Whiskers("modules.disid_module",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound oneid-disabled"> <div class="did-container nav-login"> <div class="did-pre-state"> '),r.s(r.d("header_data.desc",e,t,1),e,t,0,122,228,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="description rich-text-enabled"> <div>'),n.b(n.t(n.d("header_data.desc",e,t,0))),n.b("</div> </div><!-- description --> ")}),e.pop()),r.b(' <div class="did-nav"> <div class="nav-items"> <span class="login">'),r.b(r.v(r.d("config_translations.nav_login",e,t,0))),r.b('</span> <span class="separator"> // </span> <span class="signup">'),r.b(r.v(r.d("config_translations.nav_signup",e,t,0))),r.b('</span> </div><!-- nav-items --> </div><!-- did-nav --> </div><!-- did-prestate --> <div class="did-post-state"> <div class="did-nav"> <div class="user-info"> <p class="display-name"></p> '),r.s(r.f("avatar_enabled",e,t,1),e,t,0,655,690,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <span class="user-avatar"></span> ')}),e.pop()),r.b(' </div><!-- user-info --> <div class="nav-items"> <span class="account">'),r.b(r.v(r.d("config_translations.nav_account",e,t,0))),r.b('</span> <span class="separator"> // </span> '),r.s(r.f("avatar_enabled",e,t,1),e,t,0,879,979,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <span class="avatar">'),n.b(n.v(n.d("config_translations.nav_avatar",e,t,0))),n.b('</span> <span class="separator"> // </span> ')}),e.pop()),r.b(' <span class="logout">'),r.b(r.v(r.d("config_translations.nav_logout",e,t,0))),r.b("</span> </div><!-- nav-items --> </div><!-- did-nav --> </div><!-- did-nav-poststate --> </div><!-- did-container --> </div><!-- bound -->"),r.fl()}),function(e){"use strict";var t=e.Disney,n=t.SocialServices,r=e.Grill,i=e.Tracker,s=e.Whiskers,o=e._,u;r.ModuleView.register("disid_module",{template:s.modules.disid_module,className:"module full-width-mob hidden",events:{"click .login":function(){this.options.guest.login()},"click .logout":function(){this.options.guest.logout()},"click .signup":function(){this.options.guest.signup()},"click .account":function(){this.options.guest.update()},"click .avatar":function(){this.avatar()}},initialize:function(){this.options.guest.retain()},ready:function(){this.options.guest.on("login",this.login,this),this.options.guest.on("logout",this.logout,this),this.options.guest.on("close",this.closedUI,this),this.options.guest.on("init",this.oneidEnabled,this)},render:function(){var e=this.model.collection.config_translations||{},t={nav_signup:"sign up",nav_login:"log in",nav_logout:"log out",nav_avatar:"avatar",nav_account:"account"};o.defaults(e,t);var n=o.extend({avatar_enabled:this.model.collection.config.avatar_enabled,config_translations:e},this.model);this.$el.html(this.template.render(n))},oneidEnabled:function(){this.$el.removeClass("hidden")},login:function(){this.$el.find(".did-container").addClass("loggedin"),this.$el.find(".display-name").text(this.options.guest.current.displayName.displayName),u||n.auth(this.options.guest.current).then(function(e){n.displayAvatar(e),u=!0},function(){n.defaultAvatar(),u=!1}),this.track("logged in","DisID Module")},logout:function(){this.$el.find(".did-container").removeClass("loggedin"),this.$el.find(".display-name").text(""),n.unauth(),u=!1,this.track("logged out","DisID Module")},closedUI:function(){this.track("closed ui","DisID Module")},avatar:function(){u&&n.pickAvatar(this.options.guest),this.track("account","choose-avatar")},track:function(e,t){i.event({eventCategory:"starwars",action:e,abTest:t})},destroy:function(){this.options.guest&&this.options.guest.release()}})}(this),Whiskers("modules.display",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b(" "),r.s(r.f("module_style_options",e,t,1),e,t,0,102,179,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("enabled",e,t,1),e,t,0,115,166,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <style type=text/css> "),n.b(n.rp("module_styles",e,t,"")),n.b(" </style> ")}),e.pop()),n.b(" ")}),e.pop()),r.b(' <div class="bound '),r.s(r.f("style",e,t,1),e,t,0,233,272,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("layout",e,t,1),e,t,0,244,261,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("layout-"),n.b(n.v(n.f("layout",e,t,0)))}),e.pop())}),e.pop()),r.s(r.f("hasMore",e,t,1),e,t,0,294,302,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" peeking")}),e.pop()),r.b('"> '),r.s(r.f("header_data",e,t,1),e,t,0,333,351,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),r.b(" "),r.s(r.f("hasFilters",e,t,1),e,t,0,383,402,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("filters_header",e,t,""))}),e.pop()),r.b(' <div class="blocks-bound"> <div class="blocks-container ref-'),r.b(r.v(r.f("ref",e,t,0))),r.b('"> '),r.b(r.t(r.f("blockList",e,t,0))),r.b(" </div> </div> "),r.s(r.f("hasMore",e,t,1),e,t,0,530,793,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="peek"> <div class="show_more_container"> <a class="show_more button large section-color underline" role="button"> <span class="label">'),n.b(n.v(n.d("translations.show_more",e,t,0))),n.b('</span> <span class="loading-label">'),n.b(n.v(n.d("translations.loading",e,t,0))),n.b("...</span> </a> </div> </div> ")}),e.pop()),r.b(' </div> <div class="module-spinner"> <span class="loader"></span> </div>'),r.fl()}),Whiskers("entities.block",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="building-block-config '),r.b(r.v(r.f("block_name",e,t,0))),r.b(" "),r.b(r.v(r.f("section_class",e,t,0))),r.b("-content "),r.s(r.f("block_style_override",e,t,1),e,t,0,100,122,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("block-override-content")}),e.pop()),r.b(" "),r.s(r.f("social_override",e,t,1),e,t,0,168,183,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("social-override")}),e.pop()),r.b(" "),r.s(r.f("block_styles",e,t,1),e,t,0,221,597,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.b(n.v(n.f("width",e,t,0))),n.b(" image-"),n.b(n.v(n.f("image_placement",e,t,0))),n.b(" "),n.s(n.f("content_height",e,t,1),e,t,0,277,310,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("content-height-"),n.b(n.v(n.f("content_height",e,t,0)))}),e.pop()),n.b(" ratio-"),n.b(n.v(n.f("aspect_ratio",e,t,0))),n.b(" "),n.b(n.v(n.f("height",e,t,0))),n.b(" "),n.s(n.f("mobile_overrides",e,t,1),e,t,0,385,575,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("width",e,t,1),e,t,0,396,415,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("mob-width-"),n.b(n.v(n.f("width",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("image_placement",e,t,1),e,t,0,446,475,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("mob-image-"),n.b(n.v(n.f("image_placement",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("fixed_height",e,t,1),e,t,0,513,557,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("mob-fixed-height mob-height-"),n.b(n.v(n.f("fixed_height",e,t,0)))}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b(" "),r.s(r.f("dynamic_desc",e,t,1),e,t,1,0,0,"")||r.b("no-desc"),r.b(" "),r.s(r.f("author_data",e,t,1),e,t,0,673,683,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" editorial")}),e.pop()),r.b(" "),r.s(r.f("suppressLinks",e,t,1),e,t,0,718,732,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("suppress-links")}),e.pop()),r.b(" "),r.s(r.f("suppressTruncation",e,t,1),e,t,0,774,793,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("suppress-truncation")}),e.pop()),r.b(" "),r.s(r.f("showMore",e,t,1),e,t,0,830,839,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("show-more")}),e.pop()),r.b(" "),r.s(r.f("lastRow",e,t,1),e,t,0,865,873,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("last-row")}),e.pop()),r.b(" "),r.s(r.f("revealed",e,t,1),e,t,0,899,907,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("revealed")}),e.pop()),r.b(" "),r.s(r.f("youtube_id",e,t,1),e,t,0,936,950,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("youtube-inline")}),e.pop()),r.b('"> <div class="building-block '),r.s(r.f("oldBatch",e,t,1),e,t,0,1008,1017,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("old-batch")}),e.pop()),r.b(" "),r.s(r.f("block_style_override",e,t,1),e,t,0,1056,1189,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("block-style-override "),n.s(n.f("background_image",e,t,1),e,t,1,0,0,"")||n.b("no-"),n.b("bg "),n.s(n.f("logo_image",e,t,1),e,t,1,0,0,"")||n.b("no-"),n.b("logo "),n.s(n.f("text",e,t,1),e,t,1,0,0,"")||n.b("no-"),n.b("text ")}),e.pop()),r.b(" "),r.s(r.f("social_override",e,t,1),e,t,0,1235,1250,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("social-override")}),e.pop()),r.b(" "),r.s(r.f("description",e,t,1),e,t,1,0,0,"")||r.b("no-desc"),r.b('"> <div class="building-block-aspect"> <div class="building-block-padding"> <div class="building-block-wrapper"> <div class="image-wrapper"> <div class="aspect"> '),r.s(r.f("suppressLinks",e,t,1),e,t,1,0,0,"")||(r.b('<a href="'),r.b(r.v(r.f("href",e,t,0))),r.b('"'),r.s(r.f("target_blank",e,t,1),e,t,0,1525,1541,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' target="_blank"')}),e.pop()),r.b(">")),r.b(" "),r.s(r.f("thumb_sized",e,t,1),e,t,0,1594,1666,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.f("thumb_sized",e,t,0))),n.b('" class="thumb reserved-ratio" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('">')}),e.pop()),r.b(" "),r.s(r.f("thumb_sized",e,t,1),e,t,1,0,0,"")||(r.b('<img src="'),r.b(r.v(r.f("thumb_base",e,t,0))),r.b('" class="thumb reserved-ratio" alt="'),r.b(r.v(r.f("title",e,t,0))),r.b('">')),r.b(" "),r.b(" "),r.s(r.f("suppressLinks",e,t,1),e,t,1,0,0,"")||r.b("</a>"),r.b(" "),r.s(r.f("youtube_id",e,t,1),e,t,0,1898,1917,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("youtube_player",e,t,""))}),e.pop()),r.b(' </div> </div> <div class="content-wrapper '),r.s(r.f("block_styles",e,t,1),e,t,0,1992,2297,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("text_style_overrides",e,t,1),e,t,0,2018,2271,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("tablet",e,t,1),e,t,0,2030,2128,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("tab-overrides "),n.s(n.f("line_clamp_n_lines",e,t,1),e,t,0,2067,2104,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("tab-trim-"),n.b(n.v(n.f("line_clamp_n_lines",e,t,0))),n.b("-lines")}),e.pop()),n.b(" ")}),e.pop()),n.b(" "),n.s(n.f("desktop",e,t,1),e,t,0,2152,2258,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("desktop-overrides "),n.s(n.f("line_clamp_n_lines",e,t,1),e,t,0,2193,2234,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("desktop-trim-"),n.b(n.v(n.f("line_clamp_n_lines",e,t,0))),n.b("-lines")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b('" > <div class="bedazzlement"></div> '),r.b(" "),r.s(r.f("duration",e,t,1),e,t,0,2387,2412,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<time>"),n.b(n.v(n.f("duration",e,t,0))),n.b("</time>")}),e.pop()),r.b(" "),r.b(' <div class="content-bumper"> <div class="content-info"> '),r.s(r.f("block_style_override",e,t,1),e,t,0,2530,2645,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("logo_image",e,t,1),e,t,0,2545,2630,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="logo-image-wrapper"><img src="'),n.b(n.v(n.f("logo_image",e,t,0))),n.b('" class="logo-image"></div> ')}),e.pop())}),e.pop()),r.b(" "),r.s(r.f("social_override",e,t,1),e,t,0,2691,2778,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("href",e,t,1),e,t,0,2700,2769,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("target_blank",e,t,1),e,t,0,2735,2751,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' target="_blank"')}),e.pop()),n.b(">")}),e.pop())}),e.pop()),r.b(' <h3 class="title"> '),r.s(r.f("social_override",e,t,1),e,t,0,2838,2854,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("social_label",e,t,0)))}),e.pop()),r.b(" "),r.s(r.f("social_override",e,t,1),e,t,1,0,0,"")||(r.b(" "),r.s(r.f("suppressLinks",e,t,1),e,t,1,0,0,"")||r.s(r.f("href",e,t,1),e,t,0,2923,2992,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("target_blank",e,t,1),e,t,0,2958,2974,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' target="_blank"')}),e.pop()),n.b(">")}),e.pop()),r.b(" "),r.s(r.f("block_style_override",e,t,1),e,t,1,0,0,"")||r.b(r.v(r.f("title",e,t,0))),r.b(" "),r.s(r.f("block_style_override",e,t,1),e,t,0,3105,3121,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("text.title",e,t,0)))}),e.pop()),r.b(" "),r.s(r.f("suppressLinks",e,t,1),e,t,1,0,0,"")||r.s(r.f("href",e,t,1),e,t,0,3174,3178,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop()),r.b(" ")),r.b(" </h3> "),r.s(r.f("social_override",e,t,1),e,t,0,3253,3275,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("href",e,t,1),e,t,0,3262,3266,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop())}),e.pop()),r.b(" "),r.s(r.f("dynamic_desc",e,t,1),e,t,0,3313,3633,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="desc-sizer"> '),n.s(n.f("suppressLinks",e,t,1),e,t,1,0,0,"")||n.s(n.f("href",e,t,1),e,t,0,3366,3435,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("target_blank",e,t,1),e,t,0,3401,3417,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' target="_blank"')}),e.pop()),n.b(">")}),e.pop()),n.b(' <p class="desc'),n.s(n.f("author_data",e,t,1),e,t,0,3493,3526,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("photo",e,t,1),e,t,0,3503,3516,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" author-image")}),e.pop())}),e.pop()),n.b('">'),n.b(n.t(n.f("dynamic_desc",e,t,0))),n.b("</p> "),n.s(n.f("suppressLinks",e,t,1),e,t,1,0,0,"")||n.s(n.f("href",e,t,1),e,t,0,3594,3598,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop()),n.b(" </div> ")}),e.pop()),r.b(' </div> </div> <div class="metadata '),r.s(r.f("author_data",e,t,1),e,t,0,3702,3748,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("author-data "),n.s(n.f("photo",e,t,1),e,t,0,3724,3737,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" author-image")}),e.pop()),n.b(" ")}),e.pop()),r.b(" "),r.s(r.f("block_styles",e,t,1),e,t,0,3782,4159,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("editorial_config",e,t,1),e,t,0,3804,4137,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("mobile",e,t,1),e,t,0,3816,3899,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("name",e,t,1),e,t,0,3825,3833,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("mob-name")}),e.pop()),n.s(n.f("photo",e,t,1),e,t,0,3852,3862,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" mob-photo")}),e.pop()),n.s(n.f("date",e,t,1),e,t,0,3881,3890,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" mob-date")}),e.pop())}),e.pop()),n.b(" "),n.s(n.f("tablet",e,t,1),e,t,0,3922,4005,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("name",e,t,1),e,t,0,3931,3939,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("tab-name")}),e.pop()),n.s(n.f("photo",e,t,1),e,t,0,3958,3968,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" tab-photo")}),e.pop()),n.s(n.f("date",e,t,1),e,t,0,3987,3996,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" tab-date")}),e.pop())}),e.pop()),n.b(" "),n.s(n.f("desktop",e,t,1),e,t,0,4029,4124,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("name",e,t,1),e,t,0,4038,4050,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("desktop-name")}),e.pop()),n.s(n.f("photo",e,t,1),e,t,0,4069,4083,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" desktop-photo")}),e.pop()),n.s(n.f("date",e,t,1),e,t,0,4102,4115,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" desktop-date")}),e.pop())}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b(' "> <div class="anchored-text"> '),r.s(r.f("author_data",e,t,1),e,t,0,4224,4341,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="author-data"> '),n.s(n.f("name",e,t,1),e,t,0,4260,4324,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<h4 class="author-name">'),n.b(n.v(n.d("translations.by_author",e,t,0))),n.b(" "),n.b(n.v(n.f("name",e,t,0))),n.b("</h4>")}),e.pop()),n.b(" </div> ")}),e.pop()),r.b(' <h4 class="category-info"> <span class="content-icon '),r.b(r.v(r.f("section_class",e,t,0))),r.b('-icon"></span> '),r.s(r.f("social_override",e,t,1),e,t,1,0,0,"")||(r.b(' <span class="category-name">'),r.b(r.v(r.f("section_label",e,t,0))),r.b("</span> "),r.s(r.f("extra_info",e,t,1),e,t,0,4532,4581,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<span class="extra-info">// '),n.b(n.v(n.f("extra_info",e,t,0))),n.b("</span>")}),e.pop()),r.b(" ")),r.b(" </h4> </div> "),r.s(r.f("author_data",e,t,1),e,t,0,4647,4759,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("photo",e,t,1),e,t,0,4657,4749,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="triangle-crop"><img class="author-photo" src="'),n.b(n.v(n.f("photo",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("name",e,t,0))),n.b('"></div> ')}),e.pop())}),e.pop()),r.b(' </div> <div class="decal"></div> '),r.b(" </div> </div> </div> </div> </div> </div>"),r.fl()}),Whiskers("modules.shared_components.module_header",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="module_header'),r.s(r.f("seeAll",e,t,1),e,t,0,36,48,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" has-see-all")}),e.pop()),r.b('"> <h2 class="module_title">'),r.b(r.t(r.d("header_data.title",e,t,0))),r.b(" //</h2> "),r.s(r.d("header_data.desc",e,t,1),e,t,0,140,189,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<p class="module_desc">'),n.b(n.t(n.d("header_data.desc",e,t,0))),n.b("</p>")}),e.pop()),r.b(" "),r.s(r.f("seeAll",e,t,1),e,t,0,222,287,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<a class="see-all" href="'),n.b(n.v(n.f("seeAll",e,t,0))),n.b('">'),n.b(n.v(n.d("translations.see_all",e,t,0))),n.b("</a>")}),e.pop()),r.b(" </div>"),r.fl()}),Whiskers("modules.shared_components.filters_header",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="module_header filters_header has-list has-dropdown"> <div class="category-container"> <div class="bedazzlement"></div> <span class="module_title">'),r.b(r.v(r.f("firstTitle",e,t,0))),r.b('</span> <span class="drop-expand button"></span> </div> <ul class="drop-container filters-container cols-'),r.b(r.v(r.f("numFilters",e,t,0))),r.s(r.f("maxFilterClass",e,t,1),e,t,0,310,321,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" filter-max")}),e.pop()),r.b('"> '),r.s(r.f("filters",e,t,1),e,t,0,355,478,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<li class="filter-name underline" '),n.s(n.f("next",e,t,1),e,t,0,398,418,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('data-next="'),n.b(n.v(n.f("next",e,t,0))),n.b('"')}),e.pop()),n.b(' data-title="'),n.b(n.v(n.f("title",e,t,0))),n.b('"><span>'),n.b(n.v(n.f("title",e,t,0))),n.b("</span></li>")}),e.pop()),r.b(" </ul> </div>"),r.fl()}),Whiskers("partials.style_overrides.modules.display",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b(" "),r.s(r.f("bg_color",e,t,1),e,t,0,43,361,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .bedazzlement, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-top.editorial:not(.sixth) .building-block .content-wrapper, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-top.editorial:not(.quarter) .building-block .content-wrapper, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-left.editorial .building-block .content-wrapper{ background-color: "),n.b(n.v(n.f("bg_color",e,t,0))),n.b("; background-image: none; } ")}),e.pop()),r.b(" "),r.b(" "),r.s(r.f("bg_color",e,t,1),e,t,0,409,2536,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el1_3 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el1_3 .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el1_4 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el1_4 .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el1_5 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el1_5 .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el1_6 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el1_6 .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el3_5B .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el3_5B .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el2_3A .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el2_3A .content-wrapper:after{ border-top: 6px solid "),n.b(n.v(n.f("bg_color",e,t,0))),n.b(" ; } #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el2_2 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el2_2 .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el3_3 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el3_3 .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el3_4 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el3_4 .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el4_3 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el4_3 .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el4_4 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el4_4 .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el4_5 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el4_5 .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el4_6 .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .el4_6 .content-wrapper:after{ border-left: 6px solid "),n.b(n.v(n.f("bg_color",e,t,0))),n.b("; } @media screen and (min-width: 768px){ #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-top:not(.sixth):not(.quarter) .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-top:not(.sixth):not(.quarter) .content-wrapper:after{ border-top: 6px solid "),n.b(n.v(n.f("bg_color",e,t,0))),n.b("; } } @media screen and (max-width: 767px){ #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .mob-image-top:not(.mob-width-half):not(.block-override-content) .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .mob-image-top:not(.mob-width-half):not(.block-override-content) .content-wrapper:after{ border-top: 6px solid "),n.b(n.v(n.f("bg_color",e,t,0))),n.b("; } #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .mob-fixed-height.mob-height-tall .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .mob-fixed-height.mob-height-tall .content-wrapper:after, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .mob-fixed-height.mob-height-medium .content-wrapper:before, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .mob-fixed-height.mob-height-medium .content-wrapper:after{ border-left: 6px solid "),n.b(n.v(n.f("bg_color",e,t,0))),n.b("; border-top: 6px solid transparent; right: -2px; } } ")}),e.pop()),r.b(" "),r.b(" "),r.s(r.f("title_color",e,t,1),e,t,0,2601,2674,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" .ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .building-block-config .title a{ color: "),n.b(n.v(n.f("title_color",e,t,0))),n.b("; } ")}),e.pop()),r.b(" "),r.s(r.f("title_hover_color",e,t,1),e,t,0,2713,2798,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" .ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .building-block-config .title a:hover{ color: "),n.b(n.v(n.f("title_hover_color",e,t,0))),n.b("; } ")}),e.pop()),r.b(" "),r.s(r.f("desc_color",e,t,1),e,t,0,2836,2882,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .desc{ color: "),n.b(n.v(n.f("desc_color",e,t,0))),n.b("; } ")}),e.pop()),r.b(" "),r.b(" "),r.s(r.f("decal_opacity",e,t,1),e,t,0,2935,2998,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .decal{ opacity: "),n.b(n.v(n.f("decal_opacity",e,t,0))),n.b(" !important; } ")}),e.pop()),r.b(" "),r.s(r.f("toggle_decal",e,t,1),e,t,0,3034,4188,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.b(" @media screen and (min-width: 1024px){ #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-top.third .decal, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-top.sixth .decal{ background-position: -100% 100%; } } "),n.b(" @media screen and (min-width: 768px){ #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-top.quarter .decal, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-top.half .decal, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-left.two-thirds .decal{ background-position: -100% 100%; } #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-left.three-quarters .decal, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-left.third .decal{ background-position: -200% 100%; } #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-top.two-thirds .decal, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .image-left.half .decal{ background-position: -300% 100%; } } "),n.b(" @media screen and (max-width: 767px){ #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .building-block-config.mob-image-top:not(.block-override-content):not(.editorial).mob-width-full .building-block .content-wrapper .decal, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .building-block-config.mob-fixed-height.mob-height-medium .content-wrapper .decal, #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .mob-fixed-height.mob-height-short .content-wrapper .decal{ background-position: -100% 100%; } .ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .building-block-config.mob-fixed-height.mob-height-tall .content-wrapper .decal{ background-position: -200% 100%; } } ")}),e.pop()),r.b(" "),r.b(" #ref-"),r.b(r.v(r.f("ref",e,t,0))),r.b(" .building-block .content-wrapper .content-info:after{ display: none; }"),r.fl()}),function(e){"use strict";var t=e.Grill,n=e.Whiskers,r=e.Backbone,i=e.Disney,s=i.Style.breakpoints,o=e.jQuery,u=e._,a=t.ModuleView.extend({className:"module display-view",template:n.modules.display,initialize:function(){var t=this.model.get("randomize_module_data"),n=this,o=n.model,a=n.model.get("view")==="lazy_display"&&t?u.shuffle(o.get("data")):o.get("data"),f=o.get("filters"),l=f&&u.reject(f,function(e){return e.count===0}),c=o.get("show_more_options"),h=o.get("building_blocks")&&o.get("building_blocks").length,p=c&&c.num_rows||1,d=p*h,v=c&&h,m=o.get("default_block_styles"),g=o.get("translations")||{},y={by_author:"By:"};u.extend(n,{showMoreEnabled:!!c,blocksPerRow:h,rowsPerBatch:p,visPerBatch:d,peeksPerBatch:v}),n.blockModel=r.Model.extend({translations:u.defaults(g,y),block_styles:function(){return this.get("block_styles")||o.get("default_block_styles")},thumb_sized:function(){var e=r.Resize.width(),t=e>=s.midHigh,n=this.get("block_images"),u=this.get("base_images"),a=this.get("rel_image_width")||m.rel_image_width,f=t?a:1,l=this.get("rel_width")||m.rel_width,c=t?l:1,h=c*f,p=h*e<768?"mobile":"desktop";if(!n){if(u){var v=u[p]["ratio_"+o.get("default_thumb_ratio")];return i.LumiereHelpers.imgSrc(v,h)}return this.get("default_thumb")}var d=n[p];if(d)return i.LumiereHelpers.imgSrc(d,h)}});if(l&&l.length>0){var b=l[0];u.extend(n,{filters:l,filterRoot:"/_grill/filter"+e.location.pathname,activeFilter:b.title}),a=b.data,n.filterCollectionViews={},this.filterCollectionViews[b.title]=n.blockListView=n.setNewBlockListView(b)}else n.blockListView=n.setNewBlockListView(o.attributes);n.blockListView.loadFirstBlocks(a)},render:function(){var e=this.model,t=this.blockListView,r=this.filters&&this.filters.length,s=e.get("style_options")||[],o=u.extend({translations:e.get("translations"),blockList:i.placeHtml(t),showMore:!!this.showMoreEnabled,hasMore:this.showMoreEnabled&&t.collection.hasMore(),hasFilters:!!this.filters,numFilters:r,filters:this.filters,firstTitle:this.activeFilter,maxFilterClass:r>5,style_options:s},e);this.$el.html(this.template.render(o,{block:n.entities.block,module_header:n.modules.shared_components.module_header,filters_header:n.modules.shared_components.filters_header,module_styles:n.partials.style_overrides.modules.display})),i.placeSwap(this,t),this.showMoreEnabled&&(this.updateLoadingButton(!1),this.updatePeek(t)),this.$('.filter-name[data-title="'+this.activeFilter+'"]').addClass("active")},ready:function(){var e=this.$(".building-block-padding").outerHeight(),t=this.$(".blocks-container").position().top,n=this.$(".bound").css("padding-top");e>0&&this.$(".module-spinner").css("top",e/2+t+n),this.$(".youtube-inline-player").length>0&&o(".youtube-inline-player iframe").on("load",function(){o(this).addClass("loaded")})},blocksToModels:function(e){var t=this,n=[];return o.each(e,function(e,r){n.push(new t.blockModel(r))}),n},setNewBlockListView:function(e){var i=this,s=i.model.data,o=new r.LazyCollection([],{count:e.count,model:i.blockModel});u.extend(o,{title:e.title,page:1,visBlocks:[],nextVisBlocks:[],peekBlocks:[],reserveBlocks:[],blockSequence:e.building_blocks&&e.building_blocks.join("-"),hasMore:function(){var e=r.Resize.width()>=768,t=e?this.page*i.visPerBatch:this.length;return t<this.count}});if(i.filterRoot)o.url=e.next?i.filterRoot+e.next:null;else if(s.remaining()>0){var a=s.url.replace("/_grill/more","/_grill/moar"),f=s.length,l=s.remaining();o.url=a+"&limit="+l+"&offset="+f}else o.url=null;var c=new t.ListView({collection:o,className:function(){return"blocks-list-view active "+o.blockSequence},template:{render:function(e){return u.extend(e,{suppressLinks:i.suppressLinks,suppressTruncation:i.suppressTruncation}),n.entities.block.render(e,{youtube_player:n.modules.shared_components.youtube_player})}}});return u.extend(c,{render:function(){i.$(".blocks-container").append(this.el),i.showMoreEnabled&&i.updatePeek(this)},loadFirstBlocks:function(e){var t=this.collection,n=i.blocksToModels(e),r=n.splice(0,i.visPerBatch),s=n.splice(0,i.peeksPerBatch),o=r.concat(s),a=n;u.each(s,function(e){e.set({revealed:!0,oldBatch:!0})}),u.extend(t,{visBlocks:r,nextVisBlocks:[],peekBlocks:s,reserveBlocks:a}),t.add(o)}}),c}});a.register("display"),a.register("featured_single",{suppressLinks:!0,suppressTruncation:!0});var f=a.extend({events:function(){return this.lazyEvents},lazyEvents:{"click .show_more_container":function(){this.loadingMoreBlocks||this.loadMoreBlocks(this.blockListView.collection)}},updateLoadingButton:function(e){this.$el.toggleClass("loading-more",e)},loadMoreBlocks:function(e){var t=this.visPerBatch,n;e.page++,this.updateLoadingButton(!0),this.$(".blocks-bound").removeClass("first-batch");var r=e.page*t,i=e.visBlocks.length,s=r-i,u=e.peekBlocks.length,a=s-u,f=[];e.nextVisBlocks=e.peekBlocks,e.peekBlocks=[],a>0&&(f=e.reserveBlocks.splice(0,a),o.merge(e.nextVisBlocks,f)),o.merge(e.visBlocks,e.nextVisBlocks),this.showMoreEnabled&&(e.peekBlocks=e.reserveBlocks.splice(0,this.peeksPerBatch)),n=f.concat(e.peekBlocks),e.add(n),this.updateLoadingButton(!1),this.updatePeek(this.blockListView),e.reserveBlocks.length<this.visPerBatch&&e.url&&!this.loadingMoreBlocks&&this.fetchBackupBlocks(e)},fetchBackupBlocks:function(e){var t=this;t.updateLoadingButton(!0),this.loadingMoreBlocks=!0,o.getJSON(e.url,function(n){o.each(n.data,function(n,r){e.reserveBlocks.push(new t.blockModel(r))}),e.url=n.next?t.filterRoot+n.next:null,t.loadingMoreBlocks=!1,t.updateLoadingButton(!1)})},updatePeek:function(t){var n=t.collection,r={vis:n.visBlocks.length,peek:n.peekBlocks.length,nextVis:n.nextVisBlocks.length,newRows:Math.ceil(n.nextVisBlocks.length/this.blocksPerRow)},i=u.pluck(t.views,"$el"),s=o(i).map(function(){return this.toArray()}),a=s.slice(0,r.vis),f=a.slice(-1*r.nextVis),l=f.find(".building-block"),c=s.slice(r.vis,r.vis+r.peek),h=s.find(".building-block-padding"),p=h.outerHeight(),d=120,v=d*r.newRows,m=1;u.each(n.visBlocks,function(e){e.set("lastRow",!1)}),u.each(n.peekBlocks,function(e){e.set("lastRow",!0)});if(p>0){var g={},y=function(e){g["$row"+e].css("height",p)};if(this.rowsPerBatch>1&&r.newRows>1){for(var b=0;b<this.rowsPerBatch;b++){var w="row-"+(b+1)+"-of-batch",E=f.slice(b*this.blocksPerRow,(b+1)*this.blocksPerRow);E.addClass(w),g["$row"+(b+1)]=E.find(".building-block")}y(m);var S=e.setInterval(function(){y(++m),m===r.newRows&&e.clearInterval(S)},d)}else l.css("height",p);e.setTimeout(function(){c.addClass("revealed"),u.each(n.peekBlocks,function(e){e.set("revealed",!0)}),l.css("height","auto")},v)}else c.addClass("revealed");this.updateLoadingButton(!1),this.$el.toggleClass("has-more",n.hasMore())}});f.register("line_up"),f.register("lazy_display");var l=f.extend({filterContent:!0,events:function(){return u.extend(this.lazyEvents,this.filterEvents)},filterEvents:{"click .has-dropdown .category-container":function(){this.$(".has-dropdown").toggleClass("active")},"click .filter-name":function(e){var t=this,n=o(e.currentTarget),r=n.attr("data-title"),i=n.index(),s=t.$(".filter-name.active"),u=t.filterCollectionViews[r];if(t.activeFilter!==r){s.add(".drop-container").removeClass("active"),t.$(".category-container .module_title").html(r),t.$(".blocks-bound").addClass("first-batch"),n.addClass("active"),t.activeFilter=r;if(u)t.replaceView(u);else{var a=t.setNewBlockListView(t.filters[i]);t.updateSpinner(!0),o.getJSON(a.collection.url,function(e){a.loadFirstBlocks(e.data),a.collection.url=e.next?t.filterRoot+e.next:null,t.replaceView(a),t.filterCollectionViews[r]=a,t.updateSpinner(!1)})}}}},replaceView:function(e){this.blockListView.$el.removeClass("active"),this.blockListView=e,this.blockListView.$el.index()<0?this.blockListView
.render():this.blockListView.$el.addClass("active"),this.$el.toggleClass("has-more",this.blockListView.collection.hasMore())},updateSpinner:function(e){this.$el.toggleClass("replacing-data",e)}});l.register("display_filters")}(this),Whiskers("modules.error",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="error_page e'),r.b(r.v(r.f("error_code",e,t,0))),r.b(' bound"> <div class="inner"> <img src="'),r.b(r.v(r.f("image",e,t,0))),r.b('"> <div class="message"> <h2>'),r.b(r.v(r.f("desc",e,t,0))),r.b("</h2> <h1>"),r.b(r.v(r.f("title",e,t,0))),r.b("</h1> </div> </div> </div>"),r.fl()}),function(e){"use strict";var t=e.Grill,n=e.Whiskers,r=e._;t.ModuleView.register("error",{template:n.modules.error,initialize:function(){var e=this.model.get("style"),t=e&&e.images&&e.images.foreground_image||{},n=t.url;this.image=n},render:function(){var e=r.extend({image:this.image},this.model);this.$el.html(this.template.render(e))}})}(this),Whiskers("modules.fb_comments",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound"> '),r.s(r.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),r.b(' <div class="module_content'),r.s(r.f("header_data",e,t,1),e,t,1,0,0,"")||r.b(" no-header"),r.b('"> <div class="facebook-comments"> '),r.s(r.d("translations.legal",e,t,1),e,t,0,197,385,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <p class="legal-blurb"> '),n.b(n.v(n.d("translations.legal",e,t,0))),n.b(" "),n.s(n.d("translations.facebook_faq",e,t,1),e,t,0,275,349,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <a href="'),n.b(n.v(n.d("translations.facebook_faq",e,t,0))),n.b('">'),n.b(n.v(n.d("translations.learn_more",e,t,0))),n.b("</a>. ")}),e.pop()),n.b(" </p> ")}),e.pop()),r.b(' <div class="fb-comments" data-href="'),r.b(r.v(r.f("href",e,t,0))),r.b('" data-width="100%" data-numposts="5" data-colorscheme="dark"></div> </div> </div> </div>'),r.fl()}),function(e){"use strict";var t=e.Grill,n=e.Whiskers,r=e.Disney,i=e._;t.ModuleView.register("fb_comments",{template:n.modules.fb_comments,render:function(){var t=this.model,s=t.get("translations")||{},o=e.location,u=o.protocol+"//"+r.portal+o.pathname;i.defaults(s,{learn_more:"Learn More"});var a=i.extend({href:u},t,s);this.$el.html(this.template.render(a,{module_header:n.modules.shared_components.module_header})),r.Social.init("facebook")}})}(this),Whiskers("modules.header",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound"> '),r.s(r.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),r.b(" </div>"),r.fl()}),function(e){"use strict";var t=e.Grill,n=e.Whiskers,r=e._;t.ModuleView.register("header",{className:"module full-height",template:n.modules.header,render:function(){var e=r.extend({},this.model);this.$el.html(this.template.render(e,{module_header:n.modules.shared_components.module_header}))}})}(this),Whiskers("modules.image_gallery.image_gallery",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<style type="text/css">'),r.b(r.rp("moduleStyles",e,t,"")),r.b("</style> "),r.s(r.f("data",e,t,1),e,t,0,58,2844,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="gallery-bound"> <div id="print-image"> <div class="print-frame"> <div class="img-wrapper"> <img> <div class="info"> <p class="print-notice"> &copy; 2014 Star Wars </p> <span class="caption"></span> </div> </div> </div> </div> <div class="gallery_header"> <div class="gallery_banner_container section-border"> <div class="banner_img open-gallery"> <div class="scaler"></div> <img src="'),n.b(n.v(n.f("banner",e,t,0))),n.b('"> </div> </div> <div class="content-wrapper"> <div class="bedazzlement"></div> '),n.b(' <div class="content_description"> <h1><span class="open-gallery">'),n.b(n.v(n.f("gallery_title",e,t,0))),n.b("</span></h1> "),n.s(n.f("description",e,t,1),e,t,0,679,721,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<p class="description">'),n.b(n.v(n.f("description",e,t,0))),n.b("</p>")}),e.pop()),n.b(" "),n.s(n.f("parent_page",e,t,1),e,t,0,754,856,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <a href="'),n.b(n.v(n.f("parent_page",e,t,0))),n.b('" class="parent_page_link underline section-color">'),n.b(n.v(n.f("parent_page_title",e,t,0))),n.b("</a> ")}),e.pop()),n.b(' </div> <div class="gallery_external_links"> <div class="gallery-meta"> <div class="image-total"> <span class="total-icon"></span> <p>'),n.b(n.v(n.f("numImages",e,t,0))),n.b(" "),n.b(n.v(n.d("translations.images",e,t,0))),n.b("</p> </div> "),n.s(n.f("socialShare",e,t,1),e,t,0,1071,1087,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.rp("socialShare",e,t,""))}),e.pop()),n.b(" </div> </div> </div> </div> "),n.s(n.f("showThumbs",e,t,1),e,t,0,1147,1958,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div id="gallery_thumb_grid"> <ul class ="img-cols"> '),n.s(n.f("thumbViewList",e,t,1),e,t,0,1219,1238,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.t(n.f("thumbViewList",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("thumbViewList",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.b(" "),n.s(n.f("noscript_images",e,t,1),e,t,0,1358,1398,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.rp("modules/image_gallery/gallery_thumb",e,t,""))}),e.pop()),n.b(" ")),n.b(" </ul> </div> "),n.s(n.f("show_pagination",e,t,1),e,t,0,1471,1712,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="static_pagination"> '),n.s(n.f("prev_page",e,t,1),e,t,0,1518,1592,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<a href="?page='),n.b(n.v(n.f("prev_page",e,t,0))),n.b('" class="prev_page"> &laquo; Previous Page</a>')}),e.pop()),n.b(" "),n.s(n.f("next_page",e,t,1),e,t,0,1621,1690,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<a href="?page='),n.b(n.v(n.f("next_page",e,t,0))),n.b('" class="next_page">Next Page &raquo;</a>')}),e.pop()),n.b(" </div> ")}),e.pop()),n.b(" "),n.s(n.f("hasMore",e,t,1),e,t,0,1745,1945,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="show_more_container"> <div class="show_more button large section-color" role="button"> <span class="label"> '),n.b(n.v(n.d("translations.show_more",e,t,0))),n.b(' </span> <span class="spinner"></span> </div> </div> ')}),e.pop()),n.b(" ")}),e.pop()),n.b(" "),n.b(' <div class="modal-window"> <div class="modal-header"></div> <div class="modal-content"> '),n.b(n.t(n.f("imageViewList",e,t,0))),n.b(' <div class="arrows"> <div class="arrow-sizer prev"><span class="arrow-prev clicon" data-title="prev"></span></div> <div class="arrow-sizer next"><span class="arrow-next clicon" data-title="next"></span></div> </div> </div> <div class="modal-footer"> '),n.s(n.f("socialShare",e,t,1),e,t,0,2412,2428,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.rp("socialShare",e,t,""))}),e.pop()),n.b(' <span class="print"></span> <span class="image-count"><span class="current-count">1</span> '),n.b(n.v(n.d("translations.of",e,t,0))),n.b(" "),n.b(n.v(n.f("numImages",e,t,0))),n.b('</span> </div> <div class="loading-status"><span>'),n.b(n.v(n.d("translations.loading",e,t,0))),n.b('...</span></div> <div class="modal-info"> <h2 class="modal-title">'),n.b(n.v(n.f("gallery_title",e,t,0))),n.b('</h2> </div> <div class="modal-close clicon" data-title="close"></div> </div> <div class="modal-overlay"></div> </div> ')}),e.pop()),r.fl()}),Whiskers("modules.image_gallery.gallery_thumb",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<li class="gallery-item item thumb launches-modal '),r.s(r.f("active",e,t,1),e,t,0,61,67,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("active")}),e.pop()),r.b('" data-title="thumb" itemscope itemtype="http://schema.org/ImageObject"> <div class="center-crop"> <div class="img-aspect"> <a itemprop="contentURL" href="'),r.b(r.v(r.f("image_fog",e,t,0))),r.b('"> <img class="thumbnail-image" title="'),r.b(r.v(r.f("seo_title",e,t,0))),r.b('" alt="'),r.b(r.v(r.f("seoCaption",e,t,0))),r.b('" src="'),r.b(r.v(r.f("thumbnail_image_fog",e,t,0))),r.b('" itemprop="thumbnailUrl"> <div class="active-indicator"></div> </a> </div> <div class="zoom-overlay" '),r.s(r.f("touchDevice",e,t,1),e,t,0,467,484,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' ontouchstart=" "')}),e.pop()),r.b('> <div class="zoom-icon"></div> </div> </div> <meta itemprop="caption" content="'),r.b(r.v(r.f("caption",e,t,0))),r.b('"> <meta itemprop="name" content="'),r.b(r.v(r.f("seoTitle",e,t,0))),r.b('"> </li>'),r.fl()}),Whiskers("modules.image_gallery.image_gallery_slide",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<li class="content-container item-'),r.b(r.v(r.f("slide",e,t,0))),r.b(" "),r.b(r.v(r.f("type",e,t,0))),r.b("-"),r.b(r.v(r.f("index",e,t,0))),r.b(" "),r.b(r.v(r.f("type",e,t,0))),r.b('"> <div class="image-info"> '),r.s(r.f("caption",e,t,1),e,t,0,111,149,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<p class="description">'),n.b(n.v(n.f("caption",e,t,0))),n.b("</p>")}),e.pop()),r.b(' </div> <div class="gallery-image-sizer"> <img class="gallery-image"> </div> </li>'),r.fl()}),Whiskers("partials.style_overrides.modules.image_gallery",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("module_style_options",e,t,1),e,t,0,25,1521,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("enabled",e,t,1),e,t,0,38,950,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("bg_color",e,t,1),e,t,0,52,419,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.image_gallery .content-wrapper .bedazzlement{ background-color: "),n.b(n.v(n.f("bg_color",e,t,0))),n.b("; } #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.image_gallery .content-wrapper:before, .module.image_gallery .content-wrapper:after{ border-left-color: "),n.b(n.v(n.f("bg_color",e,t,0))),n.b("; } @media screen and (max-width: 768px){ #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.image_gallery .content-wrapper{ background-color: "),n.b(n.v(n.f("bg_color",e,t,0))),n.b("; } } ")}),e.pop()),n.b(" "),n.s(n.f("desc_color",e,t,1),e,t,0,448,543,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.image_gallery .content_description .description{ color: "),n.b(n.v(n.f("desc_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("title_color",e,t,1),e,t,0,575,651,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.image_gallery .open-gallery{ color: "),n.b(n.v(n.f("title_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("toggle_decal",e,t,1),e,t,0,685,792,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.image_gallery .content-wrapper .bedazzlement:after{ background-position: 300% 100%; } ")}),e.pop()),n.b(" "),n.s(n.f("decal_opacity",e,t,1),e,t,0,828,931,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.image_gallery .content-wrapper .bedazzlement:after{ opacity: "),n.b(n.v(n.f("decal_opacity",e,t,0))),n.b("; } ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" "),n.s(n.f("image_gallery",e,t,1),e,t,0,981,1502,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("enabled",e,t,1),e,t,0,994,1489,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("module_link_color",e,t,1),e,t,0,1017,1124,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.image_gallery .content_description .parent_page_link{ color: "),n.b(n.v(n.f("module_link_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("module_link_hover_color",e,t,1),e,t,0,1175,1294,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.image_gallery .content_description .parent_page_link:hover{ color: "),n.b(n.v(n.f("module_link_hover_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("image_count_color",e,t,1),e,t,0,1345,1466,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.image_gallery .gallery_external_links .gallery-meta .image-total p{ color: "),n.b(n.v(n.f("image_count_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.fl()}),function(e){"use strict";var t=e.Disney,n=t.placeSwap=function(e,t){if(!t)return function(t){t&&n(e,t)};t.render(),e.$("#"+t.cid).replaceWith(t.el)};t.placeHtml=function(e){return e?'<div id="'+e.cid+'"></div>':null}}(this),function(e,t,n){"use strict";var r="swipeasaurus",i="."+r,s={effect:"slide",loop:!0,index:0,speed:300,delay:0},o=Math.abs,u=Math.min,a=e.setTimeout,f=e.clearTimeout,l=["Webkit","Moz","ms","O"],c=e.document.documentElement,h=function(e){var t,r=0;if(c.style[e]!==n)return e;t=e.charAt(0).toUpperCase()+e.substr(1);for(;r<l.length;r++)if(c.style[l[r]+t]!==n)return l[r]+t},p=!!h("perspective"),d=!!h("transition"),v=!!h("transform"),m=(h("transform")||"transform").replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"),g=function(){return(new Date).getTime()},y=function(e,n){return t("<span/>",{"class":e,title:n,role:"button",onclick:""})},b={slide:{c:{overflow:"hidden"},s:{opacity:1,transitionProperty:m+", visibility"},a:d&&v?function(e,t,n){n=n?n+"ms":"0ms";var r=o(t)<2;e.css({transitionDuration:n+", 0ms",transitionDelay:"0ms, "+(r?"0ms":n),visibility:r?"visible":"hidden",transform:p?"translate3d("+t*100+"%,0,0)":"translateX("+t*100+"%)"})}:function(e,t,n){var r=this,i=function(){e.css("left",(t*(1-r._r-r._l)+r._l)*100+"%")},s=e.width();n&&s?e.stop().css("left",e.position().left).animate({left:t*s+"px"},n,i):i()}},fade:{c:{overflow:""},s:{transform:"translate3d(0,0,0)",transitionProperty:"opacity, visibility"},a:d?function(e,t,n){n=n?n+"ms":"0";var r=o(t),i=r<1,s=r<.5;e.css({transitionDuration:n+", 0ms",transitionDelay:"0ms, "+(i?"0ms":n),visibility:i?"visible":"hidden",opacity:1-u(1,r),zIndex:s?1:0})}:function(e,t,n){var r=o(t),i=r<1;i&&e.css({visibility:"visible"}),e.stop().animate({opacity:1-u(1,r)},n,function(){i||e.css({visibility:"hidden"})})}}},w={scroll:function(){t(this.$el).scrollLeft(0)}},E=function(e,t){var n=e[t]||e.peek;return n>0&&n<.5?n:0},S=function(e,n){var r=this,s,o=r.$slides=e.children(),u=r.length=o.length,a=r._w=!!n.loop,f=r._l=E(n,"left"),l=r._r=E(n,"right"),c=1-f-l;r._s=+n.speed,r.index=n.index,r.$el=e,t.each(w,function(t,s){var o=e;t.substr(0,5)==="mouse"&&n.arrows&&(o=e.parent()),o.on(t+i,function(e){s.call(r,e)})}),o.on("focusin",function(){r.slide(t(this).index())}),n.dots&&u>1&&(s=o.map(function(e){return y("dot",e)[0]}),s.on("click",function(e){var n=t(e.currentTarget).index();r.slide(n)}),e.on("slide",function(e,t){s.removeClass("active").eq(t).addClass("active")}),e.after(t("<div/>",{"class":"dots","aria-hidden":"true"}).append(s))),t.each({prev:["Previous",0],next:["Next",u-1]},function(i,s){var o;n[i]?o=t(n[i]):n.arrows&&(o=e.siblings("."+i),!o.length&&u>1&&e.after(o=y(i,s[0]))),o&&(o.on("click",t.proxy(r[i],r)),a||e.on("slide",function(e,t){o.toggleClass("disabled",t===s[1])}))}),e.css({zIndex:1,position:"relative"}),o.each(function(e){t(this).css({display:"block",position:e===0?"relative":"absolute",width:100*c+"%",left:100*f+"%",top:0})}),r.effect(n.effect),r.start(n.delay)};S.prototype={_c:0,effect:function(e){var n=b[e]||s.effect;this._a=function(e,r){var i=0,s=this.length,o=this.$slides;for(;i<s;++i)n.a.call(this,t(o[i]),i-e,r)},this.$el.css(n.c),this.$slides.css(n.s),this.slide(this.index,!0)},slide:function(e,t){var n=this,r=t?0:n._s;e<0&&(e=0),e>=n.length&&(e=n.length-1);if(!(n._c++)||n.index!==e)n.$el.trigger("slide",n.index=e),f(n._t),n._t=a(function(){n.$el.trigger("slideEnd",e)},r);n._a(n.index,r),n.resume()},prev:function(){var e=this.index;e===0?this._w&&this.slide(this.length-1):this.slide(e-1)},next:function(){var e=this.index;e===this.length-1?this._w&&this.slide(0):this.slide(e+1)},resume:function(){var e=this;e.pause(),e._d>0&&(e._i=a(function(){t(e.$el).data(r)===e&&e.next()},e._d+e._s))},pause:function(){f(this._i)},start:function(e){this._d=e||this._d,this.resume()},stop:function(){this._d=0,this.pause()}},t.extend(w,e.Modernizr.touch?{touchstart:function(e){var t=e.originalEvent.touches;if(t.length>1)return w.touchcancel.call(this,e);this.touch={x:t[0].pageX,y:t[0].pageY,delta:0,dist:0,test:!0,time:g(),width:this.$el.width()}},touchmove:function(e){var t=this.touch,n=e.originalEvent.touches,r=this.index,i=this.length,s,u;if(t){s=n[0].pageX-t.x,t.dist+=o(s-t.delta),t.delta=s;if(t.test){u=n[0].pageY-t.y,t.test=!1;if(o(s)<o(u))return w.touchcancel.call(this,e)}e.preventDefault(),this.pause();if(r===0&&s>0||r===i-1&&s<0)s/=o(s)/t.width+1;this._a(r-s/t.width)}},touchcancel:function(){this.touch=null,this.slide(this.index)},touchend:function(e){var t=this.touch,n=0;if(t){if(o(t.delta)*2>t.width||g()-t.time<250&&t.dist>20)n=t.delta<0?1:-1;t.dist>20&&(e.preventDefault(),this.bust=g()),this.touch=null,this.slide(this.index+n)}},click:function(e){this.bust&&g()-this.bust<250&&e.preventDefault()}}:{mouseenter:function(){this.pause()},mouseleave:function(){this.resume()}}),t.fn[r]=function(e){var n=arguments;return this.each(function(){var i=t(this),o;typeof e=="string"?(o=i.data(r),o[e].apply(o,Array.prototype.slice.call(n,1))):(e=t.extend({},s,e),i.data(r,new S(i,e)))})}}(this,jQuery),function(e){"use strict";var t=e.Disney,n=e.Math,r=e.jQuery;t.Style.fitToScreen=function(e){if(e){var t=e[0],i=t&&t.item,s=t.height/t.width||0,o=t.limitMax,u=e[1],a=e[2]&&e[2].height()||0,f=e[3],l=f&&f.height()||0,c=e[4]||.5,h=u.height(),p=h-a-l,d=u.width(),v=o?t.width:n.min(p/s,d),m=o?t.height:v*s,g=n.max(n.abs(p-m)*c,0),y=g+m;f.css({top:y}),i&&r(i).css({height:m,width:v,top:g})}}}(this),function(e){"use strict";var t=e.Grill,n=e.Disney,r=n.Style.breakpoints,i=e.Modernizr,s=e.Whiskers,o=e.Backbone,u=e.Tracker,a=e._,f=e.jQuery;t.ModuleView.register("image_gallery",{eventCategory:"SWImageGalleryModal",page:1,currentImage:0,currentSlide:0,resizeParams:{},adjacents:[],template:s.modules.image_gallery.image_gallery,events:{"click .modal-close":function(){this.closeModal()},"click .modal-overlay":function(){this.closeModal()},"click .banner_img, .open-gallery":function(e){e.preventDefault(),this.showImageAtIndex(0)},"click .gallery-item":function(e){e.preventDefault();var t=f(e.target).closest(".gallery-item").index(),n=t;this.showImageAtIndex(n)},"click .show_more_container":function(){this.loadMoreThumbs(),u&&this.cleanPageName&&u.page({pageName:this.cleanPageName+"_"+this.page})},"click .print":function(){e.print()}},initialize:function(){var e=this,n=this.model,r=a.first(n.get("data")),u=r.images;a.extend(this,{touchDevice:i.touch,allThumbs:u,numImages:u.length,modalImages:[],visibleThumbs:[],socialShare:n.collection&&n.collection.social_share_networks}),f.each(this.allThumbs,function(t,n){n.index=t,n.slide=e.modalImages.length,n.type="image",e.modalImages.push(n)}),this.numSlides=e.modalImages.length,this.modalCollection=new o.LazyCollection(this.modalImages),this.imageViewList=new t.ListView({className:"modal-slides",collection:this.modalCollection,template:{render:function(e){return a.extend(e,{imgSrc:function(){return o.Resize.width()<=568?this.get("mobile_image"):this.get("image")}}),s.modules.image_gallery.image_gallery_slide.render(e,{})}}}),this.shouldShowThumbnails()&&(this.updateVisibleThumbs(),this.thumbCollection=new o.LazyCollection(this.visibleThumbs),this.thumbViewList=new t.ListView({collection:this.thumbCollection,template:{render:function(e){return s.modules.image_gallery.gallery_thumb.render(e,{})}}})),f.each(this.imageViewList.views,function(e,t){t.printSrc=t.model.get("image")||null});var l=this.model.collection;l&&l.cto&&(this.cleanPageName=l.cto.pageName,l.cto.pageName+="_1",l.cto.breadcrumbs="image-gallery")},render:function(){var e=this.thumbViewList,t=this.imageViewList,r=this.deepLinkUrlForImageId(a.first(this.modalImages).id),i=encodeURIComponent(r),o=this.model.get("translations")||{},u={images:"Images"};a.defaults(o,u);var f=a.extend({numImages:this.numImages,hasMore:this.hasMore(),showThumbs:this.shouldShowThumbnails(),thumbViewList:n.placeHtml(e),imageViewList:n.placeHtml(t),translations:o,socialShare:this.socialShare,source:r,sourceEncoded:i},this.model);this.$el.html(this.template.render(f,{moduleStyles:s.partials.style_overrides.modules.image_gallery,socialShare:s.modules.shared_components.social_share})),n.placeSwap(this,e),n.placeSwap(this,t)},ready:function(){var t=this,r=this.slides=this.$(".modal-slides"),i=a.first(t.model.get("data")),s=i.images;r.swipeasaurus({arrows:!0,next:".arrow-next",prev:".arrow-prev",loop:!1,speed:500}),this.$(".content-container").css("visibility","hidden"),r.on("slide",function(e,n){t.onSlide(n)}),this.updateButton(!1),f("body").addClass(this.hoverClass),f("html").addClass("single-page-print");var o=27,u=37,l=39;f(e.document).keyup(function(e){switch(e.keyCode){case o:f(".modal-window .modal-close").trigger("click");break;case u:r.swipeasaurus("prev");break;case l:r.swipeasaurus("next")}}),this.socialShare&&this.socialShare.facebook&&n.Social.init("facebook");var c=e.location.search.substring(1);if(c.indexOf("dlid")>-1){var h=c.split("dlid=")[1].split("&")[0],p=-1;f.each(s,function(e,t){if(t.id===h)return p=e,!1}),p>=0&&this.showImageAtIndex(p)}},showImageAtIndex:function(t){var n=this.model.get("cto"),r=this.viewForIndex(t),i=this.$(".modal-slides"),s=this.$(".modal-window");s.addClass("first-shown"),i.swipeasaurus("effect","fade"),this.onSlide(t),i.swipeasaurus("slide",t),i.swipeasaurus("effect","slide");if(!s.hasClass("modal-show")){s.addClass("modal-show");var o={engagementMeta:n&&n.slug,engagementType:this.eventCategory+"_show",eventCategory:this.eventCategory,action:"show"};e.cto.trackEvent(o)}r.$el.css("visibility","visible")},dimensions:function(){var e=o.Resize.width(),t=e>=r.max?"desktop":e>=r.midHigh?"tablet":"mobile",n={desktop:4,tablet:3,mobile:2},i={desktop:3,tablet:3,mobile:3},s={cols:n[t],rows:i[t]};return s},numPerBatch:function(){return this.dimensions().rows*this.dimensions().cols},bindResize:function(t){var r=this,i=r.fetchAdjacents(),s=function(){n.Style.fitToScreen(r.fetchResizeParams(t)),i.length>0&&f(i).each(function(e,t){n.Style.fitToScreen(r.fetchResizeParams(t))})};f(e).on("resize."+this.cid+"slide"+t,a.debounce(s,100))},unbindResize:function(t){f(e).off("resize."+this.cid+"slide"+t)},setResizeParams:function(e,t){var n=t.$el,r=this.$(".modal-window"),i=this.$(".modal-header"),s=n.find(".image-info"),o=.46,u="item"+t.model.get("slide");return this.resizeParams[u]=[e,r,i,s,o],this.resizeParams[u]},fetchResizeParams:function(e){return this.resizeParams["item"+e]},fetchAdjacents:function(){return this.adjacents},itemLoaded:function(e){var t=!1;if(!e.model.get("ad")){var n=e.$el.find("img")[0];t=n&&!!n.src}return t},preloadItem:function(t){var n=this,r=t.model,i=o.Resize.width()<=568?r.get("mobile_image"):r.get("image"),s=new e.Image;s.className="gallery-image",s.src=i,s.complete?n.insertNewItem(t,s):f(s).on("load",function(){n.insertNewItem(t,s)})},insertNewItem:function(e,t){var n,r=e.$el.find("img")[0]||null;r&&t&&f(r).replaceWith(t),n=t,this.sizeItem(n,e),this.$(".modal-window").removeClass("loading")},onSlide:function(t){var r=this,i=this.$(".modal-window"),s=this.viewForIndex(t),o=s.model,l=t<this.numSlides-1?t+1:null,c=t>0?t-1:null,h={next:l,prev:c};r.itemLoaded(s)||(this.preloadItem(s),i.addClass("loading")),this.unbindResize(this.currentSlide),this.bindResize(t),this.adjacents=h,a.extend(this,{currentImage:o.get("index"),currentSlide:t,currentView:s}),this.$(".current").removeClass("current"),s.$el.addClass("current"),this.currentImage>=this.visibleThumbs.length&&this.loadMoreThumbs(),f.each(h,function(e,t){if(t){var i=r.viewForIndex(t);r.itemLoaded(i)?n.Style.fitToScreen(r.fetchResizeParams(t)):r.preloadItem(i)}}),this.setNewText(s),this.insertPrintData(s),this.updateFacebookUrl(s),this.updateTwitterUrl(s),this.updateGooglePlusUrl(s),s.$el.css("visibility","visible"),s.$el.css("opacity",1),i.hasClass("first-shown")&&e.setTimeout(function(){r.$(".modal-window").removeClass("first-shown")},800),n.Style.fitToScreen(r.fetchResizeParams(t)),u&&this.cleanPageName&&u.page({pageName:this.cleanPageName})},setNewText:function(e){var t=parseInt(e.model.get("index"),10),n=this.fetchAdjacents().next,r=this.fetchAdjacents().prev,i=n?this.viewForIndex(n).model:e.model,s=r?this.viewForIndex(r).model:e.model;this.$(".modal-window .current-count").html(t+1),this.$(".modal-window .arrow-prev").data({currentitem:n?i.get("index"):this.numSlides,viewtype:i.get("type")}),this.$(".modal-window .arrow-next").data({currentitem:r?s.get("index"):0,viewtype:s.get("type")})},updateFacebookUrl:function(e){var t=this.$(".modal-window"),n=e.model.get("id"),r=this.deepLinkUrlForImageId(n);t.find(".social-share.facebook").data("share-url",r)},updateTwitterUrl:function(e){var t=this.$(".modal-window"),n=e.model.get("id"),r=this.deepLinkUrlForImageId(n),i=encodeURIComponent(r),s=t.find(".social-share.twitter");if(s.length){var o=s.data("href").replace(/url=[^&]*/,"url="+i);s.data("href",o)}},updateGooglePlusUrl:function(e){var t=this.$(".modal-window"),n=e.model.get("id"),r=this.deepLinkUrlForImageId(n),i=encodeURIComponent(r),s=t.find(".social-share.google_plus");if(s.length){var o=s.data("href").replace(/url=[^&]*/,"url="+i);s.data("href",o)}},deepLinkUrlForImageId:function(e){var t=a.first(this.model.get("data")).href,n=t.indexOf("?")>=0?"&":"?",r="dlid="+e;return t+n+r},galleryStyle:function(){var e=this.model.get("schema_json")||{},t=e.gallery_style||"thumbnail_grid";return t},sizeItem:function(t,r){var i,s,o,u=new e.Image;u.src=t.src,i=u.height,s=u.width,o=!1;var a={height:i,width:s,limitMax:o,item:t};r.aspectRatio=i/s,n.Style.fitToScreen(this.setResizeParams(a,r))},closeModal:function(){var t=this.model.get("cto"),n={engagementMeta:t&&t.slug,engagementType:this.eventCategory+"_hide",eventCategory:this.eventCategory,action:"hide"};this.$(".modal-window .modal-close").data("currentitem",this.currentImage),this.$(".modal-window").removeClass("modal-show loading"),this.$(".gallery-item.active").removeClass("active"),this.$(".content-container").css("visibility","hidden"),this.updateThumbnailActiveState(),this.unbindResize(this.currentSlide),e.cto.trackEvent(n)},updateThumbnailActiveState:function(){var t=this;this.shouldShowThumbnails()&&(this.thumbViewList.collection.at(t.currentImage).set("active",!0),e.setTimeout(function(){t.thumbViewList.collection.at(t.currentImage).set("active",!1)},1200))},shouldShowThumbnails:function(){return this.galleryStyle()==="thumbnail_grid"},updateButton:function(e){this.$el.toggleClass("loading",e).toggleClass("has-more",this.hasMore())},hasMore:function(){return this.page*this.numPerBatch()<this.numImages},loadMoreThumbs:function(){this.shouldShowThumbnails()&&(this.page++,this.updateButton(!0),this.updateVisibleThumbs(),this.thumbViewList.collection.add(this.visibleThumbs),this.updateButton(!1))},updateVisibleThumbs:function(){this.visibleThumbs=this.allThumbs.slice(0,this.page*this.numPerBatch())},viewForIndex:function(e){return this.imageViewList.views[e]},remove:function(){this.unbindResize(this.currentSlide),f("body").removeClass(this.hoverClass),f("html").removeClass("single-page-print"),t.ModuleView.prototype.remove.call(this)},insertPrintData:function(e){var t=f("#print-image img")[0],n=e.printSrc,r=e.model.get("caption");t&&(t.src=n),f("#print-image .caption").html(r)}})}(this),Whiskers("modules.rich_image",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("image",e,t,1),e,t,0,10,329,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,47,65,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),n.b(" "),n.s(n.f("data",e,t,1),e,t,0,91,178,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" title="'),n.b(n.v(n.f("title",e,t,0))),n.b('"'),n.s(n.f("target_blank",e,t,1),e,t,0,144,160,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' target="_blank"')}),e.pop()),n.b(">")}),e.pop()),n.b(' <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('" class="'),n.b(n.v(n.d("schema_json.height_class",e,t,0))),n.b(" "),n.b(n.v(n.d("schema_json.mobile_height_class",e,t,0))),n.b('"> '),n.s(n.f("data",e,t,1),e,t,0,308,312,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop()),n.b(" </div> ")}),e.pop()),r.fl()}),Whiskers("modules.flex_image",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound image-'),r.b(r.v(r.d("schema_json.image_alignment",e,t,0))),r.b('"> '),r.s(r.f("header_data",e,t,1),e,t,0,74,92,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),r.b(" "),r.s(r.f("data",e,t,1),e,t,0,118,205,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" title="'),n.b(n.v(n.f("title",e,t,0))),n.b('"'),n.s(n.f("target_blank",e,t,1),e,t,0,171,187,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' target="_blank"')}),e.pop()),n.b(">")}),e.pop()),r.b(" "),r.b(" "),r.s(r.f("image_data",e,t,1),e,t,0,264,487,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("wide",e,t,1),e,t,0,274,367,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("desktop",e,t,1),e,t,0,286,355,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.f("src",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('" width='),n.b(n.v(n.f("width",e,t,0))),n.b(" height="),n.b(n.v(n.f("height",e,t,0))),n.b(">")}),e.pop())}),e.pop()),n.b(" "),n.s(n.f("wide",e,t,1),e,t,1,0,0,"")||n.s(n.f("mobile",e,t,1),e,t,0,397,466,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.f("src",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('" width='),n.b(n.v(n.f("width",e,t,0))),n.b(" height="),n.b(n.v(n.f("height",e,t,0))),n.b(">")}),e.pop()),n.b(" ")}),e.pop()),r.b(" "),r.b(" "),r.s(r.f("image_data",e,t,1),e,t,1,0,0,"")||(r.b(" "),r.s(r.d("schema_json.image_assets",e,t,1),e,t,0,583,654,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <img src="'),n.s(n.f("wide",e,t,1),e,t,0,603,614,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("desktop",e,t,0)))}),e.pop()),n.s(n.f("wide",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.f("mobile",e,t,0))),n.b('"> ')}),e.pop()),r.b(" ")),r.b(" "),r.s(r.f("data",e,t,1),e,t,0,709,713,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop()),r.b(" </div>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=t.Style.breakpoints,r=n.midHigh.toString(),i=e.Grill,s=e.Math,o=e.Whiskers,u=e.Backbone,a=e._,f=e.devicePixelRatio>1.5,l=i.ModuleView.extend({breakpoints:r,className:"module image_module",included_components:{module_header:o.modules.shared_components.module_header},load:function(){var e=this.model.get("cto"),t=e&&e.slug;this.$el.attr("data-slug",t)}});l.register("rich_image",{className:"module image_module full-height",template:o.modules.rich_image,render:function(){var e=u.Resize.width()>=n.midHigh,t=this,r=a.first(this.model.get("data")),i=t.model.get("style").images.foreground_image,s=null;if(i){var o=f?i.retina_url?i.retina_url:i.url:i.url,l=f?i.mobile_retina_url?i.mobile_retina_url:i.mobile_url?i.mobile_url:null:i.mobile_url?i.mobile_url:null;s=e?o:l}var c=a.extend({image:s?s:null,data:r?r:null},this.model);this.$el.html(this.template.render(c,this.included_components))}}),l.register("flex_image",{template:o.modules.flex_image,initialize:function(){var e=this.model.get("schema_json"),n=e&&e.image_assets;if(n){var r=["desktop","mobile"],i={};a.each(r,function(e){var r=n[e];if(r){var o=t.LumiereHelpers.nativeSize(r),u=s.ceil(o.height/2),a=s.ceil(o.width/2);i[e]={src:f?r:r+"&width="+a,height:u,width:a}}}),this.model.set("image_data",i)}},render:function(){var e=a.extend({wide:u.Resize.width()>=n.midHigh},this.model);this.$el.html(this.template.render(e,this.included_components))}})}(this),function(e){"use strict";var t=e.Disney;t.Utilities={stripQuery:function(e){return e.split("?")[0]},alog:function(t,n){e.console.log("**************************"),e.console.log(n),e.console.log(t),e.console.log("**************************")}}}(this),Whiskers("modules.links_list",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound '),r.s(r.f("section_class",e,t,1),e,t,0,36,61,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("section_class",e,t,0))),n.b("-content")}),e.pop()),r.b('"> <div class="module_header has-list"> '),r.s(r.f("hasTitle",e,t,1),e,t,0,132,293,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <span class="module_title"> '),n.s(n.f("isPPN",e,t,1),e,t,0,171,186,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("linkHeading",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("isPPN",e,t,1),e,t,1,0,0,"")||n.s(n.d("header_data.title",e,t,1),e,t,0,229,252,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.t(n.d("header_data.title",e,t,0)))}),e.pop()),n.b(" </span> ")}),e.pop()),r.b(" "),r.s(r.f("seeAll",e,t,1),e,t,0,318,461,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <span class="header-divider module_title">//</span> <a class="see-all underline section-color" href="'
),n.b(n.v(n.f("seeAll",e,t,0))),n.b('">'),n.b(n.v(n.d("translations.see_all",e,t,0))),n.b("</a> ")}),e.pop()),r.b(" "),r.s(r.f("data",e,t,1),e,t,0,482,752,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <ul class="links-container"> '),n.s(n.f("pn_links",e,t,1),e,t,0,525,732,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<li class="'),n.s(n.f("href",e,t,1),e,t,0,545,563,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("underline has-link")}),e.pop()),n.s(n.f("active",e,t,1),e,t,0,583,590,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" active")}),e.pop()),n.b('"><span><a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" title="'),n.b(n.v(n.f("title",e,t,0))),n.b('"'),n.s(n.f("ping",e,t,1),e,t,0,654,675,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' data-ping="'),n.b(n.v(n.f("ping",e,t,0))),n.b('"')}),e.pop()),n.b(' class="section-color">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a></span></li>")}),e.pop()),n.b(" </ul> ")}),e.pop()),r.b(" </div> </div>"),r.fl()}),Whiskers("modules.links_dropdown",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound'),r.s(r.f("section_class",e,t,1),e,t,0,35,61,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.b(n.v(n.f("section_class",e,t,0))),n.b("-content")}),e.pop()),r.b('"> <div class="module_header has-list has-dropdown'),r.s(r.f("maxLinks",e,t,1),e,t,0,142,152,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" max-links")}),e.pop()),r.b('"> '),r.s(r.d("header_data.title",e,t,1),e,t,0,190,295,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <span class="module_title"> '),n.s(n.d("header_data.title",e,t,1),e,t,0,241,264,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.t(n.d("header_data.title",e,t,0)))}),e.pop()),n.b(" </span> ")}),e.pop()),r.b(' <div class="category-container"> <span class="module_title"> '),r.s(r.f("currTitle",e,t,1),e,t,0,393,406,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("currTitle",e,t,0)))}),e.pop()),r.b(" "),r.s(r.f("currTitle",e,t,1),e,t,1,0,0,"")||r.b(r.v(r.d("translations.default_text",e,t,0))),r.b(' </span> <span class="drop-expand"></span> </div> '),r.s(r.f("data",e,t,1),e,t,0,537,788,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <ul class="drop-container"> '),n.s(n.f("pn_links",e,t,1),e,t,0,579,768,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<li class="'),n.s(n.f("href",e,t,1),e,t,0,599,617,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("underline has-link")}),e.pop()),n.s(n.f("active",e,t,1),e,t,0,637,644,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" active")}),e.pop()),n.b('"><span><a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("ping",e,t,1),e,t,0,690,711,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' data-ping="'),n.b(n.v(n.f("ping",e,t,0))),n.b('"')}),e.pop()),n.b(' class="section-color">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a></span></li>")}),e.pop()),n.b(" </ul> ")}),e.pop()),r.b(" </div> </div>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=t.Utilities,r=e.Grill,i=e.Whiskers,s=e._,o=r.ModuleView.extend({render:function(){var t=n.stripQuery(e.location.href),r=this.model.get("data"),i=s.first(r),o=i.pn_links||r,u=!!i.pn_links,a,f;this.model.get("type")==="propertynav"&&(a=i.title),s.each(o,function(e){n.stripQuery(e.href)===t&&(f=e.title,e.active=!0)});var l=s.extend({linkHeading:a,pn_links:o,isPPN:u,hasTitle:u||!!this.model.get("title"),section_class:o[0].section_class,currTitle:f,maxLinks:i.pn_links?i.pn_links.length>10:0},this.model.get("translations"),this.model);this.$el.html(this.template.render(l,{}))}});o.register("links_list",{template:i.modules.links_list}),o.register("links_dropdown",{className:"module flush-footer",template:i.modules.links_dropdown,events:{"click .has-dropdown .category-container":function(){this.$(".has-dropdown").toggleClass("active")}}})}(this),Whiskers("modules.play",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("data",e,t,1),e,t,0,9,943,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="bound"> <div class="game_wrapper"> <div class="bun_game '),n.b(n.v(n.f("createClass",e,t,0))),n.b('"> <div id="game_container_outer" class="inverted"> <noscript> <div class="player_error">'),n.b(n.v(n.f("no_javascript",e,t,0))),n.b('</div> </noscript> <div itemscope itemtype="http://schema.org/WebApplication"> <meta itemprop="name" content="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <meta itemprop="description" content="'),n.b(n.v(n.f("desc",e,t,0))),n.b('"> <meta itemprop="url" content="'),n.b(n.v(n.f("href",e,t,0))),n.b('"> <meta itemprop="image" content="'),n.b(n.v(n.f("square",e,t,0))),n.b('"> <meta itemprop="applicationCategory" content="'),n.b(n.v(n.f("type",e,t,0))),n.b('"> <meta itemprop="applicationSubCategory" content="'),n.b(n.v(n.f("genres",e,t,0))),n.b(" "),n.b(n.v(n.f("type",e,t,0))),n.b('"> <div id="game_container" class="inverted"> <div id=\'StarWarsGame-'),n.b(n.v(n.f("id",e,t,0))),n.b("' contentid='"),n.b(n.v(n.f("id",e,t,0))),n.b('\'></div> </div> <div class="game_container_error"> <div class="orphan"><p class="message"></p></div> </div> </div> </div> </div> </div> <div class="content-metadata-container"> <div class="bedazzlement"></div> '),n.b(' <div id="meta"></div> </div> </div> ')}),e.pop()),r.fl()}),Whiskers("modules.shared_components.content_metadata",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div id="toolbar"> <div id="metadata"> <div class="module_body"> <div class="contentarea col-container"> <div class="content"> <div class="item"> <div class="productlink"> <h1>'),r.b(r.v(r.f("title",e,t,0))),r.b("</h1> "),r.s(r.f("contentMetadataTitleLink",e,t,1),e,t,0,220,253,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <a href="'),n.b(n.v(n.f("url",e,t,0))),n.b('">'),n.b(n.v(n.f("title",e,t,0))),n.b("</a> ")}),e.pop()),r.b(' </div> <p itemprop="description">'),r.b(r.v(r.f("description",e,t,0))),r.b(r.v(r.f("rating",e,t,0))),r.b('</p> </div> </div> </div> </div> </div> </div> <div class="social-share-container"> '),r.b(r.rp("socialShare",e,t,"")),r.b(" "),r.s(r.f("shareUtility",e,t,1),e,t,0,459,476,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("shareUtility",e,t,""))}),e.pop()),r.b(" </div>"),r.fl()}),Whiskers("modules.shared_components.share_utility",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="social-share social-dropdown-btn '),r.b(r.v(r.f("share_type",e,t,0))),r.b('"> <div class="label" role="button"> <span class="social-icon '),r.b(r.v(r.f("share_type",e,t,0))),r.b('-icon"></span> <span>'),r.b(r.v(r.f("share_text",e,t,0))),r.b('</span> </div> <!-- dropdown area --> <div class="dropdown-panel"> <span class="dropdown-label">'),r.b(r.v(r.f("output_label",e,t,0))),r.b(':</span> <textarea rows="1" class="text-output">'),r.b(r.v(r.f("textarea_value",e,t,0))),r.b("</textarea> </div> </div>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.Backbone,r=e.jQuery,i=e._,s=e.Whiskers;t.ContentMetadataView=n.View.extend({initialize:function(e){this.options=e||{},this.socialShare=e&&e.model.collection&&e.model.collection.social_share_networks,this.render();if(this.socialShare){var n=this.socialShare;n.facebook&&t.Social.init("facebook"),n.google_plus&&t.Social.init("google")}},render:function(){var t=i.first(this.model.get("data")),n=this.options.shareUtility;if(n){var r=e.location,o="http://"+r.host+"/embed/"+t.id,u='<iframe width="560" height="315" src="'+o+'" frameborder="0" allowfullscreen scrolling="no"></iframe><br/><a href="'+r.href+'">'+t.title+" on Disney Video</a>";i.each(n,function(e){switch(e.share_type){case"embed":e.textarea_value=u;break;case"share":e.textarea_value=r.href}})}var a=i.extend({socialShare:this.socialShare,content_id:t.id,shareUtility:n,source:t.href,sourceEncoded:encodeURIComponent(t.href),titleEncoded:encodeURIComponent(t.title)},t);this.$el.html(s.modules.shared_components.content_metadata.render(a,{socialShare:s.modules.shared_components.social_share,shareUtility:s.modules.shared_components.share_utility}))},remove:function(){r("body").off("click.watch"),r("#sharing").appendTo("body").remove()}})}(this),function(e){"use strict";var t=e.Disney,n=t.Style.breakpoints,r=[n.midHigh,n.max],i=e.Grill,s=e.Backbone,o=e.Modernizr,u=e._,a=e.Whiskers,f=!1,l=!1,c=null,h=null,p=function(t){var n=e.onerror,r=e.console;r&&r.error&&r.error(t.stack||t.toString()),n&&n(t.toString())};i.ModuleView.register("play",{breakpoints:r.join(" "),template:a.modules.play,tabletSize:768,isMobile:o.mobile,assets:{scripts:["http://img.lum.dolimg.com/v1/game_container/js/disneygames.js"]},render:function(){var t=u.first(this.model.get("data"));this.gameType=t.game_type,this.gameData={wmode:"transparent"},e.disneyGames.processConfig(t.game_data,this.gameData);var n=u.extend({},this.model.get("translations"),this.model);this.$el.html(this.template.render(n))},hideAllMessages:function(){this.$(".game_container_error").hide()},resize:function(){l?(this.$(".game_container_error").show(),this.$(".bun_game").addClass("error_holder"),this.$(".game_container_error p.message").html(c)):this.isMobile||(this.$(".game_container_error").hide(),this.handleGameContainerShowHide(s.Resize.width()>=this.tabletSize))},handleGameContainerShowHide:function(t){var n=e.disneyGames;t?(f===!1?this.loadGameContainer():n.showGame(),this.$("#game_container").show(),this.$(".bun_game").removeClass("error_holder"),this.$(".game_container_error").hide()):(this.$(".bun_game").addClass("error_holder"),this.$(".game_container_error p.message").html(this.model.get("translations").too_small),this.$(".game_container_error").show(),f===!0&&n.hideGame(),this.$("#game_container").hide())},loadGameContainer:function(){var t=e.disneyGames,n=this.model.get("data")[0].id;f=!0,e.disneyGamesCommunication.addMessageListener(u.bind(this.handleMessage,this));var r={elementId:"StarWarsGame-"+n,contentId:this.getContentId(),gameData:this.gameData,iframePath:"/games/syndication/iframeGame.html"};t.addGame(r)},getContentId:function(){var e;return this.model.get("data")[0].go_pub_id?e=this.model.get("data")[0].go_pub_id:e=this.model.get("data")[0].id,e},handleMessage:function(t){var n=e.disneyGames,r=this.model.get("translations"),i={unsupportedDevice:"ios",flashFailed:"no_flash",gameNotFound:"game_not_found",installUnity:"install_unity",notAuthorizedToHostGame:"not_authorized_to_host_game",unsupportedBrowser:"unsupported_browser"};switch(t){case"startGame":s.Resize.width()<=this.tabletSize&&!this.isMobile&&h.resize();break;case"unsupportedDevice":case"flashFailed":case"gameNotFound":case"installUnity":case"notAuthorizedToHostGame":case"unsupportedBrowser":c=r[i[t]],l=!0,h.resize(),this.$("#game_container").hide(),f===!0&&n.hideGame();break;case"HTML5Works":this.$(".bun_game").css("padding","0");break;default:}},ready:function(){var e=this,n=e.model.get("translations");h=e,l=!1,c=null,new t.ContentMetadataView({el:this.$("#meta"),model:this.model,shareUtility:[{share_type:"share",share_text:n.share,output_label:n.quick_link}]}),f===!1&&this.loadGameContainer(),this.hideAllMessages(),this.resize()},remove:function(){try{e.disneyGamesCommunication.clearMessageListeners()}catch(t){p(t)}try{e.disneyGames.removeGame()}catch(t){p(t)}i.BunView.prototype.remove.call(this),f=!1}})}(this),Whiskers("modules.rich_text",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound"> '),r.s(r.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),r.b(' <div class="rich_text_container"> '),r.s(r.f("image",e,t,1),e,t,0,115,190,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<div class="rich_text_image '),n.b(n.v(n.f("position",e,t,0))),n.b('_align"><img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('"></div>')}),e.pop()),r.b(" "),r.b(" "),r.s(r.f("image",e,t,1),e,t,1,0,0,"")||(r.b(" "),r.s(r.f("style",e,t,1),e,t,0,246,402,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.s(n.f("images",e,t,1),e,t,0,257,391,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("foreground_image",e,t,1),e,t,0,278,370,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("url",e,t,1),e,t,0,286,362,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="rich_text_image '),n.b(n.v(n.f("alignment",e,t,0))),n.b('_align"><img src="'),n.b(n.v(n.f("url",e,t,0))),n.b('"></div> ')}),e.pop())}),e.pop())}),e.pop())}),e.pop()),r.b(" ")),r.b(" "),r.s(r.f("rich_text",e,t,1),e,t,0,438,556,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="rich_text_body rich-text-enabled'),n.s(n.f("image",e,t,1),e,t,0,493,522,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" has-image "),n.b(n.v(n.f("position",e,t,0))),n.b("_align")}),e.pop()),n.b('">'),n.b(n.t(n.f("rich_text",e,t,0))),n.b("</div> ")}),e.pop()),r.b(" </div> </div>"),r.fl()}),function(e){"use strict";var t=e.Grill,n=e.Whiskers,r=e.Backbone,i=e.Disney,s=i.Style.breakpoints,o=s.midHigh.toString(),u=e.devicePixelRatio>1.5,a=e._;t.ModuleView.register("rich_text",{breakpoints:o,template:n.modules.rich_text,render:function(){var e=a.first(this.model.get("data")),t=this.model.get("style"),i=t&&t.images&&t.images.foreground_image,o=!(!i||!i.url&&!i.mobile_url),f=r.Resize.width()>=s.midHigh,l;if(o){var c=u&&i.retina_url?i.retina_url:i.url,h=u&&i.mobile_retina_url?i.mobile_retina_url:i.mobile_url;l=f?c:h}var p=a.extend({data:e,image:l,position:o&&i.alignment},this.model);this.$el.html(this.template.render(p,{module_header:n.modules.shared_components.module_header}))}})}(this),Whiskers("modules.search",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b(' <div class="bound"> <form class="search-form nav-search mod-search" action="/search" method="GET"> <div class="bedazzlement-container"> <span class="bedazzlement"></span> </div> <div class="query-field"> <input name="q" type="text" placeholder="'),r.b(r.v(r.f("placeholder",e,t,0))),r.b('" spellcheck="false" autocorrect="off" autocapitalize="off"> '),r.s(r.f("filter",e,t,1),e,t,0,353,420,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <input type="hidden" value="'),n.b(n.v(n.f("filter",e,t,0))),n.b('" name="f[search_section]"> ')}),e.pop()),r.b(' <span class="search-button"> <input class="large button" type="submit" value="'),r.b(r.v(r.d("translations.search",e,t,0))),r.b('"> </span> </div> </form> </div>'),r.fl()}),function(e){"use strict";function s(){return e.window.location.pathname.split("/")[1].toLowerCase()}function o(e){switch(e){case"games_apps":return"Games+Apps";case"tv_shows":return"TV Shows";default:return u(e)}}function u(e){return e=e.toLowerCase(),e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})}function a(e,t){t=i.isUndefined(t)?"":t,e.target.placeholder=t}var t=e.Grill,n=e.NAV,r=e.Tracker,i=e._;t.ModuleView.register("search",{template:e.Whiskers.modules.search,initialize:function(){var e=this.model,t=e.get("title"),n=e.get("translations")||{},r="",u=s();this.placeholder_text=t?t:n.sw_placeholder,u&&u!=="search"&&!!u.indexOf("error")&&(r=i.invert(n)[u]||u,e.set("filter",o(r)))},ready:function(){n&&n.ac(this.el,"section/search_module",this.model.get("filter"))},render:function(){var e=this,t=i.extend({placeholder:e.placeholder_text},e.model);e.$el.html(e.template.render(t))},events:{"click input[name=q]":function(e){a(e)},"blur input[name=q]":function(e){a(e,this.placeholder_text),n.searchAttemptUsedPlacements={}},"onfocus input[name=q]":function(e){a(e)},"submit form.mod-search":function(){var e=s();r.link({linkName:e+"/searchbox/search_enter",linkPosition:e+"/searchbox"})}}})}(this),function(e){"use strict";var t=e.jQuery,n=e.document,r=e.Tracker;t(function(){t(n).on("click",".social-dropdown-btn .label",function(){var n=t(this).closest(".social-dropdown-btn"),i=function(e){t(e).removeClass("active"),t("body").off("click.watch"),t(e).hasClass("active")&&(t(e).removeClass("active"),s(e))},s=function(n){r&&r.event({eventCategory:"socialelement",action:"embed",label:e.location.href}),t(n).addClass("active"),t("body").on("click.watch",function(e){var r=t(e.target);r.closest(".dropdown-panel").length===0&&r.closest(".social-dropdown-btn").length===0&&i(n)})};n.hasClass("active")?i(n):(t.each(t(".social-dropdown-btn.active"),function(e,t){i(t)}),s(n))});var i=t(".dropdown-panel");t(n).on("click",i,function(){t(this).find(".text-output").select()})})}(this),Whiskers("modules.stats",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound"> '),r.s(r.f("data",e,t,1),e,t,0,29,420,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="stats-container cols-'),n.b(n.v(n.f("numCategories",e,t,0))),n.b('"> '),n.s(n.f("categories",e,t,1),e,t,0,98,397,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="category'),n.s(n.f("linebreaks",e,t,1),e,t,0,134,145,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" linebreaks")}),e.pop()),n.b('"> <div class="heading">'),n.b(n.v(n.f("name",e,t,0))),n.b("</div> <ul> "),n.s(n.f("properties",e,t,1),e,t,0,219,368,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <li class="data"> '),n.s(n.f("link",e,t,1),e,t,0,247,288,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<a class="section-color" href="'),n.b(n.v(n.f("link",e,t,0))),n.b('">')}),e.pop()),n.b(" "),n.b(n.v(n.f("name",e,t,0))),n.b('<span class="separator">,</span> '),n.s(n.f("link",e,t,1),e,t,0,348,352,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("</a>")}),e.pop()),n.b(" </li> ")}),e.pop()),n.b(" </ul> </div> ")}),e.pop()),n.b(" </div> ")}),e.pop()),r.b(" </div>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=t.Style.breakpoints,r=n.midHigh.toString(),i=e.Grill,s=e.Whiskers,o=e._;i.ModuleView.register("stats",{breakpoints:r,template:s.modules.stats,render:function(){var e=o.first(this.model.get("data")),t=e.categories||[],n=o.extend({numCategories:t.length},this.model);this.$el.html(this.template.render(n,{}))}})}(this),Whiskers("modules.this_is_madness",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b("<!--[if lte IE 9]><iframe class='unsupported' scrolling='"),r.b(r.v(r.f("scrolling",e,t,0))),r.b("' src='"),r.b(r.v(r.f("source",e,t,0))),r.b("'></iframe><![endif]--> <!--[if (gt IE 9)|(!IE)]><!--> <iframe scrolling='"),r.b(r.v(r.f("scrolling",e,t,0))),r.b("' src='"),r.b(r.v(r.f("source",e,t,0))),r.b("'></iframe> <!--<![endif]-->"),r.fl()}),function(e){"use strict";var t=e.Grill,n=e.Whiskers,r=e.$,i=e._;t.ModuleView.register("this_is_madness",{template:n.modules.this_is_madness,render:function(){var t=this,n=t.queryParams.stage,s=n?"/proxy/this-is-madness?stage="+n:"/proxy/this-is-madness",o=i.extend({scrolling:"no",source:s},this.model),u=this.template.render(o);this.$el.html(u),this.$el.children("iframe").hasClass("unsupported")&&r("#browser_warning").css({opacity:1,visibility:"visible"}),this.$el.children("iframe").load(function(){var n=t.$el.children("iframe"),s=n.get(0).contentWindow;r(s.document).ready(function(){var o=n.contents(),u=o.find("body");(function a(){if(s.GlobalsObj!==undefined){var t=e.location.protocol+"//"+e.location.host+e.location.pathname;t.substr(-1)!=="/"&&(t+="/"),s.GlobalsObj.ROOT_LOCATION=t}else e.setTimeout(a,100)})(),u.on("click","#bracket-nav > li > button",function(){t.resizeIframe.call(t)}),u.find("#bracket-nav > li:first > button").click(),u.on("click",".char",t.fixModalPosition(n,"#vote-confirm-content-box")),u.on("click",".recap",t.fixModalPosition(n,"#recap .matchup")),t.disableScrollingWithModal(o),r(e).on("orientationchange",function(){t.resizeIframe.call(t)}),r(e).on("resize",i.debounce(function(){t.resizeIframe.call(t)},100))})})},setIframeWidth:function(){var t=this.$el.children("iframe");r("#main").css("max-width","1201px");var n=i.min([r(e).width(),1201]);t.width(n)},setIframeHeight:function(){var e=10;this.$el.children("iframe").height(this.getInnerHeight()+e)},resizeIframe:function(){var t=this,n=t.getInnerHeight();n!==t.heightHistory.last()?(t.heightHistory.save(n),e.setTimeout(function(){t.resizeIframe.call(t)},100)):(t.setIframeWidth(),t.setIframeHeight(),t.heightHistory.reset())},heightHistory:function(){var e=[];return{save:function(t){e.push(t)},reset:function(){e=[]},last:function(){return e[e.length-1]}}}(),getInnerHeight:function(){return this.$el.children("iframe").contents().find("#container").height()},fixModalPosition:function(t,n){return function(){var i=t.contents(),s=i.find(n),o=s.height(),u=r("#nav-inner-container").height(),a=r(e).height(),f=a-u,l=r(e).scrollTop()+u,c=l+f/2,h=t.offset().top;s.offset({top:c-o/2-h})}},disableScrollingWithModal:function(t){var n=e.MutationObserver||e.WebKitMutationObserver;if(n){var s=new n(function(e){var t=i.any(e,function(e){return r(e.target).is(":visible")});t?r("body").addClass("no-scroll"):r("body").removeClass("no-scroll")}),o=t.find("#vote-confirm").get(0);s.observe(o,{attributes:!0}),o=t.find("#recap").get(0),s.observe(o,{attributes:!0})}},queryParams:function(){var t=e.location.search.substring(1);return t?i.chain(t.split("&")).map(function(e){var t=e.split("=");return[t[0],decodeURIComponent(t[1])]}).object().value():{}}()})}(this),Whiskers("modals.timed_item_list",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b("<style type='text/css'> "),r.s(r.f("image",e,t,1),e,t,0,34,264,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("desktop",e,t,1),e,t,0,47,118,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .modal.timed-item-list .header{ background-image: url("),n.b(n.v(n.f("desktop",e,t,0))),n.b("); } ")}),e.pop()),n.b(" "),n.s(n.f("mobile",e,t,1),e,t,0,142,252,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" @media screen and (max-width: 768px){ .modal.timed-item-list .header{ background-image: url("),n.b(n.v(n.f("mobile",e,t,0))),n.b("); } } ")}),e.pop()),n.b(" ")}),e.pop()),r.b(" </style> <div class='modal-content'> <div class='header'></div> "),r.s(r.f("header_data",e,t,1),e,t,0,355,389,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<h1 class='title'>"),n.b(n.t(n.f("title",e,t,0))),n.b("</h1>")}),e.pop()),r.b(" "),r.s(r.f("items_by_group",e,t,1),e,t,0,425,655,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" <h2 class='date'>"),n.b(n.v(n.f("group_header",e,t,0))),n.b("</h1> <ul> "),n.s(n.f("items",e,t,1),e,t,0,480,638,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <li class='item'> <div class='headline'><p>"),n.b(n.v(n.f("headline",e,t,0))),n.b("</p></div> <div class='description'> <h1>"),n.b(n.v(n.f("display_title",e,t,0))),n.b("</h1> <p>"),n.b(n.t(n.f("description",e,t,0))),n.b("</p> </div> </li> ")}),e.pop()),n.b(" </ul> ")}),e.pop()),r.b(" </div> </div>"),r.fl()}),function(e){"use strict";function i(e,t){var n=[],i={},s;for(var o=0;o<e.length;o++){var u=e[o],a=u[t];a!==s&&(r.isEmpty(i)||n.push(i),s=a,i={},i[t]=s,i.items=[]),i.items.push(u)}return r.isEmpty(i)||n.push(i),n}var t=e.Grill,n=e.Whiskers,r=e._;t.TimedItemListModalView=t.ModalView.extend({options:{name:"timed-item-list",template:n.modals.timed_item_list},render:function(){var t=new Date,n=this.model.get("module_style_options"),s=n&&n.timed_item_list&&n.timed_item_list.modal_header_image||{},o=e.devicePixelRatio>1.5,u=r.select(this.model.get("data"),function(e){var n=new Date(e.expires_at);return n.getTime()>=t.getTime()}),a=r.extend({items_by_group:i(u,"group_header"),image:{desktop:o&&s.desktop_retina?s.desktop_retina:s.desktop,mobile:o&&s.mobile_retina?s.mobile_retina:s.mobile}},this.model);return this.options.template.render(a)}})}(this),Whiskers("modules.timed_item_list",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<style type="text/css">'),r.b(r.rp("module_styles",e,t,"")),r.b('</style> <div class="bound '),r.b(r.v(r.f("type",e,t,0))),r.b(" "),r.b(r.v(r.f("entity_type",e,t,0))),r.b('"> <div class="timed-item-list-container"> '),r.s(r.f("header_data",e,t,1),e,t,0,151,169,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),r.b(' <div class="category-container cols-5"> '),r.s(r.f("items",e,t,1),e,t,0,236,426,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="category"> <div class="content"> <div class="heading">'),n.b(n.v(n.f("headline",e,t,0))),n.b('</div> <h1 class="title">'),n.b(n.v(n.f("display_title",e,t,0))),n.b('</h1> <div class="description">'),n.b(n.t(n.f("description",e,t,0))),n.b("</div> </div> </div> ")}),e.pop()),r.b(" </div> </div> </div>"),r.fl()}),Whiskers("partials.style_overrides.modules.timed_item_list",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("module_style_options",e,t,1),e,t,0,25,1886,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("enabled",e,t,1),e,t,0,38,318,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("bg_color",e,t,1),e,t,0,52,151,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .timed-item-list-container{ background-color: "),n.b(n.v(n.f("bg_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("title_color",e,t,1),e,t,0,181,301,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .timed-item-list-container .module_header .module_title{ color: "),n.b(n.v(n.f("title_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" "),n.s(n.f("timed_item_list",e,t,1),e,t,0,351,1865,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("header_image",e,t,1),e,t,0,369,693,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("desktop",e,t,1),e,t,0,382,500,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .timed-item-list-container .module_header{ background-image: url("),n.b(n.v(n.f("desktop",e,t,0))),n.b("); } ")}),e.pop()),n.b(" "),n.s(n.f("mobile",e,t,1),e,t,0,524,681,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" @media screen and (max-width: 768px){ #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .timed-item-list-container .module_header{ background-image: url("),n.b(n.v(n.f("mobile",e,t,0))),n.b("); } } ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" "),n.s(n.f("enable_color_options",e,t,1),e,t,0,736,1839,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("module_link_color",e,t,1),e,t,0,759,991,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .timed-item-list-container .module_header .see-all{ color: "),n.b(n.v(n.f("module_link_color",e,t,0))),n.b("; } #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .cols-5 .category .content .description a{ color: "),n.b(n.v(n.f("module_link_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("module_link_hover_color",e,t,1),e,t,0,1042,1298,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .timed-item-list-container .module_header .see-all:hover{ color: "),n.b(n.v(n.f("module_link_hover_color",e,t,0))),n.b("; } #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .cols-5 .category .content .description a:hover{ color: "),n.b(n.v(n.f("module_link_hover_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("item_headline_color",e,t,1),e,t,0,1351,1459,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .cols-5 .category .content .heading{ color: "),n.b(n.v(n.f("item_headline_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("item_title_color",e,t,1),e,t,0,1505,1647,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .timed-item-list-container .category-container .category .content .title{ color: "),n.b(n.v(n.f("item_title_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("item_description_color",e,t,1),e,t,0,1696,1811,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(".module.timed-item-list .cols-5 .category .content .description{ color: "),n.b(n.v(n.f("item_description_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.fl()}),function(e){"use strict";function o(t){var s=new Date,o=e.devicePixelRatio>1.5,u=t.model.get("module_style_options"),a=u&&u.timed_item_list&&u.timed_item_list.module_header_image||{},f=t.model.get("translations")||{},l=r.extend({header_image:{desktop:o&&a.desktop_retina?a.desktop_retina:a.desktop,mobile:o&&a.mobile_retina?a.mobile_retina:a.mobile},seeAll:f.see_all},t.model);l.items=r.select(l.get("data"),function(e){var t=new Date(e.expires_at);return t.getTime()>=s.getTime()}),l.items=l.items.slice(0,i),t.$el.html(t.template.render(l,{module_header:n.modules.shared_components.module_header,module_styles:n.partials.style_overrides.modules.timed_item_list}))}var t=e.Grill,n=e.Whiskers,r=e._,i=5,s=15e3;t.ModuleView.register("timed-item-list",{template:n.modules.timed_item_list,events:{"click .see-all":function(e){this.modal.show({event:e,render:!0})}},initialize:function(){var e=this.model.get("cto");this.modal=new t.TimedItemListModalView({model:this.model,tracking:{engagementMeta:e&&e.slug,eventCategory:"SWTimedItemListModal"}})},render:function(){var t=this;o(t),e.setInterval(function(){o(t)},s)}})}(this),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e
)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}),function(e){"use strict";function o(e,t){var n=new i.Deferred,r=new u(t.options&&t.options.Cookie),s;this.get=function(r){return n.state()!=="resolved"&&(r?e.then(function(e){e.campaigns.get({id:r}).then(function(e){n.resolve(e)},function(e){t.reportError(e),n.reject(l(t.options,e))})},function(e){t.reportError(e),n.reject(l(t.options,e))}):(t.reportError({message:"Campaign ID not set."}),n.reject(l(t.options,{response:{status:404,statusText:"Not Found"}})))),n},this.prepare=function(e,n){return s=new i.Deferred,this.get().then(function(i){var o=i&&i.constraints||{},u=parseInt(o.uploadSize,10)||Infinity,a=u*1048576;if(a>e.size){var f={filename:e.name,mediaType:e.type,metadata:n};i.submissions.prepare(f,t.configuration).then(function(e){t.track("SWFFA_UploadBegin"),s.resolve(e)},function(e){(e.statusCode===429||e.response.status===429)&&r.set(t.getGuest().current,i),t.reportError(e),s.reject(l(t.options,e))})}else{var c=l(t.options,{response:{status:413}})+" (< "+o.uploadSize+")";s.reject(c)}}),s},this.upload=function(e,n){var o=new i.Deferred;return s.then(function(s){s._upload(e,i.extend({},t.configuration,n||{})).then(function(e){t.track("SWFFA_UploadComplete"),r.set(t.getGuest().current,e),o.resolve(e)},function(e){t.track("SWFFA_UploadFail"),t.reportError(e),o.reject(l(t.options,e))})}),o},this.submissionAllowed=function(e,t){if(e&&t){var n=r.get(e,t);return n?!Boolean(n):!0}}}function u(e){function n(e){if(t){var n=e.constraints||{},r=n.intervalLimit||n.calendarLimit,i=n.submissionLimit;if(r){var s=r.period,o=r.value;return o?t().add(o,s).toDate():t().endOf(s).toDate()}if(i)return t().add(1,"year").toDate();return}}this.get=function(t,n){if(e&&typeof e=="object"&&t&&n)return e.get(this._cookieKey(t,n))},this.set=function(t,r){var i=r&&r.campaignID||r.id;if(e&&typeof e=="object"&&t&&i){var s=typeof e.domain=="function"&&e.domain(),o=n(r);if(o){var u=this._cookieKey(t,i),a=this._cookieValue(r);e.set(u,a,{domain:s,expires:o})}}},this._cookieKey=function(e,t){var n=e&&e.profile&&e.profile.swid;if(t&&n)return"ugcCampaign<"+t+">:"+n},this._cookieValue=function(e){var t=parseInt(this.get(e.campaignID),10);if(t){var n=e.constraints||{},r=n.submissionLimit;return r&&r<t?t+=1:!0}return!0}}function a(e,t){i.getScript(f()).done(e).fail(function(){i.getScript(f(!0)).done(e).fail(t)})}function f(e){var t="https",n="//a.dilcdn.com/",r="//a.dilcdn.com/",i="sa/ugc/wisp-client/ugcAPI-browser.js";return e?t+":"+r+i:t+":"+n+i}function l(e,t){var n=t.response.status||t.statusCode||0,r=e&&e.translations||{},i=r["error_"+n]||t.response.statusText||t.message;return i}var t=e.moment,n=e.cto,r=e.NREUM,i=e.$,s=i.Deferred();e.UGC=function(t,i){this.configuration={headers:{}},this.options=i||{},this.campaign=new o(s,this),this.initialize=function(){var e=this.getGuest().retain();e&&(e.on("refresh",this._refreshAuth,this),e.on("login",this._refreshAuth,this)),s.state()!=="resolved"&&a(this._setupClient.bind(this),this._rejectClient.bind(this))},this.destroy=function(){this.getGuest()&&this.getGuest().release()},this.getGuest=function(){return this.options&&this.options.guest},this.reportError=function(e){if(r){var t=this.getGuest().current;if(t&&typeof t=="object"){var n="",i=t.profile||{};n+="ageBand: <"+i.ageBand+">, ",n+="legalCountry: <"+(i.region||i.countryCodeDetected)+">, ",n+="referenceId: <"+i.referenceId+">",e.message+=" Guest Info ("+n+")"}r.noticeError(e)}},this.track=function(t,r){if(n){var i={engagementType:t,label:e.location.href};r&&(i.engagementMeta=r),n.trackEvent(i)}},this._refreshAuth=function(e){var t=this.options.cellophane_auth_key;if(t){var n=e&&e.tokens&&e.tokens.access;return n&&(t+=", DisneyID token="+n),this.configuration.headers.Authorization=t,this.configuration}},this._rejectClient=function(e){s.reject({response:e})},this._setupClient=function(){var n=this,r=n.options.cellophane_base_uri+t,o=n._refreshAuth(n.getGuest()&&n.getGuest().current);e.ugcAPI.discover(r,o).then(function(e){s.resolve(e)},function(e){n.reportError(e),s.reject(l(i,e))})},this.initialize(t,i)}}(this),Whiskers("modules.user_upload",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b(" "),r.s(r.f("schema_json",e,t,1),e,t,0,74,1061,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <style type="text/css"> '),n.s(n.f("header_color",e,t,1),e,t,0,116,180,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .module.user_upload .stunt-info h1{ color: "),n.b(n.v(n.f("header_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("button_color",e,t,1),e,t,0,215,533,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .module.user_upload .button{ background-color: "),n.b(n.v(n.f("button_color",e,t,0))),n.b('; position: relative; overflow: hidden; } .module.user_upload .button:hover{ opacity: 0.9; } .module.user_upload .button:before{ content: ""; background-color: rgba(0, 0, 0, 0.08); z-index: -1; position: absolute; top: 0; left: 0; right: 0; bottom: 0; } ')}),e.pop()),n.b(" "),n.s(n.f("button_text_color",e,t,1),e,t,0,573,635,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .module.user_upload .button{ color: "),n.b(n.v(n.f("button_text_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("tips_link_color",e,t,1),e,t,0,678,755,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .module.user_upload .stunt-info .tips-button{ color: "),n.b(n.v(n.f("tips_link_color",e,t,0))),n.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("progress_color",e,t,1),e,t,0,795,881,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .progress-slices .slice, .progress-slices:before{ border-color: "),n.b(n.v(n.f("progress_color",e,t,0))),n.b(";} ")}),e.pop()),n.b(" "),n.s(n.f("progress_wheel_bg_color",e,t,1),e,t,0,929,1023,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" .progress-slices, .progress-slices .slice.cover{ border-color: "),n.b(n.v(n.f("progress_wheel_bg_color",e,t,0))),n.b(";} ")}),e.pop()),n.b(" </style> ")}),e.pop()),r.b(" "),r.b(" "),r.s(r.d("style.images.background_image",e,t,1),e,t,0,1179,1278,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <style type="text/css"> .module.user_upload .bg-image{ background-image: url('),n.b(n.v(n.f("url",e,t,0))),n.b("); } </style> ")}),e.pop()),r.b(' <div class="'),r.b(r.v(r.f("type",e,t,0))),r.b(" "),r.b(r.v(r.f("entityType",e,t,0))),r.b(' bound"> <div class="content-container inner-container"> <div class="bedazzlement bg-image"></div> <div class="stunt-info rich-text-enabled'),r.s(r.d("style.images.foreground_image.url",e,t,1),e,t,1,0,0,"")||r.b(" no-logo"),r.b('"> <div class="details-container"> '),r.s(r.d("style.images.foreground_image.url",e,t,1),e,t,0,1644,1716,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <img class="contest-logo" src="'),n.b(n.v(n.d("style.images.foreground_image.url",e,t,0))),n.b('"> ')}),e.pop()),r.b(" <h1>"),r.b(r.t(r.d("schema_json.start_header",e,t,0))),r.b('</h1> <div class="description">'),r.b(r.t(r.d("schema_json.start_description",e,t,0))),r.b("</div> "),r.s(r.f("has_tips",e,t,1),e,t,0,1875,1924,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <a class="tips-button">'),n.b(n.v(n.d("schema_json.tips",e,t,0))),n.b("</a> ")}),e.pop()),r.b(' </div> </div> <div class="form-container rich-text-enabled"> <div class="login form-mask"> '),r.b(r.t(r.d("schema_json.login",e,t,0))),r.b(' <div class="button large disid-button"> '),r.s(r.d("schema_json.start_button_text",e,t,1),e,t,0,2127,2162,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("schema_json.start_button_text",e,t,0)))}),e.pop()),r.b(" "),r.s(r.d("schema_json.start_button_text",e,t,1),e,t,1,0,0,"")||r.b(r.v(r.d("translations.start",e,t,0))),r.b(" </div> "),r.s(r.d("schema_json.ie9_text",e,t,1),e,t,0,2320,2370,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<p class="no-fileapi">'),n.b(n.v(n.d("schema_json.ie9_text",e,t,0))),n.b("</p>")}),e.pop()),r.b(' </div> <div class="asset-pack form-mask disabled"> '),r.s(r.d("schema_json.asset_pack_info",e,t,1),e,t,0,2479,2512,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("schema_json.asset_pack_info",e,t,0)))}),e.pop()),r.b(' <div class="button large"> '),r.s(r.d("schema_json.go_to_upload_file_button_text",e,t,1),e,t,0,2618,2665,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("schema_json.go_to_upload_file_button_text",e,t,0)))}),e.pop()),r.b(' </div> </div> <div class="ineligible form-mask hidden"></div> <div class="progress"> <div class="progress-indicator"> <div class="progress-slices"> <div class="slice slice-1"></div> <div class="slice cover"></div> <div class="slice slice-2"></div> </div> </div> <div class="uploading"> <h3>'),r.b(r.v(r.d("schema_json.uploading",e,t,0))),r.b('</h3> </div> <div class="thank-you rich-text-enabled"> '),r.s(r.d("schema_json.thank_you_header",e,t,1),e,t,0,3115,3158,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<h3>"),n.b(n.t(n.d("schema_json.thank_you_header",e,t,0))),n.b("</h3>")}),e.pop()),r.b(" "),r.s(r.d("schema_json.thank_you_text",e,t,1),e,t,0,3223,3286,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<div class="description">'),n.b(n.t(n.d("schema_json.thank_you_text",e,t,0))),n.b("</div>")}),e.pop()),r.b(' </div> </div> </div> </div> <div class="tips-bound"> <div class="close-icon close-tips"></div> <div class="bound"> '),r.s(r.d("schema_json.helpful_tip_header",e,t,1),e,t,0,3468,3545,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<span class="tip-header"><h2>'),n.b(n.t(n.d("schema_json.helpful_tip_header",e,t,0))),n.b("</h2></span>")}),e.pop()),r.b(' <div class="tips"> <div class="tips-container left"> <h3 class="tips-header"> '),r.s(r.d("schema_json.dos_header",e,t,1),e,t,0,3686,3714,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("schema_json.dos_header",e,t,0)))}),e.pop()),r.b(" "),r.s(r.d("schema_json.dos_header",e,t,1),e,t,1,0,0,"")||r.b(r.v(r.d("translations.do",e,t,0))),r.b(" </h3> "),r.s(r.d("schema_json.dos",e,t,1),e,t,0,3842,3900,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<div class="rich-text-enabled">'),n.b(n.t(n.d("schema_json.dos",e,t,0))),n.b("</div>")}),e.pop()),r.b(' </div> <div class="tips-container right"> <h3 class="tips-header"> '),r.s(r.d("schema_json.donts_header",e,t,1),e,t,0,4017,4047,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("schema_json.donts_header",e,t,0)))}),e.pop()),r.b(" "),r.s(r.d("schema_json.donts_header",e,t,1),e,t,1,0,0,"")||r.b(r.v(r.d("translations.dont",e,t,0))),r.b(" </h3> "),r.s(r.d("schema_json.donts",e,t,1),e,t,0,4185,4245,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<div class="rich-text-enabled">'),n.b(n.t(n.d("schema_json.donts",e,t,0))),n.b("</div>")}),e.pop()),r.b(' </div> <div class="button small close-button close-tips">'),r.b(r.v(r.d("translations.close_button",e,t,0))),r.b("</div> </div> "),r.s(r.d("schema_json.helpful_tip_footnote",e,t,1),e,t,0,4405,4472,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<p class="tips-footnote">'),n.b(n.t(n.d("schema_json.helpful_tip_footnote",e,t,0))),n.b("</p>")}),e.pop()),r.b(' </div> </div> <div class="container-mask"></div> </div>'),r.fl()}),Whiskers("modules.shared_components.character_countdown",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b("<input type='text' class='char-counter has-count' name='"),r.b(r.v(r.f("key",e,t,0))),r.b("' placeholder='"),r.b(r.v(r.f("title",e,t,0))),r.b("' maxlength='"),r.s(r.f("maxLength",e,t,1),e,t,0,114,127,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("maxLength",e,t,0)))}),e.pop()),r.b("' "),r.s(r.f("required",e,t,1),e,t,0,156,164,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("required")}),e.pop()),r.b(" /> <span class='char-counter count-remaining'></span>"),r.fl()}),Whiskers("partials.forms.user_upload_form",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<form action="'),r.b(r.v(r.f("form_action",e,t,0))),r.b('"> <fieldset class="info-fs"> <legend>'),r.b(r.t(r.d("schema_json.submission_info",e,t,0))),r.b("</legend> "),r.s(r.f("fields",e,t,1),e,t,0,121,224,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("string",e,t,1),e,t,0,133,212,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("enum",e,t,1),e,t,1,0,0,"")||(n.b(" <div class='input-group'> "),n.b(n.rp("character_countdown",e,t,"")),n.b(" </div> ")),n.b(" ")}),e.pop()),n.b(" ")}),e.pop()),r.b(' </fieldset> <div class="file-name-container"> <div class="file-name"></div> <span class="delete-file"></span> </div> <div class="button small select-file visible"> '),r.b(r.v(r.d("schema_json.select_file_button_text",e,t,0))),r.b(' <input type="file" name="file" required /> </div> <div class="button small begin-upload"> '),r.b(r.v(r.d("schema_json.upload_file_button_text",e,t,0))),r.b(' </div> <div class="notification"></div> '),r.s(r.d("schema_json.footnotes",e,t,1),e,t,0,636,710,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<div class="footnotes rich-text-enabled">'),n.b(n.t(n.d("schema_json.footnotes",e,t,0))),n.b("</div>")}),e.pop()),r.b(" </form>"),r.fl()}),function(e){"use strict";var t=e.Backbone,n=e.Disney,r=e.Grill,i=e.UGC,s=e.Whiskers,o=e.jQuery,u=e._,a=new o.Deferred,f="/ugc/kidsascreators/v1",l;r.ModuleView.register("user_upload",{messaging:{age_band_violation:"Sorry, you are ineligible to participate.",country_violation:"Sorry, your country is ineligible to participate.",file_not_included_violation:"Sorry, please select a file.",file_type_violation:"Sorry, this file type is not allowed.",is_required_violation:"is required",login_violation:"Sorry, you must log in to participate.",unexpected_error:"Sorry, an unexpected error has occurred. Please try again later."},progressConfig:{stepPercent:1,minimumMilliseconds:800},template:s.modules.user_upload,events:{"click .disid-button":function(){this.handleGetStartedClick()},"click .asset-pack .button":function(){this.showForm()},"click .begin-upload":function(){this.beginUpload()},"click .cancel-upload":function(){this.handleCancelUploadClick()},"click .tips-button":function(){this.handleTipsClick()},"click .close-tips":function(){this.handleTipsClose()},"click .delete-file":function(){this.handleFileNameClick()},'change input[type="file"]':function(e){this.updateSelectedFile(e)},"change select":function(){this.updateSelect()},'keypress input[name="name"]':function(e){if(e.which!==0&&e.which!==8){var t=String.fromCharCode(e.which);/[a-z0-9]/i.test(t)||e.preventDefault()}},'change input[name="name"]':function(e){var t=o(e.currentTarget),n=t.val()||"";t.val(n.replace(/[^a-z0-9]/gi,""))}},initialize:function(){var e=100/this.progressConfig.stepPercent;u.extend(this,{messaging:u.extend(this.messaging,this.model.get("schema_json")),progressConfig:u.extend(this.progressConfig,{minimumInterval:this.progressConfig.minimumMilliseconds/e})}),u.bindAll.apply(u,[this].concat(u.functions(this))),l=new i(f,{cellophane_auth_key:this.model.get("cellophane_auth_key"),cellophane_base_uri:this.model.get("cellophane_base_uri"),Cookie:n.Cookie,guest:this._getGuest(),translations:this.model.get("translations")})},render:function(){var e=this.template||{};if(e&&typeof e.render=="function"){var t=this.model.toJSON(),n=t.schema_json||{};u.extend(t,{has_tips:!u.isEmpty(n.dos)||!u.isEmpty(n.donts)}),this.$el.html(e.render(t)),this.setupGuest()}},renderCampaign:function(e,t){var n=s.partials.forms.user_upload_form||{};if(n&&typeof n.render=="function"){var r=this.$el.find(".form-container");if(!r.find("form").length){var i=this.model.toJSON();u.extend(i,t,{fields:this.generateFields(e),form_action:this.model.get("cellophane_base_uri")+f}),r.append(n.render(i,{character_countdown:s.modules.shared_components.character_countdown})),this.countdown()}this.showAssetPack()}},setupCampaign:function(e){if(a.state()!=="resolved")if(e){var t=this._getCampaignContent(e);t?this._isAllowedAgeBand(e,t)?l.campaign.submissionAllowed(e,t.id)?l.campaign.get(t.id).then(function(e){a.resolve(e)}).fail(function(e){a.reject(e)}):a.reject("submission_limit_reached"):(a.reject("age_band_violation"),l.track("SWFFA_Ineligible_UnderAge",this._getGuestAgeBand(e))):(a.reject("country_violation"),l.track("SWFFA_Ineligible_WrongCountry",this._getGuestLegalCountry(e)))}else a.reject("login_violation");return a},setupGuest:function(){var t=this,n=t._getGuest();n.on("login",function(e){t.setupCampaign(e).then(t.renderCampaign,t.toggleIneligible)}),n.on("logout",function(){t.hideForm(),t.showLogin(),t.$(".asset-pack.form-mask").removeClass("hidden").addClass("disabled"),e.location.reload()})},updateSelect:function(){this.$("select").each(function(){var e=o(this),t=e.find("option:selected"),n=t.index()===0;e.toggleClass("empty",n&&e.val()==="")})},updateSelectedFile:function(e){this.activeFile=e&&e.currentTarget,this.resetAlert();if(this.activeFile){var t=this.activeFile.files[0],n=t.name;this.$(".file-name-container").addClass("visible"),this.$(".file-name").text(n),this.$(".select-file").removeClass("visible"),this.$(".begin-upload").addClass("visible"),this.$(".extra-fs").addClass("file-show"),this.$(".footnotes").addClass("visible")}else this.$('form input[type="file"]')[0].value=null,this.$(".file-name-container").removeClass("visible"),this.$(".file-name").text(""),this.$(".select-file").addClass("visible"),this.$(".begin-upload").removeClass("visible"),this.$(".extra-fs").removeClass("file-show"),this.$(".footnotes").removeClass("visible")},showAssetPack:function(){this.$(".login.form-mask").fadeOut(150),this.$(".container-mask").fadeOut(150),this.$(".asset-pack.form-mask").removeClass("disabled")},hideForm:function(){this.$(".container-mask, .form-mask").addClass("hidden"),this.$(".form-container form").removeClass("visible")},showForm:function(){this.$(".asset-pack.form-mask").addClass("hidden"),this.$(".form-container form").addClass("visible"),this.$(":input:visible:first").focus(),l.track("SWFFA_Eligible")},showLogin:function(){this.hideForm(),this.$(".container-mask, .login.form-mask").fadeIn(150)},toggleIneligible:function(e,t){this.hideForm();switch(e){case"submission_limit_reached":this.showProgress(),this.updateProgressIndicator(100),this.revealSuccess(),this.$(".container-mask").fadeOut(150);break;default:var n=this.$(".ineligible.form-mask");n.toggleClass(e).toggleClass("hidden",!!t),n.html(this.messaging[e]||e||this.messaging.unexpected_error)}},beginUpload:function(){this.$(".uploading").addClass("visible"),this.resetAlert(),this.setupCampaign().then(this.validateForm,this.showAlert).then(this.prepareUpload,this.showAlert).then(this.showProgress,this.showAlert).then(this.upload,this.showAlert).then(this.handleUploadSuccess,this.handleUploadFailure)},prepareUpload:function(e,t){var n=u.first(this.activeFile.files),r=u.inject(t,function(e,t){return e[t.key]=t.value,e},{});return l.campaign.prepare(n,r)},upload:function(){var e=u.first(this.activeFile.files);return l.campaign.upload(e,{progressCallback:this.updateProgressIndicator})},validateForm:function(e){var t=new o.Deferred,n=this.generateFields(e),r=this.activeFile&&u.first(this.activeFile.files);for(var i=0;i<n.length;i++){var s=this.$("form").find('[name="'+n[i].key+'"]').val();if(s)n[i].value=s;else if(n[i].required)return t.reject(n[i].title+" "+this.messaging.is_required_violation)}return r?u.contains(e.allowedTypes,r.type)?t.resolve(e,n):t.reject(this.messaging.file_type_violation):t.reject(this.messaging.file_not_included_violation)},showProgress:function(){this.resetProgressIndicator(),this.$("form").addClass("hide"),this.$(".progress").addClass("visible")},hideProgress:function(){this.$(".progress").removeClass("visible"),this.$("form").delay(1e3).removeClass("hide"),this.resetProgressIndicator()},updateProgressIndicator:function(e){var t=e>1?e:100*e,n=this.progressConfig&&this.progressConfig.stepPercent,r=n*Math.round(t/n),i=this.$(".progress-indicator");i.attr("data-loading",r<100),i.attr("data-progress",r)},resetProgressIndicator:function(){var e=this.$(".progress-indicator");e.attr("data-loading","false"),e.attr("data-progress","0"),e.removeClass("upload-success")},handleUploadSuccess:function(){var t=this,n=parseInt(this.$(".progress-indicator").attr("data-progress"),10),r=this.progressConfig,i;n===100?t.revealSuccess():i=e.setInterval(function(){n+=r.stepPercent,t.updateProgressIndicator(n),n===100&&(t.revealSuccess(),e.clearInterval(i),t.$(".progress-indicator").attr("data-loading","false"))},r.minimumInterval)},revealSuccess:function(){this.$(".progress-indicator").addClass("upload-success"),this.$(".thank-you").addClass("visible"),this.$(".uploading").removeClass("visible")},handleUploadFailure:function(e){this.$(".uploading").removeClass("visible"),this.revealError(e)},revealError:function(e){this.hideProgress(),this.showAlert(e),this.resetProgressIndicator()},showAlert:function(e){this.$(".notification").removeClass("notice").addClass("alert").stop(!0).hide().text(e).slideDown(500)},resetAlert:function(){this.$(".notification").addClass("notice").removeClass("alert").hide()},handleFileNameClick:function(){this.updateSelectedFile(null)},handleTipsClick:function(){o(".tips-bound").addClass("visible"),o(".modal-overlay").addClass("ugc-show")},handleTipsClose:function(){o(".tips-bound").removeClass("visible"),o(".modal-overlay").removeClass("ugc-show")},handleGetStartedClick:function(){this._getGuest().login()},countdown:function(){var e=this.$(".has-count");n.FormElements.characterCountdown.onReady(e)},generateFields:function(e){var t=e.submissionMetadata;return u.inject(t.properties,function(e,n,r){var i=u.extend(n,{key:r,required:u.contains(t.required,r),maxLength:n.maxLength||300});return i[n.type]=!0,e.push(i),e},[])},destroy:function(){l&&l.destroy()},_getCampaignContent:function(e){var r=this._getGuestLegalCountry(e);return u.find(this.model.get("data")||[],function(e){return!n.vis.geoExcluded(new t.Model(e),r)})},_getGuest:function(){return this.options&&this.options.guest},_getGuestAgeBand:function(e){return e&&e.profile&&e.profile.ageBand},_getGuestLegalCountry:function(e){var t=e&&e.profile||{};return t.region||t.countryCodeDetected||"unknown"},_isAllowedAgeBand:function(e,t){var n=this._getGuestAgeBand(e),r=(t&&t.age_bands||{}).allowed;return u.contains(r,n)}})}(this),Whiskers("modules.voting",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound"> '),r.s(r.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("module_header",e,t,""))}),e.pop()),r.b(' <div class="voting-info-wrap"> <button type="button" class="voting-login"> '),r.b(r.v(r.d("translations.voting_pre_login_text",e,t,0))),r.b(' </button> <div class="voting-rules"> <p>'),r.b(r.v(r.d("header_data.desc",e,t,0))),r.b('</p> </div> </div> <ul class="voting-items"> '),r.s(r.f("randData",e,t,1),e,t,0,303,1122,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <li data-id="'),n.b(n.v(n.f("id",e,t,0))),n.b('" data-slug="'),n.b(n.v(n.f("slug",e,t,0))),n.b('"> <div class="bedazzlement"></div> <div class="item-container"> <div class="item-head"> <div class="thumb" style="background-image: url('),n.b(n.v(n.f("default_thumb",e,t,0))),n.b(');"> <span class="thumb-sizer"></span> </div> <button type="button" class="voting-btn"> <span class="vote-text">'),n.b(n.v(n.d("translations.voting_btn_text",e,t,0))),n.b('</span> <span class="voted-icon"></span> </button> </div> <div class="item-body"> <div class="details"> <h3 class="title">'),n.b(n.v(n.f("title",e,t,0))),n.b('</h3> <div class="author">'),n.b(n.v(n.f("short_desc",e,t,0))),n.b('</div> <div class="description">'),n.b(n.t(n.f("description",e,t,0))),n.b('</div> </div> </div> </div> <div class="notifications"> <div class="bedazzlement"></div> <span class="close-icon"></span> <div class="content"> <h3>'),n.b(n.v(n.d("translations.voting_success_default",e,t,0))),n.b("</h3> "),n.b(n.rp("socialShare",e,t,"")),n.b(' </div> </div> <span class="bg-fill"></span> </li> ')}),e.pop()),r.b(" </ul> </div>"),r.fl()}),Whiskers("modules.voting_player",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div id="voting-video"> <div class="aspect"> <!-- Orphan video markup --> '),r.s(r.f("expired",e,t,1),e,t,1,0,0,"")||r.b(' <div id="voting_video_player" class="voting-video-player"></div> '),r.b(" "),r.s(r.f("expired",e,t,1),e,t,0,177,242,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="orphan"><p>'),n.b(n.v(n.d("translations.video_expired",e,t,0))),n.b("</p></div> ")}),e.pop()),r.b(" <!-- /Orphan video markup --> </div> </div>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.Grill,r=e.Backbone,i=t.Utilities,s=e.Modernizr,o=t.Style.breakpoints,u=e.jQuery,a=e._,f=e.Whiskers;n.ModuleView.register("voting-sw",{template:f.modules.voting,assets:{scripts:["//a.dilcdn.com/sw/videoplayer-a27b250b5c23.js"]},events:{"click .voting-login":function(){this.options.guest.login()},"click .voting-btn":function(e){this.$voteItem=u(e.currentTarget).closest("li"),this.handleVoteClick()},"click .thumb":function(e){var t=u(e.currentTarget),n=t.closest("li");if(t.hasClass("active"))return;u(".thumb.active").removeClass("active"),t.addClass("active"),this.initVideoPlayer(n)},"click .close-icon":function(e){this.closeModal(u(e.currentTarget).closest("div"))}},initialize:function(){this.options.guest.retain(),this.options.guest.on("login",this.login,this),this.options.guest.on("logout",this.logout,this)},render:function(){var e=this.model.get("data"),n=this.model.get("translations"),r=a.shuffle(e);this.model.set("randData",r);var i={voting_btn_text:"vote",voting_pre_login_text:"Login to vote for all your favorite videos.",voting_success_default:"Let your friends know you voted!",voting_error_maxnum:"You've already voted today.",voting_error_default:"Oops! Something went wrong. Try again later."};a.defaults(n,i);var s=a.extend({translations:n,socialShare:this.model.collection&&this.model.collection.social_share_networks,titleEncoded:encodeURIComponent("I voted in the official #StarWarsFanFilmAwards! Watch and vote now at:"),sourceEncoded:encodeURIComponent(this.model.collection.href),source:this.model.collection.href},this.model);t.Social.init("facebook"),this.$el.html(this.template.render(s,{module_header:f.modules.shared_components.module_header,socialShare:f.modules.shared_components.social_share}))},handleVoteClick:function(){var e=this;u.when(this.options.guest.login()).then(function(t){e.makeVoteRequest(t)})},makeVoteRequest:function(e){var t=this,n=t.model.get("translations"),r=t.model.collection&&t.model.collection.config_translations;a.defaults(n,r);var i=n.voting_success_default,s=n.voting_error_default,o=n.voting_error_maxnum,f=t.model.get("campaign_id"),l={_swid:e.profile.swid,_accessToken:e.tokens.access};l[t.$voteItem.data("slug")]="",u.ajax({url:t.model.get("cellophane_base_uri")+"/ugc/content/v1/campaigns/"+f+"/submit",headers:{Authorization:t.model.get("cellophane_auth_key")},type:"POST",data:l,dataType:"json"}).done(function(e,n,r){r.status===201?t.animateVoteSuccess(i):t.animateVoteFail(s)}).fail(function(e){var n;if(e.status===400||e.status===500)n=s,t.animateVoteFail(n);e.status===403&&(n=o,t.animateVoteSuccess(n))})},animateVoteSuccess:function(t){var n=this;n.$voteItem.addClass("selected"),n.$voteItem.find(".social-share-links").show(),e.setTimeout(function(){n.initModal(t)},500)},animateVoteFail:function(e){this.initModal(e),this.$voteItem.find(".social-share-links").hide()},destroy:function(){this.options.guest&&this.options.guest.release()},initModal:function(e){this.$voteItem.find(".notifications").addClass("active").find("h3").text(e)},closeModal:function(e){e.removeClass("active")},login:function(){this.$el.addClass("loggedin")},logout:function(){this.$el.removeClass("loggedin")},initVideoPlayer:function(e){var t=e.data("id"),n=a.findWhere(this.model.data.models,{id:t});this.player&&this.player.remove(),this.player=new l({model:n}),e.find(".thumb-sizer").html(this.player.render()),this.player.init(n);if(s.mobile){var u=this,f=this.player.$el.find("video")[0];f.play(),r.Resize.width()<o.midHigh&&(i.toggleFullScreen(f,!0),i.onFullScreenChange(function(){i.isFullScreen()||(f.pause(),u.playerView&&(u.playerView.remove(),u.playerView=null,u.$voteItem=null),i.offFullScreenChange())}))}}});var l=n.ModuleView.register("video-player",{className:"voting-video-container",template:f.modules.voting_player,render:function(){return this.$el.html(this.template.render()),this.el},init:function(e){this.player=new t.StarWarsVideoPlayer("voting_video_player",{video:e.attributes,autoPlay:!0,clickToPlay:!0,showTitle:!0,ads:{enabled:!1,context:!1}})},remove:function(){this.$(".voting-video-container").remove(),this.player.destroy(),this.player=null,n.BunView.prototype.remove.call(this)}})}(this),Whiskers("modals.social_share",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b("<div class='modal-content'> <div class='modal-close top-right'></div> <p class='modal-header top-left'>"),r.b(r.v(r.d("config_translations.share_modal_header",e,t,0))),r.b("</p> <div id='social-buttons' class='large-social'> "),r.b(r.rp("socialShare",e,t,"")),r.b(" </div> <div id='share-links'> <p class='link-text'>"),r.b(r.v(r.d("config_translations.share_modal_link",e,t,0))),r.b("</p> <input type='text' value='"),r.b(r.v(r.f("source",e,t,0))),r.b("'> </div> <div class='decal'></div> </div>"),r.fl()}),Whiskers("modules.watch",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.s(r.f("data",e,t,1),e,t,0,9,2789,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div itemprop="video" itemscope itemtype="http://schema.org/VideoObject" class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler ratio-'),n.b(n.v(n.f("aspect_ratio",e,t,0))),n.b('"></div> <div id="frame"> <!-- Orphan video markup --> <meta itemprop="duration" content="'),n.b(n.v(n.f("duration_iso",e,t,0))),n.b('"> <meta itemprop="thumbnail" content="'),n.b(n.v(n.f("thumb",e,t,0))),n.b('"> <meta itemprop="name" content="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <meta itemprop="embedId" content="'),n.b(n.v(n.f("id",e,t,0))),n.b('"> <meta itemprop="title" content="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <meta itemprop="description" content="'),n.b(n.v(n.f("description",e,t,0))),n.b('"> <meta itemprop="URL" content="'),n.b(n.v(n.f("href",e,t,0))),n.b('"> '),n.s(n.f("embedURL",e,t,1),e,t,0,691,742,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <meta itemprop="embedURL" content="'),n.b(n.v(n.f("embedURL",e,t,0))),n.b('"> ')}),e.pop()),n.b(" "),n.s(n.f("expired",e,t,1),e,t,1,0,0,"")||(n.b(' <div id="player" class="player"> <noscript> <div class="player_error">'),n.b(n.v(n.d("translations.no_javascript",e,t,0))),n.b("</div> </noscript> </div> ")),n.b(" "),n.s(n.f("expired",e,t,1),e,t,0,920,985
,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="orphan"><p>'),n.b(n.v(n.d("translations.video_expired",e,t,0))),n.b("</p></div> ")}),e.pop()),n.b(' <!-- /Orphan video markup --> <div id="card" class="card watch skip-styles"> '),n.s(n.f("standalonePlayer",e,t,1),e,t,1,0,0,"")||(n.b(' <div class="card_header"> <div class="btn_replay"> <span class="button"> '),n.b(n.v(n.d("translations.replay_video",e,t,0))),n.b(' <div class="bedazzlement"></div> </span> </div> <p class="countdown_intro">'),n.b(n.v(n.d("translations.next_video_start",e,t,0))),n.b(' <span class="countdown">10</span><span class="autoplay">'),n.b(n.v(n.d("translations.autoplay_off",e,t,0))),n.b("</span></p> "),n.s(n.f("upNext",e,t,1),e,t,0,1417,1554,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="btn_next"> <a class="button" href="'),n.b(n.v(n.f("href",e,t,0))),n.b('">'),n.b(n.v(n.d("translations.watch_next_video",e,t,0))),n.b(' <div class="bedazzlement"></div> </a> </div> ')}),e.pop()),n.b(' </div> <div class="suggested"> <ul> '),n.s(n.f("upNext",e,t,1),e,t,0,1613,1635,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<li> "),n.b(n.rp("entity",e,t,"")),n.b(" </li>")}),e.pop()),n.b(" "),n.s(n.f("suggested",e,t,1),e,t,0,1661,1683,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<li> "),n.b(n.rp("entity",e,t,"")),n.b(" </li>")}),e.pop()),n.b(" </ul> </div> ")),n.b(" "),n.s(n.f("standalonePlayer",e,t,1),e,t,0,1754,2257,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="card-content"> <div class="btn_replay replay_btn_teaser"> <span class="icon-replay"></span> <span>'),n.b(n.v(n.d("translations.replay_video",e,t,0))),n.b("</span> </div> "),n.s(n.f("hasSocial",e,t,1),e,t,0,1923,2235,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="spacer"></div> <div class="share-text">'),n.b(n.v(n.d("translations.share_this",e,t,0))),n.b('</div> <div class="large-social">'),n.b(n.rp("socialShare",e,t,"")),n.b('</div> <div class="share-links"> <p class="link-text">'),n.b(n.v(n.d("translations.quick_link",e,t,0))),n.b('</p> <input type="text" value="'),n.b(n.v(n.f("source",e,t,0))),n.b('"> </div> '),n.s(n.f("shareUtility",e,t,1),e,t,0,2200,2217,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.rp("shareUtility",e,t,""))}),e.pop()),n.b(" ")}),e.pop()),n.b(" </div> ")}),e.pop()),n.b(' </div> </div> </div> <!-- End of video_wrapper --> </div> <div class="content-metadata-container"> '),n.s(n.f("standalonePlayer",e,t,1),e,t,1,0,0,"")||(n.b(' <div class="bedazzlement"></div> '),n.b(' <div id="meta"></div> ')),n.b(" "),n.s(n.f("standalonePlayer",e,t,1),e,t,0,2521,2719,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("schema_json",e,t,1),e,t,0,2537,2703,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <div class="site-link-container"> <a class="underline" href="'),n.b(n.v(n.d("schema_json.visit_link",e,t,0))),n.b('">'),n.b(n.v(n.d("translations.visit_link",e,t,0))),n.b('</a> </div> <div id="share-btn-container"></div> ')}),e.pop())}),e.pop()),n.b(" </div> </div> </div> </div> </div> <!-- End --> ")}),e.pop()),r.fl()}),Whiskers("entities.video",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<!-- TODO This is pulled from matterhorn and needs to be set up for StarWars --> <a href="'),r.b(r.v(r.f("href",e,t,0))),r.b('"'),r.s(r.f("ping",e,t,1),e,t,0,108,129,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' data-ping="'),n.b(n.v(n.f("ping",e,t,0))),n.b('"')}),e.pop()),r.b(' class="skip-styles"> <div class="thumb-box"><div class="aspect"> <img src="'),r.b(r.v(r.f("default_thumb",e,t,0))),r.b('" class="thumb" alt="'),r.b(r.v(r.f("title",e,t,0))),r.b('"> '),r.s(r.f("badge",e,t,1),e,t,0,274,316,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.f("badge",e,t,0))),n.b('" class="badge" alt="">')}),e.pop()),r.b(" "),r.s(r.f("duration",e,t,1),e,t,0,340,389,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' <div class="duration"><p>'),n.b(n.v(n.f("duration",e,t,0))),n.b("</p></div> ")}),e.pop()),r.b(' </div></div> <div class="thumb-title"> <h3 class="overlay-title" aria-hidden="true">'),r.b(r.v(r.f("title",e,t,0))),r.b("</h3> </div> </a>"),r.fl()}),Whiskers("modules.shared_components.share_btn",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<button type="button" class="social-share-btn button" data-source="'),r.b(r.v(r.f("href",e,t,0))),r.b('" data-title="'),r.b(r.v(r.f("title",e,t,0))),r.b('"> <span class="icon-share"></span> <span class="social-share-title">'),r.b(r.v(r.d("translations.share",e,t,0))),r.b("</span> </button>"),r.fl()}),function(e){"use strict";var t=e.Disney,n=e.Backbone,r=e.Grill,i=e.Whiskers,s=e._,o=e.jQuery,u=n.View.extend({el:"#share-btn-container",render:function(){var e=s.extend({translations:this.options.translations},this.options.share_object);this.$el.html(i.modules.shared_components.share_btn.render(e,{}))}});r.SocialShareModalView=r.ModalView.extend({options:{name:"social-share",template:i.modals.social_share},initialize:function(e){this.socialShare=e&&e.model.collection&&e.model.collection.social_share_networks,this.socialShareButton=new u({share_object:e.share_object,translations:e.translations});if(this.socialShare){var n=this.socialShare;n.facebook&&t.Social.init("facebook"),n.google_plus&&t.Social.init("google")}this.socialShareButton.render()},render:function(){var e=s.first(this.model.get("data")),t=o(".social-share-btn"),n=t.data("source"),r=t.data("title"),u=s.extend({socialShare:this.socialShare,source:n,sourceEncoded:encodeURIComponent(n),titleEncoded:encodeURIComponent(r),translations:this.options.translations,config_translations:this.options.config_translations},e);return this.options.template.render(u,{socialShare:i.modules.shared_components.social_share})},ready:function(){this._bindEvents()},_bindEvents:function(){t.Social.bindShareClick()}})}(this),function(e){"use strict";var t=e.Disney,n=e.jQuery,r=e.flashembed,i=t.Capabilities={MIN_FP_VERSION:[9,0],isHTML5Capable:function(){return e.Modernizr.canvas},isFlashCapable:function(e){var t=e||i.MIN_FP_VERSION;return r.isSupported(t)},isMobileBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad|android|silk|iemobile)/i)?!0:!1},isiOSBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad)/i)?!0:!1},isAndroidBrowser:function(){return e.navigator.userAgent.match(/(android)/i)?!0:!1},isKindleBrowser:function(){return e.navigator.userAgent.match(/(kindle|silk)/i)?!0:!1},isIE8:function(){return n.browser.msie&&parseInt(n.browser.version,10)===8}}}(this),function(e){"use strict";var t=e.Disney,n=e.Grill,r=e._,i=e.jQuery,s=e.Whiskers,o=e.Math,u=null,a=e.sessionStorage,f=e.JSON,l=n.ModuleView.extend({assets:{scripts:["//a.dilcdn.com/sw/videoplayer-a27b250b5c23.js"]},events:{"click .social-share-btn":function(e){this.modal.show({event:e})}},initialize:function(){var t=this,n=this.model.collection.disable_video_endcard==="true",s=this.model.collection&&this.model.collection.social_share_networks;r.extend(this,{disableEndCard:n,socialShare:s,hasSocial:!!s,share_object:this.pointSocialToPage?this.model.collection:r.first(this.model.get("data"))}),t.h=i(e).on("resize."+t.cid,r.throttle(function(){var n=i(e).height();n!==t.h&&(t.h=n,t.layout())},100)).height()},render:function(){var e=this.share_object,t=this.model.get("schema_json"),n=t?t.aspect_ratio:"";this.isStandalonePlayer=this.model.get("view")==="standalone_player";var i=r.extend({tags:this.model.get("data")[0].tags,contenttype:this.model.get("data")[0].contenttype,upNext:this.upNext(),cds:!1,hasSocial:this.hasSocial,socialShare:this.socialShare,source:e.href,sourceEncoded:encodeURIComponent(e.href),titleEncoded:encodeURIComponent(e.title),standalonePlayer:this.isStandalonePlayer,aspect_ratio:n},this.model.toJSON());this.$el.html(s.modules.watch.render(i,{entity:s.entities.video,socialShare:s.modules.shared_components.social_share})),u=i.data[0],this.layout()},ready:function(){var e=this.model.get("cto"),i=this.model.get("translations");new t.ContentMetadataView({el:this.$("#meta"),model:this.model,shareUtility:this.shareUtility()}),this.modal=new n.SocialShareModalView({closeElement:".modal-close",config_translations:this.model.collection&&this.model.collection.config_translations,model:this.model,share_object:this.share_object,tracking:{engagementMeta:e&&e.slug,eventCategory:"SWSocialShareModal"},translations:i});var s=r.first(this.model.get("data"));this.isStandalonePlayer&&s.default_thumb&&(s.poster=s.default_thumb),r.extend(this.playerConfig,{video:s,translations:i}),this.player=new t.StarWarsVideoPlayer("player",this.playerConfig)},upNext:function(){var e=r.first(this.model.get("data")),t=a&&f.parse(a.getItem("videoHistoryOnDisneyVideo")||"[]"),n=e.next||[],i=[];r.each(n,function(e){i.push(e.id)});var s=r.first(r.difference(i,t)),o=r.find(n,function(e){return e.id===s});o||(o=r.first(n)),t.push(e.id),t.length>10&&t.shift();try{a.setItem("videoHistoryOnDisneyVideo",f.stringify(t))}catch(u){}return o},layout:function(){var e=o.ceil((this.h-120)/.5625),t=o.max(320,e),n=o.min(1024,t),r=this.$("#video_wrapper .bound");r.css("maxWidth",n)},remove:function(){this.player&&(this.player.destroy(),this.player=null),n.ModuleView.prototype.remove.call(this),i(e).off("resize."+this.cid)}});l.register("watch",{playerConfig:{autoPlay:!0,showTitle:!1,showDuration:!0,ads:{enabled:!1}},shareUtility:function(){var e=this.model.get("translations"),t=[{share_type:"embed",share_text:e.embed,output_label:e.embed},{share_type:"share",share_text:e.share,output_label:e.quick_link}];return this.playerConfig.showEndCard=!this.disableEndCard,this.playerConfig.clickToPlay=this.disableEndCard,t}}),l.register("watch_2",{className:"module watch",playerConfig:{autoPlay:!1,clickToPlay:!0,showTitle:!1,showDuration:!1,showEndCard:!1,ads:{enabled:!1},skinUrl:"//a.dilcdn.com/sw/audioplayer_assets_starwars-0f9a1453eef2.swf"},shareUtility:function(){return!1}}),l.register("standalone_player",{pointSocialToPage:!0,playerConfig:{autoPlay:!1,clickToPlay:!1,showTitle:!1,showDuration:!1,showEndCard:!0,ads:{enabled:!1}},shareUtility:function(){return!1}})}(this),Whiskers("modules.watch_video",function(e,t,n){"use strict";var r=this;return r.b(n=n||""),r.b('<div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler ratio-16x9"></div> '),r.b(r.rp("player",e,t,"")),r.b(' </div> </div> </div> </div> </div> </div> <div class="module-spinner"> <span class="loader"></span> </div>'),r.fl()}),function(e){"use strict";var t=e.Grill,n=e.Whiskers,r=e.jQuery,i=e._,s=t.ModuleView.extend({className:"module video-player",template:n.modules.watch_video,initialize:function(){this.el.className+=" "+this._playerType(),i.extend(this,{partials:{player:n.modules.shared_components[this._playerType()]}})},render:function(){var e=this.model,t=i.first(e.get("data")),n=i.extend({nowlive_id:e.get("nowlive_id")},t);this._playerType()&&this.$el.html(this.template.render(n,this.partials))},ready:function(){if(!this._playerType())return;var e=this.$(".watch-padding").outerHeight(),t=this.$(".watch-container").position().top,n=this.$(".bound").css("padding-top");e>0&&this.$(".module-spinner").css("top",e/2+t+n),this.$(".youtube-inline-player iframe, .nowlive-inline-player iframe").on("load",function(){r(this).addClass("loaded")})},_playerType:function(){var e=i.first(this.model.get("data"))||{};if(e.youtube_id)return"youtube_player";if(this.model.get("nowlive_id"))return"nowlive_player"}});s.register("starwars_standalone_youtube_player")}(this);