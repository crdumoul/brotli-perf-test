var CBS={};CBS.declareNS=function(e){var d=e.split(".");var b=d.length;var a=window;var c;for(c=0;c<b;c++){if(typeof a[d[c]]=="undefined"){a[d[c]]=new Object()}a=a[d[c]]}};CBS.Host="";CBS.UserAgent=navigator.userAgent;CBS.UserAuthStatus="";CBS.Registry={ssl:false,host:"",facebook_app_id:"",google_client_id:"",user_auth:false,homepage:false,platform:{isMobile:false,isWebView:false},chromecast:{receiver_id:null},recurly_public_key:null,login:{authToken:null,ui:{title:"",copy:"",signup_link:""}},register:{},bd_delay:5000,user:{id:null,sub_status:"",acc_status:"anon",acc_ad_status:"anon"},context_override:{},yahoo_widgets:true};var CBSJSTemplates={Helpers:{},render:function(b,d){d=d||{};if(typeof b=="string"){var f=b.split("/"),c=f.length,e=CBSJSTemplates;for(var a=0;a<c;a++){e=e[f[a]]}b=e}var h={};if(typeof d.callback!="undefined"){console.log('JS Template Warning: "callback" argument is reserved!')}d.callback=h;var g=$(b(d));if(typeof h.onRender=="function"){h.onRender(g)}return g}};CBS.UserDate=function(){var d=new Date();d.setMinutes(d.getMinutes()+(d.getTimezoneOffset()-240));var e=d.getFullYear(),g=("0"+(d.getMonth()+1)).slice(-2),c=("0"+d.getDate()).slice(-2),b=("0"+d.getHours()).slice(-2),f=d.getMinutes();var a=Math.floor(f/5)*5;if(a<10){a="0"+a}return e+"-"+g+"-"+c+"-"+b+"-"+a};CBS.CookieEnabled=function(){var a="cookieEnabledTest";var b=(navigator.cookieEnabled)?true:false;if(typeof navigator.cookieEnabled=="undefined"&&!b){document.cookie=a;b=(document.cookie.indexOf(a)!=-1)?true:false}if(b){document.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}return(b)};CBS.FBStatus=function(){};CBS.Message={Show:function(b,a){$("div.cbs-message-notification").addClass(a).html(b).fadeIn()},Clean:function(){$("div.cbs-message-notification").removeClass("info").removeClass("error").html("").hide()}};CBS.Loader={Show:function(a){$("#cbs--loader--master").html(a).fadeIn()},Hide:function(){$("#cbs--loader--master").html("").hide()}};CBS.getUID=function(){var a=$.cookie("CBS_CTC");try{if(a){a=a.split("|");a=a[1]}else{a=""}}catch(b){a=""}return a};CBS.NoFrame=function(){};(function(){var a=false;try{a=top.location.host!=location.host}catch(b){a=true}if(a&&typeof ClickTaleContext=="undefined"){top.location="http://www.cbs.com/"}})();CBS.Form={};CBS.Form.FormatPhone=function(c){var b=/^(?:\+?1[-. ]?)?(?:\(?([0-9]{3})\)?[-. ]?)?([0-9]{3})[-. ]?([0-9]{4})$/;if(b.test(c)){var d=c.match(b);var a="";if(d[1]){a+="1 ("+d[1]+") "}a+=d[2]+"-"+d[3];return a}else{return c}};String.prototype.parseLinks=function(){var b=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim;var c=/(^|[^\/])(www\.[\S]+(\b|$))/gim;var a=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim;return this.replace(b,'<a target="_blank" href="$&">$&</a>').replace(c,'$1<a target="_blank" href="http://$2">$2</a>').replace(a,'<a target="_blank" href="mailto:$1">$1</a>')};String.prototype.parseTWHashTag=function(){return this.replace(/[#]+[A-Za-z0-9-_]+/g,function(b){var a=b.replace("#","%23");return'<a target="_blank" href="http://search.twitter.com/search?q='+a+'">'+b+"</a>"})};String.prototype.parseTWUsername=function(){return this.replace(/[@]+[A-Za-z0-9-_]+/g,function(a){var b=a.replace("@","");return'<a target="_blank" href="http://www.twitter.com/'+b+'">'+a+"</a>"})};String.prototype.truncate=function(a){return this.substr(0,a-1)+(this.length>a?"...":"")};String.prototype.toNormalCase=function(){return this.replace(/([A-Z])/g," $1").replace(/^./,function(a){return a.toUpperCase()})};String.prototype.url_encode=function(){var a=$.trim((this+"").toString());return encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")};jQuery.cookie=function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m.expires=-1}var e="";if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000))}else{f=m.expires}e="; expires="+f.toUTCString()}var l=m.path?"; path="+(m.path):"";var g=m.domain?"; domain="+(m.domain):"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}};CBS.CombinedCookie={get:function(d,c){var b=$.cookie(d);if(b){var a=$.parseJSON(b);if(c in a){return a[c]}}return null},set:function(g,d,e,c,f){var b={};if($.cookie(g)){var a=$.parseJSON($.cookie(g));if(typeof a==="object"){b=a}}b[d]=e;if(typeof c=="undefined"){if(b.cookieExpiration){c=b.cookieExpiration}}else{b.cookieExpiration=c}if(typeof f=="undefined"){if(b.cookiePath){f=b.cookiePath}else{f="/"}}else{b.cookiePath=f}e=JSON.stringify(b);$.cookie(g,e,{expires:c,path:f})}};if(typeof console=="undefined"){var console={log:function(){}}}window.location.getParam=function(b){var e=[],d;var c=this.search.substring(1).split("&");for(var a=0;a<c.length;a++){d=c[a].split("=");e[d[0]]=d[1]}return e[b]};$("body").trigger("CBSJSLoad");window.onerror=function(c,b,a){try{om.trackAppLog({msg:"error",type:"ERR:"+c+" URL:"+b+" L:"+a})}catch(d){}};(function(){function D(d,g,f){var c=g&&f||0,a=0;for(g=g||[],d.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>a&&(g[c+a++]=b[e])});16>a;){g[c+a++]=0}return g}function H(c,f){var d=f||0,a=k;return a[c[d++]]+a[c[d++]]+a[c[d++]]+a[c[d++]]+"-"+a[c[d++]]+a[c[d++]]+"-"+a[c[d++]]+a[c[d++]]+"-"+a[c[d++]]+a[c[d++]]+"-"+a[c[d++]]+a[c[d++]]+a[c[d++]]+a[c[d++]]+a[c[d++]]+a[c[d++]]}function O(d,p,U){var T=p&&U||0,C=p||[];d=d||{};var g=null!=d.clockseq?d.clockseq:M,n=null!=d.msecs?d.msecs:(new Date).getTime(),q=null!=d.nsecs?d.nsecs:L+1,m=n-j+(q-L)/10000;if(0>m&&null==d.clockseq&&(g=g+1&16383),(0>m||n>j)&&null==d.nsecs&&(q=0),q>=10000){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}j=n,L=q,M=g,n+=12219292800000;var V=(10000*(268435455&n)+q)%4294967296;C[T++]=V>>>24&255,C[T++]=V>>>16&255,C[T++]=V>>>8&255,C[T++]=255&V;var h=n/4294967296*10000&268435455;C[T++]=h>>>8&255,C[T++]=255&h,C[T++]=h>>>24&15|16,C[T++]=h>>>16&255,C[T++]=g>>>8|128,C[T++]=255&g;for(var S=d.node||F,w=0;6>w;w++){C[T+w]=S[w]}return p?p:H(C)}function z(g,i,d){var c=i&&d||0;"string"==typeof g&&(i="binary"==g?new J(16):null,g=null),g=g||{};var l=g.random||(g.rng||x)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i){for(var h=0;16>h;h++){i[c+h]=l[h]}}return i||H(l)}var x,R=this,G=R.crypto||R.msCrypto;if("function"==typeof R.require){try{var N=R.require("crypto").randomBytes;x=N&&function(){return N(16)}}catch(Q){}}if(!x&&G&&G.getRandomValues){var K=new Uint8Array(16);x=function(){return G.getRandomValues(K),K}}if(!x){var A=new Array(16);x=function(){for(var a,c=0;16>c;c++){0===(3&c)&&(a=4294967296*Math.random()),A[c]=a>>>((3&c)<<3)&255}return A}}for(var J="function"==typeof R.Buffer?R.Buffer:Array,k=[],b={},P=0;256>P;P++){k[P]=(P+256).toString(16).substr(1),b[k[P]]=P}var I=x(),F=[1|I[0],I[1],I[2],I[3],I[4],I[5]],M=16383&(I[6]<<8|I[7]),j=0,L=0,E=z;E.v1=O,E.v4=z,E.parse=D,E.unparse=H,E.BufferClass=J;var B=R.uuid;E.noConflict=function(){return R.uuid=B,E},R.uuid=E}).call(this);