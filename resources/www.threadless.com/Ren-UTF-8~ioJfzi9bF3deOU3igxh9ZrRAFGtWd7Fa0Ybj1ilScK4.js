/*AQAAAFNIQS0yNTYAAgAAAAAAAQAAAAAAO5Vov7qM2zFfrIkF7AHi2yWdnltgH16QjQb7MJkQJIARTc0qIeL5tYhp6dCXdYSPqylM1LmEK8DOuFvG4SMdNM*//* Script imported from https://cdn-media.threadless.com/static/js/base.9e6110bb2b5e.js */
function Threadless(){this.defaultNav="",this.defaultBtn="",this.subNavs="",this.overPanel=!1,this.isHome=!1,this.init()}function Exclusions(){this.$=$().jquery?$:jQuery,this.modal()}function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return n==null?"":decodeURIComponent(n[1].replace(/\+/g," "))}function initiatePopup(){$(".th-popup").click(function(e){var t=575,n=400,r=($(window).width()-t)/2,i=($(window).height()-n)/2,s=this.href,o="status=1,width="+t+",height="+n+",top="+i+",left="+r;return window.open(s,"th-share-popup",o),!1})}function attach_notify_anonymous_notifications_last_updated(e){$(".hitexpand").one("click",function(){$(".msg-count").remove();if(e.headers["X-Unread-Count"]>0){for(var t=0,n=e.data.length;t<n;t++)e.data[t]["new"]=!1;e.headers["X-Unread-Count"]=0,sessionStorage.setItem("anonymousNotifications",JSON.stringify(e))}})}function attach_notify_user_notifications_last_updated(e){$(".hitexpand").one("click",function(){$(".msg-count").remove(),loom.logInPromise.done(function(){$update_last_notified_promise=loom.put("/user/notification-count"),$update_last_notified_promise.fail(function(){console.log("LastNotified update failed")})}),loom.logInPromise.fail(function(){console.log("Loom Login for LastNotified failed")})})}function attach_load_more_notifications(e,t){var n=0;$(".active-user .showmore").click(function(){$(".active-user .showmore").html('<img src="'+t+'static/imgs/global/loading-v.gif" alt=""/>'),loom.logInPromise.always(function(){n++,$notifications_promise=loom.get("/users/"+e+"/notifications-v2",{per_page:10,page:n,envelope:1}),$notifications_promise.then(function(e,t,n){if(e&&e.data&&e.data.length>0){var r=Handlebars.compile($("#notification-entries").html());$(".notifications-list .notifications").append(r(e)),$(".active-user .showmore").html('<span class="lm showmore"><em>Load More</em></span>'),notification_image_ratio()}else $(".active-user .showmore").replaceWith('<span class="nm showmore"><em>No more posts to show</em></span>')})})})}function notification_image_ratio(){$(".notifications-list .notifications .design-image-wrapper:not(.init-ratio) .design-image").each(function(){var e=$(this);e.closest(".design-image-wrapper").addClass("init-ratio");var t=new Image;t.src=e.prop("src"),t.onload=function(){if(t.width==t.height){var n=e.closest(".design-image-wrapper");n.addClass("design-image-wrapper-square")}}})}function get_notifications(e){var t=sessionStorage.getItem("anonymousNotifications"),n;e===null&&t!==null&&t!==undefined?(n=JSON.parse(t),notification_success(n),attach_notify_anonymous_notifications_last_updated(n)):loom.logInPromise.always(function(){$notifications_promise=loom.get("/users/"+e+"/notifications-v2",{per_page:10,page:0,envelope:1}),$notifications_promise.then(function(t,n,r){notification_success(t),e===null?(sessionStorage.setItem("anonymousNotifications",JSON.stringify(t)),attach_notify_anonymous_notifications_last_updated(t)):attach_notify_user_notifications_last_updated(t)})})}function notification_success(e){var t=e.headers["X-Unread-Count"],n=e.headers["X-Is-Anonymous"],r=Handlebars.compile($("#notification-entries").html());$("<ul/>",{"class":"notifications",html:r(e)}).appendTo(".activity-stream .notifications-list"),t>0&&$(".activity-stream .hitexpand").append('<span class="msg-count">'+t+"</span>"),t>=10&&$(".activity-stream .hitexpand").append('<span class="msg-count">10+</span>'),n&&n!="False"?($(".showmore").hide(),$(".notifications-list").css({"padding-bottom":0})):e&&e.data&&e.data.length>=9&&$(".showmore").html("<em>Load More</em>"),e&&e.data&&e.data.length===0&&($(".notifications-list, .showmore").addClass("empty"),$(".showmore").replaceWith('<span class="nm showmore"><em>You have no new notifications.</em></span>')),notification_image_ratio()}function notification_error(e,t,n){window.console&&console.log(t,n,e.responseText)}window.Modernizr=function(e,t,n){function L(e){f.cssText=e}function A(e,t){return L(p.join(e+";")+(t||""))}function O(e,t){return typeof e===t}function M(e,t){return!!~(""+e).indexOf(t)}function _(e,t){for(var r in e){var i=e[r];if(!M(i,"-")&&f[i]!==n)return t=="pfx"?i:!0}return!1}function D(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:O(s,"function")?s.bind(r||t):s}return!1}function P(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+v.join(r+" ")+r).split(" ");return O(t,"string")||O(t,"undefined")?_(i,t):(i=(e+" "+m.join(r+" ")+r).split(" "),D(i,t,n))}function H(){i.input=function(n){for(var r=0,i=n.length;r<i;r++)w[n[r]]=n[r]in l;return w.list&&(w.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),i.inputtypes=function(e){for(var r=0,i,s,u,a=e.length;r<a;r++)l.setAttribute("type",s=e[r]),i=l.type!=="text",i&&(l.value=c,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&l.style.WebkitAppearance!==n?(o.appendChild(l),u=t.defaultView,i=u.getComputedStyle&&u.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,o.removeChild(l)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=l.checkValidity&&l.checkValidity()===!1:i=l.value!=c)),b[e[r]]=!!i;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.6.1",i={},s=!0,o=t.documentElement,u="modernizr",a=t.createElement(u),f=a.style,l=t.createElement("input"),c=":)",h={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms",v=d.split(" "),m=d.toLowerCase().split(" "),g={svg:"http://www.w3.org/2000/svg"},y={},b={},w={},E=[],S=E.slice,x,T=function(e,n,r,i){var s,a,f,l=t.createElement("div"),c=t.body,h=c?c:t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:u+(r+1),l.appendChild(f);return s=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),l.id=u,(c?l:h).innerHTML+=
s,h.appendChild(l),c||(h.style.background="",o.appendChild(h)),a=n(l,e),c?l.parentNode.removeChild(l):h.parentNode.removeChild(h),!!a},N=function(){function r(r,i){i=i||t.createElement(e[r]||"div"),r="on"+r;var s=r in i;return s||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),s=O(i[r],"function"),O(i[r],"undefined")||(i[r]=n),i.removeAttribute(r))),i=null,s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),C={}.hasOwnProperty,k;!O(C,"undefined")&&!O(C.call,"undefined")?k=function(e,t){return C.call(e,t)}:k=function(e,t){return t in e&&O(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=S.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(S.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(S.call(arguments)))};return i}),y.flexbox=function(){return P("flexWrap")},y.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},y.canvastext=function(){return!!i.canvas&&!!O(t.createElement("canvas").getContext("2d").fillText,"function")},y.webgl=function(){return!!e.WebGLRenderingContext},y.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",p.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},y.geolocation=function(){return"geolocation"in navigator},y.postmessage=function(){return!!e.postMessage},y.websqldatabase=function(){return!!e.openDatabase},y.indexedDB=function(){return!!P("indexedDB",e)},y.hashchange=function(){return N("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},y.history=function(){return!!e.history&&!!history.pushState},y.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},y.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},y.rgba=function(){return L("background-color:rgba(150,255,150,.5)"),M(f.backgroundColor,"rgba")},y.hsla=function(){return L("background-color:hsla(120,40%,100%,.5)"),M(f.backgroundColor,"rgba")||M(f.backgroundColor,"hsla")},y.multiplebgs=function(){return L("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(f.background)},y.backgroundsize=function(){return P("backgroundSize")},y.borderimage=function(){return P("borderImage")},y.borderradius=function(){return P("borderRadius")},y.boxshadow=function(){return P("boxShadow")},y.textshadow=function(){return t.createElement("div").style.textShadow===""},y.opacity=function(){return A("opacity:.55"),/^0.55$/.test(f.opacity)},y.cssanimations=function(){return P("animationName")},y.csscolumns=function(){return P("columnCount")},y.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return L((e+"-webkit- ".split(" ").join(t+e)+p.join(n+e)).slice(0,-e.length)),M(f.backgroundImage,"gradient")},y.cssreflections=function(){return P("boxReflect")},y.csstransforms=function(){return!!P("transform")},y.csstransforms3d=function(){var e=!!P("perspective");return e&&"webkitPerspective"in o.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e},y.csstransitions=function(){return P("transition")},y.fontface=function(){var e;return T('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),s=i.sheet||i.styleSheet,o=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0}),e},y.generatedcontent=function(){var e;return T(['#modernizr:after{content:"',c,'";visibility:hidden}'].join(""),function(t){e=t.offsetHeight>=1}),e},y.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},y.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},y.localstorage=function(){try{return localStorage.setItem(u,u),localStorage.removeItem(u),!0}catch(e){return!1}},y.sessionstorage=function(){try{return sessionStorage.setItem(u,u),sessionStorage.removeItem(u),!0}catch(e){return!1}},y.webworkers=function(){return!!e.Worker},y.applicationcache=function(){return!!e.applicationCache},y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(g.svg,"svg").createSVGRect},y.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==g.svg},y.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(g.svg,"animate")))},y.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(g.svg,"clipPath")))};for(var B in y)k(y,B)&&(x=B.toLowerCase(),i[x]=y[B](),E.push((i[x]?"":"no-")+x));return i.input||H(),i.addTest=function(e,t){if(typeof e=="object")for(var r in e)k(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,s&&(o.className+=" "+(t?"":"no-")+e),i[e]=t}return i},L(""),a=l=null,function(e,t){function l(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement
;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function c(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function h(e){var t=a[e[o]];return t||(t={},u++,e[o]=u,a[u]=t),t}function p(e,n,s){n||(n=t);if(f)return n.createElement(e);s||(s=h(n));var o;return s.cache[e]?o=s.cache[e].cloneNode():i.test(e)?o=(s.cache[e]=s.createElem(e)).cloneNode():o=s.createElem(e),o.canHaveChildren&&!r.test(e)?s.frag.appendChild(o):o}function d(e,n){e||(e=t);if(f)return e.createDocumentFragment();n=n||h(e);var r=n.frag.cloneNode(),i=0,s=c(),o=s.length;for(;i<o;i++)r.createElement(s[i]);return r}function v(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?p(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function m(e){e||(e=t);var n=h(e);return g.shivCSS&&!s&&!n.hasCSS&&(n.hasCSS=!!l(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),f||v(e,n),e}var n=e.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,i=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,s,o="_html5shiv",u=0,a={},f;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",s="hidden"in e,f=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){s=!0,f=!0}})();var g={elements:n.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:n.shivCSS!==!1,supportsUnknownElements:f,shivMethods:n.shivMethods!==!1,type:"default",shivDocument:m,createElement:p,createDocumentFragment:d};e.html5=g,m(t)}(this,t),i._version=r,i._prefixes=p,i._domPrefixes=m,i._cssomPrefixes=v,i.hasEvent=N,i.testProp=function(e){return _([e])},i.testAllProps=P,i.testStyles=T,i.prefixed=function(e,t,n){return t?P(e,t,n):P(e,"pfx")},o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(s?" js "+E.join(" "):""),i}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.
onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Threadless.prototype.init=function(){$("html").removeClass("no-js").addClass("js"),this.setNavDefault(),this.panels(),this.avatarTruncate(),this.threadbucksModal()},Threadless.prototype.currentSecondaryNav=function(){var e=this;e.subNavs=$("header nav:not(.primary)"),e.defaultBtn.length>0&&e.defaultBtn.addClass("active"),e.subNavs.hide()},$(function(){var e=window.location.href;/submissions/.test(e)&&$("body").addClass("nav-overwrite-pick"),/made/.test(e)&&$("body").addClass("nav-overwrite-shop made")}),Threadless.prototype.setNavDefault=function(){var e=["make","pick","play","shop"],t=document.URL.toString(),n="",r=this;$(e).each(function(e,r){var i="/"+r+"/";t.indexOf(i)!=-1&&(n=r),$("body").is(".nav-overwrite-"+r)&&(n=r)});if($("body.homepage").length>0||n==="")r.isHome=!0;r.isHome?$(".header_container header").animate({height:"38px"},"fast"):(r.defaultNav=$("."+n+"_nav"),r.defaultBtn=$("nav.primary li."+n+" > a"),$(".header_container").addClass("clip_header"))},Threadless.prototype.panels=function(){var e=$("section.panel"),t=0,n=this;e.each(function(){var e=$(this).height(),t=$(this).width();$(this).children(".panel_content").css({top:e*-2+"px"}).prepend($(this).children("h3").clone())}),e.mouseenter(function(){var t=$(this).height();n.overPanel=!0,$(this).children("h3.animatable").stop(!0,!0).animate({bottom:"-100px"},800),$(this).children(".panel_content").stop(!0,!0).css({top:t*-1+"px"}).animate({top:"0px"},250),e.not(this).children("canvas").animate({opacity:1},"fast"),$(this).children("canvas").stop(!0,!0).animate({opacity:0},"slow")}),e.mouseleave(function(){var t=$(this).height();$(this).children("h3").stop(!0,!0).animate({bottom:0},250),$(this).children(".panel_content").stop(!0,!0).animate({top:t*-2+"px"},250),this.overPanel=!1,timeit=window.setTimeout(function(){n.overPanel||e.children("canvas").stop(!0,!0).animate({opacity:0},"slow")},25)})},Threadless.prototype.missingPlaceholder=function(e,t){var n=$(e),r=n.eq(0).attr("width"),i=n.eq(0).attr("height");n.error(function(e){$(this).wrap('<span class="'+t+'" />'),$(this).remove()})},Threadless.prototype.tweetTruncate=function(){$("footer .tweet").each(function(){var e=$.trim($(this).text()),t=$("footer .tweet a").attr("href"),n=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;e.length>90&&(truncated=e.trim().substring(0,90)+"...",$(this).text(truncated).html($(this).text().replace(n,'<a href="'+t+'">$&</a>')))})},Threadless.prototype.avatarTruncate=function(){$("aside.thumbs strong").each(function(){var e=$(this).text();e.length>9&&(e=e.substring(0,9)+"..."),$(this).text(e).append("<span>&nbsp;</span>")})},Threadless.prototype.threadbucksModal=function(){$(".threadbucks_show a").on("click",function(e){e.preventDefault(),$("#threadbucks_modal .mod").addClass("threadbucks"),$("#threadbucks_modal").show(),$(".login_show a,.join_show a").on("click",function(){$("#threadbucks_modal").hide(),$(".mod").removeClass("threadbucks")})}),$(".mod .close").on("click",function(){$("#threadbucks_modal").hide()}),$(document).keyup(function(e){e.keyCode===27&&$("#threadbucks_modal").hide()})},Threadless.prototype.timesince=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g;if(typeof e=="string"){p=(new RegExp("(\\d{4})/(\\d{2})/(\\d{2})")).exec(e);if(p===null){u=(new RegExp("(\\d{2})/(\\d{2})/(\\d{4})")).exec(e);if(u===null)return e;e=new Date(u[3],u[1]-1,u[2])}else e=new Date(p[1],p[2]-1,p[3])}i=(Date.now()-e)/1e3;if(i>0){o=function(e,t){return function(n){return n===1?e:t}},t=[[31536e3,o("year","years")],[2592e3,o("month","months")],[604800,o("week","weeks")],[9e4,o("day","days")],[3600,o("hour","hours")],[60,o("minute","minutes")]];for(s=d=0,v=t.length;d<v;s=++d){m=t[s],c=m[0],a=m[1],n=Math.floor(Math.abs(i/c));if(n!==0)break}return l=""+n+"  "+a(n),s+1<t.length&&(g=t[s+1],h=g[0],f=g[1],r=Math.floor(Math.abs((i-c*n)/h)),r!==0&&(l+=", "+r+" "+f(r))),l}return"0 minutes"},$(function(){threadless=new Threadless}),$(function(){Modernizr.input.placeholder||($(this).find("[placeholder]").each(function(){$(this).val()===""&&$(this).val($(this).attr("placeholder"))}),$("[placeholder]").focus(function(){$(this).val()==$(this).attr("placeholder")&&($(this).val(""),$(this).removeClass("placeholder"))}).blur(function(){if($(this).val()===""||$(this).val()==$(this).attr("placeholder"))$(this).val($(this).attr("placeholder")),$(this).addClass("placeholder")}),$("[placeholder]").closest("form").submit(function(){$(this).find("[placeholder]").each(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val("")})}))}),Exclusions.prototype.modal=function(){var e=this,t=e.$(".exclusions"),n="More Info",r="Select Postal Shipping at checkout, and we&rsquo;ll upgrade your order to Standard Ground. Excludes PO boxes and other addresses that cannot accept UPS deliveries.",i="exclusions_modal",s='<div id="'+i+'"><h5>'+n+'</h5><a class="close" href="#">Close</a><p>'+r+"</p></div>";t.on("click",function(t){t.preventDefault(),e.$("#"+i).remove(),e.$("body").append(e.$(s)).show(),e.$("#"+i+" .close").click(function(t){t.preventDefault(),e.$("#"+i).remove()})}),e.$(document).keyup(function(t){t.keyCode==27&&e.$("#"+i).remove()})},$().jquery?$(function(){var e=new Exclusions}):jQuery(function(){var e=new Exclusions}),$(function(){$(".delete_form").submit(function(){return confirm("Do you really want to delete this post?")})}),$(function(){$(".delete_comment").click(function(){return confirm("Do you really want to delete this comment?")})}),$(function(){var e=$("#cart_count");e.length&&$.get("/cart-summary",function(t){t&&t.count!==undefined&&
e.text(t.count)},"json")}),
/*!
* FitVids 1.0.3
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var r=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],s="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";r.className="fit-vids-style",r.id="fit-vids-style",r.style.display="none",r.innerHTML=s,i.parentNode.insertBefore(r,i)}return t&&e.extend(n,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&t.push(n.customSelector);var r=e(this).find(t.join(","));r=r.not("object object"),r.each(function(){var t=e(this);if(this.tagName.toLowerCase()==="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)return;var n=this.tagName.toLowerCase()==="object"||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),r=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),i=n/r;if(!t.attr("id")){var s="fitvid"+Math.floor(Math.random()*999999);t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",i*100+"%"),t.removeAttr("height").removeAttr("width")})})}}(window.jQuery||window.Zepto),$(document).ready(initiatePopup);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="",n,r,i,s,o,u,a,f=0;e=Base64._utf8_encode(e);while(f<e.length)n=e.charCodeAt(f++),r=e.charCodeAt(f++),i=e.charCodeAt(f++),s=n>>2,o=(n&3)<<4|r>>4,u=(r&15)<<2|i>>6,a=i&63,isNaN(r)?u=a=64:isNaN(i)&&(a=64),t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a);return t},decode:function(e){var t="",n,r,i,s,o,u,a,f=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<e.length)s=this._keyStr.indexOf(e.charAt(f++)),o=this._keyStr.indexOf(e.charAt(f++)),u=this._keyStr.indexOf(e.charAt(f++)),a=this._keyStr.indexOf(e.charAt(f++)),n=s<<2|o>>4,r=(o&15)<<4|u>>2,i=(u&3)<<6|a,t+=String.fromCharCode(n),u!=64&&(t+=String.fromCharCode(r)),a!=64&&(t+=String.fromCharCode(i));return t=Base64._utf8_decode(t),t},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},_utf8_decode:function(e){var t="",n=0,r=c1=c2=0;while(n<e.length)r=e.charCodeAt(n),r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((r&31)<<6|c2&63),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63),n+=3);return t}};!function(e){"use strict";function r(){e(".dropdown-backdrop").remove(),e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=n&&e(n);if(!r||!r.length)r=t.parent();return r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",r),s.toggleClass("open")),n.focus(),!1},keydown:function(n){var r,s,o,u,a,f;if(!/(38|40|27)/.test(n.keyCode))return;r=e(this),n.preventDefault(),n.stopPropagation();if(r.is(".disabled, :disabled"))return;return u=i(r),a=u.hasClass("open"),!a||a&&n.keyCode==27,n.which==27&&u.find(t).focus(),r.click()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api",r).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),function(e,t,n){var r=e();e.fn.dropdownHover=function(n){return r=r.add(this.parent()),this.each(function(){var s=e(this),o=s.parent(),u={delay:300,instantlyCloseOthers:!0},a={delay:e(this).data("delay"),instantlyCloseOthers:e(this).data("close-others")},f=e.extend(!0,{},u,n,a),l;o.hover(function(e){if(!o.hasClass("open")&&!s.is(e.target))return!0;i&&(f.instantlyCloseOthers===!0&&r.removeClass("open"),t.clearTimeout(l),o.addClass("open"))},function(){i&&(l=t.setTimeout(function(){o.removeClass("open")},f.delay))}),s.hover(function(){i&&(f.instantlyCloseOthers===!0&&r.removeClass("open"),t.clearTimeout(l),o.addClass("open"))}),o.find(".dropdown-submenu").each(function(){var n=e(this),r;n.hover(function(){i&&(t.clearTimeout(r),n.children(".dropdown-menu").show(),n.siblings().children(".dropdown-menu").hide())},function(){var e=n.children(".dropdown-menu");i?r=t.setTimeout(function(){e.hide()},f.delay):e.hide()})})})};var i=!1,s={hits:0,x:null,y:null};e(document).ready(function(){e('[data-hover="dropdown"]').dropdownHover(),e(document).mousemove(function(t){s.hits++,s.hits>20||Math.abs(t.pageX-s.x)+Math.abs(t.pageY-s.y)<4?(e(this).unbind(t),i=!0):(s.x=t.pageX,s.y=t.pageY)})});var o=".dropdown-submenu:hover>.dropdown-menu{display:none}"
,u=document.createElement("style");u.type="text/css",u.styleSheet?u.styleSheet.cssText=o:u.appendChild(document.createTextNode(o)),e("head")[0].appendChild(u)}(jQuery,this),$(document).ready(function(){function t(e){e.matches&&($("html").hasClass("touch")?$(".primary-nav a").removeClass("disabled"):$(".primary-nav a").addClass("disabled"))}$("html").hasClass("touch")&&($("#auth_nav a").on("click",function(){$("html").addClass("modal-open")}),$(".close").on("click",function(){$("html").removeClass("modal-open")})),$(".activity-stream a").on("click",function(){return $(this).hasClass("notifications-notice-link")?!0:($(".activity-stream .notifications-list").toggle(),$(this).toggleClass("open"),$("body").toggleClass("modal-open"),$(this).delay(6e3).queue(function(){$(".notifications li").removeClass("new_true"),$.isFunction($(".modal").modal)&&$(".modal").modal("hide")}),!1)}),$(".user span").on("click",function(){return $(".activity-stream .notifications-list").fadeOut("fast"),$(".active").removeClass("active"),$(".user ul").slideToggle("fast"),$(".primary-nav li").removeClass("open"),!1}),$(".primary-nav a").on("mouseenter",function(){$(".activity-stream .notifications-list").fadeOut("fast"),$(".activity-stream a").removeClass("open")}),$("html").on("click",function(){$(".activity-stream .notifications-list, .user ul").fadeOut("fast"),$(".activity-stream a").removeClass("open"),$("body").removeClass("modal-open")}),$(".modal").on("shown",function(){$("body").css("overflow","hidden")}),$(".modal").on("hidden",function(){$("body").css("overflow","visible")}),$(document).keyup(function(e){e.keyCode===27&&$(".activity-stream .notifications-list, .user ul").fadeOut(),$(".activity-stream a").removeClass("open"),$("body").removeClass("modal-open"),$.isFunction($(".modal").modal)&&$(".modal").modal("hide")}),$(".user-menu, .notifications-list, .showmore").click(function(e){e.stopPropagation()});if(window.matchMedia){var e=window.matchMedia("(min-width: 540px)");e.addListener(t),t(e)}}),function(e){function Z(e,t,n){switch(arguments.length){case 2:return e!=null?e:t;case 3:return e!=null?e:t!=null?t:n;default:throw new Error("Implement me")}}function et(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function tt(e,n){function i(){t.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}var r=!0;return ut(function(){return r&&(i(),r=!1),n.apply(this,arguments)},n)}function nt(e,t){return function(n){return lt(e.call(this,n),t)}}function rt(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function it(){}function st(e){xt(e),ut(this,e)}function ot(e){var t=mt(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,u=t.hour||0,a=t.minute||0,f=t.second||0,l=t.millisecond||0;this._milliseconds=+l+f*1e3+a*6e4+u*36e5,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._bubble()}function ut(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function at(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&v.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ft(e){return e<0?Math.ceil(e):Math.floor(e)}function lt(e,t,n){var r=""+Math.abs(e),i=e>=0;while(r.length<t)r="0"+r;return(i?n?"+":"":"-")+r}function ct(e,n,r,i){var s=n._milliseconds,o=n._days,u=n._months;i=i==null?!0:i,s&&e._d.setTime(+e._d+s*r),o&&on(e,"Date",sn(e,"Date")+o*r),u&&rn(e,sn(e,"Month")+u*r),i&&t.updateOffset(e,o||u)}function ht(e){return Object.prototype.toString.call(e)==="[object Array]"}function pt(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function dt(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&yt(e[o])!==yt(t[o]))&&s++;return s+i}function vt(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=X[e]||V[t]||t}return e}function mt(e){var t={},n,r;for(r in e)e.hasOwnProperty(r)&&(n=vt(r),n&&(t[n]=e[r]));return t}function gt(n){var r,i;if(n.indexOf("week")===0)r=7,i="day";else{if(n.indexOf("month")!==0)return;r=12,i="month"}t[n]=function(s,o){var u,a,f=t.fn._lang[n],l=[];typeof s=="number"&&(o=s,s=e),a=function(e){var n=t().utc().set(i,e);return f.call(t.fn._lang,n,s||"")};if(o!=null)return a(o);for(u=0;u<r;u++)l.push(a(u));return l}}function yt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(t>=0?n=Math.floor(t):n=Math.ceil(t)),n}function bt(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function wt(e,n,r){return Zt(t([e,11,31+n-r]),n,r).week}function Et(e){return St(e)?366:365}function St(e){return e%4===0&&e%100!==0||e%400===0}function xt(e){var t;e._a&&e._pf.overflow===-2&&(t=e._a[a]<0||e._a[a]>11?a:e._a[f]<1||e._a[f]>bt(e._a[u],e._a[a])?f:e._a[l]<0||e._a[l]>23?l:e._a[c]<0||e._a[c]>59?c:e._a[h]<0||e._a[h]>59?h:e._a[p]<0||e._a[p]>999?p:-1,e._pf._overflowDayOfYear&&(t<u||t>f)&&(t=f),e._pf.overflow=t)}function Tt(e){return e._isValid==null&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&e._pf.charsLeftOver===0&&e._pf.unusedTokens.length===0)),e._isValid}function Nt(e){return e?e.toLowerCase().replace("_","-"):e}function Ct(e,n){return n._isUTC?t(e).zone(n._offset||0):t(e).local()}function kt(e,t){return t.abbr=e,d[e]||(d[e]=new it),d[e].set(t),d[e]}function Lt(e){delete d[e]}function At(e){var n=0,r,i,s,o,u=function(e){if(!d[e]&&m)try{require("./lang/"+e)}catch(t){}return d[e]};if(!e)return t.fn._lang;if(!ht(e)){i=u(e);if(i)return i;e=[e]}while(n<e.length){o=Nt(e[n]).split("-"),r=o.length,s=Nt(e[n+1]),s=s?s.split("-"):null;while(r>0){i=u(o.slice(0,r).join("-"));if(i)return i;if(s&&s.length>=r&&dt(o,s,!0)>=r-1)break;r--}n++}return t.fn._lang}function Ot(e){return e.match(/\[[\s\S]/)?
e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Mt(e){var t=e.match(w),n,r;for(n=0,r=t.length;n<r;n++)G[t[n]]?t[n]=G[t[n]]:t[n]=Ot(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=t[n]instanceof Function?t[n].call(i,e):t[n];return s}}function _t(e,t){return e.isValid()?(t=Dt(t,e.lang()),$[t]||($[t]=Mt(t)),$[t](e)):e.lang().invalidDate()}function Dt(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;E.lastIndex=0;while(n>=0&&E.test(e))e=e.replace(E,r),E.lastIndex=0,n-=1;return e}function Pt(e,t){var n,r=t._strict;switch(e){case"Q":return _;case"DDDD":return P;case"YYYY":case"GGGG":case"gggg":return r?H:T;case"Y":case"G":case"g":return j;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?B:N;case"S":if(r)return _;case"SS":if(r)return D;case"SSS":if(r)return P;case"DDD":return x;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return k;case"a":case"A":return At(t._l)._meridiemParse;case"X":return O;case"Z":case"ZZ":return L;case"T":return A;case"SSSS":return C;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?D:S;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return S;case"Do":return M;default:return n=new RegExp(zt(Ut(e.replace("\\","")),"i")),n}}function Ht(e){e=e||"";var t=e.match(L)||[],n=t[t.length-1]||[],r=(n+"").match(U)||["-",0,0],i=+(r[1]*60)+yt(r[2]);return r[0]==="+"?-i:i}function Bt(e,n,r){var i,s=r._a;switch(e){case"Q":n!=null&&(s[a]=(yt(n)-1)*3);break;case"M":case"MM":n!=null&&(s[a]=yt(n)-1);break;case"MMM":case"MMMM":i=At(r._l).monthsParse(n),i!=null?s[a]=i:r._pf.invalidMonth=n;break;case"D":case"DD":n!=null&&(s[f]=yt(n));break;case"Do":n!=null&&(s[f]=yt(parseInt(n,10)));break;case"DDD":case"DDDD":n!=null&&(r._dayOfYear=yt(n));break;case"YY":s[u]=t.parseTwoDigitYear(n);break;case"YYYY":case"YYYYY":case"YYYYYY":s[u]=yt(n);break;case"a":case"A":r._isPm=At(r._l).isPM(n);break;case"H":case"HH":case"h":case"hh":s[l]=yt(n);break;case"m":case"mm":s[c]=yt(n);break;case"s":case"ss":s[h]=yt(n);break;case"S":case"SS":case"SSS":case"SSSS":s[p]=yt(("0."+n)*1e3);break;case"X":r._d=new Date(parseFloat(n)*1e3);break;case"Z":case"ZZ":r._useUTC=!0,r._tzm=Ht(n);break;case"dd":case"ddd":case"dddd":i=At(r._l).weekdaysParse(n),i!=null?(r._w=r._w||{},r._w.d=i):r._pf.invalidWeekday=n;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),n&&(r._w=r._w||{},r._w[e]=yt(n));break;case"gg":case"GG":r._w=r._w||{},r._w[e]=t.parseTwoDigitYear(n)}}function jt(e){var n,r,i,s,o,a,f,l;n=e._w,n.GG!=null||n.W!=null||n.E!=null?(o=1,a=4,r=Z(n.GG,e._a[u],Zt(t(),1,4).year),i=Z(n.W,1),s=Z(n.E,1)):(l=At(e._l),o=l._week.dow,a=l._week.doy,r=Z(n.gg,e._a[u],Zt(t(),o,a).year),i=Z(n.w,1),n.d!=null?(s=n.d,s<o&&++i):n.e!=null?s=n.e+o:s=o),f=en(r,i,s,a,o),e._a[u]=f.year,e._dayOfYear=f.dayOfYear}function Ft(e){var t,n,r=[],i,s;if(e._d)return;i=qt(e),e._w&&e._a[f]==null&&e._a[a]==null&&jt(e),e._dayOfYear&&(s=Z(e._a[u],i[u]),e._dayOfYear>Et(s)&&(e._pf._overflowDayOfYear=!0),n=Kt(s,0,e._dayOfYear),e._a[a]=n.getUTCMonth(),e._a[f]=n.getUTCDate());for(t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._d=(e._useUTC?Kt:Jt).apply(null,r),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}function It(e){var t;if(e._d)return;t=mt(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],Ft(e)}function qt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Rt(e){if(e._f===t.ISO_8601){Xt(e);return}e._a=[],e._pf.empty=!0;var n=At(e._l),r=""+e._i,i,s,o,u,a,f=r.length,c=0;o=Dt(e._f,n).match(w)||[];for(i=0;i<o.length;i++)u=o[i],s=(r.match(Pt(u,e))||[])[0],s&&(a=r.substr(0,r.indexOf(s)),a.length>0&&e._pf.unusedInput.push(a),r=r.slice(r.indexOf(s)+s.length),c+=s.length),G[u]?(s?e._pf.empty=!1:e._pf.unusedTokens.push(u),Bt(u,s,e)):e._strict&&!s&&e._pf.unusedTokens.push(u);e._pf.charsLeftOver=f-c,r.length>0&&e._pf.unusedInput.push(r),e._isPm&&e._a[l]<12&&(e._a[l]+=12),e._isPm===!1&&e._a[l]===12&&(e._a[l]=0),Ft(e),xt(e)}function Ut(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function zt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Wt(e){var t,n,r,i,s;if(e._f.length===0){e._pf.invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<e._f.length;i++){s=0,t=ut({},e),t._pf=et(),t._f=e._f[i],Rt(t);if(!Tt(t))continue;s+=t._pf.charsLeftOver,s+=t._pf.unusedTokens.length*10,t._pf.score=s;if(r==null||s<r)r=s,n=t}ut(e,n||t)}function Xt(e){var t,n,r=e._i,i=F.exec(r);if(i){e._pf.iso=!0;for(t=0,n=q.length;t<n;t++)if(q[t][1].exec(r)){e._f=q[t][0]+(i[6]||" ");break}for(t=0,n=R.length;t<n;t++)if(R[t][1].exec(r)){e._f+=R[t][0];break}r.match(L)&&(e._f+="Z"),Rt(e)}else e._isValid=!1}function Vt(e){Xt(e),e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))}function $t(n){var r=n._i,i=g.exec(r);r===e?n._d=new Date:i?n._d=new Date(+i[1]):typeof r=="string"?Vt(n):ht(r)?(n._a=r.slice(0),Ft(n)):pt(r)?n._d=new Date(+r):typeof r=="object"?It(n):typeof r=="number"?n._d=new Date(r):t.createFromInputFallback(n)}function Jt(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return e<1970&&u.setFullYear(e),u}function Kt(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function Qt(e,t){if(typeof e=="string")if(!isNaN(e))e=parseInt(e,10);else{e=t.weekdaysParse(e);if(typeof e!="number")return null}return e}function Gt(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Yt(e,t,n){var r=s(Math.abs(e)/1e3),i=s(r/60),o=s(i/60),u=s(o/24),a=s(u/365),f=r<J.s&&["s",r]||i===1&&["m"]||i<J.m&&["mm",i]||o===1&&["h"]||o<J.h&&["hh",o]||u===1&&["d"]||u<=J.dd&&["dd",u]||u<=J.dm&&["M"]||u<J.dy&&["MM",s(u/30)]||a===1&&["y"]||["yy",a];return f[2]=t,f[3]=e>0,f[4]=n,Gt.apply({},f)}function Zt(e,n,r){var i=r-n,s=r-e.day(),o;return s>i&&
(s-=7),s<i-7&&(s+=7),o=t(e).add("d",s),{week:Math.ceil(o.dayOfYear()/7),year:o.year()}}function en(e,t,n,r,i){var s=Kt(e,0,1).getUTCDay(),o,u;return s=s===0?7:s,n=n!=null?n:i,o=i-s+(s>r?7:0)-(s<i?7:0),u=7*(t-1)+(n-i)+o+1,{year:u>0?e:e-1,dayOfYear:u>0?u:Et(e-1)+u}}function tn(n){var r=n._i,i=n._f;return r===null||i===e&&r===""?t.invalid({nullInput:!0}):(typeof r=="string"&&(n._i=r=At().preparse(r)),t.isMoment(r)?(n=at(r),n._d=new Date(+r._d)):i?ht(i)?Wt(n):Rt(n):$t(n),new st(n))}function nn(e,n){var r,i;n.length===1&&ht(n[0])&&(n=n[0]);if(!n.length)return t();r=n[0];for(i=1;i<n.length;++i)n[i][e](r)&&(r=n[i]);return r}function rn(e,t){var n;if(typeof t=="string"){t=e.lang().monthsParse(t);if(typeof t!="number")return e}return n=Math.min(e.date(),bt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function sn(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function on(e,t,n){return t==="Month"?rn(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function un(e,n){return function(r){return r!=null?(on(this,e,r),t.updateOffset(this,n),this):sn(this,e)}}function an(e){t.duration.fn[e]=function(){return this._data[e]}}function fn(e,n){t.duration.fn["as"+e]=function(){return+this/n}}function ln(e){if(typeof ender!="undefined")return;i=r.moment,e?r.moment=tt("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t):r.moment=t}var t,n="2.7.0",r=typeof global!="undefined"?global:this,i,s=Math.round,o,u=0,a=1,f=2,l=3,c=4,h=5,p=6,d={},v={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},m=typeof module!="undefined"&&module.exports,g=/^\/?Date\((\-?\d+)/i,y=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,b=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,w=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,E=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,S=/\d\d?/,x=/\d{1,3}/,T=/\d{1,4}/,N=/[+\-]?\d{1,6}/,C=/\d+/,k=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,L=/Z|[\+\-]\d\d:?\d\d/gi,A=/T/i,O=/[\+\-]?\d+(\.\d{1,3})?/,M=/\d{1,2}/,_=/\d/,D=/\d\d/,P=/\d{3}/,H=/\d{4}/,B=/[+-]?\d{6}/,j=/[+-]?\d+/,F=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,I="YYYY-MM-DDTHH:mm:ssZ",q=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],R=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],U=/([\+\-]|\d\d)/gi,z="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),W={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},X={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},V={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},$={},J={s:45,m:45,h:22,dd:25,dm:45,dy:345},K="DDD w W M D d".split(" "),Q="M D H h m s w W".split(" "),G={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return lt(this.year()%100,2)},YYYY:function(){return lt(this.year(),4)},YYYYY:function(){return lt(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+lt(Math.abs(e),6)},gg:function(){return lt(this.weekYear()%100,2)},gggg:function(){return lt(this.weekYear(),4)},ggggg:function(){return lt(this.weekYear(),5)},GG:function(){return lt(this.isoWeekYear()%100,2)},GGGG:function(){return lt(this.isoWeekYear(),4)},GGGGG:function(){return lt(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return yt(this.milliseconds()/100)},SS:function(){return lt(yt(this.milliseconds()/10),2)},SSS:function(){return lt(this.milliseconds(),3)},SSSS:function(){return lt(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+lt(yt(e/60),2)+":"+lt(yt(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+lt(yt(e/60),2)+lt(yt(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Y=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];while(K.length)o=K.pop(),G[o+"o"]=rt(G[o],o);while(Q.length)o=Q.pop(),G[o+o]=nt(G[o],2);G.DDDD=nt(G.DDD,3),ut(it.prototype,{set:function(e){var t,n;for(n in e)t=e[n],typeof t=="function"?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var n,r,i;this._monthsParse||(this._monthsParse=[]);for(n=0;n<12
;n++){this._monthsParse[n]||(r=t.utc([2e3,n]),i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i"));if(this._monthsParse[n].test(e))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var n,r,i;this._weekdaysParse||(this._weekdaysParse=[]);for(n=0;n<7;n++){this._weekdaysParse[n]||(r=t([2e3,1]).day(n),i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i"));if(this._weekdaysParse[n].test(e))return n}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return(e+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return typeof n=="function"?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return typeof i=="function"?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return typeof n=="function"?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return Zt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,n,r,i){var s;return typeof r=="boolean"&&(i=r,r=e),s={},s._isAMomentObject=!0,s._i=t,s._f=n,s._l=r,s._strict=i,s._isUTC=!1,s._pf=et(),tn(s)},t.suppressDeprecationWarnings=!1,t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),t.min=function(){var e=[].slice.call(arguments,0);return nn("isBefore",e)},t.max=function(){var e=[].slice.call(arguments,0);return nn("isAfter",e)},t.utc=function(t,n,r,i){var s;return typeof r=="boolean"&&(i=r,r=e),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=r,s._i=t,s._f=n,s._strict=i,s._pf=et(),tn(s).utc()},t.unix=function(e){return t(e*1e3)},t.duration=function(e,n){var r=e,i=null,s,o,u;return t.isDuration(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:typeof e=="number"?(r={},n?r[n]=e:r.milliseconds=e):(i=y.exec(e))?(s=i[1]==="-"?-1:1,r={y:0,d:yt(i[f])*s,h:yt(i[l])*s,m:yt(i[c])*s,s:yt(i[h])*s,ms:yt(i[p])*s}):!(i=b.exec(e))||(s=i[1]==="-"?-1:1,u=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*s},r={y:u(i[2]),M:u(i[3]),d:u(i[4]),h:u(i[5]),m:u(i[6]),s:u(i[7]),w:u(i[8])}),o=new ot(r),t.isDuration(e)&&e.hasOwnProperty("_lang")&&(o._lang=e._lang),o},t.version=n,t.defaultFormat=I,t.ISO_8601=function(){},t.momentProperties=v,t.updateOffset=function(){},t.relativeTimeThreshold=function(t,n){return J[t]===e?!1:(J[t]=n,!0)},t.lang=function(e,n){var r;return e?(n?kt(Nt(e),n):n===null?(Lt(e),e="en"):d[e]||At(e),r=t.duration.fn._lang=t.fn._lang=At(e),r._abbr):t.fn._lang._abbr},t.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),At(e)},t.isMoment=function(e){return e instanceof st||e!=null&&e.hasOwnProperty("_isAMomentObject")},t.isDuration=function(e){return e instanceof ot};for(o=Y.length-1;o>=0;--o)gt(Y[o]);t.normalizeUnits=function(e){return vt(e)},t.invalid=function(e){var n=t.utc(NaN);return e!=null?ut(n._pf,e):n._pf.userInvalidated=!0,n},t.parseZone=function(){return t.apply(null,arguments).parseZone()},t.parseTwoDigitYear=function(e){return yt(e)+(yt(e)>68?1900:2e3)},ut(t.fn=st.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=t(this).utc();return 0<e.year()&&e.year()<=9999?_t(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):_t(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return Tt(this)},isDSTShifted:function(){return this._a?this.isValid()&&dt(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return ut({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var n=_t(this,e||t.defaultFormat);return this.lang().postformat(n)},add:function(e,n){var r;return typeof e=="string"&&typeof n=="string"?r=t.duration(isNaN(+n)?+e:+n,isNaN(+n)?n:e):typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),ct(this,r,1),this},subtract:function(e,n){var r;return typeof e=="string"&&typeof n=="string"?r=t.duration(isNaN(+n)?+e:+n,isNaN(+n)?n:e):typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),ct(this,r,-1),this},diff:function(e,n,r){var i=Ct
(e,this),s=(this.zone()-i.zone())*6e4,o,u;return n=vt(n),n==="year"||n==="month"?(o=(this.daysInMonth()+i.daysInMonth())*432e5,u=(this.year()-i.year())*12+(this.month()-i.month()),u+=(this-t(this).startOf("month")-(i-t(i).startOf("month")))/o,u-=(this.zone()-t(this).startOf("month").zone()-(i.zone()-t(i).startOf("month").zone()))*6e4/o,n==="year"&&(u/=12)):(o=this-i,u=n==="second"?o/1e3:n==="minute"?o/6e4:n==="hour"?o/36e5:n==="day"?(o-s)/864e5:n==="week"?(o-s)/6048e5:o),r?u:ft(u)},from:function(e,n){return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(e){var n=e||t(),r=Ct(n,this).startOf("day"),i=this.diff(r,"days",!0),s=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(s,this))},isLeapYear:function(){return St(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=Qt(e,this.lang()),this.add({d:e-t})):t},month:un("Month",!0),startOf:function(e){e=vt(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return e==="week"?this.weekday(0):e==="isoWeek"&&this.isoWeekday(1),e==="quarter"&&this.month(Math.floor(this.month()/3)*3),this},endOf:function(e){return e=vt(e),this.startOf(e).add(e==="isoWeek"?"week":e,1).subtract("ms",1)},isAfter:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)>+t(e).startOf(n)},isBefore:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)<+t(e).startOf(n)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+Ct(e,this).startOf(t)},min:tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=t.apply(null,arguments),e<this?this:e}),max:tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=t.apply(null,arguments),e>this?this:e}),zone:function(e,n){var r=this._offset||0;return e==null?this._isUTC?r:this._d.getTimezoneOffset():(typeof e=="string"&&(e=Ht(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,r!==e&&(!n||this._changeInProgress?ct(this,t.duration(r-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):typeof this._i=="string"&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e?e=t(e).zone():e=0,(this.zone()-e)%60===0},daysInMonth:function(){return bt(this.year(),this.month())},dayOfYear:function(e){var n=s((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return e==null?n:this.add("d",e-n)},quarter:function(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)},weekYear:function(e){var t=Zt(this,this.lang()._week.dow,this.lang()._week.doy).year;return e==null?t:this.add("y",e-t)},isoWeekYear:function(e){var t=Zt(this,1,4).year;return e==null?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return e==null?t:this.add("d",(e-t)*7)},isoWeek:function(e){var t=Zt(this,1,4).week;return e==null?t:this.add("d",(e-t)*7)},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return e==null?t:this.add("d",e-t)},isoWeekday:function(e){return e==null?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return wt(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return wt(this.year(),e.dow,e.doy)},get:function(e){return e=vt(e),this[e]()},set:function(e,t){return e=vt(e),typeof this[e]=="function"&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=At(t),this)}}),t.fn.millisecond=t.fn.milliseconds=un("Milliseconds",!1),t.fn.second=t.fn.seconds=un("Seconds",!1),t.fn.minute=t.fn.minutes=un("Minutes",!1),t.fn.hour=t.fn.hours=un("Hours",!0),t.fn.date=un("Date",!0),t.fn.dates=tt("dates accessor is deprecated. Use date instead.",un("Date",!0)),t.fn.year=un("FullYear",!0),t.fn.years=tt("years accessor is deprecated. Use year instead.",un("FullYear",!0)),t.fn.days=t.fn.day,t.fn.months=t.fn.month,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.fn.quarters=t.fn.quarter,t.fn.toJSON=t.fn.toISOString,ut(t.duration.fn=ot.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,u;r.milliseconds=e%1e3,i=ft(e/1e3),r.seconds=i%60,s=ft(i/60),r.minutes=s%60,o=ft(s/60),r.hours=o%24,t+=ft(o/24),r.days=t%30,n+=ft(t/30),r.months=n%12,u=ft(n/12),r.years=u},weeks:function(){return ft(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+yt(this._months/12)*31536e6},humanize:function(e){var t=+this,n=Yt(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,n){var r=t.duration(e,n);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(e,n){var r=t.duration(e,n);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(e){return e=vt(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=vt(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:t.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(
r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}});for(o in W)W.hasOwnProperty(o)&&(fn(o,W[o]),an(o.toLowerCase()));fn("Weeks",6048e5),t.duration.fn.asMonths=function(){return(+this-this.years()*31536e6)/2592e6+this.years()*12},t.lang("en",{ordinal:function(e){var t=e%10,n=yt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),m?module.exports=t:typeof define=="function"&&define.amd?(define("moment",function(e,n,s){return s.config&&s.config()&&s.config().noGlobal===!0&&(r.moment=i),t}),ln(!0)):ln()}.call(this),function(e){function n(t,n,r){var s=(t.reduction||t).filter(e.validity.settings.elementSupport),o=[];return s.each(function(){n(this)?o.push(this):i(this,u(r,{field:a(this)}))}),t.reduction=e(o),t}function r(){e.validity.isValidating()&&(e.validity.report.errors++,e.validity.report.valid=!1)}function i(t,n){r(),e.validity.outputs[e.validity.settings.outputMode]&&e.validity.outputs[e.validity.settings.outputMode].raise&&e.validity.outputs[e.validity.settings.outputMode].raise(e(t),n)}function s(t,n){r(),e.validity.outputs[e.validity.settings.outputMode]&&e.validity.outputs[e.validity.settings.outputMode].raiseAggregate&&e.validity.outputs[e.validity.settings.outputMode].raiseAggregate(t,n)}function o(e){var t=0;return e.each(function(){var e=parseFloat(this.value);t+=isNaN(e)?0:e}),t}function u(e,t){for(var n in t)e=e.replace("#{"+n+"}",t[n]);return f(e)}function a(t){var n=e(t),r=e.validity.settings.defaultFieldName;if(n.attr("title")!==undefined&&n.attr("title").length)r=n.attr("title");else if(/^([A-Z0-9][a-z]*)+$/.test(t.id))r=t.id.replace(/([A-Z0-9])[a-z]*/g," $&");else if(/^[a-z0-9_]*$/.test(t.id)){var i=t.id.split("_");for(var s=0;s<i.length;++s)i[s]=f(i[s]);r=i.join(" ")}return r}function f(e){return e.substring?e.substring(0,1).toUpperCase()+e.substring(1,e.length):e}e.extend(e.expr[":"],{email:function(t){return e(t).attr("type")==="email"}});var t={outputMode:"label",cssClass:"error",scrollTo:!1,modalErrorsClickable:!0,defaultFieldName:"This field",elementSupport:":text, :password, textarea, select, :radio, :checkbox, :email",argToString:function(e){return e.getDate?e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear():e}};e.validity={settings:e.extend(t,{}),patterns:{integer:/^\d+$/,date:/^((0?\d)|(1[012]))\/([012]?\d|30|31)\/\d{1,4}$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,usd:/^\$?(\d{1,3},?(\d{3},?)*\d{3}(\.\d{0,2})?|\d{1,3}(\.\d{0,2})?|\.\d{1,2}?)$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,number:/^[+-]?(\d+(\.\d*)?|\.\d+)([Ee]\d+)?$/,zip:/^\d{5}(-\d{4})?$/,phone:/^[2-9]\d{2}-\d{3}-\d{4}$/,guid:/^(\{?([0-9a-fA-F]){8}-(([0-9a-fA-F]){4}-){3}([0-9a-fA-F]){12}\}?)$/,time12:/^[01]?\d:[0-5]\d?\s?[aApP]\.?[mM]\.?$/,time24:/^(20|21|22|23|[01]\d|\d)(([:][0-5]\d){1,2})$/,nonHtml:/^[^<>]*$/},messages:{require:"#{field} is required.",match:"#{field} is in an invalid format.",integer:"#{field} must be a positive, whole number.",date:"#{field} must be formatted as a date.",email:"#{field} must be formatted as an email.",usd:"#{field} must be formatted as a US Dollar amount.",url:"#{field} must be formatted as a URL.",number:"#{field} must be formatted as a number.",zip:"#{field} must be formatted as a zipcode ##### or #####-####.",phone:"#{field} must be formatted as a phone number ###-###-####.",guid:"#{field} must be formatted as a guid like {3F2504E0-4F89-11D3-9A0C-0305E82C3301}.",time24:"#{field} must be formatted as a 24 hour time: 23:00.",time12:"#{field} must be formatted as a 12 hour time: 12:00 AM/PM",lessThan:"#{field} must be less than #{max}.",lessThanOrEqualTo:"#{field} must be less than or equal to #{max}.",greaterThan:"#{field} must be greater than #{min}.",greaterThanOrEqualTo:"#{field} must be greater than or equal to #{min}.",range:"#{field} must be between #{min} and #{max}.",tooLong:"#{field} cannot be longer than #{max} characters.",tooShort:"#{field} cannot be shorter than #{min} characters.",nonHtml:"#{field} cannot contain HTML characters."
,alphabet:"#{field} contains disallowed characters.",minCharClass:"#{field} cannot have more than #{min} #{charClass} characters.",maxCharClass:"#{field} cannot have less than #{min} #{charClass} characters.",equal:"Values don't match.",distinct:"A value was repeated.",sum:"Values don't add to #{sum}.",sumMax:"The sum of the values must be less than #{max}.",sumMin:"The sum of the values must be greater than #{min}.",radioChecked:"The selected value is not valid.",generic:"Invalid."},charClasses:{alphabetical:/\w/g,numeric:/\d/g,alphanumeric:/[A-Za-z0-9]/g,symbol:/[^A-Za-z0-9]/g},outputs:{},setup:function(t){this.settings=e.extend(this.settings,t)},report:null,isValidating:function(){return!!this.report},start:function(){this.outputs[this.settings.outputMode]&&this.outputs[this.settings.outputMode].start&&this.outputs[this.settings.outputMode].start(),this.report={errors:0,valid:!0}},end:function(){var e=this.report||{errors:0,valid:!0};return this.report=null,this.outputs[this.settings.outputMode]&&this.outputs[this.settings.outputMode].end&&this.outputs[this.settings.outputMode].end(e),e},clear:function(){this.start(),this.end()}},e.fn.extend({validity:function(t){return this.each(function(){if(this.tagName.toLowerCase()=="form"){var n=null;typeof t=="string"?n=function(){e(t).require()}:e.isFunction(t)&&(n=t),t&&e(this).bind("submit",function(){return e.validity.start(),n(),e.validity.end().valid})}})},require:function(t){return n(this,function(t){var n=e(t).val(),r=n.length;return r},t||e.validity.messages.require)},match:function(t,r){return r||(r=e.validity.messages.match,typeof t=="string"&&e.validity.messages[t]&&(r=e.validity.messages[t])),typeof t=="string"&&(t=e.validity.patterns[t]),n(this,e.isFunction(t)?function(e){return!e.value.length||t(e.value)}:function(e){return t.global&&(t.lastIndex=0),!e.value.length||t.test(e.value)},r)},range:function(t,r,i){return n(this,t.getTime&&r.getTime?function(e){var n=new Date(e.value);return n>=new Date(t)&&n<=new Date(r)}:t.substring&&r.substring&&Big?function(e){var n=new Big(e.value);return n.greaterThanOrEqualTo(new Big(t))&&n.lessThanOrEqualTo(new Big(r))}:function(e){var n=parseFloat(e.value);return n>=t&&n<=r},i||u(e.validity.messages.range,{min:e.validity.settings.argToString(t),max:e.validity.settings.argToString(r)}))},greaterThan:function(t,r){return n(this,t.getTime?function(e){return new Date(e.value)>t}:t.substring&&Big?function(e){return(new Big(e.value)).greaterThan(new Big(t))}:function(e){return parseFloat(e.value)>t},r||u(e.validity.messages.greaterThan,{min:e.validity.settings.argToString(t)}))},greaterThanOrEqualTo:function(t,r){return n(this,t.getTime?function(e){return new Date(e.value)>=t}:t.substring&&Big?function(e){return(new Big(e.value)).greaterThanOrEqualTo(new Big(t))}:function(e){return parseFloat(e.value)>=t},r||u(e.validity.messages.greaterThanOrEqualTo,{min:e.validity.settings.argToString(t)}))},lessThan:function(t,r){return n(this,t.getTime?function(e){return new Date(e.value)<t}:t.substring&&Big?function(e){return(new Big(e.value)).lessThan(new Big(t))}:function(e){return parseFloat(e.value)<t},r||u(e.validity.messages.lessThan,{max:e.validity.settings.argToString(t)}))},lessThanOrEqualTo:function(t,r){return n(this,t.getTime?function(e){return new Date(e.value)<=t}:t.substring&&Big?function(e){return(new Big(e.value)).lessThanOrEqualTo(new Big(t))}:function(e){return parseFloat(e.value)<=t},r||u(e.validity.messages.lessThanOrEqualTo,{max:e.validity.settings.argToString(t)}))},maxLength:function(t,r){return n(this,function(e){return e.value.length<=t},r||u(e.validity.messages.tooLong,{max:t}))},minLength:function(t,r){return n(this,function(e){return e.value.length>=t},r||u(e.validity.messages.tooShort,{min:t}))},alphabet:function(t,r){var i=[];return n(this,function(e){for(var n=0;n<e.value.length;++n)if(t.indexOf(e.value.charAt(n))==-1)return i.push(e.value.charAt(n)),!1;return!0},r||u(e.validity.messages.alphabet,{chars:i.join(", ")}))},minCharClass:function(t,r,i){return typeof t=="string"&&(t=t.toLowerCase(),e.validity.charClasses[t]&&(t=e.validity.charClasses[t])),n(this,function(e){return(e.value.match(t)||[]).length>=r},i||u(e.validity.messages.minCharClass,{min:r,charClass:t}))},maxCharClass:function(t,r,i){return typeof t=="string"&&(t=t.toLowerCase(),e.validity.charClasses[t]&&(t=e.validity.charClasses[t])),n(this,function(e){return(e.value.match(t)||[]).length<=r},i||u(e.validity.messages.maxCharClass,{max:r,charClass:t}))},password:function(t,n){return t=e.extend({alphabet:null,minLength:0,maxLength:0,minSymbol:0,minAlphabetical:0,minNumeric:0,minAlphaNumeric:0},t),t.alphabet&&this.alphabet(t.alphabet),t.minLength&&this.minLength(t.minLength),t.maxLength&&this.maxLength(t.maxLength),t.minSymbol&&this.minCharClass("symbol",t.minSymbol),t.minAlphabetical&&this.minCharClass("alphabetical",t.minAlphabetical),t.minNumeric&&this.minCharClass("numeric",t.minNumeric),t.minAlphanumeric&&this.minCharClass("alphanumeric",t.minAlphanumeric),this},nonHtml:function(t){return n(this,function(t){return e.validity.patterns.nonHtml.test(t.value)},t||e.validity.messages.nonHtml)},equal:function(t,n){var r=(this.reduction||this).filter(e.validity.settings.elementSupport),i=function(e){return e},o=e.validity.messages.equal;if(r.length){e.isFunction(t)?(i=t,typeof n=="string"&&(o=n)):typeof t=="string"&&(o=t);var u=e.map(r,function(e){return i(e.value)}),a=u[0],f=!0;for(var l in u)u[l]!=a&&(f=!1);f||(s(r,o),this.reduction=e([]))}return this},distinct:function(t,n){var r=(this.reduction||this).filter(e.validity.settings.elementSupport),i=function(e){return e},o=e.validity.messages.distinct,u=[],a=!0;if(r.length){e.isFunction(t)?(i=t,typeof n=="string"&&(o=n)):typeof t=="string"&&(o=t);var f=e.map(r,function(e){return i(e.value)});for(var l=0;l<f.length;++l)if(f[l].length){for(var c=0;c<u.length;++c)u[c]==f[l]&&(a=!1);u.push(f[l])}a||(s(r,o),this.reduction=e([]))}return this},sum:function(t,n){var r=(this.reduction||
this).filter(e.validity.settings.elementSupport);return r.length&&t!=o(r)&&(s(r,n||u(e.validity.messages.sum,{sum:t})),this.reduction=e([])),this},sumMax:function(t,n){var r=(this.reduction||this).filter(e.validity.settings.elementSupport);return r.length&&t<o(r)&&(s(r,n||u(e.validity.messages.sumMax,{max:t})),this.reduction=e([])),this},sumMin:function(t,n){var r=(this.reduction||this).filter(e.validity.settings.elementSupport);return r.length&&t<o(r)&&(s(r,n||u(e.validity.messages.sumMin,{min:t})),this.reduction=e([])),this},radioChecked:function(t,n){var r=(this.reduction||this).filter(e.validity.settings.elementSupport);r.is(":radio")&&r.find(":checked").val()!=t&&s(r,n||e.validity.messages.radioChecked)},radioNotChecked:function(t,n){var r=(this.reduction||this).filter(e.validity.settings.elementSupport);r.is(":radio")&&r.filter(":checked").val()==t&&s(r,n||e.validity.messages.radioChecked)},checkboxChecked:function(t){var n=(this.reduction||this).filter(e.validity.settings.elementSupport);n.is(":checkbox")&&!n.is(":checked")&&s(n,t||e.validity.messages.radioChecked)},assert:function(t,r){var i=this.reduction||this;if(i.length){if(e.isFunction(t))return n(this,t,r||e.validity.messages.generic);t||(s(i,r||e.validity.messages.generic),this.reduction=e([]))}return this}})}(jQuery),function(e){function t(e){return e.attr("id").length?e.attr("id"):e.attr("name")}e.validity.outputs.label={start:function(){e("label."+e.validity.settings.cssClass).remove()},end:function(t){!t.valid&&e.validity.settings.scrollTo&&(location.hash=e("label."+e.validity.settings.cssClass+":eq(0)").attr("for"))},raise:function(n,r){var i="label."+e.validity.settings.cssClass+"[for='"+t(n)+"']";e(i).length?e(i).text(r):e("<label/>").attr("for",t(n)).addClass(e.validity.settings.cssClass).text(r).click(function(){n.length&&n[0].select()}).insertBefore(n).parent().addClass("error")},raiseAggregate:function(t,n){t.length&&this.raise(e(t.get(t.length-1)),n)}}}(jQuery),function(e){var t="validity-modal-msg",n="body";e.validity.outputs.modal={start:function(){e("."+t).remove()},end:function(n){!n.valid&&e.validity.settings.scrollTo&&(location.hash=e("."+t+":eq(0)").attr("id"))},raise:function(r,i){if(r.length){var s=r.offset(),o=r.get(0),u={left:parseInt(s.left+r.width()+4,10)+"px",top:parseInt(s.top-10,10)+"px"};e("<div/>").addClass(t).css(u).text(i).click(e.validity.settings.modalErrorsClickable?function(){e(this).remove()}:null).appendTo(n)}},raiseAggregate:function(t,n){t.length&&this.raise(e(t.get(t.length-1)),n)}}}(jQuery),function(e){var t=".validity-summary-container",n="validity-erroneous",r="."+n,i="<li/>",s=[];e.validity.outputs.summary={start:function(){e(r).removeClass(n),s=[]},end:function(n){e(t).hide().find("ul").html("");if(s.length){for(var o=0;o<s.length;++o)e(i).text(s[o]).appendTo(t+" ul");e(t).show(),e.validity.settings.scrollTo&&(location.hash=e(r+":eq(0)").attr("id"))}},raise:function(e,t){s.push(t),e.addClass(n)},raiseAggregate:function(e,t){this.raise(e,t)},container:function(){document.write('<div class="validity-summary-container">The form didn\'t submit for the following reason(s):<ul></ul></div>')}}}(jQuery),jQuery(document).ready(function(e){var t=t||{};window.Auth=t,t.Join={},t.Login={},t.FBLogin={},t.modal=e("#login"),t.Login.selector="form.login_form",t.Login.$form=e(t.Login.selector,"#login"),t.Login.$tab=e("#login_tab"),t.Join.selector="form.join_form",t.Join.$form=e(t.Join.selector,"#login"),t.Join.$tab=e("#join_tab"),t.Join.xhr=null,t.FBLogin.selector="form.facebook_form",t.getCookie=function(e){var t=null,n=null,r=null;if(document.cookie&&document.cookie!==""){n=document.cookie.split(";");for(var i=0;i<n.length;i++){r=jQuery.trim(n[i]);if(r.substring(0,e.length+1)==e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}}return t},t.replaceCSRF=function(e){for(var n=0;n<e.length;n++)if(e[n]["name"]=="csrfmiddlewaretoken"){e[n].value=t.getCookie("csrftoken3");break}return e},t.init=function(){e(document).on("submit",t.Login.selector,function(n){var r,i,s,o;n.preventDefault(),t.clearErrors(),i=e(":submit",this),i.attr("disabled",!0),t.validateLogin()?(r=e(this).serializeArray(),r=t.replaceCSRF(r),e(":input[name=next]").length&&(t.callback=function(t){window.location.href=e(":input[name=next]").val()}),e.ajax({type:"POST",url:e(this).attr("action"),data:e.param(r),dataType:"json",xhrFields:{withCredentials:!0},beforeSend:function(e){e.setRequestHeader("X-Requested-With","XMLHttpRequest"),s=t.getCookie("csrftoken3");if(!s){window.location="/login/";return}e.setRequestHeader("X-CSRFToken",s)},success:function(n,r){n.result===!0?(t.close(),e(window).trigger("login_success"),t.callback?t.callback(n):window.location.reload()):t.handleErrors(n,t.Login.selector)},error:function(n,r,i){o=e("div.login_error",t.Login.selector).empty(),e("<p/>").html("Oops, something went wrong!").appendTo(o)},complete:function(e,t){i.attr("disabled",!1)}})):i.attr("disabled",!1)}),e(document).on("submit",t.Join.selector,function(n){var r,i,s,o;n.preventDefault(),r=e(":submit",this),t.clearErrors(),r.attr("disabled",!0),t.validateRegister()?(i=e(this),s=e(this).serializeArray(),s=t.replaceCSRF(s),e.ajax({type:"POST",url:i.attr("action"),data:e.param(s),dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e,n){e.result?window.location.reload():(t.handleErrors(e,t.Login.selector),r.attr("disabled",!1),typeof Recaptcha=="object"&&Recaptcha.reload())},error:function(n,i,s){o=e("div.login_error",t.Join.selector).empty(),e("<p/>").html(s).appendTo(o),r.attr("disabled",!1),typeof Recaptcha=="object"&&Recaptcha.reload()}})):r.attr("disabled",!1)}),e(document).on("submit",t.FBLogin.selector,function(n){var r;r=t.getCookie("csrftoken3"),e(t.FBLogin.selector).find('input[name="csrfmiddlewaretoken"]').val(r)}),e(document).on("click",".mod .tabs a, li.login_show a, li.join_show a, #login_page_to_modal, .login_modal_trigger, .join_modal_trigger",function(n){if(window.location.pathname.match(/^\/(join|login)\/?$/
))return!0;n.preventDefault();var r=null,i=null;e(this).is("li.login_show a, #login_page_to_modal, .login_modal_trigger, .js-login-trigger")?(r=t.Login,i=t.Login.actuallyShow):(r=t.Join,i=t.Join.show);if(e(this).is("a.login_modal_trigger, a.join_modal_trigger")&&e(this).attr("href")!="#"){var s=e(this).attr("href");i(function(){window.location.href=s})}else e(this).is(".mod .tabs a")?i(!0):i();t.loadJoinForm()}),t.loadJoinForm=function(n){n=n||"/join/?modalish",t.Join.$form.is(".loading")&&(!t.Join.xhr||t.Join.xhr.readyState==4)&&(t.Join.xhr=e.get(n,function(n){var r=e(n);if(!r.is("form"))return;r.replaceAll(t.Join.$form).hide(),t.Join.$form=e(t.Join.selector,"#login"),t.Join.$tab.is(".current")&&t.Join.$form.show()}))},e(".mod .close").on("click",t.close),e(document).keyup(function(e){e.keyCode==27&&t.close()}),window.location.search.indexOf("login")!==-1&&e(".login a").click(),e(document).ajaxError(function(n,r,i){r.status===403&&t.Login.actuallyShow(function(t){e.ajax(i)})}),e.extend(e.validity.messages,{require:"This field is required."})},e(".switch-users").click(function(){t.Login.actuallyShow(),t.loadJoinForm()}),t.show=function(e){typeof e=="function"?t.callback=e:typeof e=="object"&&e.preventDefault?e.preventDefault():e||(t.callback=null),t.modal.fadeIn()},t.close=function(e){typeof e=="object"&&e.preventDefault&&e.preventDefault(),t.modal.fadeOut()},t.Join.show=function(n){t.show(n),t.Login.$tab.removeClass("current"),t.Login.$form.hide(),t.Join.$tab.addClass("current"),t.Join.$form.show(),e(".mod").removeClass("login").addClass("join")},t.Login.show=function(e){t.Join.show(e)},t.Login.actuallyShow=function(n){t.show(n),t.Join.$tab.removeClass("current"),t.Join.$form.hide(),t.Login.$tab.addClass("current"),t.Login.$form.show(),e(".mod").removeClass("join").addClass("login"),e(":input[name=username]",t.Login.selector).focus()},t.clearErrors=function(){e("p.login_error:has(:input)",this).removeClass("login_error"),e("div.login_error",this).empty(),e("div.registration_error",this).empty(),e("p.error").removeClass("error")},t.handleErrors=function(n,r){var i=e(":submit",this);if(n.errors){for(key in n.errors)e(":input[name="+key+"]",t.Login.modal).parent().addClass("login_error").attr("title",n.errors[key]);if(n.errors.registration){var s=e("div.registration_error").empty();e("<p>"+n.errors.registration[0]+"</p>").appendTo(s)}if(n.errors.__all__){var s=e("div.login_error").empty();e("<p>"+n.errors.__all__[0]+"</p>").appendTo(s)}i.attr("disabled",!1)}},t.validateLogin=function(){var n=e(t.Login.selector).filter(":visible:first");e.validity.start(),n.find("#id_username").require(),n.find("#id_password").require();var r=e.validity.end();return r.valid},t.validateRegister=function(){var n=e(t.Join.selector).filter(":visible:first");e.validity.start(),n.find("#create_username").require().minLength(3,"Username must be at least 3 characters."),n.find('input[type="password"]').require().minLength(3,"Password must be at least 3 characters.").equal("Passwords must match"),n.find("#email").require().match("email");var r=e.validity.end();return r.valid},t.init()});var Markdown;typeof exports=="object"&&typeof require=="function"?Markdown=exports:Markdown={},function(){function e(e){return e}function t(e){return!1}function n(){}function r(){}n.prototype={chain:function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);r===e?this[t]=n:this[t]=function(e){return n(r(e))}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},Markdown.HookCollection=n,r.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},Markdown.Converter=function(){function u(e){return e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,n,r,s,o,u){return n=n.toLowerCase(),t.set(n,A(r)),o?s:(u&&i.set(n,u.replace(/"/g,"&quot;")),"")}),e}function a(e){var t="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del",n="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math";return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,f),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,f),e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,f),e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,f),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,f),e}function f(e,t){var n=t;return n=n.replace(/^\n+/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(s.push(n)-1)+"K\n\n",n}function l(e,t){e=y(e);var n="<hr />\n";return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,n),e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,n),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,n),e=b(e),e=S(e),e=k(e),e=a(e),e=L(e,t),e}function c(e){return e=T(e),e=h(e),e=O(e),e=v(e),e=p(e),e=M(e),e=e.replace(/~P/g,"://"),e=A(e),e=C(e),e=e.replace(/(\r\n|\n|\r)/g,"<br />"),e}function h(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=j(t,e.charAt(1)=="!"?"\\`*_/":"\\`*_"),t}),e}function p(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,d),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,d),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,d),e}function d(e,n,r,s,o,u,a,f){f==undefined&&(f="");var l=n,c=r.replace(/:\/\//g,"~P"),h=s.toLowerCase(),p=o,d=f;if(p==""){h==""&&(h=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+h;if(t.get(h)!=undefined)p=t.get(h),i.get(h)!=undefined&&(d=i.get(h));else{if(!(l.search(/\(\s*\)$/m)>-1))return l;p=""}}
p=B(p),p=j(p,"*_");var v='<a href="'+p+'"';return d!=""&&(d=m(d),d=j(d,"*_"),v+=' title="'+d+'"'),v+=">"+c+"</a>",v}function v(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,g),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,g),e}function m(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function g(e,n,r,s,o,u,a,f){var l=n,c=r,h=s.toLowerCase(),p=o,d=f;d||(d="");if(p==""){h==""&&(h=c.toLowerCase().replace(/ ?\n/g," ")),p="#"+h;if(t.get(h)==undefined)return l;p=t.get(h),i.get(h)!=undefined&&(d=i.get(h))}c=j(m(c),"*_[]()"),p=j(p,"*_");var v='<img src="'+p+'" alt="'+c+'"';return d=m(d),d=j(d,"*_"),v+=' title="'+d+'"',v+=" />",v}function y(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+c(t)+"</h1>\n\n"}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+c(t)+"</h2>\n\n"}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var r=t.length;return"<h"+r+">"+c(n)+"</h"+r+">\n\n"}),e}function b(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return o?e=e.replace(t,function(e,t,n){var r=t,i=n.search(/[*+-]/g)>-1?"ul":"ol",s=E(r,i);return s=s.replace(/\s+$/,""),s="<"+i+">"+s+"</"+i+">\n",s}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,n,r){var i=t,s=n,o=r.search(/[*+-]/g)>-1?"ul":"ol",u=E(s,o);return u=i+"<"+o+">\n"+u+"</"+o+">\n",u})),e=e.replace(/~0/,""),e}function E(e,t){o++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var n=w[t],r=new RegExp("(^[ \\t]*)("+n+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+n+")[ \\t]+))","gm"),i=!1;return e=e.replace(r,function(e,t,n,r){var s=r,o=t,u=/\n\n$/.test(s),a=u||s.search(/\n{2,}/)>-1;return a||i?s=l(D(s),!0):(s=b(D(s)),s=s.replace(/\n$/,""),s=c(s)),i=u,"<li>"+s+"</li>\n"}),e=e.replace(/~0/g,""),o--,e}function S(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,i=n;return r=N(D(r)),r=P(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code>"+r+"\n</code></pre>","\n\n"+r+"\n\n"+i}),e=e.replace(/~0/,""),e}function x(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(s.push(e)-1)+"K\n\n"}function T(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r,i){var s=r;return s=s.replace(/^([ \t]*)/g,""),s=s.replace(/[ \t]*$/g,""),s=N(s),s=s.replace(/:\/\//g,"~P"),t+"<code>"+s+"</code>"}),e}function N(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=j(e,"*_{}[]\\",!1),e}function C(e){return e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),e=e.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4"),e}function k(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=l(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /mg,"~0"),n=n.replace(/~0/g,""),n}),x("<blockquote>\n"+n+"\n</blockquote>")}),e}function L(e,t){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");var n=e.split(/\n{2,}/g),r=[],i=/~K(\d+)K/,o=n.length;for(var u=0;u<o;u++){var a=n[u];i.test(a)?r.push(a):/\S/.test(a)&&(a=c(a),a=a.replace(/^([ \t]*)/g,"<p>"),a+="</p>",r.push(a))}if(!t){o=r.length;for(var u=0;u<o;u++){var f=!0;while(f)f=!1,r[u]=r[u].replace(/~K(\d+)K/g,function(e,t){return f=!0,s[t]})}}return r.join("\n\n")}function A(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;"),e}function O(e){return e=e.replace(/\\(\\)/g,F),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,F),e}function M(t){t=t.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,"$1<$2$3>$4");var n=function(t,n){return'<a href="'+n+'">'+e.plainLinkText(n)+"</a>"};return t=t.replace(/<((https?|ftp):[^'">\s]+)>/gi,n),t}function _(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)}),e}function D(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,""),e}function P(e){if(!/\t/.test(e))return e;var t=["    ","   ","  "," "],n=0,r;return e.replace(/[\n\t]/g,function(e,i){return e==="\n"?(n=i+1,e):(r=(i-n)%4,n=i+1,t[r])})}function B(e){if(!e)return"";var t=e.length;return e.replace(H,function(n,r){if(n=="~D")return"%24";if(n==":")if(r==t-1||/[0-9\/]/.test(e.charAt(r+1)))return":";return"%"+n.charCodeAt(0).toString(16)})}function j(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=new RegExp(r,"g");return e=e.replace(i,F),e}function F(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}var e=this.hooks=new n;e.addNoop("plainLinkText"),e.addNoop("preConversion"),e.addNoop("postConversion");var t,i,s,o;this.makeHtml=function(n){if(t)throw new Error("Recursive call to converter.makeHtml");return t=new r,i=new r,s=[],o=0,n=e.preConversion(n),n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=P(n),n=n.replace(/^[ \t]+$/mg,""),n=a(n),n=u(n),n=l(n),n=_(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~"),n=e.postConversion(n),s=i=t=null,n};var w={ol:"\\d+[.]",ul:"[*+-]"},H=/(?:["'*()[\]:]|~D)/g}}(),function(){function n(e){return e.replace(/<[^>]*>?/gi,o)}function o(e){return e.match(r)||e.match(i)||e.match(s)?e:""}function u(e){if(e=="")return"";var t=/<\/?\w+[^>]*(\s|$|>)/g,n=e.toLowerCase().match(t),r=(n||[]).length;if(r==0)return e;var i,s,o="<p><img><br><li><hr>",u,a=[],f=[],l=!1;for(var c=0;c<r;c++){i=n[c].replace(/<\/?(\w+).*/,"$1");if(a[c]||o.search("<"+i+">")>-1)continue;s=n[c],u=-1;if(!/^<\//.test(s))for(var h=c+1;h<r;h++)if(!a[h]&&n[h]=="</"+i+">"){u=h;break}u==-1?l=f[c]=!0:a[u]=!0}if(!l)return e;var c=0;return e=e.replace(t,function(e)
{var t=f[c]?"":e;return c++,t}),e}var e,t;typeof exports=="object"&&typeof require=="function"?(e=exports,t=require("./Markdown.Converter").Converter):(e=window.Markdown,t=e.Converter),e.getSanitizingConverter=function(){var e=new t;return e.hooks.chain("postConversion",u),e};var r=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,i=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,s=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}(),function(){function p(){}function d(e,t,n,i){this.buttonBar=r.getElementById(e+i),this.preview=r.getElementById(t+i),this.input=r.getElementById(n+i)}function v(t,n){var r=this,i=[],s=0,o="none",a,f,l,c=function(e,t){o!=e&&(o=e,t||p()),!u.isIE||o!="moving"?f=setTimeout(h,1):l=null},h=function(e){l=new m(n,e),f=undefined};this.setCommandMode=function(){o="command",p(),f=setTimeout(h,0)},this.canUndo=function(){return s>1},this.canRedo=function(){return i[s+1]?!0:!1},this.undo=function(){r.canUndo()&&(a?(a.restore(),a=null):(i[s]=new m(n),i[--s].restore(),t&&t())),o="none",n.input.focus(),h()},this.redo=function(){r.canRedo()&&(i[++s].restore(),t&&t()),o="none",n.input.focus(),h()};var p=function(){var e=l||new m(n);if(!e)return!1;if(o=="moving"){a||(a=e);return}a&&(i[s-1].text!=a.text&&(i[s++]=a),a=null),i[s++]=e,i[s+1]=null,t&&t()},d=function(e){var t=!1;if(e.ctrlKey||e.metaKey){var n=e.charCode||e.keyCode,i=String.fromCharCode(n);switch(i){case"y":r.redo(),t=!0;break;case"z":e.shiftKey?r.redo():r.undo(),t=!0}}if(t){e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1);return}},v=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;t>=33&&t<=40||t>=63232&&t<=63235?c("moving"):t==8||t==46||t==127?c("deleting"):t==13?c("newlines"):t==27?c("escape"):(t<16||t>20)&&t!=91&&c("typing")}},g=function(){e.addEvent(n.input,"keypress",function(e){(e.ctrlKey||e.metaKey)&&(e.keyCode==89||e.keyCode==90)&&e.preventDefault()});var t=function(){(u.isIE||l&&l.text!=n.input.value)&&f==undefined&&(o="paste",p(),h())};e.addEvent(n.input,"keydown",d),e.addEvent(n.input,"keydown",v),e.addEvent(n.input,"mousedown",function(){c("moving")}),n.input.onpaste=t,n.input.ondrop=t},y=function(){g(),h(!0),p()};y()}function m(t,n){var i=this,s=t.input;this.init=function(){if(!e.isVisible(s))return;if(!n&&r.activeElement&&r.activeElement!==s)return;this.setInputAreaSelectionStartEnd(),this.scrollTop=s.scrollTop;if(!this.text&&s.selectionStart||s.selectionStart===0)this.text=s.value},this.setInputAreaSelection=function(){if(!e.isVisible(s))return;if(s.selectionStart!==undefined&&!u.isOpera)s.focus(),s.selectionStart=i.start,s.selectionEnd=i.end,s.scrollTop=i.scrollTop;else if(r.selection){if(r.activeElement&&r.activeElement!==s)return;s.focus();var t=s.createTextRange();t.moveStart("character",-s.value.length),t.moveEnd("character",-s.value.length),t.moveEnd("character",i.end),t.moveStart("character",i.start),t.select()}},this.setInputAreaSelectionStartEnd=function(){if(!t.ieCachedRange&&(s.selectionStart||s.selectionStart===0))i.start=s.selectionStart,i.end=s.selectionEnd;else if(r.selection){i.text=e.fixEolChars(s.value);var n=t.ieCachedRange||r.selection.createRange(),o=e.fixEolChars(n.text),u="",a=u+o+u;n.text=a;var f=e.fixEolChars(s.value);n.moveStart("character",-a.length),n.text=o,i.start=f.indexOf(u),i.end=f.lastIndexOf(u)-u.length;var l=i.text.length-e.fixEolChars(s.value).length;if(l){n.moveStart("character",-o.length);while(l--)o+="\n",i.end+=1;n.text=o}t.ieCachedRange&&(i.scrollTop=t.ieCachedScrollTop),t.ieCachedRange=null,this.setInputAreaSelection()}},this.restore=function(){i.text!=undefined&&i.text!=s.value&&(s.value=i.text),this.setInputAreaSelection(),s.scrollTop=i.scrollTop},this.getChunks=function(){var t=new p;return t.before=e.fixEolChars(i.text.substring(0,i.start)),t.startTag="",t.selection=e.fixEolChars(i.text.substring(i.start,i.end)),t.endTag="",t.after=e.fixEolChars(i.text.substring(i.end)),t.scrollTop=i.scrollTop,t},this.setChunks=function(e){e.before=e.before+e.startTag,e.after=e.endTag+e.after,this.start=e.before.length,this.end=e.before.length+e.selection.length,this.text=e.before+e.selection+e.after,this.scrollTop=e.scrollTop},this.init()}function g(n,i,s){var o=this,a,f,l,c=3e3,h="delayed",p=function(t,n){e.addEvent(t,"input",n),t.onpaste=n,t.ondrop=n,e.addEvent(t,"keypress",n),e.addEvent(t,"keydown",n)},d=function(){var e=0;return window.innerHeight?e=window.pageYOffset:r.documentElement&&r.documentElement.scrollTop?e=r.documentElement.scrollTop:r.body&&(e=r.body.scrollTop),e},v=function(){if(!i.preview)return;var e=i.input.value;if(e&&e==l)return;l=e;var t=(new Date).getTime();e=n.makeHtml(e);var r=(new Date).getTime();f=r-t,T(e)},m=function(){a&&(clearTimeout(a),a=undefined);if(h!=="manual"){var e=0;h==="delayed"&&(e=f),e>c&&(e=c),a=setTimeout(v,e)}},g=function(e){return e.scrollHeight<=e.clientHeight?1:e.scrollTop/(e.scrollHeight-e.clientHeight)},y=function(){i.preview&&(i.preview.scrollTop=(i.preview.scrollHeight-i.preview.clientHeight)*g(i.preview))};this.refresh=function(e){e?(l="",v()):m()},this.processingTime=function(){return f};var b=!0,w=function(e){var t=i.preview,n=t.parentNode,r=t.nextSibling;n.removeChild(t),t.innerHTML=e,r?n.insertBefore(t,r):n.appendChild(t)},E=function(e){i.preview.innerHTML=e},S,x=function(e){if(S)return S(e);try{E(e),S=E}catch(t){S=w,S(e)}},T=function(e){var n=t.getTop(i.input)-d();i.preview&&(x(e),s()),y();if(b){b=!1;return}var r=t.getTop(i.input)-d();u.isIE?setTimeout(function(){window.scrollBy(0,r-n)},0):window.scrollBy(0,r-n)},N=function(){p(i.input,m),v(),i.preview&&(i.preview.scrollTop=0)};N()}function y(t,n,i,o,a,f){function d(e){l.focus();if(e.textOp){i&&i.setCommandMode();var t=new m(n);if(!t)return;var r=t.getChunks(),s=function(){l.focus(),r&&t.setChunks(r),
t.restore(),o.refresh()},u=e.textOp(r,s);u||s()}e.execute&&e.execute(i)}function v(e,t){var i="0px",s="-20px",o="-40px",a=e.getElementsByTagName("span")[0];t?(a.style.backgroundPosition=e.XShift+" "+i,e.onmouseover=function(){a.style.backgroundPosition=this.XShift+" "+o},e.onmouseout=function(){a.style.backgroundPosition=this.XShift+" "+i},u.isIE&&(e.onmousedown=function(){if(r.activeElement&&r.activeElement!==n.input)return;n.ieCachedRange=document.selection.createRange(),n.ieCachedScrollTop=n.input.scrollTop}),e.isHelp||(e.onclick=function(){return this.onmouseout&&this.onmouseout(),d(this),!1})):(a.style.backgroundPosition=e.XShift+" "+s,e.onmouseover=e.onmouseout=e.onclick=function(){})}function g(e){return typeof e=="string"&&(e=a[e]),function(){e.apply(a,arguments)}}function y(){var e=n.buttonBar,r="0px",i="-20px",o="-40px",u=document.createElement("ul");u.id="wmd-button-row"+t,u.className="wmd-button-row",u=e.appendChild(u);var a=0,l=function(e,n,r,i){var s=document.createElement("li");s.className="wmd-button",s.style.left=a+"px",a+=25;var o=document.createElement("span");return s.id=e+t,s.appendChild(o),s.title=n,s.XShift=r,i&&(s.textOp=i),v(s,!0),u.appendChild(s),s},p=function(e){var n=document.createElement("li");n.className="wmd-spacer wmd-spacer"+e,n.id="wmd-spacer"+e+t,u.appendChild(n),a+=25};c.bold=l("wmd-bold-button","Strong <strong> Ctrl+B","0px",g("doBold")),c.italic=l("wmd-italic-button","Emphasis <em> Ctrl+I","-20px",g("doItalic")),p(1),c.link=l("wmd-link-button","Hyperlink <a> Ctrl+L","-40px",g(function(e,t){return this.doLinkOrImage(e,t,!1)})),c.quote=l("wmd-quote-button","Blockquote <blockquote> Ctrl+Q","-60px",g("doBlockquote")),c.code=l("wmd-code-button","Code Sample <pre><code> Ctrl+K","-80px",g("doCode")),c.image=l("wmd-image-button","Image <img> Ctrl+G","-100px",g(function(e,t){return this.doLinkOrImage(e,t,!0)})),p(2),c.olist=l("wmd-olist-button","Numbered List <ol> Ctrl+O","-120px",g(function(e,t){this.doList(e,t,!0)})),c.ulist=l("wmd-ulist-button","Bulleted List <ul> Ctrl+U","-140px",g(function(e,t){this.doList(e,t,!1)})),c.heading=l("wmd-heading-button","Heading <h1>/<h2> Ctrl+H","-160px",g("doHeading")),c.hr=l("wmd-hr-button","Horizontal Rule <hr> Ctrl+R","-180px",g("doHorizontalRule")),p(3),c.undo=l("wmd-undo-button","Undo - Ctrl+Z","-200px",null),c.undo.execute=function(e){e&&e.undo()};var d=/win/.test(s.platform.toLowerCase())?"Redo - Ctrl+Y":"Redo - Ctrl+Shift+Z";c.redo=l("wmd-redo-button",d,"-220px",null),c.redo.execute=function(e){e&&e.redo()};if(f){var m=document.createElement("li"),y=document.createElement("span");m.appendChild(y),m.className="wmd-button wmd-help-button",m.id="wmd-help-button"+t,m.XShift="-240px",m.isHelp=!0,m.style.right="0px",m.title=f.title||h,m.onclick=f.handler,v(m,!0),u.appendChild(m),c.help=m}b()}function b(){i&&(v(c.undo,i.canUndo()),v(c.redo,i.canRedo()))}var l=n.input,c={};y();var p="keydown";u.isOpera&&(p="keypress"),e.addEvent(l,p,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode,n=String.fromCharCode(t).toLowerCase();switch(n){case"b":d(c.bold);break;case"i":d(c.italic);break;case"l":d(c.link);break;case"q":d(c.quote);break;case"k":d(c.code);break;case"g":d(c.image);break;case"o":d(c.olist);break;case"u":d(c.ulist);break;case"h":d(c.heading);break;case"r":d(c.hr);break;case"y":d(c.redo);break;case"z":e.shiftKey?d(c.redo):d(c.undo);break;default:return}e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1)}}),e.addEvent(l,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){var t=e.charCode||e.keyCode;if(t===13){var n={};n.textOp=g("doAutoindent"),d(n)}}}),u.isIE&&e.addEvent(l,"keydown",function(e){var t=e.keyCode;if(t===27)return!1}),this.setUndoRedoButtonStates=b}function b(e){this.hooks=e}function E(e){return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,n){return t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g," ")}),t=decodeURIComponent(t),t=encodeURI(t).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29"),t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g,"%2b")}),n&&(n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,""),n=$.trim(n).replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),n?t+' "'+n+'"':t})}var e={},t={},n={},r=window.document,i=window.RegExp,s=window.navigator,o={lineLength:72},u={isIE:/msie/.test(s.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(s.userAgent.toLowerCase())||/msie 5/.test(s.userAgent.toLowerCase()),isOpera:/opera/.test(s.userAgent.toLowerCase())},a='<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',f="<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",l="http://",c="http://",h="Markdown Editing Help";Markdown.Editor=function(e,t,n,i){n=n||"",idButton="wmd-button-bar",idPreview="wmd-preview",idInput="wmd-input",t&&(t.hasOwnProperty("button")&&(idButton=t.button),t.hasOwnProperty("preview")&&(idPreview=t.preview),t.hasOwnProperty("input")&&(idInput=t.input));var s=this.hooks=new Markdown.HookCollection;s.addNoop("onPreviewRefresh"),s.addNoop("postBlockquoteCreation"),s.addFalse("insertImageDialog"),this.getConverter=function(){return e};var o=this,u;this.run=function(){if(u)return;u=new d(idButton,idPreview,idInput,n);var t=new b(s),a=new g(e,u,function(){s.onPreviewRefresh()}),f,l;/\?noundo/.test(r.location.href)||(f=new v(function(){a.refresh(),l&&l.setUndoRedoButtonStates()},u),this.textOperation=function(e){f.setCommandMode(),e(),o.refreshPreview()}),l=new y(n,u,f,a,t,i),l.setUndoRedoButtonStates();var c=o.refreshPreview=function(){a.refresh(!0)};c()}},p.prototype.findTags=function(t,n){var r=this,i;t&&(i=e.extendRegExp(t,"","$"),this.before=this.before.replace(i,function(e){return r.startTag=r.startTag+e,""}),i=e.extendRegExp(t,"^",""),this.selection=
this.selection.replace(i,function(e){return r.startTag=r.startTag+e,""})),n&&(i=e.extendRegExp(n,"","$"),this.selection=this.selection.replace(i,function(e){return r.endTag=e+r.endTag,""}),i=e.extendRegExp(n,"^",""),this.after=this.after.replace(i,function(e){return r.endTag=e+r.endTag,""}))},p.prototype.trimWhitespace=function(e){var t,n,r=this;e?t=n="":(t=function(e){return r.before+=e,""},n=function(e){return r.after=e+r.after,""}),this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)},p.prototype.skipLines=function(e,t,n){e===undefined&&(e=1),t===undefined&&(t=1),e++,t++;var r,s;navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+i.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+i.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+i.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+i.$1;if(this.before){r=s="";while(e--)r+="\\n?",s+="\n";n&&(r="\\n*"),this.before=this.before.replace(new i(r+"$",""),s)}if(this.after){r=s="";while(t--)r+="\\n?",s+="\n";n&&(r="\\n*"),this.after=this.after.replace(new i(r,""),s)}},e.isVisible=function(e){if(window.getComputedStyle)return window.getComputedStyle(e,null).getPropertyValue("display")!=="none";if(e.currentStyle)return e.currentStyle.display!=="none"},e.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},e.removeEvent=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},e.fixEolChars=function(e){return e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e},e.extendRegExp=function(e,t,n){if(t===null||t===undefined)t="";if(n===null||n===undefined)n="";var r=e.toString(),s;return r=r.replace(/\/([gim]*)$/,function(e,t){return s=t,""}),r=r.replace(/(^\/|\/$)/g,""),r=t+r+n,new i(r,s)},t.getTop=function(e,t){var n=e.offsetTop;if(!t)while(e=e.offsetParent)n+=e.offsetTop;return n},t.getHeight=function(e){return e.offsetHeight||e.scrollHeight},t.getWidth=function(e){return e.offsetWidth||e.scrollWidth},t.getPageSize=function(){var e,t,n,i;self.innerHeight&&self.scrollMaxY?(e=r.body.scrollWidth,t=self.innerHeight+self.scrollMaxY):r.body.scrollHeight>r.body.offsetHeight?(e=r.body.scrollWidth,t=r.body.scrollHeight):(e=r.body.offsetWidth,t=r.body.offsetHeight),self.innerHeight?(n=self.innerWidth,i=self.innerHeight):r.documentElement&&r.documentElement.clientHeight?(n=r.documentElement.clientWidth,i=r.documentElement.clientHeight):r.body&&(n=r.body.clientWidth,i=r.body.clientHeight);var s=Math.max(e,n),o=Math.max(t,i);return[s,o,n,i]},n.createBackground=function(){var e=r.createElement("div"),n=e.style;e.className="wmd-prompt-background",n.position="absolute",n.top="0",n.zIndex="1000",u.isIE?n.filter="alpha(opacity=50)":n.opacity="0.5";var i=t.getPageSize();return n.height=i[1]+"px",u.isIE?(n.left=r.documentElement.scrollLeft,n.width=r.documentElement.clientWidth):(n.left="0",n.width="100%"),r.body.appendChild(e),e},n.prompt=function(n,i,s){var o,a;i===undefined&&(i="");var f=function(e){var t=e.charCode||e.keyCode;t===27&&l(!0)},l=function(t){e.removeEvent(r.body,"keydown",f);var n=a.value;return t?n=null:(n=n.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(n)||(n="http://"+n)),o.parentNode.removeChild(o),s(n),!1},c=function(){o=r.createElement("div"),o.className="wmd-prompt-dialog",o.style.padding="10px;",o.style.position="fixed",o.style.width="400px",o.style.zIndex="1001";var s=r.createElement("div");s.innerHTML=n,s.style.padding="5px",o.appendChild(s);var c=r.createElement("form"),h=c.style;c.onsubmit=function(){return l(!1)},h.padding="0",h.margin="0",h.cssFloat="left",h.width="100%",h.textAlign="center",h.position="relative",o.appendChild(c),a=r.createElement("input"),a.type="text",a.value=i,h=a.style,h.display="block",h.width="80%",h.marginLeft=h.marginRight="auto",c.appendChild(a);var p=r.createElement("input");p.type="button",p.onclick=function(){return l(!1)},p.value="OK",h=p.style,h.margin="10px",h.display="inline",h.width="7em";var d=r.createElement("input");d.type="button",d.onclick=function(){return l(!0)},d.value="Cancel",h=d.style,h.margin="10px",h.display="inline",h.width="7em",c.appendChild(d),c.appendChild(p),e.addEvent(r.body,"keydown",f),o.style.top="50%",o.style.left="50%",o.style.display="block",u.isIE_5or6&&(o.style.position="absolute",o.style.top=r.documentElement.scrollTop+200+"px",o.style.left="50%"),r.body.appendChild(o),o.style.marginTop=-(t.getHeight(o)/2)+"px",o.style.marginLeft=-(t.getWidth(o)/2)+"px"};setTimeout(function(){c();var e=i.length;if(a.selectionStart!==undefined)a.selectionStart=0,a.selectionEnd=e;else if(a.createTextRange){var t=a.createTextRange();t.collapse(!1),t.moveStart("character",-e),t.moveEnd("character",e),t.select()}a.focus()},0)};var w=b.prototype;w.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",w.unwrap=function(e){var t=new i("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")},w.wrap=function(e,t){this.unwrap(e);var n=new i("(.{1,"+t+"})( +|$\\n?)","gm"),r=this;e.selection=e.selection.replace(n,function(e,t){return(new i("^"+r.prefixes,"")).test(e)?e:t+"\n"}),e.selection=e.selection.replace(/\s+$/,"")},w.doBold=function(e,t){return this.doBorI(e,t,2,"strong text")},w.doItalic=function(e,t){return this.doBorI(e,t,1,"emphasized text")},w.doBorI=function(e,t,n,r){e.trimWhitespace(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var s=/(\**$)/.exec(e.before)[0],o=/(^\**)/.exec(e.after)[0],u=Math.min(s.length,o.length);if(u>=n&&(u!=2||n!=1))e.before=e.before.replace(i("[*]{"+n+"}$",""),""),e.after=e.after.replace(i("^[*]{"+n+"}",""),"");else if(!e.selection&&o){e.after=e.after.replace(/^([*_]*)/,""),e.before=e.before.replace(/(\s?)$/,"");var a=i.$1;e.before=e.before+o+a}else{!e.selection&&!o&&(e.selection=r);var f=n<=1?"*":"**";e.before=e.before+f,e.after=f+e.after}return}
,w.stripLinkDefs=function(e,t){return e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,n,r,i,s){return t[n]=e.replace(/\s*$/,""),i?(t[n]=e.replace(/["(](.+?)[")]$/,""),i+s):""}),e},w.addLinkDef=function(e,t){var n=0,r={};e.before=this.stripLinkDefs(e.before,r),e.selection=this.stripLinkDefs(e.selection,r),e.after=this.stripLinkDefs(e.after,r);var i="",s=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,o=function(e){n++,e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+n+"]:"),i+="\n"+e},u=function(e,t,i,a,f,l){return i=i.replace(s,u),r[f]?(o(r[f]),t+i+a+n+l):e};e.before=e.before.replace(s,u),t?o(t):e.selection=e.selection.replace(s,u);var a=n;return e.after=e.after.replace(s,u),e.after&&(e.after=e.after.replace(/\n*$/,"")),e.after||(e.selection=e.selection.replace(/\n*$/,"")),e.after+="\n\n"+i,a},w.doLinkOrImage=function(e,t,r){e.trimWhitespace(),e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var i;if(!(e.endTag.length>1&&e.startTag.length>0)){e.selection=e.startTag+e.selection+e.endTag,e.startTag=e.endTag="";if(/\n\n/.test(e.selection)){this.addLinkDef(e,null);return}var s=this,o=function(n){i.parentNode.removeChild(i);if(n!==null){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var o=" [999]: "+E(n),u=s.addLinkDef(e,o);e.startTag=r?"![":"[",e.endTag="]["+u+"]",e.selection||(r?e.selection="enter image description here":e.selection="enter link description here")}t()};return i=n.createBackground(),r?this.hooks.insertImageDialog(o)||n.prompt(f,l,o):n.prompt(a,c,o),!0}e.startTag=e.startTag.replace(/!?\[/,""),e.endTag="",this.addLinkDef(e,null)},w.doAutoindent=function(e,t){var n=this,r=!1;e.before=e.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),!e.selection&&!/^[ \t]*(?:\n|$)/.test(e.after)&&(e.after=e.after.replace(/^[^\n]*/,function(t){return e.selection=t,""}),r=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(e.before)&&n.doList&&n.doList(e),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(e.before)&&n.doBlockquote&&n.doBlockquote(e),/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&n.doCode&&n.doCode(e),r&&(e.after=e.selection+e.after,e.selection="")},w.doBlockquote=function(e,t){e.selection=e.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(t,n,r,i){return e.before+=n,e.after=i+e.after,r}),e.before=e.before.replace(/(>[ \t]*)$/,function(t,n){return e.selection=n+e.selection,""}),e.selection=e.selection.replace(/^(\s|>)+$/,""),e.selection=e.selection||"Blockquote";var n="",r="",i;if(e.before){var s=e.before.replace(/\n$/,"").split("\n"),u=!1;for(var a=0;a<s.length;a++){var f=!1;i=s[a],u=u&&i.length>0,/^>/.test(i)?(f=!0,!u&&i.length>1&&(u=!0)):/^[ \t]*$/.test(i)?f=!0:f=u,f?n+=i+"\n":(r+=n+i,n="\n")}/(^|\n)>/.test(n)||(r+=n,n="")}e.startTag=n,e.before=r,e.after&&(e.after=e.after.replace(/^\n?/,"\n")),e.after=e.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(t){return e.endTag=t,""});var l=function(t){var n=t?"> ":"";e.startTag&&(e.startTag=e.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})),e.endTag&&(e.endTag=e.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"}))};/^(?![ ]{0,3}>)/m.test(e.selection)?(this.wrap(e,o.lineLength-2),e.selection=e.selection.replace(/^/gm,"> "),l(!0),e.skipLines()):(e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(e),l(!1),!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag&&(e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag&&(e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n"))),e.selection=this.hooks.postBlockquoteCreation(e.selection),/\n/.test(e.selection)||(e.selection=e.selection.replace(/^(> *)/,function(t,n){return e.startTag+=n,""}))},w.doCode=function(e,t){var n=/\S[ ]*$/.test(e.before),r=/^[ ]*\S/.test(e.after);if(!r&&!n||/\n/.test(e.selection)){e.before=e.before.replace(/[ ]{4}$/,function(t){return e.selection=t+e.selection,""});var i=1,s=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&(i=0),/^\n(\t|[ ]{4,})/.test(e.after)&&(s=0),e.skipLines(i,s),e.selection?/^[ ]{0,3}\S/m.test(e.selection)?/\n/.test(e.selection)?e.selection=e.selection.replace(/^/gm,"    "):e.before+="    ":e.selection=e.selection.replace(/^[ ]{4}/gm,""):(e.startTag="    ",e.selection="enter code here")}else e.trimWhitespace(),e.findTags(/`/,/`/),!e.startTag&&!e.endTag?(e.startTag=e.endTag="`",e.selection||(e.selection="enter code here")):e.endTag&&!e.startTag?(e.before+=e.endTag,e.endTag=""):e.startTag=e.endTag=""},w.doList=function(e,t,n){var r=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,s=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,u="-",a=1,f=function(){var e;return n?(e=" "+a+". ",a++):e=" "+u+" ",e},l=function(e){return n===undefined&&(n=/^\s*\d/.test(e)),e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(e){return f()}),e};e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),e.before&&!/\n$/.test(e.before)&&!/^\n/.test(e.startTag)&&(e.before+=e.startTag,e.startTag="");if(e.startTag){var c=/\d+[.]/.test(e.startTag);e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(e),e.skipLines(),c&&(e.after=e.after.replace(s,l));if(n==c)return}var h=1;e.before=e.before.replace(r,function(e){return/^\s*([*+-])/.test(e)&&(u=i.$1),h=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.selection||(e.selection="List item");var p=f(),d=1;e.after=e.after.replace(s,function(e){return d=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.trimWhitespace(!0),e.skipLines(h,d,!0),e.startTag=p;var v=p.replace(/./g," ");this.wrap(e,o.lineLength-v.length),e.selection=e.selection.replace(/\n/g,"\n"+v)},w.doHeading=function(e,t){e.selection=e.selection.replace(/\s+/g," "),e.selection=e.selection.replace
(/(^\s+|\s+$)/g,"");if(!e.selection){e.startTag="## ",e.selection="Heading",e.endTag=" ##";return}var n=0;e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(n=i.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(n=1),/-+/.test(e.endTag)&&(n=2),e.startTag=e.endTag="",e.skipLines(1,1);var r=n==0?2:n-1;if(r>0){var s=r>=2?"-":"=",u=e.selection.length;u>o.lineLength&&(u=o.lineLength),e.endTag="\n";while(u--)e.endTag+=s}},w.doHorizontalRule=function(e,t){e.startTag="----------\n",e.selection="",e.skipLines(2,1,!0)}}(),function(e){e.fn.vidOverlay=function(){e(this).find(".video-overlay").click(function(){var t=e(this).next();t.fadeIn("slow");var n=e(t).find("iframe"),r=n.attr("src");n.attr("src",r+"&autoplay=1"),e(this).hide()})}}(jQuery),function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function r(t,n){var i=function(){},s=this,o={autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,deferRequestBy:0,params:{},formatResult:r.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:i,onSearchComplete:i,onSearchError:i,containerClass:"autocomplete-suggestions siteSearch-autocomplete",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(e,t,n){return e.value.toLowerCase().indexOf(n)!==-1},paramName:"query",transformResult:function(t){return typeof t=="string"?e.parseJSON(t):t}};s.element=t,s.el=e(t),s.suggestions=[],s.badQueries=[],s.selectedIndex=-1,s.currentValue=s.element.value,s.intervalId=0,s.cachedResponse={},s.onChangeInterval=null,s.onChange=null,s.isLocal=!1,s.suggestionsContainer=null,s.options=e.extend({},o,n),s.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},s.hint=null,s.hintValue="",s.selection=null,s.initialize(),s.setOptions(n)}var t=function(){return{escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}}}(),n={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};r.utils=t,e.Autocomplete=r,r.formatResult=function(e,n){var r="("+t.escapeRegExChars(n)+")";return e.value.replace(new RegExp(r,"gi"),"<strong>$1</strong>")},r.prototype={killerFn:null,initialize:function(){var t=this,n="."+t.classes.suggestion,i=t.classes.selected,s=t.options,o;t.element.setAttribute("autocomplete","off"),t.suggestionsContainer=r.utils.createNode(s.containerClass),o=e(t.suggestionsContainer),o.appendTo(s.appendTo),s.width!=="auto"&&o.width(s.width),o.on("mouseover.autocomplete",n,function(){t.activate(e(this).data("index"))}),o.on("mouseout.autocomplete",function(){t.selectedIndex=-1,o.children("."+i).removeClass(i)}),o.on("click.autocomplete",n,function(){t.select(e(this).data("index"))}),t.fixPosition(),t.fixPositionCapture=function(){t.visible&&t.fixPosition()},e(window).on("resize.autocomplete",t.fixPositionCapture),t.el.on("keydown.autocomplete",function(e){t.onKeyPress(e)}),t.el.on("keyup.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("blur.autocomplete",function(){o.is(":hover")||t.onBlur()}),t.el.on("focus.autocomplete",function(){t.onFocus()}),t.el.on("change.autocomplete",function(e){t.onKeyUp(e)})},onFocus:function(){var e=this;e.fixPosition(),e.options.minChars<=e.el.val().length&&e.onValueChange()},onBlur:function(){this.hide()},setOptions:function(t){var n=this,r=n.options;e.extend(r,t),n.isLocal=e.isArray(r.lookup),n.isLocal&&(r.lookup=n.verifySuggestionsFormat(r.lookup)),e(n.suggestionsContainer).css({width:r.width+"px","z-index":r.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var e=this;e.disabled=!0,e.currentRequest&&e.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var t=this,n,r={},i,s,o;if(t.options.appendTo!=="body")return;n=t.el.offset(),s=[n.left+t.el.outerWidth(),n.top+t.el.outerHeight()],o=[s[0]-e(t.suggestionsContainer).outerWidth(),s[1]],r.top=o[1]+"px",r.left=o[0]>=1?o[0]+"px":0,e(t.suggestionsContainer).css(r)},isCursorAtEnd:function(){var e=this,t=e.el.val().length,n=e.element.selectionStart,r;return typeof n=="number"?n===t:document.selection?(r=document.selection.createRange(),r.moveStart("character",-t),t===r.text.length):!0},onKeyPress:function(e){var t=this;if(!t.disabled&&!t.visible&&e.which===n.DOWN&&t.currentValue){t.suggest();return}if(t.disabled||!t.visible)return;switch(e.which){case n.ESC:t.el.val(t.currentValue),t.hide();break;case n.RIGHT:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case n.TAB:if(t.hint&&t.options.onHint){t.selectHint();return}break;case n.RETURN:if(t.selectedIndex===-1){t.hide();return}t.select(t.selectedIndex);if(e.which===n.TAB&&t.options.tabDisabled===!1)return;break;case n.UP:t.moveUp();break;case n.DOWN:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()},onKeyUp:function(e){var t=this;if(t.disabled)return;switch(e.which){case n.UP:case n.DOWN:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(t.findBestHint(),t.options.deferRequestBy>0?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())},onValueChange:function(){var t=this,n=t.options,r=t.el.val(),i=t.getQuery(r),s;t.selection&&(t.selection=null,(n.onInvalidateSelection||e.noop).call(t.element)),clearInterval(t.onChangeInterval),t.currentValue=r,t.selectedIndex=-1;if(n.triggerSelectOnValidInput){s=t.findSuggestionIndex(i);if(s!==-1){t.select(s);return}}i.length<n.minChars?t.hide():t.getSuggestions(i)},findSuggestionIndex:function(t){var n=this,r=-1,i=t.toLowerCase();return e.each(n.suggestions,function(e,t){if(t.value.toLowerCase()===i)return r=e,!1
}),r},getQuery:function(t){var n=this.options.delimiter,r;return n?(r=t.split(n),e.trim(r[r.length-1])):t},getSuggestionsLocal:function(t){var n=this,r=n.options,i=t.toLowerCase(),s=r.lookupFilter,o=parseInt(r.lookupLimit,10),u;return u={suggestions:e.grep(r.lookup,function(e){return s(e,t,i)})},o&&u.suggestions.length>o&&(u.suggestions=u.suggestions.slice(0,o)),u},getSuggestions:function(t){var n,r=this,i=r.options,s=i.serviceUrl,o,u;i.params[i.paramName]=t,o=i.ignoreParams?null:i.params,r.isLocal?n=r.getSuggestionsLocal(t):(e.isFunction(s)&&(s=s.call(r.element,t)),u=s+"?"+e.param(o||{}),n=r.cachedResponse[u]);if(n&&e.isArray(n.suggestions))r.suggestions=n.suggestions,r.suggest();else if(!r.isBadQuery(t)){if(i.onSearchStart.call(r.element,i.params)===!1)return;r.currentRequest&&r.currentRequest.abort(),e.type(s)==="string"?r.currentRequest=e.ajax({url:s,data:o,type:i.type,dataType:i.dataType}):e.type(s)==="object"&&(r.currentRequest=s),r.currentRequest.done(function(e){var n;r.currentRequest=null,n=i.transformResult(e),r.processResponse(n,t,u),i.onSearchComplete.call(r.element,t,n.suggestions)}).fail(function(e,n,s){i.onSearchError.call(r.element,t,e,n,s)})}},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;var t=this.badQueries,n=t.length;while(n--)if(e.indexOf(t[n])===0)return!0;return!1},hide:function(){var t=this;t.visible=!1,t.selectedIndex=-1,e(t.suggestionsContainer).hide(),t.signalHint(null)},suggest:function(){if(this.suggestions.length===0){this.hide();return}var t=this,n=t.options,r=n.formatResult,i=t.getQuery(t.currentValue),s=t.classes.suggestion,o=t.classes.selected,u=e(t.suggestionsContainer),a=n.beforeRender,f="",l,c;if(n.triggerSelectOnValidInput){l=t.findSuggestionIndex(i);if(l!==-1){t.select(l);return}}e.each(t.suggestions,function(e,t){f+='<div class="'+s+'" data-index="'+e+'">'+r(t,i)+"</div>"}),n.width==="auto"&&(c=t.el.outerWidth()-2,u.width(c>0?c:300)),u.html(f),n.autoSelectFirst&&(t.selectedIndex=0,u.children().first().addClass(o)),e.isFunction(a)&&a.call(t.element,u),u.show(),t.visible=!0,t.findBestHint()},findBestHint:function(){var t=this,n=t.el.val().toLowerCase(),r=null;if(!n)return;e.each(t.suggestions,function(e,t){var i=t.value.toLowerCase().indexOf(n)===0;return i&&(r=t),!i}),t.signalHint(r)},signalHint:function(t){var n="",r=this;t&&(n=r.currentValue+t.value.substr(r.currentValue.length)),r.hintValue!==n&&(r.hintValue=n,r.hint=t,(this.options.onHint||e.noop)(n))},verifySuggestionsFormat:function(t){return t.length&&typeof t[0]=="string"?e.map(t,function(e){return{value:e,data:null}}):t},processResponse:function(e,t,n){var r=this,i=r.options;e.suggestions=r.verifySuggestionsFormat(e.suggestions),i.noCache||(r.cachedResponse[n]=e,i.preventBadQueries&&e.suggestions.length===0&&r.badQueries.push(t));if(t!==r.getQuery(r.currentValue))return;r.suggestions=e.suggestions,r.suggest()},activate:function(t){var n=this,r,i=n.classes.selected,s=e(n.suggestionsContainer),o=s.children();return s.children("."+i).removeClass(i),n.selectedIndex=t,n.selectedIndex!==-1&&o.length>n.selectedIndex?(r=o.get(n.selectedIndex),e(r).addClass(i),r):null},selectHint:function(){var t=this,n=e.inArray(t.hint,t.suggestions);t.select(n)},select:function(e){var t=this;t.onSelect(e)},moveUp:function(){var t=this;if(t.selectedIndex===-1)return;if(t.selectedIndex===0){e(t.suggestionsContainer).children().first().removeClass(t.classes.selected),t.selectedIndex=-1,t.el.val(t.currentValue),t.findBestHint();return}t.adjustScroll(t.selectedIndex-1)},moveDown:function(){var e=this;if(e.selectedIndex===e.suggestions.length-1)return;e.adjustScroll(e.selectedIndex+1)},adjustScroll:function(t){var n=this,r=n.activate(t),i,s,o,u=25;if(!r)return;i=r.offsetTop,s=e(n.suggestionsContainer).scrollTop(),o=s+n.options.maxHeight-u,i<s?e(n.suggestionsContainer).scrollTop(i):i>o&&e(n.suggestionsContainer).scrollTop(i-n.options.maxHeight+u),n.signalHint(null)},onSelect:function(t){var n=this,r=n.options.onSelect,i=n.suggestions[t];n.currentValue=n.getValue(i.value),n.currentValue!==n.el.val()&&n.el.val(n.currentValue),n.signalHint(null),n.suggestions=[],n.selection=i,e.isFunction(r)&&r.call(n.element,i)},getValue:function(e){var t=this,n=t.options.delimiter,r,i;return n?(r=t.currentValue,i=r.split(n),i.length===1?e:r.substr(0,r.length-i[i.length-1].length)+e):e},dispose:function(){var t=this;t.el.off(".autocomplete").removeData("autocomplete"),e(window).off("resize.autocomplete",t.fixPositionCapture),e(t.suggestionsContainer).remove()}},e.fn.autocomplete=function(t,n){var i="autocomplete";return arguments.length===0?this.first().data(i):this.each(function(){var s=e(this),o=s.data(i);typeof t=="string"?o&&typeof o[t]=="function"&&o[t](n):(o&&o.dispose&&o.dispose(),o=new r(this,t),s.data(i,o))})}}),$(document).ready(function(){function r(e){return"/search/lookahead/"}function i(e){var t=typeof e=="string"?$.parseJSON(e):e;return{suggestions:$.map(t.product_suggest[0].options,function(e){return{value:e.payload.title,data:e.payload}})}}function s(e){var t=e.data,n=t.artist_name||t.artist_username,r="https://dov5cor25da49.cloudfront.net/products/"+t.product_id+"/100x100design_01.jpg",i;return n=n?"By "+n:"",i='<div style="min-height:50px;"><div style="float:left"><img src="'+r+'" class="photo" alt="" width="50" height="50"></div>'+'<div class="img-text"><strong>'+e.value+"</strong><span>"+n+"</span></div>"+"</div>",i}var e=null,t=$(".search-dropdown"),n=$("#search_form_page");$("#search_form").on("submit",function(e){try{ga("send","event","Search","primary search bar","form submitted")}catch(t){}}),e=t.autocomplete({serviceUrl:r,transformResult:i,formatResult:s,width:300,tabDisabled:!0,zIndex:899,noCache:!1,triggerSelectOnValidInput:!1,preventBadQueries:!1,deferRequestBy:100,onSelect:function(e,t){try{ga("send","event","Search","primary search bar","product selected")}catch(n){}window.location="/product/"+e.data.product_id},onSearchStart:function(){var e=$(this).parents("form");e.find("button i.fa")
.removeClass("fa-search").addClass("fa-spinner")},onSearchComplete:function(){var e=$(this).closest("form");e.find("button i.fa").addClass("fa-search").removeClass("fa-spinner")},onSearchError:function(){var e=$(this).closest("form");e.find("button i.fa").addClass("fa-search").removeClass("fa-spinner")}})}),$(document).ready(function(){$("body").addClass("js"),$(document).delegate(".submenu-link","click",function(e){e.preventDefault();var t=$(this),n=$(t.attr("href")),r=t.data("message");t.hasClass("active")?(t.removeClass("active").text(r),n.removeClass("active")):(t.addClass("active").text("Close"),n.addClass("active"))}),$(document).delegate("menu.vertical li a","click",function(e){var t=$(this),n=t.parent("li"),r=n.find("ul:first, > ol:first"),i=t.closest("menu.vertical"),s=i.find("ul:first > li.selected, ol:first > li.selected"),o=s.find("> ul, > ol");r.length&&s.length&&(e.preventDefault(),o.length?o.is(":visible")?(o.css({display:"block"}),s.removeClass("selected"),o.slideUp()):o.slideDown():s.removeClass("selected")),r.length&&!n.is(s)&&(e.preventDefault(),r.css({display:"none"}),n.addClass("selected"),r.slideDown())})}),$(function(){function i(){r.addClass("animated shake"),setTimeout(function(){r.removeClass("shake")},900)}function s(e){e.preventDefault();var n=$("#users-email").val();if(n!==""){var r=loom.resetPassword(n);t.addClass("operation-in-progress"),r.done(function(){$(".resetting-password--success").addClass("working")}),r.fail(function(e,n){if(e.status==404||n=="Not Found")t.removeClass("operation-in-progress"),$("resetting-password").addClass("th-removed"),i(),setTimeout(function(){$("#users-email").addClass("bad-input").val("").attr("placeholder","That email is incorrect"),$(".error-container").removeClass("th-removed").addClass("alerting").html("<p>Please enter a valid email</p>")},650),setTimeout(function(){$("#users-email").addClass("bad-input").val("").attr("placeholder","That email is incorrect"),$(".error-container").removeClass("alerting").html("")},5e3);e.status==500&&alert("We're sorry this request cannot be completed, please try again later.")})}else i(),setTimeout(function(){$("#users-email").addClass("bad-input").attr("placeholder","Your email is required")},850)}var e=$(".recover-password"),t=$(".forgot-form"),n=$("error-container"),r=$(".forgot");e.on("click",s)}),
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
function(e){typeof define=="function"&&define.amd?define(["jquery"],e):typeof exports=="object"?module.exports=e(require("jquery")):e(jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function r(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function s(e){e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(t," ")),u.json?JSON.parse(e):e}catch(n){}}function o(t,n){var r=u.raw?t:s(t);return e.isFunction(n)?n(r):r}var t=/\+/g,u=e.cookie=function(t,s,a){if(arguments.length>1&&!e.isFunction(s)){a=e.extend({},u.defaults,a);if(typeof a.expires=="number"){var f=a.expires,l=a.expires=new Date;l.setMilliseconds(l.getMilliseconds()+f*864e5)}return document.cookie=[n(t),"=",i(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=t?undefined:{},h=document.cookie?document.cookie.split("; "):[],p=0,d=h.length;for(;p<d;p++){var v=h[p].split("="),m=r(v.shift()),g=v.join("=");if(t===m){c=o(g,s);break}!t&&(g=o(g))!==undefined&&(c[m]=g)}return c};u.defaults={},e.removeCookie=function(t,n){return e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t)}}),function(){$(document).ready(function(){var e=$("#facebook_form"),t='<input type="hidden" value="'+$.cookie("THDLSS_uuid")+'" name="uuid">';e.prepend(t)})}();
