var delta=window.delta||{};delta.LoginWidget={dockedMainDivId:"#loginwidget.bottomNav ",emailDisableModalTitle:"Protecting your Skymiles account",emailDisableModalUrl:"/widgetnav/pages/custlogin/emailDisableModal.jsp",formSubmitted:null,hasPasswordSession:null,headerMainDivId:"#loginwidgetHeader ",homeMainDivId:"#loginwidget.homepage ",isCutoverPhase:null,isDebugEnabled:!0,isHomePage:DeltaUtils.isHomePage(),isInitialized:!1,loginPageMainDivId:"#loginwidgetLoginPage ",loginPwdDialogContent:"Your password is a secure way to access your My Delta account. When creating a password, you may use a combination of letters and numbers, with at least one number and one upper case letter required. Your password must be 6-20 characters long and cannot be a SkyMiles number, email address or username.",loginSec:"",loginSQADialogContent:"Please answer your security questions to establish a new password.",mainDivId:"",modalSecurityQuestionContent:"CREATE SECURITY QUESTIONS",spanArrowImg:'<span class="arrowImg"/>',timerLastName:null,addCommas:function(a){a+="",x1=a;for(var b=/(\d+)(\d{3})/;b.test(x1);)x1=x1.replace(b,"$1,$2");return x1},calculatePosition:function(a){try{if($("#nav-widget-container")){var b=$("#nav-widget-container").height();$(delta.LoginWidget.mainDivId+a).css("bottom",b)}else{{var c=$(delta.LoginWidget.mainDivId+"#login").position(),d=($(delta.LoginWidget.mainDivId+"#login").offset(),$(delta.LoginWidget.mainDivId+a).height()),e=c.top-d;c.left}$(delta.LoginWidget.mainDivId+a).offset({top:e})}}catch(f){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in calculatePosition=> "+f)}},callbackDashBoard:function(a){try{var b=CustomerInfo.isLoggedIn();if(null!=b&&1==b)try{if(""==delta.LoginWidget.loginSec){delta.LoginWidget.getLoggedInDataCallback(a);try{DeltaUtils.refreshloginTimeout()}catch(c){}}}catch(d){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in callbackDashBoard(loggedIn)=> "+d)}else{if(null==b||0!=b)return setOmnitureProp("logged out"),!1;try{delta.LoginWidget.doModals();var e=delta.LoginWidget.mainDivId,f=delta.LoginWidget.loginSec,g=CustomerInfo.getSkyMilesNumber();void 0!=g&&null!=g&&"null"!=g&&""!=g&&($(e+"#loginForm"+f).find("input[name=usernm]").val(g),$(e+"#lblUser_Nm"+f).css("display","none"))}catch(d){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in callbackDashBoard(NotloggedIn)=> "+d)}}}catch(d){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in callbackDashBoard=> "+d)}},callDialogModal:function(a,b,c,d){try{if(""==delta.LoginWidget.loginSec||"_LoginPage"==delta.LoginWidget.loginSec){var e={autoOpen:!1,title:a,width:b,resizable:!1,draggable:!1,modal:!0,minHeight:50},f=!0;-1!=c.indexOf("cpwd.action")&&""==delta.LoginWidget.loginSec&&void 0!=CustomerInfo.getSkyMilesNumber()&&null!=CustomerInfo.getSkyMilesNumber()&&""!=CustomerInfo.getSkyMilesNumber()&&(f=!1),$("#loginDlg").bind("dialogclose",function(){$("#cpwdForm").length>0&&document.cpwdForm.submit()}),f&&$("#loginDlg").load(c,function(){$("#loginDlg").dialog(e).dialog("open"),void 0!=delta.LoginWidget.hasPasswordSession&&null!=delta.LoginWidget.hasPasswordSession&&(delta.LoginWidget.hasPasswordSession?($(".ui-dialog").addClass("createPinPwdDlgWidth"),$("div.createPinPwdDlgWidth").find("button#resetPwdNow").first().blur()):delta.LoginWidget.isCutoverPhase?($(".ui-dialog").addClass("createCutoverPwdDlgWidth"),$("div.createCutoverPwdDlgWidth div.ui-dialog-titlebar span#ui-dialog-title-loginDlg").html("Please Create a Password"),$("div.createCutoverPwdDlgWidth").find("button#createPwdNow").first().blur()):($(".ui-dialog").addClass("createPwdDlgWidth"),$("div.createPwdDlgWidth div.ui-dialog-titlebar span#ui-dialog-title-loginDlg").html("Please Create a Password"),$("div.createPwdDlgWidth").find("button#createPwdNow").first().blur()),delta.LoginWidget.hasPasswordSession=null),$("#loginCPWDTooltipclick").loginToolTip({clickIt:!0,tipContent:delta.LoginWidget.loginPwdDialogContent,closeTipBtn:"loginToolTipCloseBtn"}),$("#loginSQATooltipclick").loginToolTip({clickIt:!0,tipContent:delta.LoginWidget.loginSQADialogContent,closeTipBtn:"loginToolTipCloseBtn"});var a=c.indexOf("custlogin/sqa.action");-1!==a&&delta.LoginWidget.loadSQADropDowns(),DeltaUtils.initButtons(),delta.LoginWidget.chkError("","","modal"),delta.LoginWidget.handleRequiredClickEvents(c,d)})}else"_Header"==delta.LoginWidget.loginSec&&void 0!=CustomerInfo.getSkyMilesNumber()&&null!=CustomerInfo.getSkyMilesNumber()&&""!=CustomerInfo.getSkyMilesNumber()&&-1!=c.indexOf("cpwd.action")&&($("#loginDlg").bind("dialogclose",function(){$("#cpwdForm").length>0&&document.cpwdForm.submit()}),$("#loginDlg").load(c,function(){$("#loginDlg").dialog(e).dialog("open"),DeltaUtils.initButtons(),delta.LoginWidget.chkError("","","modal"),delta.LoginWidget.handleRequiredClickEvents(c,d)}))}catch(g){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in callDialogModal=> "+g)}},callNotMeAction:function(){try{$.ajax({url:"/custlogin/notMe.action",type:"POST",headers:{"cache-control":"no-cache"},dataType:"json",success:function(){delta.LoginWidget.doNotMeSuccess(""),delta.LoginWidget.isHomePage||($("#loginwidgetHeader").length&&delta.LoginWidget.doNotMeSuccess("_Header"),$("#loginwidgetLoginPage").length&&delta.LoginWidget.doNotMeSuccess("_LoginPage")),CustomerInfo.custData.rememberMeIndicator=!1}})}catch(a){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in callNotMeAction=> "+a)}},callRememberMe:function(a){try{var b,c,d=delta.LoginWidget.loginSec,e=delta.LoginWidget.mainDivId,f="<span>Welcome back,</span> ";"readCust"==a?(f+=null==CustomerInfo.getPreferredName()?CustomerInfo.getRememberMeFirstName():CustomerInfo.getPreferredName(),b=CustomerInfo.getRememberMeId(),c=CustomerInfo.getRememberMeLastName()):(f+=null==a.preferredName?a.rememberMeFirstName:a.preferredName,b=loginData.rememberMeID,c=loginData.rememberMeLastName);var g=b.match(/^[\d]{9,12}$/),h=b.match(/^[\w-]+(?:\.[\w-]+)*@([a-z0-9-]+\.)+[a-z]{2,13}$/i),i=h&&"undefined"!=typeof isEmailLoginEnabled&&"true"==isEmailLoginEnabled;g||"undefined"!=typeof isSMLoginOnly&&"false"==isSMLoginOnly&&(!h||i)?(f+="<span>!</span>  ",$(e+".showLoginLinks").hide(),$(e+".notMe").html(f),$(e+".showNotMe").show(),$("#lblUser_Nm"+d+",#lblLst_Nm"+d).hide(),$("#usernm"+d).val(b),$("#lastname"+d).val(c),$(e+".remember_me").attr("checked",!0)):delta.LoginWidget.callNotMeAction()}catch(j){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in callRememberMe=> "+j)}},callHomePageLogin:function(a){$(delta.LoginWidget.homeMainDivId+" #login").animate({width:a})},checkFormPostURL:function(){var a=window.location.hostname,b=delta.LoginWidget.loginSec;a!=loginHostServer&&(a.indexOf("delta.com")>=0||a.indexOf("localhost")>=0)&&(document.forms["lastNameForm"+b].action="https://"+a+"/custlogin/login.action")},checkIropStatus:function(){$.ajax({url:"/custlogin/getMoreInfo.action",type:"POST",headers:{"cache-control":"no-cache"},cache:!1,dataType:"json",success:function(a){a.irop&&!delta.LoginWidget.isHomePage&&$("#irop-indicator").show()}})},checkPasswd:function(a,b){function c(){$(a+"#pwd"+b).val().length>0&&($(a+".fixMe").hide(),clearInterval(d))}var d=setInterval(c,200)},chkError:function(a,b,c){try{var d=delta.LoginWidget.getLoginAbsPath(),e=d+"errors/custlogin/";if("modal"===c)a=CustomerInfo.hasError(),b=CustomerInfo.getErrorCode(),1==a?delta.LoginWidget.errorCount(b,"#javaError",e,c):$(".errorDivJavaError1").addClass("hideMe").removeClass("showMe");else{if("topLogin"!==c)return!1;if(1==a){var f=delta.LoginWidget.mainDivId;delta.LoginWidget.isHomePage||""!=delta.LoginWidget.loginSec?delta.LoginWidget.errorCount(b,f+".errorDivJavaError1",e,c):delta.LoginWidget.errorCount(b,f+".javaErr",e,c)}else $(".errorDivJavaError1").addClass("hideMe").removeClass("showMe")}}catch(g){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in chkError=> "+g)}},createErrorNotification:function(){try{$("#login-content-errors").html($(delta.LoginWidget.mainDivId+"#loginErrorContainer").html()),$("#login-content").css({position:"fixed",bottom:"70px",left:$("#nav-widget-user").offset().left+"px",display:"block",zIndex:1e4}),$("#login-content #login-content-errors *").show("slow",function(){}),$("#login-content #login-content-lastname").hide()}catch(a){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in createErrorNotification=> "+a)}},createLastNameNotification:function(a){try{var b=$("#login-content-lastname .overlabel"),c=$("#login-content-lastname input[name=lastname]");$("#login-content-lastname").html($("#lastNmForm").html()),$("#login-content").css({position:"fixed",bottom:"70px",left:$("#nav-widget-user").offset().left+"px",display:"block",zIndex:1e4}),$("#login-content #login-content-lastname *").show("slow",function(){$("#login-content-lastname").css("display","block"),a&&b.hide()}),$("#login-content #login-content-errors *").hide(),$("#login-content #login-content-errors").hide(),$("#loginwidget.bottomNav #submit-1").hide(),$("#login-content-lastname .lastNameDiv #loginnavlst").html("Enter Last Name"),b.click(function(){b.hide(),c.focus()}),c.focus(function(){b.hide()}).blur(function(){""==c.val()&&b.show()})}catch(d){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in createLastNameNotification=> "+d)}},displayLoginData:function(a){try{var b=delta.LoginWidget.loginSec;if($("#loggedIn").html($("#_displayLoggedInfo_tmpl").render(a)),delta.LoginWidget.isHomePage){$("#loggedIn").removeClass("bottomNav").addClass("homepage"),void 0!=a&&a.displayPwdWarning?($("#createPassWordWarningDiv").show(),$("#closeImage").on("click",function(){$.ajax({url:"/custlogin/getDashBrdData.action",type:"POST",cache:!1,dataType:"json",data:{updateWarningMsgInd:"Y"},success:function(){}}),$("#createPassWordWarningDiv").hide()})):void 0==a&&void 0!=loginData&&loginData.displayPwdWarning&&($("#createPassWordWarningDiv").show(),$("#closeImage").on("click",function(){$.ajax({url:"/custlogin/getDashBrdData.action",type:"POST",cache:!1,dataType:"json",data:{updateWarningMsgInd:"Y"},success:function(){}}),$("#createPassWordWarningDiv").hide()}));try{$("#userMedalLevel").length>0?($(".logoutInner").width(388),"none"!=$("#createPassWordWarningDiv").css("display")&&$("#createPassWordWarningDiv").addClass("userMedalLevelWarningDiv")):$(".logoutInner").width(314)}catch(c){}}else $("#loggedIn").removeClass("homepage").addClass("bottomNav"),$("#loggedIn.bottomNav").css("display","block"),delta.LoginWidget.showHeaderLoggedIn(!0),$("#header_logout").attr("href","/custlogin/logout.action");$(".loggedout").addClass("hideMe").removeClass("showMe"),$(".loggedin").removeClass("hideMe").addClass("showMe");var d=function(){var a=navigator.userAgent.toLowerCase();return{isWin2K:/windows nt 5.0/.test(a),isXP:/windows nt 5.1/.test(a),isVista:/windows nt 6.0/.test(a),isWin7:/windows nt 6.1/.test(a),isChrome:/ chrome/.test(a),isFirefox:/ firefox/.test(a),isIE:/ msie/.test(a),isSafari:/ safari/.test(a)}}();(d.isWin7&&d.isSafari||d.isWin7&&d.isFirefox||1==(d.isWin7&&d.isSafari))&&$("#loggedIn"+b+" .my-profile-link").css("width","54px"),(d.isWin7&&d.isChrome||d.isWin7&&d.isFirefox||1==(d.isWin7&&d.isSafari))&&($("div .fltLeft .sample .notPref .rightSpace10").css("width","366px"),$("fieldset .fltLeft .sub_container_profile .clrBoth .ssinfoSection .roundContainer").css("width","364px"),$("div .BotInner div .middle").css("width","350px"));var e=$(".logout-lnk").outerWidth(),f=$(".custlogin_userInfo").outerWidth(),g=e-51;e>51&&(g=f-g,$(".custlogin_userInfo").css({width:g+"px","line-height":"17px"}))}catch(c){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in displayLoginData=> "+c)}},doBrowserStuff:function(){var a="";if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))a="ipad";else if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var b=new Number(RegExp.$1);a="ie"+b}$("body").addClass(a)},doModals:function(){var a=CustomerInfo.hasError(),b=CustomerInfo.hasPassword(),c=CustomerInfo.hasSQA(),d=CustomerInfo.hasEmail(),e=CustomerInfo.getErrorCode(),f=null;null!=CustomerInfo.custData&&"undefined"!=typeof CustomerInfo.custData.hasUserNm&&(f=CustomerInfo.custData.hasUserNm);var g=CustomerInfo.getRememberMeIndicator(),h=delta.LoginWidget.getLoginAbsPath();$("#loginDlg").remove(),$("body").append('<div id="loginDlg" />'),delta.LoginWidget.showHeaderLoggedIn(!1),0==b&&null!=b?delta.LoginWidget.callDialogModal("START USING YOUR PASSWORD",505,h+"cpwd.action",""):0==c&&null!=c?delta.LoginWidget.callDialogModal("CREATE SECURITY QUESTIONS",300,h+"sqa.action",""):0==d&&null!=d?delta.LoginWidget.callDialogModal("Update Email ",300,h+"email.action",""):0==f&&null!=f?delta.LoginWidget.callDialogModal("UPDATE USERNAME",300,h+"usrnm.action",""):1==g&&null!=g?delta.LoginWidget.callRememberMe("readCust"):delta.LoginWidget.chkError(a,e,"topLogin")},doNotMeSuccess:function(a){$("#loginnav"+a+" .notMe").text(""),$("#loginnav"+a+" .showNotMe").css("display","none"),$("#loginnav"+a+" .showLoginLinks").css("display","block"),$("#lblUser_Nm"+a+", #lblLst_Nm"+a+", #lblPwd"+a).css("display","block"),$("#usernm"+a+", #pwd"+a+", #lastname"+a).val(""),$("#login"+a+" .rememberMe").val(!1),$("#login"+a+" .remember_me").attr("checked",!1)},doRememberMe:function(){var a=delta.LoginWidget.mainDivId;$(a+".remember_me").change(function(){$(a+".rememberMe").val($(this).is(":checked")?!0:!1),!$(this).is(":checked")&&CustomerInfo.getRememberMeIndicator()&&delta.LoginWidget.callNotMeAction()})},errorCount:function(a,b,c,d){try{var e=delta.LoginWidget.loginSec,f=CustomerInfo.getFormNameSubmitted();if(delta.LoginWidget.showHeaderLoggedIn(!1),(null==f||""==f)&&(f="LoginMain"),f.indexOf("Header")>=0&&""==e&&"modal"!=d&&delta.LoginWidget.loadHeaderSection(),""==e&&("LoginMain"==f||"modal"==d)||"_Header"==e&&"LoginHeader"==f||"_LoginPage"==e&&"LoginPage"==f){var g=a.split(","),h=delta.LoginWidget.mainDivId;for(i=0;i<g.length;i++){errorFileName="errorMsg"+g[i]+".html";var j=null,k="";if(k=delta.LoginWidget.isHomePage||""!=e?"error":"errBotomNav",j={ErrorClass:k,ErrorCode:g[i]},$(b).append($("#errorMsgTemplate").render(j)),"topLogin"===d)var l=h;else var l=".dlgContainer ";$(l+"#divErr"+g[i]).load(c+errorFileName,function(){if("topLogin"===d){if(delta.LoginWidget.isHomePage){$("#loginErrorContainer"+e).css("display","block"),$(h+".errorDivJavaError1").addClass("showMe").removeClass("hideMe");var a=$(h+".loginWrapper").width()+$(".errorDivJavaError1").width()+45;delta.LoginWidget.callHomePageLogin(a)}else""==e?(delta.LoginWidget.calculatePosition(".errorDivJavaError1"),delta.LoginWidget.createErrorNotification()):($("#loginErrorContainer"+e).css("display","block"),$(h+".errorDivJavaError1").addClass("showMe").removeClass("hideMe"),$("#javaErrMsgId_Header .errMsg").find(".loginHelpLink1").length>0&&$("#remDiv_Header").hide());$(h+"#submit-1").show(),$(h+"#loginForm"+e).find("input").val(""),$(h+"label.overlabel").overlabel(),$(h+".remember_me").attr("checked",!1),CustomerInfo.isAuthenticated()||($(h+"#loginForm"+e).find("input[name=usernm]").val(CustomerInfo.getSkyMilesNumber()),$(h+"#lblUser_Nm"+e).css("display","none"))}else $("#javaError").addClass("showMe").removeClass("hideMe")})}}}catch(m){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in errorCount=> "+m)}},finalFormSubmit:function(a,b,c){$(b)[0].formNameSubmitted.value=delta.LoginWidget.getFormNameSubmitted(b);var d=DeltaUtils.removeSpaces($(a+"#usernm"+c).val()),e=$(a+"#pwd"+c).val();$(b)[0].username.value=d,$(a+"#loginForm"+c+" .username").val(d),$(b)[0].password.value=e,$(a+"#loginForm"+c+" .password").val(e),"undefined"==typeof loginRefreshURL?(""==$(b)[0].refreshURL.value||null==$(b)[0].refreshURL.value)&&($(b)[0].refreshURL.value=window.location.href):($(a+".refreshURL").attr("value",loginRefreshURL),$(b)[0].refreshURL.value=loginRefreshURL);{var f=document.getElementById("custLoginParameter"),g=document.getElementById("smlogin_login");$("#custLoginParameter").val()}"undefined"!=typeof g&&null!=g&&"undefined"!=typeof f&&null!=f&&$(a+".BAUParams").attr("value",$("#custLoginParameter").val()),$(a+".rememberMe").val($(a+".remember_me").is(":checked")?!0:!1);var h=window.location.hostname;h!=loginHostServer&&(h.indexOf("delta.com")>=0||h.indexOf("localhost")>=0)&&($(b)[0].action="https://"+h+"/custlogin/login.action"),null!=CustomerInfo&&null!=CustomerInfo.custData&&"undefined"!=typeof CustomerInfo.custData.loggedIn&&CustomerInfo.custData.loggedIn||(b=="#lastNameForm"+c?delta.LoginWidget.isHomePage||"#lastNameForm"!=b?"#lastNameForm_LoginPage"==b?document.lastNameForm_LoginPage.submit():"#lastNameForm_Header"==b?document.lastNameForm_Header.submit():document.lastNameForm.submit():($(a+".rememberMe").val($(a+".remember_me").is(":checked")?!0:!1),$("#login-content #lastNameForm").submit()):"#loginForm_LoginPage"===b?document.loginForm_LoginPage.submit():"#loginForm_Header"===b?document.loginForm_Header.submit():document.loginForm.submit())},getCountryOrLanguageCookie:function(a,b,c){try{var d="",e="",f="",g="",h="",i="";f=null!=a&&a.length>0?a:"us",e=null!=b&&b.length>0?b:"en";var i=CookieUtils.get("pref");if(null===i&&(i="en-us"),d=i.split("-"),h=d[0].toLowerCase(),g=d[1].toLowerCase(),getIndFromLocalCookie=CookieUtils.get("lngInd"),f.toLowerCase()!=g||e.toLowerCase()!=h){$("#loginDlg").remove(),$("body").append('<div id="loginDlg" />');var j=delta.LoginWidget.getLoginAbsPath();0==c&&0==getIndFromLocalCookie&&(f.toLowerCase()!=g?delta.LoginWidget.callDialogModal("Country Settings",300,j+"countrysettings.action",""):e.toLowerCase()!=h&&delta.LoginWidget.callDialogModal("Language Settings",300,j+"languagesettings.action",""))}}catch(k){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in getCountryOrLanguageCookie=> "+k)}},getFormNameSubmitted:function(a){return a.indexOf("Header")>=0?"LoginHeader":a.indexOf("LoginPage")>=0?"LoginPage":"LoginMain"},getLoggedInDataCallback:function(a){try{if("false"==a.skymilesMember&&(a.skymilesMember=null),null!=a.medallionMemberDesc&&""!=a.medallionMemberDesc&&(-1!==a.medallionMemberDesc.indexOf("&#174")&&a.medallionMemberDesc(a.medallionMemberDesc.replace("&#174","")),-1!==a.medallionMemberDesc.indexOf("&#174;")&&(a.medallionMemberDesc=a.medallionMemberDesc.replace("&#174;",""))),null!=a.smBalance&&""!=a.smBalance&&(a.smBalance=delta.LoginWidget.addCommas(a.smBalance)),null==CustomerInfo.getMiddleName()&&CustomerInfo.setMiddleName(" "),delta.LoginWidget.displayLoginData(a),""==delta.LoginWidget.loginSec){null==CustomerInfo.getCountry()&&CustomerInfo.setCountry("us");var b=CustomerInfo.getCountry();null==CustomerInfo.getLanguage()&&CustomerInfo.setLanguage("en");var c=CustomerInfo.getLanguage();null==CustomerInfo.getLangPromptIndicator()&&CustomerInfo.setLangPromptIndicator(!1);var d=CustomerInfo.getLangPromptIndicator();delta.LoginWidget.getCountryOrLanguageCookie(b,c,d)}}catch(e){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in getLoggedInDataCallback=> "+e)}},getLoginAbsPath:function(){try{var a="/custlogin/";return-1!==a.indexOf("custlogin//")&&(a=a.replace("custlogin//","custlogin/")),-1!==a.indexOf("//custlogin")&&(a=a.replace("//custlogin","/custlogin")),a}catch(b){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("abs path..")}},getLoginInfo:function(){try{var a=delta.LoginWidget.loginSec,b=delta.LoginWidget.mainDivId;if("undefined"!=typeof loginData&&null!=loginData&&"undefined"!=typeof loginData.loggedIn&&loginData.loggedIn){try{""==a&&CustomerInfo.setData(loginData,"custData")}catch(c){}""==a&&(delta.LoginWidget.callbackDashBoard(loginData),$("#loggedIn"+a).removeClass("hideMe"))}else if("undefined"==typeof loginData||null==loginData||"undefined"==typeof loginData.loggedIn||loginData.loggedIn)delta.LoginWidget.getUserData();else{try{CustomerInfo.setData(loginData,"custData")}catch(c){}$(b).removeClass("hideMe"),delta.LoginWidget.showHeaderLoggedIn(!1),1==loginData.rememberMeIndicator&&delta.LoginWidget.callRememberMe(loginData)}}catch(c){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in getLoginInfo=> "+c)}},getSecQuestions:function(a,b,c){try{$.ajax({url:"/custlogin/getSQList.action",type:"POST",dataTye:"json",success:function(b){var d=a.options[a.selectedIndex].value,e=c.options[c.selectedIndex].value;c.options.length=0;for(var f=0;f<b.length;f++)c.options.length++,c.options[f].value=b[f].questionNumber,c.options[f].text=b[f].questionText,e==b[f].questionNumber&&(c.options[f].selected=!0);for(var g=1;g<b.length;g++)if(d==b[g].questionNumber){c.remove(g);break}}})}catch(d){1==LoginWidget.isDebugEnabled&&DeltaUtils.logMessage("remove selected values from DropDown")}},getUserData:function(){try{$.ajax({url:"/custlogin/getDashBrdData.action",type:"POST",headers:{"cache-control":"no-cache"},cache:!1,dataType:"json",success:function(a){delta.LoginWidget.handleUserData(a)}})}catch(a){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in getUserData=> "+a)}},handleFancyboxClickEvent:function(a,b){$(a+".fancybox").on("click",function(){try{var c;delta.LoginWidget.isHomePage||""!=b?(c=a+".errorDiv",$("#pwd"+b).blur(function(){$("#usernm"+b).valid()})):c="#ui-error-holder",delta.LoginWidget.validateLoginForm(c,a,b)}catch(d){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in handleFancyboxClickEvent=> "+d)}})},handleFieldLabels:function(){$("label.overlabel").overlabel().show()},handleLoginFormValidate:function(){var a=delta.LoginWidget.mainDivId,b=delta.LoginWidget.loginSec;delta.LoginWidget.handlePwdKeyEvent(a,b),delta.LoginWidget.handlePwdFocusEvent(a,b),delta.LoginWidget.handleRememberMeFocusEvent(a,b),delta.LoginWidget.handleUsernmKeyupEvent(a,b),delta.LoginWidget.handleUsernmClickEvent(a,b),delta.LoginWidget.handleUsernmFocusEvent(a,b),delta.LoginWidget.handleFancyboxClickEvent(a,b),delta.LoginWidget.lastNameSubmit(a,b)},handlePwdFocusEvent:function(a,b){$(a+"#pwd"+b).focus(function(){var c=$(a+"#usernm"+b).val(),d=$(a+"#pwd"+b).val(),e=delta.LoginWidget.isLastNameRequired(c,d);$("#loginErrorContainer"+b).hide(),$("#loginErrorContainer"+b+" .error").hide(),$(a+" .errorDivJavaError1").hide(),$(a+".errorLstRqd").hide();try{$("#pwd-1").addClass("empty")}catch(f){}if($("#dialog").has("#login-now-close")&&$("#dialog").is(":visible")&&$("#dialog").hide(),e){if(delta.LoginWidget.isHomePage&&!$(a+".lastNameDiv").is(":hidden")){var g=$(a+".lastNameDiv").outerWidth()+$(a+".loginWrapper").outerWidth()+20;delta.LoginWidget.callHomePageLogin(g)}}else if($(a+".lastNameDiv").hide(),$(a+" #submit-1"+b).show(),delta.LoginWidget.isHomePage){var g=$(a+".loginWrapper").outerWidth();delta.LoginWidget.callHomePageLogin(g)}else"_Header"==b?$("#remDiv_Header").show():""==b&&$("#lastNameForm .lastNameDiv").hide()}),$("#loginwidget.homepage #pwd").bind("focusout",function(){0==$("#loginwidget.homepage #pwd").val().length&&$("#pwd-1").removeClass("empty")}),$("#loginwidget.bottomNav #pwd, #loginwidget.bottomNav #usernm").bind("focusout",function(){$("#login-content .password").val($("#loginwidget.bottomNav #pwd").val()),$("#login-content .pwdType").val($(a+"#passwordType"+b).val()),$("#login-content .username").val($("#loginwidget.bottomNav #usernm").val()),$("#login-content .usernameType").val($("#loginwidget.bottomNav .usernameType"+b).val())})},handlePwdKeyEvent:function(a,b){$(a+"#pwd"+b).keydown(function(c){if(!c.shiftKey&&9==c.keyCode||13==c.keyCode){if(""==b&&!delta.LoginWidget.isHomePage&&$("#login-content #lastname").is(":visible"))return $("#login-content #lastname").focus(),!1;if($(a+"#lastname"+b).is(":visible"))return $(a+"#lastname"+b).focus(),!1}13==c.keyCode&&(c.preventDefault(),$("#submit1"+b).click())}),$(a+"#pwd"+b).keyup(function(){var c=$(a+"#usernm"+b).val(),d=$(a+"#pwd"+b).val(),e=delta.LoginWidget.isLastNameRequired(c,d);delta.LoginWidget.showLoginLastNameOnFly(a,b,e)}),$(a+"#pwd"+b).bind("keyup mouseup click",function(){$(a+"#pwd"+b).val().length>=1?$(a+"#lblPwd"+b).css("display","none"):$(a+"#lblPwd"+b).css("display","block")})},handleRememberMeFocusEvent:function(){$("#loginwidget.bottomNav  .remember_me").change(function(){$("#login-content .rememberMe").val($("#loginwidget.bottomNav .remember_me").is(":checked")?!0:!1)})},handleRequiredClickEvents:function(a,b){$("#loginDlg").on("click","#cancelLanguage",function(){$("#loginDlg").dialog("close")}),$("#loginDlg").on("click","#updateProfile",function(){try{var a=CustomerInfo.getCustomerId(),b=CustomerInfo.getSkyMilesNumber(),c=CookieUtils.get("pref");null===c&&(c="en-us");var d=c.split("-"),e=d[0].toLowerCase(),f={customerID:a,skymilesNumber:b,languageCode:e};delta.LoginWidget.updateProfileContryLang(f),$("#loginDlg").dialog("close")}catch(g){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in callDialogModal(updateProfile click event)=> "+g)}}),$("#loginDlg").on("click","#donotaskMe_language, #donotaskMe_country",function(){try{var a,b=CustomerInfo.getCustomerId(),c=CustomerInfo.getSkyMilesNumber(),d=null;$("#donotaskMe_language").is(":checked")||$("#donotaskMe_country").is(":checked")?(d=!0,a={customerID:b,skymilesNumber:c,promtIndicatorVal:!0}):(d=!1,a={customerID:b,skymilesNumber:c,promtIndicatorVal:!1}),delta.LoginWidget.updateProfileContryLang(a),document.cookie="lngInd="+d}catch(e){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("donotaskMe_language"==$(this).attr("id")?"Exception in callDialogModal(donotaskMe_language click event)=> "+e:"Exception in callDialogModal(donotaskMe_country click event)=> "+e)}}),$("#loginDlg").on("click","#updateCountry",function(){window.location.href="/profile/index.action"}),$("#loginDlg").on("click","#cancelCountry",function(){$("#loginDlg").dialog("close")}),$("#c_reatePwd").click(function(){$("#submitButton").val("StorePassword"),$("#cpwdForm").validate({submitHandler:function(){document.cpwdForm.submit()},rules:{newPassword:{createPassword:!0},newConfirmPassword:{comparePassword:!0}},errorClass:"errValidation",errorElement:"div",wrapper:"div"})}),$("#c_reateEmail").click(function(){$("#emailForm").validate({submitHandler:function(){document.emailForm.submit()},rules:{email:{chkEmailId:!0},confirmEmail:{chkEmailId:!0,compareEmail:!0}},errorClass:"errValidation",errorElement:"div",wrapper:"div"})}),$("#c_reateSqa").click(function(){$("#sqaForm").validate({submitHandler:function(){document.sqaForm.submit()},rules:{question1:{chkQuestion:!0},answer1:{chkAnswer:!0},question2:{chkQuestion:!0},answer2:{chkAnswer:!0,checkSameAnswer:!0}},errorElement:"div",errorClass:"errValidation"})}),$("#c_userName").click(function(){$("#cUserName").validate({submitHandler:function(){document.cUserName.submit()},rules:{newUserName:{createUsername:!0}},errorClass:"errValidation",errorElement:"div",wrapper:"div"})}),$("#newUserName").keypress(function(){var a={userName:$(this).val(),primaryEmailAddress:!0};$.ajax({url:"profile/userNameLookUp.action",type:"POST",data:a,datatype:"json",headers:{"cache-control":"no-cache"},success:function(a){if($("#javaError").empty(),"FAIL"==a.faultDo.status){var b=a.faultDo.error.errorCode;$("#javaError").load("profile/errors/profile/PRF"+b+".html").show()}else if("TRUE"==a.errorMessage||"true"==a.errorMessage){var b="1073";$("#javaError").load("profile/errors/profile/PRF"+b+".html").show()}else("FALSE"==a.errorMessage||"false"==a.errorMessage)&&$("#javaError").html("Username available.").show().fadeOut(3e3)}})}),$("#back").click(function(){return-1!==b.indexOf("/custlogin/sqa.action")?(delta.LoginWidget.callDialogModal(delta.LoginWidget.modalSecurityQuestionContent,300,b,""),!1):-1!==b.indexOf("/custlogin/email.action")?(delta.LoginWidget.callDialogModal("Enter Valid Email ",300,b,""),!1):void 0}),$("#continue").click(function(){$("#loginDlg").dialog("close")}),$("#asGuest").click(function(){delta.LoginWidget.hasPasswordSession?delta.LoginWidget.setPasswordDialogOmnitureProp("continue as guest","pin to password"):delta.LoginWidget.setPasswordDialogOmnitureProp("continue without logging In","pin to password"),$("#cpwdForm").length>0&&document.cpwdForm.submit()}),$("#remindMeLater,#remindMeLaterEmail").click(function(){var b=delta.LoginWidget.getLoginAbsPath();return"remindMeLaterEmail"==$(this).attr("id")?delta.LoginWidget.callDialogModal("SURE YOU WANT TO WAIT?",300,b+"rusure.action?flag=email",a):delta.LoginWidget.callDialogModal("SURE YOU WANT TO WAIT?",300,b+"rusure.action?flag=sqa",a),!1}),$("#loginDlg").on("click","#remindMeLaterPwd",function(){$("#submitButton").val("AnswerLater"),delta.LoginWidget.setPasswordDialogOmnitureProp("i'll use my password next time","pin to password"),$("#loginDlg").dialog("close"),document.cpwdForm.submit()}),$("#loginDlg").on("click","#createPwdNow, #resetPwdNow",function(){"createPwdNow"==this.id?delta.LoginWidget.setPasswordDialogOmnitureProp("create password now","pin to password"):delta.LoginWidget.setPasswordDialogOmnitureProp("reset password","pin to password"),document.cpwdForm.action="/custlogin/updatePasswordFromLogin.action",document.cpwdForm.submit()}),$("#loginDlg").on("click","#usePwdNow",function(){$.post("/custlogin/removeSession.action",function(){$("#loginDlg #loginHelpPageName").val(""),delta.LoginWidget.setPasswordDialogOmnitureProp("login with password","pin to password"),document.cpwdForm.action="/custlogin/loginPage.action",document.cpwdForm.submit()})}),$("#loginDlg").on("click","#continueToLogin",function(){delta.LoginWidget.setEmailDialogOmnitureOnClick("i'll log in with my username or skymiles next time","email to username"),$("#loginDlg").dialog("close")}),$("#loginDlg").on("click","#redirectProfileUsername",function(){delta.LoginWidget.setEmailDialogOmnitureOnClick("create or update username now","email to username")})},handleTemplates:function(){$.views.allowCode=!0,$.views.registerTags({isMillionMiler:function(){if(this.data.millionMiler&&(delta.LoginWidget.isHomePage||"_LoginPage"==delta.LoginWidget.loginSec)){var a=this.data.millionMilerTier;a=10>a&&a.length<2?"0"+a:a;var b={Tier:a},c=$("#memberTypeTemplate").render(b);return c}return""},isPreferrednamePresent:function(){return null==this.data.preferredName?(this.data.firstName+" "+this.data.lastName).toLowerCase():this.data.preferredName.toLowerCase()},myProfileButton:function(){var a={Title:"My Profile"},b=$("#myProfileLinkTemplate").render(a);return delta.LoginWidget.isHomePage||"_LoginPage"==delta.LoginWidget.loginSec?b:""}})},handleUserData:function(a){if("undefined"!=typeof a&&null!=a)if("undefined"!=typeof a.sessionexpired||1==a.sessionexpired)"undefined"!=a.redirectURL&&window.location.replace(a.redirectURL);else{CustomerInfo.setData(a,"custData"),delta.LoginWidget.callbackDashBoard(a),a.firstTime&&delta.LoginWidget.checkIropStatus(),0==CustomerInfo.isLoggedIn()&&$(delta.LoginWidget.mainDivId).removeClass("hideMe");var b=CustomerInfo.getUsernameType(),c=delta.LoginWidget.isHomePage&&"undefined"!=typeof isEmailLoginDisableModal&&"true"==isEmailLoginDisableModal;null!=b&&"email"==b.toLowerCase()&&c&&($("#loginDlg").remove(),$("body").append('<div id="loginDlg" />'),delta.LoginWidget.callDialogModal(delta.LoginWidget.emailDisableModalTitle,600,delta.LoginWidget.emailDisableModalUrl,""),delta.LoginWidget.setEmailDialogOmnitureOnLoad("login:protecting your skymiles account","email to username"))}else $(delta.LoginWidget.mainDivId).removeClass("hideMe"),delta.LoginWidget.showHeaderLoggedIn(!1)},handleUsernameValidation:function(a,b,c){var d=!1;b.match(/^[\d]{9,12}$/)?($(a+".usernameType").val("skymiles"),d=!0):b.match(/^[\w-]+(?:\.[\w-]+)*@([a-z0-9-]+\.)+[a-z]{2,13}$/i)?($(a+".usernameType").val("email"),d=!0):b.match(/^[a-zA-Z0-9]*(?!\s)+$/)&&isNaN(b)&&($(a+".usernameType").val("username"),
d=!0),d&&("_Header"==c&&$("#remDiv_Header").show(),$("#loginErrorContainer"+c).hide(),delta.LoginWidget.loginSubmit(a,c))},handleUsernmClickEvent:function(a,b){$(a+"#usernm"+b).bind("click",function(c){if(!c)var c=window.event;var d=c.type;if($("#loginErrorContainer"+b).hide(),$(a+" .errorDivJavaError1").hide(),$(a+"#submit-1"+b).show(),$(a+".lastNameDiv").hide(),$(a+".lastNameDiv .error").hide(),""==$(a+"#lastname"+b).val(),delta.LoginWidget.isHomePage){var e=$(a+".loginWrapper").outerWidth();delta.LoginWidget.callHomePageLogin(e)}else""==b?($("#login-content").hide(),$("#login-content #login-content-errors").hide()):"_Header"==b&&$("#remDiv_Header").show();if(""!=d||null!=d){var f=$(a+"#pwd"+b).val();""!=f&&null!=f?$(a+".fixMe").css(a+"display","none"):delta.LoginWidget.checkPasswd(a,b)}})},handleUsernmKeyupEvent:function(a,b){$(a+"#usernm"+b).keyup(function(a){return 37==a.keyCode||39==a.keyCode||8==a.keyCode?!1:void 0}),$(a+"#usernm"+b).bind("keyup mouseup click",function(){$(a+"#usernm"+b).val().length>=1?$(a+"#lblUser_Nm"+b).css("display","none"):$(a+"#lblUser_Nm"+b).css("display","block")})},handleUsernmFocusEvent:function(a,b){$(a+"#usernm"+b).bind("focus",function(){!delta.LoginWidget.isHomePage&&$("#dialog").has("#login-now-close")&&$("#dialog").is(":visible")&&$("#dialog").hide()}),$(a+"#usernm"+b).bind("focusout",function(){var c=$(a+"#usernm"+b).val(),d=(c.match(/^[\d]{9,12}$/),$(a+"#pwd"+b).val()),e=delta.LoginWidget.isLastNameRequired(c,d);e&&delta.LoginWidget.showLoginLastNameOnFly(a,b,e)})},hideJavaError:function(){$(document).on("click",".errorDivJavaError1 .ui-dialog-titlebar-close span",function(){$("#login-content #login-content-errors *").hide()}),$(document).on("click",".backendErrDiv-cross",function(){$("#login-content #login-content-errors *").hide()})},hideOverLabel:function(a){$(window).load(function(){try{navigator.userAgent.toLowerCase().match("chrome")&&setTimeout(function(){$("#usernm"+a+":-webkit-autofill").length>0&&$("#lblUser_Nm"+a).hide(),$("#pwd"+a+":-webkit-autofill").length>0&&$("#pwd-1").addClass("empty"),$("#lastname"+a+":-webkit-autofill").length>0&&$("#lblLst_Nm"+a).hide()},300)}catch(b){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in hideOverLabel=> "+b)}})},init:function(a){delta.LoginWidget.loginSec=a,delta.LoginWidget.setMainDivId(),""!=a||delta.LoginWidget.isHomePage||$("#header_login").append(delta.LoginWidget.spanArrowImg),"_Header"==a&&delta.LoginWidget.showHeaderSection(),(""==a||"_LoginPage"==a)&&delta.LoginWidget.handleTemplates(),""==a&&delta.LoginWidget.handleFieldLabels(),delta.LoginWidget.doRememberMe(),delta.LoginWidget.checkFormPostURL(),delta.LoginWidget.getLoginInfo(),delta.LoginWidget.handleLoginFormValidate(),delta.LoginWidget.notMe(),""==a&&(delta.LoginWidget.isHomePage&&($("#loginForm #loginFormHomePg").val("homePg"),$("#lastNameForm #lastNameFormHomePg").val("homePg")),delta.LoginWidget.hideJavaError(),delta.LoginWidget.doBrowserStuff(),delta.LoginWidget.setFocus(),delta.LoginWidget.loginTooltip(),delta.LoginWidget.setLoggedInStatus()),delta.LoginWidget.loginHelp(),delta.LoginWidget.hideOverLabel(a)},isLastNameRequired:function(a,b){var c=!1,d=!1,e=!1,f=!1,g="4"==b.length&&b.match(/^[\d]{4}/);a.match(/^[\w-]+(?:\.[\w-]+)*@([a-z0-9-]+\.)+[a-z]{2,13}$/i)?c=!0:a.match(/^[a-zA-Z0-9]*(?!\s)+$/)&&isNaN(a)?d=!0:a.match(/^[\d]{9,12}$/)&&(e=!0),null!=CustomerInfo&&null!=CustomerInfo.getRememberMeIndicator()&&CustomerInfo.getRememberMeIndicator()&&(f=!0);var h=c&&"undefined"!=typeof isEmailLoginEnabled&&"true"==isEmailLoginEnabled,i=d&&!g&&("undefined"==typeof isUserNameWithLastName||"true"==isUserNameWithLastName),j=e&&g&&!f,k=j||(h||i)&&"undefined"!=typeof isSMLoginOnly&&"false"==isSMLoginOnly;return k},lastNameSubmit:function(a,b){$("#login-content").on("submit","#lastNameForm",function(a){null!=CustomerInfo&&null!=CustomerInfo.custData&&"undefined"!=typeof CustomerInfo.custData.loggedIn&&CustomerInfo.custData.loggedIn&&a.preventDefault()}),$("#lastname"+b).keypress(function(a){13==a.keyCode&&(a.preventDefault(),$("#lastnameSubmitBtn"+b).click())}),$("#lastnameSubmitBtn"+b).on("click",function(){try{var c;c=delta.LoginWidget.isHomePage||""!=b?a+" .loginPindetected .errorLstRqd":"#login-content-lastname .loginPindetected .errorLstRqd",delta.LoginWidget.validateLastNameForm(a,b,c)}catch(d){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in lastNameSubmit=> "+d)}})},showHeaderSection:function(){$("#loginHeaderDlg").fadeToggle(),$("#loginwidgetHeader label.overlabel").overlabel(),$(document).mousedown(function(a){var b=$("#header_login").children();$(a.target).parents("#loginHeaderDlg").length<=0&&!b.is(a.target)&&!$("#loginwidgetHeader .error").is(":visible")&&($("#loginHeaderDlg").hide(),$("#loginErrorContainer_Header, .headerErrorContainer").hide(),$("#header_login").removeClass("loginHeaderBtnOpen").addClass("loginHeaderBtnClose"))})},loadHeaderSection:function(){if($("#loginwidgetHeader").length<=0){$("body").find("#loginHeaderDlg").remove(),$("#headerLoginContainer").append('<div id="loginHeaderDlg" />');var a="/widgetnav/pages/custlogin/header.jsp";$("#loginHeaderDlg").load(a,function(a,b){if("success"==b){$("#loginHeaderDlg").html(a),delta.LoginWidget.init("_Header"),delta.LoginWidget.positionHeaderLogin(),DeltaUtils.initButtons();var c=$("#loginwidget.bottomNav #loginForm").find("input[name=usernm]").val();void 0!=c&&null!=c&&"null"!=c&&""!=c&&($("#loginForm_Header #usernm_Header").val(c),$("#loginForm_Header #lblUser_Nm_Header").css("display","none"))}else $("#loginHeaderDlg").html("")})}else $("#loginHeaderDlg").fadeToggle();$("#header_login").hasClass("loginHeaderBtnClose")?($("#header_login").removeClass("loginHeaderBtnClose").addClass("loginHeaderBtnOpen"),$("#remDiv_Header").show()):$("#header_login").hasClass("loginHeaderBtnOpen")&&($("#header_login").removeClass("loginHeaderBtnOpen").addClass("loginHeaderBtnClose"),$("#loginErrorContainer_Header, .headerErrorContainer").hide())},loadSQADropDowns:function(){try{$.ajax({url:"/custlogin/getSQList.action",type:"POST",headers:{"cache-control":"no-cache"},dataTye:"json",success:function(a){for(var b="",c=0;c<a.length;c++)"Y"===a[c].currentIndicator&&(b+="<option value='"+a[c].questionNumber+"'>"+a[c].questionText+"</option>");$("#question1").append(b),$("#question2").append(b)}})}catch(a){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in loadSQADropDowns=> "+a)}},loginHelp:function(){var a=delta.LoginWidget.mainDivId,b=a+" .loginHelpLink1";1!=a.indexOf("bottomNav")&&(b+=", #login-content .loginHelpLink1"),$(b).on("click",function(){var a=window.location.host,b="https://"+a+"/content/www/en_US/support/login-help.html";$(this).attr("href",b)})},loginSubmit:function(mainDivId,section){try{var formName=section.replace("_","");$(mainDivId+".username").val($(mainDivId+"#usernm"+section).val()),$(mainDivId+".password").val($(mainDivId+"#pwd"+section).val()),$(mainDivId+".usernmType").val($(mainDivId+"#usernameType"+section).val()),$(mainDivId+".pwdType").val($(mainDivId+"#passwordType"+section).val()),$(mainDivId+".rememberMe").val($(mainDivId+".remember_me").is(":checked")?!0:!1);var BAUele=document.getElementById("custLoginParameter"),BAUfrm=document.getElementById("smlogin_login"),BAUVal=$("#custLoginParameter").val();"undefined"!=typeof BAUfrm&&null!=BAUfrm&&"undefined"!=typeof BAUele&&null!=BAUele&&$(".BAUParams").attr("value",$("#custLoginParameter").val()),"undefined"==typeof loginRefreshURL?""==$(mainDivId+".refreshURL").val()&&$(mainDivId+".refreshURL").val(window.location.href):$(mainDivId+".refreshURL").val(loginRefreshURL),$(mainDivId+".errorDiv").hide(),$(mainDivId+".errorDivJavaError1").addClass("hideMe").removeClass("showMe"),$(mainDivId+"#lastname"+section).attr("value","");var fn=$(mainDivId+".username").val(),pwd=$(mainDivId+".password").val(),isRememberMeCust=!1,lastNameRequired=delta.LoginWidget.isLastNameRequired(fn,pwd);if(delta.LoginWidget.isHomePage||""!=section)var lastNameLbl=$(mainDivId+"#lblLst_Nm"+section),lastNameIp=$(mainDivId+"#lastname"+section);else var lastNameLbl=$("#login-content-lastname .overlabel"),lastNameIp=$("#login-content-lastname input[name=lastname]");if("undefined"!=typeof loginData&&null!=loginData?1==loginData.rememberMeIndicator?(isRememberMeCust=!0,lastNameLbl.hide(),lastNameIp.val(loginData.rememberMeLastName)):(lastNameIp.val(""),lastNameLbl.overlabel()):1==CustomerInfo.getRememberMeIndicator()?(isRememberMeCust=!0,lastNameLbl.hide(),lastNameIp.val(CustomerInfo.getRememberMeLastName())):(lastNameIp.val(""),lastNameLbl.overlabel()),lastNameRequired){if(delta.LoginWidget.isHomePage||""!=section?($(mainDivId+"label.overlabel").overlabel(),$(mainDivId+".topDiv").show(),$(mainDivId+".lastNameDiv").show(),$(mainDivId+" #submit-1"+section).hide()):delta.LoginWidget.createLastNameNotification(isRememberMeCust),delta.LoginWidget.isHomePage){var loginDivWidth=$(mainDivId+".lastNameDiv").outerWidth()+$(mainDivId+".loginWrapper").outerWidth()+20;delta.LoginWidget.callHomePageLogin(loginDivWidth)}$(mainDivId+"#lastnameTextboxDiv"+section+" .overlabel").click(function(){$(mainDivId+"#lastnameTextboxDiv"+section+" .overlabel").hide(),$(mainDivId+"#lastname"+section).focus()})}else{$(mainDivId+".lastNameDiv").hide(),$(mainDivId+".lastNameDiv .error").hide();var isPswd=!1,isSM=fn.match(/^[\d]{9,12}$/);pwd.length>5&&pwd.match(/^[a-zA-Z0-9]+$/)&&!pwd.match(eval("/^([a-zA-Z0-9])\\1{"+(pwd.length-1)+"}$/"))&&(isPswd=!0),isRememberMeCust?isSM&&isPswd?delta.LoginWidget.finalFormSubmit(mainDivId,"#loginForm"+section,section):delta.LoginWidget.finalFormSubmit(mainDivId,"#lastNameForm"+section,section):delta.LoginWidget.finalFormSubmit(mainDivId,"#loginForm"+section,section)}}catch(error){1==delta.LoginWidget.isDebugEnabled&&delta.LoginWidget.logMessage("Exception in loginSubmit=> "+error)}},loginTooltip:function(){$(".loginTooltipclick").loginToolTip({clickIt:!0,tipContent:"You can now login to delta.com",closeTipBtn:"loginToolTipCloseBtn"})},logMessage:function(a){this.isDebugEnabled&&DeltaUtils.logMessage(a)},notMe:function(){var a=(delta.LoginWidget.loginsec,delta.LoginWidget.mainDivId);$(a+" .linknotme").on("click",function(){delta.LoginWidget.callNotMeAction()})},positionHeaderLogin:function(){var a=$("#header_login").offset().left+$("#header_login").outerWidth()-$("#login_Header").outerWidth(),b=$("#header_login").offset().top+$("#header_login").outerHeight();$("#loginHeaderDlg").offset({top:b,left:a})},setMainDivId:function(){delta.LoginWidget.mainDivId=""==delta.LoginWidget.loginSec?delta.LoginWidget.isHomePage?delta.LoginWidget.homeMainDivId:delta.LoginWidget.dockedMainDivId:"_Header"==delta.LoginWidget.loginSec?delta.LoginWidget.headerMainDivId:delta.LoginWidget.loginPageMainDivId},setFocus:function(){$(".bottomNav #usernm").focus(function(){try{delta.navwidget.open(),$("#nav-widget-user #login").width("222")}catch(a){}})},setLoggedInStatus:function(){try{var a=CustomerInfo.isLoggedIn();listatus=null!=a&&a?"logged in":"logged out",s.linkTrackVars="s.prop34",s.prop34=listatus,s.prop34=""}catch(b){}},showHeaderLoggedIn:function(a){a?($("#header_login").hide(),$("#header_logout").show()):($("#header_login").show(),$("#header_logout").hide())},showLoginLastNameOnFly:function(a,b,c){var d=($(a+"#pwd"+b),$(a+"#usernm"+b).val());if(c){if(delta.LoginWidget.isHomePage||""!=b){if(!$(a+".lastNameDiv").is(":hidden"))return!1}else if($("#login-content-lastname").children().length>0&&!$("#login-content-lastname").is(":hidden"))return!1;this.handleUsernameValidation(a,d,b)}else if($(a+"#submit-1"+b).show(),delta.LoginWidget.isHomePage||""!=b){if($(a+".lastNameDiv").is(":hidden"))return!1;if($(a+".lastNameDiv").hide(),""==b){var e=$(a+".loginWrapper").outerWidth();delta.LoginWidget.callHomePageLogin(e)}}else $("#login-content").hide()},updateProfileContryLang:function(a){$.ajax({url:"/profile/countryLang_updateLangPromtIndicator.action",type:"POST",headers:{"cache-control":"no-cache"},data:a,dataType:"json",success:function(){}})},updateSkyMiles:function(a){a=delta.LoginWidget.addCommas(a),$("#loggedIn #sky-miles").html(a),$("#loggedIn_LoginPage #sky-miles_LoginPage").length>0&&$("#loggedIn_LoginPage #sky-miles_LoginPage").html(a)},updateUserName:function(a){$("#loggedIn #custlogin_name").html(a),$("#loggedIn_LoginPage #custlogin_name_LoginPage").length>0&&$("#loggedIn_LoginPage #custlogin_name_LoginPage").html(a)},setPasswordDialogOmnitureProp:function(a,b){s.linkTrackVars="prop1,prop2",s.prop1=a,s.prop2=b,s.tl(this,"o",a),s.prop1=s.prop2=""},setEmailDialogOmnitureOnLoad:function(a,b){s.linkTrackVars="prop1,prop2",s.prop1=a,s.prop2=b,s.tl(this,"o",a),s.prop1=s.prop2=""},setEmailDialogOmnitureOnClick:function(a,b){s.linkTrackVars="prop1,prop2,pe,pev2",s.prop1=a,s.prop2=b,s.pe="lnk_o",s.pev2=a+" click",s.tl(this,"o",a),s.prop1=s.prop2=s.pe=s.pev2=""},validateLastNameForm:function(a,b,c){$("#lastNameForm"+b).validate({submitHandler:function(){delta.LoginWidget.finalFormSubmit(a,"#lastNameForm"+b,b)},rules:{lastname:{lastname:b}},highlight:function(){if(delta.LoginWidget.formSubmitted="lastNameForm"+b,delta.LoginWidget.isHomePage||"lastNameForm"!=delta.LoginWidget.formSubmitted){if($(a+".errorLstRqd").addClass("error headerErrorContainer").removeClass("valid"),$(a+".errorDiv").hide(),delta.LoginWidget.isHomePage){var d=$(a+".lastNameDiv").outerWidth()+$(a+".loginWrapper").outerWidth()+$(".errorLstRqd").outerWidth()+40;delta.LoginWidget.callHomePageLogin(d)}}else $(c).addClass("error").removeClass("valid")},unhighlight:function(){if(delta.LoginWidget.formSubmitted="lastNameForm"+b,delta.LoginWidget.isHomePage||"lastNameForm"!=delta.LoginWidget.formSubmitted){if($(a+".errorLstRqd").removeClass("error").addClass("valid"),delta.LoginWidget.isHomePage){var d=$(a+".lastNameDiv").outerWidth()+$(a+".loginWrapper").outerWidth()+20;delta.LoginWidget.callHomePageLogin(d)}}else $(c).addClass("valid").removeClass("error")},errorElement:"div",wrapper:"div",onkeyup:!1,onfocusout:!1,errorLabelContainer:c})},validateLoginForm:function(a,b,c){$("#loginForm"+c).validate({submitHandler:function(){delta.LoginWidget.loginSubmit(b,c)},rules:{usernm:{loginCheck:c}},highlight:function(){if(delta.LoginWidget.formSubmitted="loginForm"+c,delta.LoginWidget.isHomePage||"loginForm"!=delta.LoginWidget.formSubmitted?$(b+".errorDiv").addClass("error").removeClass("valid"):($("#ui-error-holder").addClass("error").removeClass("valid"),$("#login-content").css({position:"fixed",bottom:"70px",left:$("#nav-widget-user").offset().left+"px",display:"block",zIndex:1e4})),this.numberOfInvalids())if(delta.LoginWidget.isHomePage||"loginForm"!=delta.LoginWidget.formSubmitted){if($(b+".errorDiv").show(),$(b+".javaErr").addClass("hideMe").removeClass("showMe"),$(b+".errorLstRqd").hide(),$(b+".lastNameDiv").hide(),$(b+" #submit-1"+c).show(),delta.LoginWidget.isHomePage){var a=$(b+".loginWrapper").outerWidth()+$(b+".errorDiv").outerWidth()+20;delta.LoginWidget.callHomePageLogin(a)}$("#loginErrorContainer"+c).show()}else delta.LoginWidget.calculatePosition("#login-content-errors"),$("#login-content-lastname").hide();else this.toHide=this.toHide.add(this.containers),(delta.LoginWidget.isHomePage||"loginForm"!=delta.LoginWidget.formSubmitted)&&$(b+".errorDiv").hide()},unhighlight:function(){if(delta.LoginWidget.formSubmitted="loginForm"+c,this.numberOfInvalids()){if(delta.LoginWidget.isHomePage||"loginForm"!=delta.LoginWidget.formSubmitted){if($(b+".javaErr").addClass("hideMe").removeClass("showMe"),$(b+".errorDiv").show(),delta.LoginWidget.isHomePage){var a=$(b+".loginWrapper").outerWidth()+$(b+".errorDiv").outerWidth()+20;delta.LoginWidget.callHomePageLogin(a)}$(b+".lastNameDiv").is(":hidden")||$(b+" #submit-1"+c).hide()}}else this.toHide=this.toHide.add(this.containers),(delta.LoginWidget.isHomePage||"loginForm"!=delta.LoginWidget.formSubmitted)&&($(b+".errorDiv").hide(),$("#loginErrorContainer"+c).show(),$(b+".lastNameDiv").is(":hidden")||$(b+" #submit-1"+c).hide());!delta.LoginWidget.isHomePage&&"loginForm"==delta.LoginWidget.formSubmitted&&$("#submit-1").is(":hidden")&&$("#login-content-lastname").is(":hidden")&&$("#ui-error-holder").is(":hidden")&&$("#submit-1").show()},errorElement:"div",wrapper:"div",onkeyup:!1,onfocusout:!1,errorLabelContainer:a,errorPlacement:function(a){a.appendTo($(b+".errorDiv"))}})}},function(a){a.fn.overlabel=function(b){var c=a.extend({},a.fn.overlabel.defaults,b),d=this.filter("label[for]").map(function(){var b=a(this),d=b.attr("for"),e=document.getElementById(d);if(e){var f=a.meta?a.extend({},c,b.data()):c;b.addClass(f.label_class);var g=function(){b.css(f.hide_css)},h=function(){this.value||b.css(f.show_css)};return a(e).parent().addClass(f.wrapper_class).end().focus(g).blur(h).each(g).each(h),this}});return c.filter?d:d.end()},a.fn.overlabel.defaults={label_class:"overlabel-apply",wrapper_class:"overlabel-wrapper",hide_css:{display:"none"},show_css:{display:"block",cursor:"text"},filter:!1}}(jQuery),function(a){a.fn.loginToolTip=function(b){var c={closeTipBtn:"loginToolTipCloseBtn",toolTipId:"loginToolTip",fixed:!1,clickIt:!1,inSpeed:200,outSpeed:100,tipContent:"",toolTipClass:"logindefaultTheme",xOffset:5,yOffset:3,onShow:null,onHide:null},d=a.extend({},c,b);return this.each(function(){var b=a(this);if(b.attr("title"))var c=b.attr("title");else var c=d.tipContent;var e=function(){a("body").append("<div id='"+d.toolTipId+"' class='"+d.toolTipClass+"'><div class='loginToolTipCloseDiv'></div><div class='loginToolTipContent'>"+c+"</div></div>"),c&&a("#"+d.toolTipId+" .loginToolTipCloseDiv").append("<a id='"+d.closeTipBtn+"' href='#' alt='close'>close</a>")},f=function(){a("#"+d.toolTipId).css({top:b.offset().top-a("#"+d.toolTipId).outerHeight()-d.yOffset+"px",left:b.offset().left+b.outerWidth()/2+"px"}).stop().fadeIn(d.inSpeed,function(){a.isFunction(d.onShow)&&d.onShow(b)})},g=function(){a("#"+d.toolTipId).stop().fadeOut(d.outSpeed,function(){a(this).remove(),a.isFunction(d.onHide)&&d.onHide(b)})};c&&!d.clickIt&&b.hover(function(){a("#"+d.toolTipId).remove(),b.attr({title:""}),e(),f()},function(){a("#"+d.closeTipBtn).click(function(){return g(),!1})}),c&&d.clickIt&&(a("#"+d.toolTipId).remove(),b.attr({title:""}),b.click(function(){return a("#"+d.toolTipId).remove(),b.attr({title:""}),e(),f(),a("#"+d.closeTipBtn).click(function(){return g(),!1}),!1})),d.fixed||d.clickIt||b.mousemove(function(b){a("#"+d.toolTipId).css({top:b.pageY-a("#"+d.toolTipId).outerHeight()-d.yOffset,left:b.pageX+d.xOffset})})})}}(jQuery),$(document).ready(function(){try{DeltaUtils.isHomePage()||$("#loginwidgetLoginPage").length>0&&delta.LoginWidget.init("_LoginPage")}catch(a){DeltaUtils.logMessage("Login Initialize Error => "+a)}}),delta.LoginWidgetValidation={errorCode:function(a){try{var b="";return b='<div class="errImg"></div><div class="errMsg">'+a+"</div>"}catch(c){1==delta.LoginWidget.isDebugEnabled&&DeltaUtils.logMessage("Exception at errorCode Method Login")}},trimLeadTrailSpaces:function(a){return a=a.replace(/(^\s*)|(\s*$)/gi,""),a=a.replace(/[ ]{2,}/gi," "),a=a.replace(/\n /,"\n")},getpassword:function(section){var value=$("#pwd"+section).val();value=DeltaUtils.stripBadChars(value),varUsername=delta.LoginWidgetValidation.trimLeadTrailSpaces($("#usernm"+section).val()),$("#usernm"+section).val(varUsername),varLen=$("#usernm"+section).val().length;var setpwdFlag=!1;return value.length<4||value.length>20?setpwdFlag=!1:value.length<5&&value.match(/^[\d]{4}/)?4==value.length&&(varUsername.match(/^[\w-]+(?:\.[\w-]+)*@([a-z0-9-]+\.)+[a-z]{2,13}$/i)?($("#passwordType"+section).val("PIN"),setpwdFlag=!0):varUsername.match(/^[\d]{9,12}$/)?($("#passwordType"+section).val("PIN"),setpwdFlag=!0):isNaN(varUsername)&&varUsername.match(/^[a-zA-Z0-9]*(?!\s)+$/)&&(jQuery.validator.messages.loginCheck=delta.LoginWidgetValidation.errorCode("undefined"==typeof isEmailLoginEnabled||"false"==isEmailLoginEnabled?"Please use password when logging in with your Username or you may also login using your SkyMiles number.":"Please use password when logging in with your Username or you may also login using your SkyMiles number or email address."),setpwdFlag=!1)):value.length>5&&value.match(/^[a-zA-Z0-9]+$/)&&!value.match(eval("/^([a-zA-Z0-9])\\1{"+(value.length-1)+"}$/"))&&($("#passwordType"+section).val("PW"),setpwdFlag=!0),setpwdFlag}},jQuery.validator.classRuleSettings.loginCheck={loginCheck:!0},jQuery.validator.addMethod("loginCheck",function(a,b,c){if(a=delta.LoginWidgetValidation.trimLeadTrailSpaces(a),jQuery.validator.messages.loginCheck=delta.LoginWidgetValidation.errorCode("Please enter valid login credentials to continue."),a=$.trim(a),getPwdFlag=delta.LoginWidgetValidation.getpassword(c),a.length<6||a.length>132||0==getPwdFlag)return!1;var d=a.match(/^[\w-]+(?:\.[\w-]+)*@([a-z0-9-]+\.)+[a-z]{2,13}$/i),e=a.match(/^[a-zA-Z0-9]*(?!\s)+$/)&&isNaN(a),f="undefined"==typeof isSMLoginOnly||"true"==isSMLoginOnly,g="undefined"==typeof isEmailLoginEnabled||"false"==isEmailLoginEnabled;if((d||e)&&f)jQuery.validator.messages.loginCheck=delta.LoginWidgetValidation.errorCode("Please use your SkyMiles number to log in. Username and email address cannot be used for login at this time.");else if(d&&g){var h="undefined"!=typeof loginSecureDomain?loginSecureDomain:"";jQuery.validator.messages.loginCheck=delta.LoginWidgetValidation.errorCode('Please use your SkyMiles number or username to log in. To better protect your SkyMiles account, email addresses can no longer be used for login. <a href="'+h+'/custlogin/validateUser.action" class="contactUsLink">Forgot SkyMiles # or Username?</a>')}else{if(a.match(/^[\d]{9,12}$/))return $(".usernameType").val("skymiles"),!0;if(e)return $(".usernameType").val("username"),!0;if(d)return $(".usernameType").val("email"),!0}return!1},jQuery.validator.messages.loginCheck),jQuery.validator.messages.passwordCheck=delta.LoginWidgetValidation.errorCode("Please enter valid login credentials to continue."),jQuery.validator.classRuleSettings.passwordCheck={passwordCheck:!0},jQuery.validator.addMethod("passwordCheck",function(value,element,param){value=DeltaUtils.removeSpaces(value),value=DeltaUtils.stripBadChars(value),varUsername=DeltaUtils.removeSpaces($("#usernm").val()),varLen=$("#usernm").val().length;var width=$("#login").width()+$("#errorDiv").width();if(""==value||value.length<4||value.length>20)return!1;if(value.match(/^[\d]{4}/)){if(4==value.length){if(varUsername.match(/^[\w-]+(?:\.[\w-]+)*@([a-z0-9-]+\.)+[a-z]{2,13}$/i))return $("#passwordType").val("PIN"),!0;if(varUsername.match(/^[\d]{9,12}$/))return $("#passwordType").val("PIN"),!0;if(varUsername.match(/^[a-zA-Z0-9]*(?!\s)+$/))return!1}}else if(value.length>5&&value.match(/^[a-zA-Z0-9]+$/)&&!value.match(eval("/^([a-zA-Z0-9])\\1{"+(value.length-1)+"}$/")))return $("#passwordType").val("PW"),!0;return!1},jQuery.validator.messages.passwordCheck),jQuery.validator.messages.createPassword="A valid password must be 6-20 alphanumeric characters.",jQuery.validator.classRuleSettings.createPassword={createPassword:!0},jQuery.validator.addMethod("createPassword",function(value,element,param){return""==value||value.length<6||value.length>20||value.match(eval("/^(\\w)\\1{"+(value.length-1)+"}$/"))?!1:value.match(/^.*(?=.*[a-zA-Z0-9])^((?![\s!@#$%^&*()\-_+=<>.?\/\`\~:;\[\],"']).)*$/)?!0:!1},jQuery.validator.messages.createPassword),jQuery.validator.messages.createUsername="A valid username must be a minimum of 6 characters.",jQuery.validator.classRuleSettings.createUsername={createUsername:!0},jQuery.validator.addMethod("createUsername",function(value,element,param){return""==value||value.length<6||value.match(eval("/^(\\w)\\1{"+(value.length-1)+"}$/"))?!1:value.match(/^.*(?=.*[a-zA-Z0-9])^((?![\s!@#$%^&*()\-_+=<>.?\/\`\~:;\[\],"']).)*$/)?!0:!1},jQuery.validator.messages.createUsername),jQuery.validator.messages.comparePassword="The password you've entered does not match. Please try again.",jQuery.validator.classRuleSettings.comparePassword={comparePassword:!0},jQuery.validator.addMethod("comparePassword",function(){var a=$("#newPassword").val(),b=$("#newConfirmPassword").val();return a!=b?!1:!0},jQuery.validator.messages.comparePassword),jQuery.validator.messages.chkAnswer=delta.LoginWidgetValidation.errorCode("Please enter a valid answer for question 1."),jQuery.validator.classRuleSettings.chkAnswer={chkAnswer:!0},jQuery.validator.addMethod("chkAnswer",function(a,b){a=DeltaUtils.removeSpaces(a),a=DeltaUtils.stripBadChars(a);var c,d;return d=b.name,d.indexOf("answer1")>=0?c=" 1":d.indexOf("answer2")>=0&&(c=" 2"),""==a||a.length<4?(jQuery.validator.messages.chkAnswer=delta.LoginWidgetValidation.errorCode("Please enter a valid answer for question"+c+"."),!1):a.length>50?(jQuery.validator.messages.chkAnswer=delta.LoginWidgetValidation.errorCode("Security answers can not be more than 50 characters."),!1):a.match(/^([a-zA-Z\d][a-zA-Z\d\-\.\s]*|)$/)&&a.length<50?!0:(jQuery.validator.messages.chkAnswer=delta.LoginWidgetValidation.errorCode("Please enter a valid answer for question"+c+"."),!1)},jQuery.validator.messages.chkAnswer),jQuery.validator.messages.checkSameAnswer=delta.LoginWidgetValidation.errorCode("The answer you've provided has already been used. Please provide a unique answer for each question."),jQuery.validator.classRuleSettings.checkSameAnswer={checkSameAnswer:!0},jQuery.validator.addMethod("checkSameAnswer",function(){var a=document.getElementById("answer1").value,b=document.getElementById("answer2").value;if(a.length>1&&b.length>1){var c=a.replace(/[\-\.\'\s\ ]/g,"");c=c.toUpperCase();var d=b;return d=d.replace(/[\-\.\'\s\ ]/g,""),d=d.toUpperCase(),c===d?!1:!0}return!1},jQuery.validator.messages.checkSameAnswer),jQuery.validator.messages.chkQuestion=delta.LoginWidgetValidation.errorCode("Please select security question to continue."),jQuery.validator.classRuleSettings.chkQuestion={chkQuestion:!0},jQuery.validator.addMethod("chkQuestion",function(a,b){a=DeltaUtils.removeSpaces(a),a=DeltaUtils.stripBadChars(a);var c,d;return d=b.name,d.indexOf("question1")>=0?c=" 1 ":d.indexOf("question2")>=0&&(c=" 2 "),""==a||a.length<1||null==a?(jQuery.validator.messages.chkQuestion=delta.LoginWidgetValidation.errorCode("Please select security question"+c+"to continue."),!1):!0},jQuery.validator.messages.chkQuestion),jQuery.validator.messages.compareEmail=delta.LoginWidgetValidation.errorCode("The email addresses you've entered don't match. Please try again."),jQuery.validator.classRuleSettings.compareEmail={compareEmail:!0},jQuery.validator.addMethod("compareEmail",function(a){a=DeltaUtils.removeSpaces(a),a=DeltaUtils.stripBadChars(a);var b=$("#login_email").val(),c=$("#login_confirmEmail").val();return b!=c?!1:!0},jQuery.validator.messages.compareEmail),jQuery.validator.messages.chkEmailId=delta.LoginWidgetValidation.errorCode("Please enter a valid email to continue."),jQuery.validator.classRuleSettings.chkEmailId={chkEmailId:!0},jQuery.validator.addMethod("chkEmailId",function(a){return a=DeltaUtils.removeSpaces(a),a=DeltaUtils.stripBadChars(a),a.match(/^[\w-]+(?:\.[\w-]+)*@([a-z0-9-]+\.)+[a-z]{2,13}$/i)?!0:!1},jQuery.validator.messages.chkEmailId),jQuery.validator.classRuleSettings.lastname={lastname:!0},jQuery.validator.addMethod("lastname",function(a,b,c){return a=DeltaUtils.stripBadChars(a),jQuery.validator.messages.lastname=delta.LoginWidgetValidation.errorCode("Please enter a valid last name to continue."),""==a||a.length<1||a.length>40?!1:a.match(/^([a-zA-Z][a-zA-Z\-\'\s]*|)$/)?(jQuery.validator.messages.lastname=delta.LoginWidgetValidation.errorCode("Please enter valid login credentials to continue."),jQuery.validator.methods.loginCheck.call(this,$("#usernm"+c).val(),$("#usernm"+c).get(),c)):!1},jQuery.validator.messages.lastname);