/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function(a){a.cookie=function(h,g,l){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(g))||g===null||g===undefined)){l=a.extend({},l);
if(g===null||g===undefined){l.expires=-1
}if(typeof l.expires==="number"){var j=l.expires,k=l.expires=new Date();
k.setDate(k.getDate()+j)
}g=String(g);
return(document.cookie=[encodeURIComponent(h),"=",l.raw?g:encodeURIComponent(g),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join(""))
}l=g||{};
var b=l.raw?function(m){return m
}:decodeURIComponent;
var c=document.cookie.split("; ");
for(var f=0,d;
d=c[f]&&c[f].split("=");
f++){if(b(d[0])===h){return b(d[1]||"")
}}return null
}
})(jQuery);
/*! http://mths.be/placeholder v2.0.7 by @mathias */
(function(h,k,d){var a="placeholder" in k.createElement("input"),f="placeholder" in k.createElement("textarea"),l=d.fn,c=d.valHooks,n,m;
if(a&&f){m=l.placeholder=function(){return this
};
m.input=m.textarea=true
}else{m=l.placeholder=function(){var o=this;
o.filter((a?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":b,"blur.placeholder":g}).data("placeholder-enabled",true).trigger("blur.placeholder");
return o
};
m.input=a;
m.textarea=f;
n={get:function(p){var o=d(p);
return o.data("placeholder-enabled")&&o.hasClass("placeholder")?"":p.value
},set:function(p,q){var o=d(p);
if(!o.data("placeholder-enabled")){return p.value=q
}if(q==""){p.value=q;
if(p!=k.activeElement){g.call(p)
}}else{if(o.hasClass("placeholder")){b.call(p,true,q)||(p.value=q)
}else{p.value=q
}}return o
}};
a||(c.input=n);
f||(c.textarea=n);
d(function(){d(k).delegate("form","submit.placeholder",function(){var o=d(".placeholder",this).each(b);
setTimeout(function(){o.each(g)
},10)
})
});
d(h).bind("beforeunload.placeholder",function(){d(".placeholder").each(function(){this.value=""
})
})
}function j(p){var o={},q=/^jQuery\d+$/;
d.each(p.attributes,function(t,r){if(r.specified&&!q.test(r.name)){o[r.name]=r.value
}});
return o
}function b(p,q){var o=this,r=d(o);
if(o.value==r.attr("placeholder")&&r.hasClass("placeholder")){if(r.data("placeholder-password")){r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id"));
if(p===true){return r[0].value=q
}r.focus()
}else{o.value="";
r.removeClass("placeholder");
o==k.activeElement&&o.select()
}}}function g(){var u,o=this,t=d(o),p=t,r=this.id;
if(o.value==""){if(o.type=="password"){if(!t.data("placeholder-textinput")){try{u=t.clone().attr({type:"text"})
}catch(q){u=d("<input>").attr(d.extend(j(this),{type:"text"}))
}u.removeAttr("name").data({"placeholder-password":true,"placeholder-id":r}).bind("focus.placeholder",b);
t.data({"placeholder-textinput":u,"placeholder-id":r}).before(u)
}t=t.removeAttr("id").hide().prev().attr("id",r).show()
}t.addClass("placeholder");
t[0].value=t.attr("placeholder")
}else{t.removeClass("placeholder")
}}}(this,document,jQuery));
window.Modernizr=function(Z,Y,X){function F(b){Q.cssText=b
}function E(d,c){return F(prefixes.join(d+";")+(c||""))
}function D(d,c){return typeof d===c
}function C(d,c){return !!~(""+d).indexOf(c)
}function B(g,c,k){for(var j in g){var h=c[g[j]];
if(h!==X){return k===!1?g[j]:D(h,"function")?h.bind(k||c):h
}}return !1
}var W="2.6.2",V={},U=!0,T=Y.documentElement,S="modernizr",R=Y.createElement(S),Q=R.style,P,O={}.toString,N={},M={},L={},K=[],J=K.slice,I,H={}.hasOwnProperty,G;
!D(H,"undefined")&&!D(H.call,"undefined")?G=function(d,c){return H.call(d,c)
}:G=function(d,c){return c in d&&D(d.constructor.prototype[c],"undefined")
},Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;
if(typeof h!="function"){throw new TypeError
}var g=J.call(arguments,1),f=function(){if(this instanceof f){var b=function(){};
b.prototype=h.prototype;
var d=new b,c=h.apply(d,g.concat(J.call(arguments)));
return Object(c)===c?c:d
}return h.apply(a,g.concat(J.call(arguments)))
};
return f
});
for(var A in N){G(N,A)&&(I=A.toLowerCase(),V[I]=N[A](),K.push((V[I]?"":"no-")+I))
}return V.addTest=function(f,c){if(typeof f=="object"){for(var g in f){G(f,g)&&V.addTest(g,f[g])
}}else{f=f.toLowerCase();
if(V[f]!==X){return V
}c=typeof c=="function"?c():c,typeof U!="undefined"&&U&&(T.className+=" "+(c?"":"no-")+f),V[f]=c
}return V
},F(""),R=P=null,function(ak,aj){function aa(g,f){var j=g.createElement("p"),h=g.getElementsByTagName("head")[0]||g.documentElement;
return j.innerHTML="x<style>"+f+"</style>",h.insertBefore(j.lastChild,h.firstChild)
}function z(){var b=t.elements;
return typeof b=="string"?b.split(" "):b
}function y(d){var c=ac[d[ae]];
return c||(c={},ad++,d[ae]=ad,ac[ad]=c),c
}function x(b,j,h){j||(j=aj);
if(ab){return j.createElement(b)
}h||(h=y(j));
var d;
return h.cache[b]?d=h.cache[b].cloneNode():ag.test(b)?d=(h.cache[b]=h.createElem(b)).cloneNode():d=h.createElem(b),d.canHaveChildren&&!ah.test(b)?h.frag.appendChild(d):d
}function w(b,m){b||(b=aj);
if(ab){return b.createDocumentFragment()
}m=m||y(b);
var l=m.frag.cloneNode(),k=0,j=z(),h=j.length;
for(;
k<h;
k++){l.createElement(j[k])
}return l
}function v(d,c){c.cache||(c.cache={},c.createElem=d.createElement,c.createFrag=d.createDocumentFragment,c.frag=c.createFrag()),d.createElement=function(a){return t.shivMethods?x(a,d,c):c.createElem(a)
},d.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+z().join().replace(/\w+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'
})+");return n}")(t,c.frag)
}function u(b){b||(b=aj);
var d=y(b);
return t.shivCSS&&!af&&!d.hasCSS&&(d.hasCSS=!!aa(b,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),ab||v(b,d),b
}var ai=ak.html5||{},ah=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,ag=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,af,ae="_html5shiv",ad=0,ac={},ab;
(function(){try{var b=aj.createElement("a");
b.innerHTML="<xyz></xyz>",af="hidden" in b,ab=b.childNodes.length==1||function(){aj.createElement("a");
var c=aj.createDocumentFragment();
return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"
}()
}catch(d){af=!0,ab=!0
}})();
var t={elements:ai.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:ai.shivCSS!==!1,supportsUnknownElements:ab,shivMethods:ai.shivMethods!==!1,type:"default",shivDocument:u,createElement:x,createDocumentFragment:w};
ak.html5=t,u(aj)
}(this,Y),V._version=W,T.className=T.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(U?" js "+K.join(" "):""),V
}(this,this.document),function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)
}function Z(b){return"string"==typeof b
}function Y(){}function X(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b
}function W(){var b=O.shift();
M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)
},0):(b(),W()):M=0
}function V(x,w,v,t,q,p,n){function m(a){if(!g&&X(h.readyState)&&(y.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=x&&R(function(){I.removeChild(h)
},50);
for(var c in D[w]){D[w].hasOwnProperty(c)&&D[w][c].onload()
}}}var n=n||L.errorTimeout,h=ac.createElement(x),g=0,b=0,y={t:v,s:w,e:q,a:p,x:n};
1===D[w]&&(b=1,D[w]=[]),"object"==x?h.data=w:(h.src=w,h.type=x),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)
},O.splice(t,0,y),"img"!=x&&(b||2===D[w]?(I.insertBefore(h,J?null:Q),R(m,n)):D[w].push(h))
}function U(h,g,l,k,j){return M=0,g=g||"j",Z(h)?V("c"==g?G:H,h,g,this.i++,l,k,j):(O.splice(this.i++,0,h),1==O.length&&W()),this
}function T(){var b=L;
return b.loader={load:U,i:0},b
}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)
},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d
}},N,L;
L=function(f){function c(j){var j=j.split("!"),h=E.length,t=j.pop(),r=j.length,t={url:t,origUrl:t,prefixes:j},q,p,l;
for(p=0;
p<r;
p++){l=j[p].split("="),(q=C[l.shift()])&&(t=q(t,l))
}for(p=0;
p<h;
p++){t=E[p](t)
}return t
}function o(b,u,t,r,q){var p=c(b),l=p.autoCallback;
p.url.split(".").pop().split("?").shift(),p.bypass||(u&&(u=aa(u)?u:u[b]||u[r]||u[b.split("/").pop().split("?")[0]]),p.instead?p.instead(b,u,t,r,q):(D[p.url]?p.noexec=!0:D[p.url]=1,t.load(p.url,p.forceCSS||!p.forceJS&&"css"==p.url.split(".").pop().split("?").shift()?"c":ab,p.noexec,p.attrs,p.timeout),(aa(u)||aa(l))&&t.load(function(){T(),u&&u(p.origUrl,q,r),l&&l(p.origUrl,q,r),D[p.url]=2
})))
}function n(y,x){function w(b,h){if(b){if(Z(b)){h||(t=function(){var j=[].slice.call(arguments);
r.apply(this,j),q()
}),o(b,t,x,0,v)
}else{if(Object(b)===b){for(g in p=function(){var a=0,j;
for(j in b){b.hasOwnProperty(j)&&a++
}return a
}(),b){b.hasOwnProperty(g)&&(!h&&!--p&&(aa(t)?t=function(){var j=[].slice.call(arguments);
r.apply(this,j),q()
}:t[g]=function(j){return function(){var a=[].slice.call(arguments);
j&&j.apply(this,a),q()
}
}(r[g])),o(b[g],t,x,g,v))
}}}}else{!h&&q()
}}var v=!!y.test,u=y.load||y.both,t=y.callback||Y,r=t,q=y.complete||Y,p,g;
w(v?y.yep:y.nope,!!u),u&&w(u)
}var m,k,d=this.yepnope.loader;
if(Z(f)){o(f,0,d,0)
}else{if(F(f)){for(m=0;
m<f.length;
m++){k=f[m],Z(k)?o(k,0,d,0):F(k)?L(k):Object(k)===k&&n(k,d)
}}else{Object(f)===f&&n(f,d)
}}},L.addPrefix=function(d,c){C[d]=c
},L.addFilter=function(b){E.push(b)
},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"
},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(r,q,p,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;
g.src=r;
for(b in p){g.setAttribute(b,p[b])
}q=h?W:q||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,q(),g.onload=g.onreadystatechange=null)
},R(function(){f||(f=1,q(1))
},n),m?g.onload():Q.parentNode.insertBefore(g,Q)
},ad.yepnope.injectCss=function(b,n,m,l,k,h){var l=ac.createElement("link"),f,n=h?W:n||Y;
l.href=b,l.rel="stylesheet",l.type="text/css";
for(f in m){l.setAttribute(f,m[f])
}k||(Q.parentNode.insertBefore(l,Q),R(n,0))
}
}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))
};
/*!
 * classie - class helper functions
 * Handles all IE compatibility issues
 * classie.has( elem, 'my-class' ) -> true/false
 * classie.add( elem, 'my-new-class' )
 * classie.remove( elem, 'my-unwanted-class' )
 * classie.toggle( elem, 'my-class' )
 */
(function(f){function a(j){return new RegExp("(^|\\s+)"+j+"(\\s+|$)")
}var d,g,h;
if("classList" in document.documentElement){d=function(j,k){return j.classList.contains(k)
};
g=function(j,k){j.classList.add(k)
};
h=function(j,k){j.classList.remove(k)
}
}else{d=function(j,k){return a(k).test(j.className)
};
g=function(j,k){if(!d(j,k)){j.className=j.className+" "+k
}};
h=function(j,k){j.className=j.className.replace(a(k)," ")
}
}function b(k,l){var j=d(k,l)?h:g;
j(k,l)
}var c={hasClass:d,addClass:g,removeClass:h,toggleClass:b,has:d,add:g,remove:h,toggle:b};
if(typeof define==="function"&&define.amd){define(c)
}else{f.classie=c
}})(window);
/*! jQuery UI - v1.8.22 - 2012-07-24
 * https://github.com/jquery/jquery-ui
 * Includes: jquery.ui.core.js
 * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(g,f){function j(a,n){var m=a.nodeName.toLowerCase();
if("area"===m){var l=a.parentNode,k=l.name,d;
return !a.href||!k||l.nodeName.toLowerCase()!=="map"?!1:(d=g("img[usemap=#"+k+"]")[0],!!d&&h(d))
}return(/input|select|textarea|button|object/.test(m)?!a.disabled:"a"==m?a.href||n:n)&&h(a)
}function h(a){return !g(a).parents().andSelf().filter(function(){return g.curCSS(this,"visibility")==="hidden"||g.expr.filters.hidden(this)
}).length
}g.ui=g.ui||{};
if(g.ui.version){return
}g.extend(g.ui,{version:"1.8.22",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),g.fn.extend({propAttr:g.fn.prop||g.fn.attr,_focus:g.fn.focus,focus:function(a,d){return typeof a=="number"?this.each(function(){var b=this;
setTimeout(function(){g(b).focus(),d&&d.call(b)
},a)
}):this._focus.apply(this,arguments)
},scrollParent:function(){var a;
return g.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.curCSS(this,"position",1))&&/(auto|scroll)/.test(g.curCSS(this,"overflow",1)+g.curCSS(this,"overflow-y",1)+g.curCSS(this,"overflow-x",1))
}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(g.curCSS(this,"overflow",1)+g.curCSS(this,"overflow-y",1)+g.curCSS(this,"overflow-x",1))
}).eq(0),/fixed/.test(this.css("position"))||!a.length?g(document):a
},zIndex:function(l){if(l!==f){return this.css("zIndex",l)
}if(this.length){var k=g(this[0]),b,a;
while(k.length&&k[0]!==document){b=k.css("position");
if(b==="absolute"||b==="relative"||b==="fixed"){a=parseInt(k.css("zIndex"),10);
if(!isNaN(a)&&a!==0){return a
}}k=k.parent()
}}return 0
},disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()
})
},enableSelection:function(){return this.unbind(".ui-disableSelection")
}}),g("<a>").outerWidth(1).jquery||g.each(["Width","Height"],function(n,m){function a(o,r,q,p){return g.each(l,function(){r-=parseFloat(g.curCSS(o,"padding"+this,!0))||0,q&&(r-=parseFloat(g.curCSS(o,"border"+this+"Width",!0))||0),p&&(r-=parseFloat(g.curCSS(o,"margin"+this,!0))||0)
}),r
}var l=m==="Width"?["Left","Right"]:["Top","Bottom"],k=m.toLowerCase(),b={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};
g.fn["inner"+m]=function(d){return d===f?b["inner"+m].call(this):this.each(function(){g(this).css(k,a(this,d)+"px")
})
},g.fn["outer"+m]=function(d,o){return typeof d!="number"?b["outer"+m].call(this,d):this.each(function(){g(this).css(k,a(this,d,!0,o)+"px")
})
}
}),g.extend(g.expr[":"],{data:g.expr.createPseudo?g.expr.createPseudo(function(a){return function(b){return !!g.data(b,a)
}
}):function(a,l,k){return !!g.data(a,k[3])
},focusable:function(a){return j(a,!isNaN(g.attr(a,"tabindex")))
},tabbable:function(a){var k=g.attr(a,"tabindex"),c=isNaN(k);
return(c||k>=0)&&j(a,!c)
}}),g(function(){var a=document.body,d=a.appendChild(d=document.createElement("div"));
d.offsetHeight,g.extend(d.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),g.support.minHeight=d.offsetHeight===100,g.support.selectstart="onselectstart" in d,a.removeChild(d).style.display="none"
}),g.curCSS||(g.curCSS=g.css),g.extend(g.ui,{plugin:{add:function(a,n,m){var l=g.ui[a].prototype;
for(var k in m){l.plugins[k]=l.plugins[k]||[],l.plugins[k].push([n,m[k]])
}},call:function(l,k,o){var n=l.plugins[k];
if(!n||!l.element[0].parentNode){return
}for(var m=0;
m<n.length;
m++){l.options[n[m][0]]&&n[m][1].apply(l.element,o)
}}},contains:function(d,c){return document.compareDocumentPosition?d.compareDocumentPosition(c)&16:d!==c&&d.contains(c)
},hasScroll:function(a,m){if(g(a).css("overflow")==="hidden"){return !1
}var l=m&&m==="left"?"scrollLeft":"scrollTop",k=!1;
return a[l]>0?!0:(a[l]=1,k=a[l]>0,a[l]=0,k)
},isOverAxis:function(k,d,l){return k>d&&k<d+l
},isOver:function(a,o,n,m,l,k){return g.ui.isOverAxis(a,n,l)&&g.ui.isOverAxis(o,m,k)
}})
})(jQuery);
/*! jQuery UI - v1.8.22 - 2012-07-24
 * https://github.com/jquery/jquery-ui
 * Includes: jquery.ui.widget.js
 * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(g,f){if(g.cleanData){var j=g.cleanData;
g.cleanData=function(a){for(var l=0,k;
(k=a[l])!=null;
l++){try{g(k).triggerHandler("remove")
}catch(c){}}j(a)
}
}else{var h=g.fn.remove;
g.fn.remove=function(a,d){return this.each(function(){return d||(!a||g.filter(a,[this]).length)&&g("*",this).add([this]).each(function(){try{g(this).triggerHandler("remove")
}catch(c){}}),h.call(g(this),a,d)
})
}
}g.widget=function(a,o,n){var m=a.split(".")[0],l;
a=a.split(".")[1],l=m+"-"+a,n||(n=o,o=g.Widget),g.expr[":"][l]=function(b){return !!g.data(b,a)
},g[m]=g[m]||{},g[m][a]=function(d,c){arguments.length&&this._createWidget(d,c)
};
var k=new o;
k.options=g.extend(!0,{},k.options),g[m][a].prototype=g.extend(!0,k,{namespace:m,widgetName:a,widgetEventPrefix:g[m][a].prototype.widgetEventPrefix||a,widgetBaseClass:l},n),g.widget.bridge(a,g[m][a])
},g.widget.bridge=function(b,a){g.fn[b]=function(l){var k=typeof l=="string",d=Array.prototype.slice.call(arguments,1),c=this;
return l=!k&&d.length?g.extend.apply(null,[!0,l].concat(d)):l,k&&l.charAt(0)==="_"?c:(k?this.each(function(){var n=g.data(this,b),m=n&&g.isFunction(n[l])?n[l].apply(n,d):n;
if(m!==n&&m!==f){return c=m,!1
}}):this.each(function(){var m=g.data(this,b);
m?m.option(l||{})._init():g.data(this,b,new a(l,this))
}),c)
}
},g.Widget=function(d,c){arguments.length&&this._createWidget(d,c)
},g.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,l){g.data(l,this.widgetName,this),this.element=g(l),this.options=g.extend(!0,{},this.options,this._getCreateOptions(),a);
var k=this;
this.element.bind("remove."+this.widgetName,function(){k.destroy()
}),this._create(),this._trigger("create"),this._init()
},_getCreateOptions:function(){return g.metadata&&g.metadata.get(this.element[0])[this.widgetName]
},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")
},widget:function(){return this.element
},option:function(k,b){var a=k;
if(arguments.length===0){return g.extend({},this.options)
}if(typeof k=="string"){if(b===f){return this.options[k]
}a={},a[k]=b
}return this._setOptions(a),this
},_setOptions:function(a){var d=this;
return g.each(a,function(k,c){d._setOption(k,c)
}),this
},_setOption:function(d,c){return this.options[d]=c,d==="disabled"&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c),this
},enable:function(){return this._setOption("disabled",!1)
},disable:function(){return this._setOption("disabled",!0)
},_trigger:function(a,o,n){var m,l,k=this.options[a];
n=n||{},o=g.Event(o),o.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),o.target=this.element[0],l=o.originalEvent;
if(l){for(m in l){m in o||(o[m]=l[m])
}}return this.element.trigger(o,n),!(g.isFunction(k)&&k.call(this.element[0],o,n)===!1||o.isDefaultPrevented())
}}
})(jQuery);
/*! jQuery UI - v1.8.22 - 2012-07-24
 * https://github.com/jquery/jquery-ui
 * Includes: jquery.ui.mouse.js
 * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(f,d){var g=!1;
f(document).mouseup(function(b){g=!1
}),f.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;
this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)
}).bind("click."+this.widgetName,function(b){if(!0===f.data(b.target,a.widgetName+".preventClickEvent")){return f.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1
}}),this.started=!1
},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),f(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)
},_mouseDown:function(a){if(g){return
}this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;
var j=this,h=a.which==1,c=typeof this.options.cancel=="string"&&a.target.nodeName?f(a.target).closest(this.options.cancel).length:!1;
if(!h||c||!this._mouseCapture(a)){return !0
}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){j.mouseDelayMet=!0
},this.options.delay));
if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==!1;
if(!this._mouseStarted){return a.preventDefault(),!0
}}return !0===f.data(a.target,this.widgetName+".preventClickEvent")&&f.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return j._mouseMove(b)
},this._mouseUpDelegate=function(b){return j._mouseUp(b)
},f(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),g=!0,!0
},_mouseMove:function(a){return !f.browser.msie||document.documentMode>=9||!!a.button?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)
},_mouseUp:function(a){return f(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target==this._mouseDownEvent.target&&f.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),!1
},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance
},_mouseDelayMet:function(b){return this.mouseDelayMet
},_mouseStart:function(b){},_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return !0
}})
})(jQuery);
/*! jQuery UI - v1.8.22 - 2012-07-24
 * https://github.com/jquery/jquery-ui
 * Includes: jquery.ui.position.js
 * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(k,j){k.ui=k.ui||{};
var q=/left|center|right/,p=/top|center|bottom/,o="center",n={},m=k.fn.position,l=k.fn.offset;
k.fn.position=function(c){if(!c||!c.of){return m.apply(this,arguments)
}c=k.extend({},c);
var t=k(c.of),r=t[0],g=(c.collision||"flip").split(" "),f=c.offset?c.offset.split(" "):[0,0],d,a,u;
return r.nodeType===9?(d=t.width(),a=t.height(),u={top:0,left:0}):r.setTimeout?(d=t.width(),a=t.height(),u={top:t.scrollTop(),left:t.scrollLeft()}):r.preventDefault?(c.at="left top",d=a=0,u={top:c.of.pageY,left:c.of.pageX}):(d=t.outerWidth(),a=t.outerHeight(),u=t.offset()),k.each(["my","at"],function(){var b=(c[this]||"").split(" ");
b.length===1&&(b=q.test(b[0])?b.concat([o]):p.test(b[0])?[o].concat(b):[o,o]),b[0]=q.test(b[0])?b[0]:o,b[1]=p.test(b[1])?b[1]:o,c[this]=b
}),g.length===1&&(g[1]=g[0]),f[0]=parseInt(f[0],10)||0,f.length===1&&(f[1]=f[0]),f[1]=parseInt(f[1],10)||0,c.at[0]==="right"?u.left+=d:c.at[0]===o&&(u.left+=d/2),c.at[1]==="bottom"?u.top+=a:c.at[1]===o&&(u.top+=a/2),u.left+=f[0],u.top+=f[1],this.each(function(){var C=k(this),B=C.outerWidth(),A=C.outerHeight(),z=parseInt(k.curCSS(this,"marginLeft",!0))||0,y=parseInt(k.curCSS(this,"marginTop",!0))||0,x=B+z+(parseInt(k.curCSS(this,"marginRight",!0))||0),w=A+y+(parseInt(k.curCSS(this,"marginBottom",!0))||0),v=k.extend({},u),b;
c.my[0]==="right"?v.left-=B:c.my[0]===o&&(v.left-=B/2),c.my[1]==="bottom"?v.top-=A:c.my[1]===o&&(v.top-=A/2),n.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),b={left:v.left-z,top:v.top-y},k.each(["left","top"],function(D,h){k.ui.position[g[D]]&&k.ui.position[g[D]][h](v,{targetWidth:d,targetHeight:a,elemWidth:B,elemHeight:A,collisionPosition:b,collisionWidth:x,collisionHeight:w,offset:f,my:c.my,at:c.at})
}),k.fn.bgiframe&&C.bgiframe(),C.offset(k.extend(v,{using:c.using}))
})
},k.ui.position={fit:{left:function(a,h){var g=k(window),f=h.collisionPosition.left+h.collisionWidth-g.width()-g.scrollLeft();
a.left=f>0?a.left-f:Math.max(a.left-h.collisionPosition.left,a.left)
},top:function(a,h){var g=k(window),f=h.collisionPosition.top+h.collisionHeight-g.height()-g.scrollTop();
a.top=f>0?a.top-f:Math.max(a.top-h.collisionPosition.top,a.top)
}},flip:{left:function(a,x){if(x.at[0]===o){return
}var w=k(window),v=x.collisionPosition.left+x.collisionWidth-w.width()-w.scrollLeft(),u=x.my[0]==="left"?-x.elemWidth:x.my[0]==="right"?x.elemWidth:0,t=x.at[0]==="left"?x.targetWidth:-x.targetWidth,r=-2*x.offset[0];
a.left+=x.collisionPosition.left<0?u+t+r:v>0?u+t+r:0
},top:function(a,x){if(x.at[1]===o){return
}var w=k(window),v=x.collisionPosition.top+x.collisionHeight-w.height()-w.scrollTop(),u=x.my[1]==="top"?-x.elemHeight:x.my[1]==="bottom"?x.elemHeight:0,t=x.at[1]==="top"?x.targetHeight:-x.targetHeight,r=-2*x.offset[1];
a.top+=x.collisionPosition.top<0?u+t+r:v>0?u+t+r:0
}}},k.offset.setOffset||(k.offset.setOffset=function(a,x){/static/.test(k.curCSS(a,"position"))&&(a.style.position="relative");
var w=k(a),v=w.offset(),u=parseInt(k.curCSS(a,"top",!0),10)||0,t=parseInt(k.curCSS(a,"left",!0),10)||0,r={top:x.top-v.top+u,left:x.left-v.left+t};
"using" in x?x.using.call(a,r):w.css(r)
},k.fn.offset=function(a){var d=this[0];
return !d||!d.ownerDocument?null:a?k.isFunction(a)?this.each(function(b){k(this).offset(a.call(this,b,k(this).offset()))
}):this.each(function(){k.offset.setOffset(this,a)
}):l.call(this)
}),function(){var a=document.getElementsByTagName("body")[0],x=document.createElement("div"),w,v,u,t,r;
w=document.createElement(a?"div":"body"),u={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&k.extend(u,{position:"absolute",left:"-1000px",top:"-1000px"});
for(var f in u){w.style[f]=u[f]
}w.appendChild(x),v=a||document.documentElement,v.insertBefore(w,v.firstChild),x.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",t=k(x).offset(function(d,c){return c
}).offset(),w.innerHTML="",v.removeChild(w),r=t.top+t.left+(a?2000:0),n.fractions=r>21&&r<22
}()
})(jQuery);
/*! jQuery UI - v1.8.22 - 2012-07-24
 * https://github.com/jquery/jquery-ui
 * Includes: jquery.ui.draggable.js
 * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(d,c){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()
},destroy:function(){if(!this.element.data("draggable")){return
}return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this
},_mouseCapture:function(a){var f=this.options;
return this.helper||f.disabled||d(a.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(a),this.handle?(f.iframeFix&&d(f.iframeFix===!0?"iframe":f.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(d(this).offset()).appendTo("body")
}),!0):!1)
},_mouseStart:function(a){var f=this.options;
return this.helper=this._createHelper(a),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),d.ui.ddmanager&&(d.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt),f.containment&&this._setContainment(),this._trigger("start",a)===!1?(this._clear(),!1):(this._cacheHelperProportions(),d.ui.ddmanager&&!f.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a),this._mouseDrag(a,!0),d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,a),!0)
},_mouseDrag:function(a,g){this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute");
if(!g){var f=this._uiHash();
if(this._trigger("drag",a,f)===!1){return this._mouseUp({}),!1
}this.position=f.position
}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"
}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"
}return d.ui.ddmanager&&d.ui.ddmanager.drag(this,a),!1
},_mouseStop:function(a){var k=!1;
d.ui.ddmanager&&!this.options.dropBehaviour&&(k=d.ui.ddmanager.drop(this,a)),this.dropped&&(k=this.dropped,this.dropped=!1);
var j=this.element[0],h=!1;
while(j&&(j=j.parentNode)){j==document&&(h=!0)
}if(!h&&this.options.helper==="original"){return !1
}if(this.options.revert=="invalid"&&!k||this.options.revert=="valid"&&k||this.options.revert===!0||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,k)){var g=this;
d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){g._trigger("stop",a)!==!1&&g._clear()
})
}else{this._trigger("stop",a)!==!1&&this._clear()
}return !1
},_mouseUp:function(a){return this.options.iframeFix===!0&&d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)
}),d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,a),d.ui.mouse.prototype._mouseUp.call(this,a)
},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this
},_getHandle:function(a){var f=!this.options.handle||!d(this.options.handle,this.element).length?!0:!1;
return d(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(f=!0)
}),f
},_createHelper:function(a){var g=this.options,f=d.isFunction(g.helper)?d(g.helper.apply(this.element[0],[a])):g.helper=="clone"?this.element.clone().removeAttr("id"):this.element;
return f.parents("body").length||f.appendTo(g.appendTo=="parent"?this.element[0].parentNode:g.appendTo),f[0]!=this.element[0]&&!/(fixed|absolute)/.test(f.css("position"))&&f.css("position","absolute"),f
},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),d.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)
},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();
var a=this.offsetParent.offset();
this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());
if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie){a={top:0,left:0}
}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}
},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();
return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}
}return{top:0,left:0}
},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}
},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}
},_setContainment:function(){var a=this.options;
a.containment=="parent"&&(a.containment=this.helper[0].parentNode);
if(a.containment=="document"||a.containment=="window"){this.containment=[a.containment=="document"?0:d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a.containment=="document"?0:d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:d(window).scrollLeft())+d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?0:d(window).scrollTop())+(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]
}if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var k=d(a.containment),j=k[0];
if(!j){return
}var h=k.offset(),g=d(j).css("overflow")!="hidden";
this.containment=[(parseInt(d(j).css("borderLeftWidth"),10)||0)+(parseInt(d(j).css("paddingLeft"),10)||0),(parseInt(d(j).css("borderTopWidth"),10)||0)+(parseInt(d(j).css("paddingTop"),10)||0),(g?Math.max(j.scrollWidth,j.offsetWidth):j.offsetWidth)-(parseInt(d(j).css("borderLeftWidth"),10)||0)-(parseInt(d(j).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(g?Math.max(j.scrollHeight,j.offsetHeight):j.offsetHeight)-(parseInt(d(j).css("borderTopWidth"),10)||0)-(parseInt(d(j).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=k
}else{a.containment.constructor==Array&&(this.containment=a.containment)
}},_convertPositionTo:function(a,m){m||(m=this.position);
var l=a=="absolute"?1:-1,k=this.options,j=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(j[0].tagName);
return{top:m.top+this.offset.relative.top*l+this.offset.parent.top*l-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:j.scrollTop())*l),left:m.left+this.offset.relative.left*l+this.offset.parent.left*l-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:j.scrollLeft())*l)}
},_generatePosition:function(u){var t=this.options,r=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,q=/(html|body)/i.test(r[0].tagName),p=u.pageX,o=u.pageY;
if(this.originalPosition){var n;
if(this.containment){if(this.relative_container){var m=this.relative_container.offset();
n=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]
}else{n=this.containment
}u.pageX-this.offset.click.left<n[0]&&(p=n[0]+this.offset.click.left),u.pageY-this.offset.click.top<n[1]&&(o=n[1]+this.offset.click.top),u.pageX-this.offset.click.left>n[2]&&(p=n[2]+this.offset.click.left),u.pageY-this.offset.click.top>n[3]&&(o=n[3]+this.offset.click.top)
}if(t.grid){var l=t.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/t.grid[1])*t.grid[1]:this.originalPageY;
o=n?l-this.offset.click.top<n[1]||l-this.offset.click.top>n[3]?l-this.offset.click.top<n[1]?l+t.grid[1]:l-t.grid[1]:l:l;
var a=t.grid[0]?this.originalPageX+Math.round((p-this.originalPageX)/t.grid[0])*t.grid[0]:this.originalPageX;
p=n?a-this.offset.click.left<n[0]||a-this.offset.click.left>n[2]?a-this.offset.click.left<n[0]?a+t.grid[0]:a-t.grid[0]:a:a
}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():q?0:r.scrollTop()),left:p-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():q?0:r.scrollLeft())}
},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1
},_trigger:function(a,g,f){return f=f||this._uiHash(),d.ui.plugin.call(this,a,[g,f]),a=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),d.Widget.prototype._trigger.call(this,a,g,f)
},plugins:{},_uiHash:function(b){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}
}}),d.extend(d.ui.draggable,{version:"1.8.22"}),d.ui.plugin.add("draggable","connectToSortable",{start:function(a,k){var j=d(this).data("draggable"),h=j.options,g=d.extend({},k,{item:j.element});
j.sortables=[],d(h.connectToSortable).each(function(){var b=d.data(this,"sortable");
b&&!b.options.disabled&&(j.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",a,g))
})
},stop:function(a,h){var g=d(this).data("draggable"),f=d.extend({},h,{item:g.element});
d.each(g.sortables,function(){this.instance.isOver?(this.instance.isOver=0,g.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,g.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,f))
})
},drag:function(a,k){var j=d(this).data("draggable"),h=this,g=function(u){var t=this.offset.click.top,r=this.offset.click.left,q=this.positionAbs.top,p=this.positionAbs.left,o=u.height,n=u.width,m=u.top,l=u.left;
return d.ui.isOver(q+t,p+r,m,l,o,n)
};
d.each(j.sortables,function(b){this.instance.positionAbs=j.positionAbs,this.instance.helperProportions=j.helperProportions,this.instance.offset.click=j.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=d(h).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return k.helper[0]
},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=j.offset.click.top,this.instance.offset.click.left=j.offset.click.left,this.instance.offset.parent.left-=j.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=j.offset.parent.top-this.instance.offset.parent.top,j._trigger("toSortable",a),j.dropped=this.instance.element,j.currentItem=j.element,this.instance.fromOutside=j),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),j._trigger("fromSortable",a),j.dropped=!1)
})
}}),d.ui.plugin.add("draggable","cursor",{start:function(a,h){var g=d("body"),f=d(this).data("draggable").options;
g.css("cursor")&&(f._cursor=g.css("cursor")),g.css("cursor",f.cursor)
},stop:function(a,g){var f=d(this).data("draggable").options;
f._cursor&&d("body").css("cursor",f._cursor)
}}),d.ui.plugin.add("draggable","opacity",{start:function(a,h){var g=d(h.helper),f=d(this).data("draggable").options;
g.css("opacity")&&(f._opacity=g.css("opacity")),g.css("opacity",f.opacity)
},stop:function(a,g){var f=d(this).data("draggable").options;
f._opacity&&d(g.helper).css("opacity",f._opacity)
}}),d.ui.plugin.add("draggable","scroll",{start:function(a,g){var f=d(this).data("draggable");
f.scrollParent[0]!=document&&f.scrollParent[0].tagName!="HTML"&&(f.overflowOffset=f.scrollParent.offset())
},drag:function(a,k){var j=d(this).data("draggable"),h=j.options,g=!1;
if(j.scrollParent[0]!=document&&j.scrollParent[0].tagName!="HTML"){if(!h.axis||h.axis!="x"){j.overflowOffset.top+j.scrollParent[0].offsetHeight-a.pageY<h.scrollSensitivity?j.scrollParent[0].scrollTop=g=j.scrollParent[0].scrollTop+h.scrollSpeed:a.pageY-j.overflowOffset.top<h.scrollSensitivity&&(j.scrollParent[0].scrollTop=g=j.scrollParent[0].scrollTop-h.scrollSpeed)
}if(!h.axis||h.axis!="y"){j.overflowOffset.left+j.scrollParent[0].offsetWidth-a.pageX<h.scrollSensitivity?j.scrollParent[0].scrollLeft=g=j.scrollParent[0].scrollLeft+h.scrollSpeed:a.pageX-j.overflowOffset.left<h.scrollSensitivity&&(j.scrollParent[0].scrollLeft=g=j.scrollParent[0].scrollLeft-h.scrollSpeed)
}}else{if(!h.axis||h.axis!="x"){a.pageY-d(document).scrollTop()<h.scrollSensitivity?g=d(document).scrollTop(d(document).scrollTop()-h.scrollSpeed):d(window).height()-(a.pageY-d(document).scrollTop())<h.scrollSensitivity&&(g=d(document).scrollTop(d(document).scrollTop()+h.scrollSpeed))
}if(!h.axis||h.axis!="y"){a.pageX-d(document).scrollLeft()<h.scrollSensitivity?g=d(document).scrollLeft(d(document).scrollLeft()-h.scrollSpeed):d(window).width()-(a.pageX-d(document).scrollLeft())<h.scrollSensitivity&&(g=d(document).scrollLeft(d(document).scrollLeft()+h.scrollSpeed))
}}g!==!1&&d.ui.ddmanager&&!h.dropBehaviour&&d.ui.ddmanager.prepareOffsets(j,a)
}}),d.ui.plugin.add("draggable","snap",{start:function(a,h){var g=d(this).data("draggable"),f=g.options;
g.snapElements=[],d(f.snap.constructor!=String?f.snap.items||":data(draggable)":f.snap).each(function(){var j=d(this),k=j.offset();
this!=g.element[0]&&g.snapElements.push({item:this,width:j.outerWidth(),height:j.outerHeight(),top:k.top,left:k.left})
})
},drag:function(L,K){var J=d(this).data("draggable"),I=J.options,H=I.snapTolerance,G=K.offset.left,F=G+J.helperProportions.width,E=K.offset.top,D=E+J.helperProportions.height;
for(var C=J.snapElements.length-1;
C>=0;
C--){var B=J.snapElements[C].left,A=B+J.snapElements[C].width,z=J.snapElements[C].top,y=z+J.snapElements[C].height;
if(!(B-H<G&&G<A+H&&z-H<E&&E<y+H||B-H<G&&G<A+H&&z-H<D&&D<y+H||B-H<F&&F<A+H&&z-H<E&&E<y+H||B-H<F&&F<A+H&&z-H<D&&D<y+H)){J.snapElements[C].snapping&&J.options.snap.release&&J.options.snap.release.call(J.element,L,d.extend(J._uiHash(),{snapItem:J.snapElements[C].item})),J.snapElements[C].snapping=!1;
continue
}if(I.snapMode!="inner"){var x=Math.abs(z-D)<=H,w=Math.abs(y-E)<=H,v=Math.abs(B-F)<=H,u=Math.abs(A-G)<=H;
x&&(K.position.top=J._convertPositionTo("relative",{top:z-J.helperProportions.height,left:0}).top-J.margins.top),w&&(K.position.top=J._convertPositionTo("relative",{top:y,left:0}).top-J.margins.top),v&&(K.position.left=J._convertPositionTo("relative",{top:0,left:B-J.helperProportions.width}).left-J.margins.left),u&&(K.position.left=J._convertPositionTo("relative",{top:0,left:A}).left-J.margins.left)
}var a=x||w||v||u;
if(I.snapMode!="outer"){var x=Math.abs(z-E)<=H,w=Math.abs(y-D)<=H,v=Math.abs(B-G)<=H,u=Math.abs(A-F)<=H;
x&&(K.position.top=J._convertPositionTo("relative",{top:z,left:0}).top-J.margins.top),w&&(K.position.top=J._convertPositionTo("relative",{top:y-J.helperProportions.height,left:0}).top-J.margins.top),v&&(K.position.left=J._convertPositionTo("relative",{top:0,left:B}).left-J.margins.left),u&&(K.position.left=J._convertPositionTo("relative",{top:0,left:A-J.helperProportions.width}).left-J.margins.left)
}!J.snapElements[C].snapping&&(x||w||v||u||a)&&J.options.snap.snap&&J.options.snap.snap.call(J.element,L,d.extend(J._uiHash(),{snapItem:J.snapElements[C].item})),J.snapElements[C].snapping=x||w||v||u||a
}}}),d.ui.plugin.add("draggable","stack",{start:function(a,k){var j=d(this).data("draggable").options,h=d.makeArray(d(j.stack)).sort(function(f,l){return(parseInt(d(f).css("zIndex"),10)||0)-(parseInt(d(l).css("zIndex"),10)||0)
});
if(!h.length){return
}var g=parseInt(h[0].style.zIndex)||0;
d(h).each(function(b){this.style.zIndex=g+b
}),this[0].style.zIndex=g+h.length
}}),d.ui.plugin.add("draggable","zIndex",{start:function(a,h){var g=d(h.helper),f=d(this).data("draggable").options;
g.css("zIndex")&&(f._zIndex=g.css("zIndex")),g.css("zIndex",f.zIndex)
},stop:function(a,g){var f=d(this).data("draggable").options;
f._zIndex&&d(g.helper).css("zIndex",f._zIndex)
}})
})(jQuery);
/*! jQuery UI - v1.8.22 - 2012-07-24
 * https://github.com/jquery/jquery-ui
 * Includes: jquery.ui.dialog.js
 * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(h,g){var m="ui-dialog ui-widget ui-widget-content ui-corner-all ",l={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},k={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},j=h.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};
h.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(a){var d=h(this).css(a).offset().top;
d<0&&h(this).css("top",a.top-d)
}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;
var v=this,u=v.options,t=u.title||"&#160;",r=h.ui.dialog.getTitleId(v.element),q=(v.uiDialog=h("<div></div>")).appendTo(document.body).hide().addClass(m+u.dialogClass).css({zIndex:u.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(b){u.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===h.ui.keyCode.ESCAPE&&(v.close(b),b.preventDefault())
}).attr({role:"dialog","aria-labelledby":r}).mousedown(function(b){v.moveToTop(!1,b)
}),p=v.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(q),o=(v.uiDialogTitlebar=h("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(q),n=h('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){n.addClass("ui-state-hover")
},function(){n.removeClass("ui-state-hover")
}).focus(function(){n.addClass("ui-state-focus")
}).blur(function(){n.removeClass("ui-state-focus")
}).click(function(b){return v.close(b),!1
}).appendTo(o),c=(v.uiDialogTitlebarCloseText=h("<span></span>")).addClass("ui-icon ui-icon-closethick").text(u.closeText).appendTo(n),a=h("<span></span>").addClass("ui-dialog-title").attr("id",r).html(t).prependTo(o);
h.isFunction(u.beforeclose)&&!h.isFunction(u.beforeClose)&&(u.beforeClose=u.beforeclose),o.find("*").add(o).disableSelection(),u.draggable&&h.fn.draggable&&v._makeDraggable(),u.resizable&&h.fn.resizable&&v._makeResizable(),v._createButtons(u.buttons),v._isOpen=!1,h.fn.bgiframe&&q.bgiframe()
},_init:function(){this.options.autoOpen&&this.open()
},destroy:function(){var b=this;
return b.overlay&&b.overlay.destroy(),b.uiDialog.hide(),b.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),b.uiDialog.remove(),b.originalTitle&&b.element.attr("title",b.originalTitle),b
},widget:function(){return this.uiDialog
},close:function(a){var o=this,n,f;
if(!1===o._trigger("beforeClose",a)){return
}return o.overlay&&o.overlay.destroy(),o.uiDialog.unbind("keypress.ui-dialog"),o._isOpen=!1,o.options.hide?o.uiDialog.hide(o.options.hide,function(){o._trigger("close",a)
}):(o.uiDialog.hide(),o._trigger("close",a)),h.ui.dialog.overlay.resize(),o.options.modal&&(n=0,h(".ui-dialog").each(function(){this!==o.uiDialog[0]&&(f=h(this).css("z-index"),isNaN(f)||(n=Math.max(n,f)))
}),h.ui.dialog.maxZ=n),o
},isOpen:function(){return this._isOpen
},moveToTop:function(a,q){var p=this,o=p.options,n;
return o.modal&&!a||!o.stack&&!o.modal?p._trigger("focus",q):(o.zIndex>h.ui.dialog.maxZ&&(h.ui.dialog.maxZ=o.zIndex),p.overlay&&(h.ui.dialog.maxZ+=1,p.overlay.$el.css("z-index",h.ui.dialog.overlay.maxZ=h.ui.dialog.maxZ)),n={scrollTop:p.element.scrollTop(),scrollLeft:p.element.scrollLeft()},h.ui.dialog.maxZ+=1,p.uiDialog.css("z-index",h.ui.dialog.maxZ),p.element.attr(n),p._trigger("focus",q),p)
},open:function(){if(this._isOpen){return
}var a=this,n=a.options,f=a.uiDialog;
return a.overlay=n.modal?new h.ui.dialog.overlay(a):null,a._size(),a._position(n.position),f.show(n.show),a.moveToTop(!0),n.modal&&f.bind("keydown.ui-dialog",function(o){if(o.keyCode!==h.ui.keyCode.TAB){return
}var r=h(":tabbable",this),q=r.filter(":first"),p=r.filter(":last");
if(o.target===p[0]&&!o.shiftKey){return q.focus(1),!1
}if(o.target===q[0]&&o.shiftKey){return p.focus(1),!1
}}),h(a.element.find(":tabbable").get().concat(f.find(".ui-dialog-buttonpane :tabbable").get().concat(f.get()))).eq(0).focus(),a._isOpen=!0,a._trigger("open"),a
},_createButtons:function(a){var p=this,o=!1,n=h("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=h("<div></div>").addClass("ui-dialog-buttonset").appendTo(n);
p.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof a=="object"&&a!==null&&h.each(a,function(){return !(o=!0)
}),o&&(h.each(a,function(c,r){r=h.isFunction(r)?{click:r,text:c}:r;
var q=h('<button type="button"></button>').click(function(){r.click.apply(p.element[0],arguments)
}).appendTo(f);
h.each(r,function(t,d){if(t==="click"){return
}t in j?q[t](d):q.attr(t,d)
}),h.fn.button&&q.button()
}),n.appendTo(p.uiDialog))
},_makeDraggable:function(){function n(b){return{position:b.position,offset:b.offset}
}var a=this,q=a.options,p=h(document),o;
a.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,b){o=q.height==="auto"?"auto":h(this).height(),h(this).height(h(this).height()).addClass("ui-dialog-dragging"),a._trigger("dragStart",c,n(b))
},drag:function(b,d){a._trigger("drag",b,n(d))
},stop:function(c,b){q.position=[b.position.left-p.scrollLeft(),b.position.top-p.scrollTop()],h(this).removeClass("ui-dialog-dragging").height(o),a._trigger("dragStop",c,n(b)),h.ui.dialog.overlay.resize()
}})
},_makeResizable:function(q){function a(c){return{originalPosition:c.originalPosition,originalSize:c.originalSize,position:c.position,size:c.size}
}q=q===g?this.options.resizable:q;
var p=this,o=p.options,n=p.uiDialog.css("position"),b=typeof q=="string"?q:"n,e,s,w,se,sw,ne,nw";
p.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:p.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:p._minHeight(),handles:b,start:function(d,f){h(this).addClass("ui-dialog-resizing"),p._trigger("resizeStart",d,a(f))
},resize:function(d,c){p._trigger("resize",d,a(c))
},stop:function(d,f){h(this).removeClass("ui-dialog-resizing"),o.height=h(this).height(),o.width=h(this).width(),p._trigger("resizeStop",d,a(f)),h.ui.dialog.overlay.resize()
}}).css("position",n).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")
},_minHeight:function(){var b=this.options;
return b.height==="auto"?b.minHeight:Math.min(b.minHeight,b.height)
},_position:function(a){var o=[],n=[0,0],f;
if(a){if(typeof a=="string"||typeof a=="object"&&"0" in a){o=a.split?a.split(" "):[a[0],a[1]],o.length===1&&(o[1]=o[0]),h.each(["left","top"],function(d,c){+o[d]===o[d]&&(n[d]=o[d],o[d]=c)
}),a={my:o.join(" "),at:o.join(" "),offset:n.join(" ")}
}a=h.extend({},h.ui.dialog.prototype.options.position,a)
}else{a=h.ui.dialog.prototype.options.position
}f=this.uiDialog.is(":visible"),f||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(h.extend({of:window},a)),f||this.uiDialog.hide()
},_setOptions:function(a){var o=this,n={},d=!1;
h.each(a,function(f,c){o._setOption(f,c),f in l&&(d=!0),f in k&&(n[f]=c)
}),d&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",n)
},_setOption:function(a,q){var p=this,o=p.uiDialog;
switch(a){case"beforeclose":a="beforeClose";
break;
case"buttons":p._createButtons(q);
break;
case"closeText":p.uiDialogTitlebarCloseText.text(""+q);
break;
case"dialogClass":o.removeClass(p.options.dialogClass).addClass(m+q);
break;
case"disabled":q?o.addClass("ui-dialog-disabled"):o.removeClass("ui-dialog-disabled");
break;
case"draggable":var n=o.is(":data(draggable)");
n&&!q&&o.draggable("destroy"),!n&&q&&p._makeDraggable();
break;
case"position":p._position(q);
break;
case"resizable":var c=o.is(":data(resizable)");
c&&!q&&o.resizable("destroy"),c&&typeof q=="string"&&o.resizable("option","handles",q),!c&&q!==!1&&p._makeResizable(q);
break;
case"title":h(".ui-dialog-title",p.uiDialogTitlebar).html(""+(q||"&#160;"))
}h.Widget.prototype._setOption.apply(p,arguments)
},_size:function(){var a=this.options,q,p,o=this.uiDialog.is(":visible");
this.element.show().css({width:"auto",minHeight:0,height:0}),a.minWidth>a.width&&(a.width=a.minWidth),q=this.uiDialog.css({height:"auto",width:a.width}).height(),p=Math.max(0,a.minHeight-q);
if(a.height==="auto"){if(h.support.minHeight){this.element.css({minHeight:p,height:"auto"})
}else{this.uiDialog.show();
var n=this.element.css("height","auto").height();
o||this.uiDialog.hide(),this.element.height(Math.max(n,p))
}}else{this.element.height(Math.max(a.height-q,0))
}this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())
}}),h.extend(h.ui.dialog,{version:"1.8.22",uuid:0,maxZ:0,getTitleId:function(d){var c=d.attr("id");
return c||(this.uuid+=1,c=this.uuid),"ui-dialog-title-"+c
},overlay:function(a){this.$el=h.ui.dialog.overlay.create(a)
}}),h.extend(h.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:h.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(b){return b+".dialog-overlay"
}).join(" "),create:function(a){this.instances.length===0&&(setTimeout(function(){h.ui.dialog.overlay.instances.length&&h(document).bind(h.ui.dialog.overlay.events,function(c){if(h(c.target).zIndex()<h.ui.dialog.overlay.maxZ){return !1
}})
},1),h(document).bind("keydown.dialog-overlay",function(b){a.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===h.ui.keyCode.ESCAPE&&(a.close(b),b.preventDefault())
}),h(window).bind("resize.dialog-overlay",h.ui.dialog.overlay.resize));
var d=(this.oldInstances.pop()||h("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});
return h.fn.bgiframe&&d.bgiframe(),this.instances.push(d),d
},destroy:function(a){var n=h.inArray(a,this.instances);
n!=-1&&this.oldInstances.push(this.instances.splice(n,1)[0]),this.instances.length===0&&h([document,window]).unbind(".dialog-overlay"),a.remove();
var f=0;
h.each(this.instances,function(){f=Math.max(f,this.css("z-index"))
}),this.maxZ=f
},height:function(){var a,d;
return h.browser.msie&&h.browser.version<7?(a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),d=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),a<d?h(window).height()+"px":a+"px"):h(document).height()+"px"
},width:function(){var a,d;
return h.browser.msie?(a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),d=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),a<d?h(window).width()+"px":a+"px"):h(document).width()+"px"
},resize:function(){var a=h([]);
h.each(h.ui.dialog.overlay.instances,function(){a=a.add(this)
}),a.css({width:0,height:0}).css({width:h.ui.dialog.overlay.width(),height:h.ui.dialog.overlay.height()})
}}),h.extend(h.ui.dialog.overlay.prototype,{destroy:function(){h.ui.dialog.overlay.destroy(this.$el)
}})
})(jQuery);
/*! jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.slider.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(f,d){var g=5;
f.widget("ui.slider",f.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var a=this,n=this.options,m=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),l="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",k=n.values&&n.values.length||1,j=[];
this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=f([]),n.range&&(n.range===!0&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&n.values.length!==2&&(n.values=[n.values[0],n.values[0]])),this.range=f("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(n.range==="min"||n.range==="max"?" ui-slider-range-"+n.range:"")));
for(var c=m.length;
c<k;
c+=1){j.push(l)
}this.handles=m.add(f(j.join("")).appendTo(a.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()
}).hover(function(){n.disabled||f(this).addClass("ui-state-hover")
},function(){f(this).removeClass("ui-state-hover")
}).focus(function(){n.disabled?f(this).blur():(f(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),f(this).addClass("ui-state-focus"))
}).blur(function(){f(this).removeClass("ui-state-focus")
}),this.handles.each(function(h){f(this).data("index.ui-slider-handle",h)
}),this.handles.keydown(function(t){var r=f(this).data("index.ui-slider-handle"),q,p,o,b;
if(a.options.disabled){return
}switch(t.keyCode){case f.ui.keyCode.HOME:case f.ui.keyCode.END:case f.ui.keyCode.PAGE_UP:case f.ui.keyCode.PAGE_DOWN:case f.ui.keyCode.UP:case f.ui.keyCode.RIGHT:case f.ui.keyCode.DOWN:case f.ui.keyCode.LEFT:t.preventDefault();
if(!a._keySliding){a._keySliding=!0,f(this).addClass("ui-state-active"),q=a._start(t,r);
if(q===!1){return
}}}b=a.options.step,a.options.values&&a.options.values.length?p=o=a.values(r):p=o=a.value();
switch(t.keyCode){case f.ui.keyCode.HOME:o=a._valueMin();
break;
case f.ui.keyCode.END:o=a._valueMax();
break;
case f.ui.keyCode.PAGE_UP:o=a._trimAlignValue(p+(a._valueMax()-a._valueMin())/g);
break;
case f.ui.keyCode.PAGE_DOWN:o=a._trimAlignValue(p-(a._valueMax()-a._valueMin())/g);
break;
case f.ui.keyCode.UP:case f.ui.keyCode.RIGHT:if(p===a._valueMax()){return
}o=a._trimAlignValue(p+b);
break;
case f.ui.keyCode.DOWN:case f.ui.keyCode.LEFT:if(p===a._valueMin()){return
}o=a._trimAlignValue(p-b)
}a._slide(t,r,o)
}).keyup(function(h){var b=f(this).data("index.ui-slider-handle");
a._keySliding&&(a._keySliding=!1,a._stop(h,b),a._change(h,b),f(this).removeClass("ui-state-active"))
}),this._refreshValue(),this._animateOff=!1
},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this
},_mouseCapture:function(w){var v=this.options,u,t,r,q,p,o,n,m,a;
return v.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),u={x:w.pageX,y:w.pageY},t=this._normValueFromMouse(u),r=this._valueMax()-this._valueMin()+1,p=this,this.handles.each(function(h){var j=Math.abs(t-p.values(h));
r>j&&(r=j,q=f(this),o=h)
}),v.range===!0&&this.values(1)===v.min&&(o+=1,q=f(this.handles[o])),n=this._start(w,o),n===!1?!1:(this._mouseSliding=!0,p._handleIndex=o,q.addClass("ui-state-active").focus(),m=q.offset(),a=!f(w.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:w.pageX-m.left-q.width()/2,top:w.pageY-m.top-q.height()/2-(parseInt(q.css("borderTopWidth"),10)||0)-(parseInt(q.css("borderBottomWidth"),10)||0)+(parseInt(q.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(w,o,t),this._animateOff=!0,!0))
},_mouseStart:function(b){return !0
},_mouseDrag:function(j){var h={x:j.pageX,y:j.pageY},k=this._normValueFromMouse(h);
return this._slide(j,this._handleIndex,k),!1
},_mouseStop:function(b){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(b,this._handleIndex),this._change(b,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1
},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"
},_normValueFromMouse:function(j){var h,n,m,l,k;
return this.orientation==="horizontal"?(h=this.elementSize.width,n=j.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(h=this.elementSize.height,n=j.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),m=n/h,m>1&&(m=1),m<0&&(m=0),this.orientation==="vertical"&&(m=1-m),l=this._valueMax()-this._valueMin(),k=this._valueMin()+m*l,this._trimAlignValue(k)
},_start:function(j,h){var k={handle:this.handles[h],value:this.value()};
return this.options.values&&this.options.values.length&&(k.value=this.values(h),k.values=this.values()),this._trigger("start",j,k)
},_slide:function(j,h,n){var m,l,k;
this.options.values&&this.options.values.length?(m=this.values(h?0:1),this.options.values.length===2&&this.options.range===!0&&(h===0&&n>m||h===1&&n<m)&&(n=m),n!==this.values(h)&&(l=this.values(),l[h]=n,k=this._trigger("slide",j,{handle:this.handles[h],value:n,values:l}),m=this.values(h?0:1),k!==!1&&this.values(h,n,!0))):n!==this.value()&&(k=this._trigger("slide",j,{handle:this.handles[h],value:n}),k!==!1&&this.value(n))
},_stop:function(j,h){var k={handle:this.handles[h],value:this.value()};
this.options.values&&this.options.values.length&&(k.value=this.values(h),k.values=this.values()),this._trigger("stop",j,k)
},_change:function(j,h){if(!this._keySliding&&!this._mouseSliding){var k={handle:this.handles[h],value:this.value()};
this.options.values&&this.options.values.length&&(k.value=this.values(h),k.values=this.values()),this._trigger("change",j,k)
}},value:function(b){if(arguments.length){this.options.value=this._trimAlignValue(b),this._refreshValue(),this._change(null,0);
return
}return this._value()
},values:function(a,l){var k,j,h;
if(arguments.length>1){this.options.values[a]=this._trimAlignValue(l),this._refreshValue(),this._change(null,a);
return
}if(!arguments.length){return this._values()
}if(!f.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(a):this.value()
}k=this.options.values,j=arguments[0];
for(h=0;
h<k.length;
h+=1){k[h]=this._trimAlignValue(j[h]),this._change(null,h)
}this._refreshValue()
},_setOption:function(a,k){var j,h=0;
f.isArray(this.options.values)&&(h=this.options.values.length),f.Widget.prototype._setOption.apply(this,arguments);
switch(a){case"disabled":k?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));
break;
case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();
break;
case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;
break;
case"values":this._animateOff=!0,this._refreshValue();
for(j=0;
j<h;
j+=1){this._change(null,j)
}this._animateOff=!1
}},_value:function(){var b=this.options.value;
return b=this._trimAlignValue(b),b
},_values:function(j){var h,l,k;
if(arguments.length){return h=this.options.values[j],h=this._trimAlignValue(h),h
}l=this.options.values.slice();
for(k=0;
k<l.length;
k+=1){l[k]=this._trimAlignValue(l[k])
}return l
},_trimAlignValue:function(j){if(j<=this._valueMin()){return this._valueMin()
}if(j>=this._valueMax()){return this._valueMax()
}var h=this.options.step>0?this.options.step:1,l=(j-this._valueMin())%h,k=j-l;
return Math.abs(l)*2>=h&&(k+=l>0?h:-h),parseFloat(k.toFixed(5))
},_valueMin:function(){return this.options.min
},_valueMax:function(){return this.options.max
},_refreshValue:function(){var u=this.options.range,t=this.options,r=this,q=this._animateOff?!1:t.animate,p,o={},n,m,l,a;
this.options.values&&this.options.values.length?this.handles.each(function(c,h){p=(r.values(c)-r._valueMin())/(r._valueMax()-r._valueMin())*100,o[r.orientation==="horizontal"?"left":"bottom"]=p+"%",f(this).stop(1,1)[q?"animate":"css"](o,t.animate),r.options.range===!0&&(r.orientation==="horizontal"?(c===0&&r.range.stop(1,1)[q?"animate":"css"]({left:p+"%"},t.animate),c===1&&r.range[q?"animate":"css"]({width:p-n+"%"},{queue:!1,duration:t.animate})):(c===0&&r.range.stop(1,1)[q?"animate":"css"]({bottom:p+"%"},t.animate),c===1&&r.range[q?"animate":"css"]({height:p-n+"%"},{queue:!1,duration:t.animate}))),n=p
}):(m=this.value(),l=this._valueMin(),a=this._valueMax(),p=a!==l?(m-l)/(a-l)*100:0,o[r.orientation==="horizontal"?"left":"bottom"]=p+"%",this.handle.stop(1,1)[q?"animate":"css"](o,t.animate),u==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[q?"animate":"css"]({width:p+"%"},t.animate),u==="max"&&this.orientation==="horizontal"&&this.range[q?"animate":"css"]({width:100-p+"%"},{queue:!1,duration:t.animate}),u==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[q?"animate":"css"]({height:p+"%"},t.animate),u==="max"&&this.orientation==="vertical"&&this.range[q?"animate":"css"]({height:100-p+"%"},{queue:!1,duration:t.animate}))
}}),f.extend(f.ui.slider,{version:"1.8.22"})
})(jQuery);
/*! jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.autocomplete.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(f,d){var g=0;
f.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var a=this,j=this.element[0].ownerDocument,h;
this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(k){if(a.options.disabled||a.element.propAttr("readOnly")){return
}h=!1;
var b=f.ui.keyCode;
switch(k.keyCode){case b.PAGE_UP:a._move("previousPage",k);
break;
case b.PAGE_DOWN:a._move("nextPage",k);
break;
case b.UP:a._keyEvent("previous",k);
break;
case b.DOWN:a._keyEvent("next",k);
break;
case b.ENTER:case b.NUMPAD_ENTER:a.menu.active&&(h=!0,k.preventDefault());
case b.TAB:if(!a.menu.active){return
}a.menu.select(k);
break;
case b.ESCAPE:a.element.val(a.term),a.close(k);
break;
default:clearTimeout(a.searching),a.searching=setTimeout(function(){a.term!=a.element.val()&&(a.selectedItem=null,a.search(null,k))
},a.options.delay)
}}).bind("keypress.autocomplete",function(b){h&&(h=!1,b.preventDefault())
}).bind("focus.autocomplete",function(){if(a.options.disabled){return
}a.selectedItem=null,a.previous=a.element.val()
}).bind("blur.autocomplete",function(b){if(a.options.disabled){return
}clearTimeout(a.searching),a.closing=setTimeout(function(){a.close(b),a._change(b)
},150)
}),this._initSource(),this.menu=f("<ul></ul>").addClass("ui-autocomplete").appendTo(f(this.options.appendTo||"body",j)[0]).mousedown(function(k){var b=a.menu.element[0];
f(k.target).closest(".ui-menu-item").length||setTimeout(function(){f(document).one("mousedown",function(l){l.target!==a.element[0]&&l.target!==b&&!f.ui.contains(b,l.target)&&a.close()
})
},1),setTimeout(function(){clearTimeout(a.closing)
},13)
}).menu({focus:function(b,l){var k=l.item.data("item.autocomplete");
!1!==a._trigger("focus",b,{item:k})&&/^key/.test(b.originalEvent.type)&&a.element.val(k.value)
},selected:function(b,l){var k=l.item.data("item.autocomplete"),c=a.previous;
a.element[0]!==j.activeElement&&(a.element.focus(),a.previous=c,setTimeout(function(){a.previous=c,a.selectedItem=k
},1)),!1!==a._trigger("select",b,{item:k})&&a.element.val(k.value),a.term=a.element.val(),a.close(b),a.selectedItem=k
},blur:function(b,k){a.menu.element.is(":visible")&&a.element.val()!==a.term&&a.element.val(a.term)
}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),f.fn.bgiframe&&this.menu.element.bgiframe(),a.beforeunloadHandler=function(){a.element.removeAttr("autocomplete")
},f(window).bind("beforeunload",a.beforeunloadHandler)
},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),f(window).unbind("beforeunload",this.beforeunloadHandler),f.Widget.prototype.destroy.call(this)
},_setOption:function(a,h){f.Widget.prototype._setOption.apply(this,arguments),a==="source"&&this._initSource(),a==="appendTo"&&this.menu.element.appendTo(f(h||"body",this.element[0].ownerDocument)[0]),a==="disabled"&&h&&this.xhr&&this.xhr.abort()
},_initSource:function(){var a=this,j,h;
f.isArray(this.options.source)?(j=this.options.source,this.source=function(c,k){k(f.ui.autocomplete.filter(j,c.term))
}):typeof this.options.source=="string"?(h=this.options.source,this.source=function(k,b){a.xhr&&a.xhr.abort(),a.xhr=f.ajax({url:h,data:k,dataType:"json",success:function(l,c){b(l)
},error:function(){b([])
}})
}):this.source=this.options.source
},search:function(h,c){h=h!=null?h:this.element.val(),this.term=this.element.val();
if(h.length<this.options.minLength){return this.close(c)
}clearTimeout(this.closing);
if(this._trigger("search",c)===!1){return
}return this._search(h)
},_search:function(b){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:b},this._response())
},_response:function(){var h=this,c=++g;
return function(a){c===g&&h.__response(a),h.pending--,h.pending||h.element.removeClass("ui-autocomplete-loading")
}
},__response:function(b){!this.options.disabled&&b&&b.length?(b=this._normalize(b),this._suggest(b),this._trigger("open")):this.close()
},close:function(b){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",b))
},_change:function(b){this.previous!==this.element.val()&&this._trigger("change",b,{item:this.selectedItem})
},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:f.map(a,function(c){return typeof c=="string"?{label:c,value:c}:f.extend({label:c.label||c.value,value:c.value||c.label},c)
})
},_suggest:function(a){var h=this.menu.element.empty().zIndex(this.element.zIndex()+1);
this._renderMenu(h,a),this.menu.deactivate(),this.menu.refresh(),h.show(),this._resizeMenu(),h.position(f.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new f.Event("mouseover"))
},_resizeMenu:function(){var b=this.menu.element;
b.outerWidth(Math.max(b.width("").outerWidth()+1,this.element.outerWidth()))
},_renderMenu:function(a,j){var h=this;
f.each(j,function(b,k){h._renderItem(a,k)
})
},_renderItem:function(a,h){return f("<li></li>").data("item.autocomplete",h).append(f("<a></a>").text(h.label)).appendTo(a)
},_move:function(h,c){if(!this.menu.element.is(":visible")){this.search(null,c);
return
}if(this.menu.first()&&/^previous/.test(h)||this.menu.last()&&/^next/.test(h)){this.element.val(this.term),this.menu.deactivate();
return
}this.menu[h](c)
},widget:function(){return this.menu.element
},_keyEvent:function(h,c){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(h,c),c.preventDefault()
}}}),f.extend(f.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")
},filter:function(a,j){var h=new RegExp(f.ui.autocomplete.escapeRegex(j),"i");
return f.grep(a,function(b){return h.test(b.label||b.value||b)
})
}})
})(jQuery),function(b){b.widget("ui.menu",{_create:function(){var a=this;
this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(d){if(!b(d.target).closest(".ui-menu-item a").length){return
}d.preventDefault(),a.select(d)
}),this.refresh()
},refresh:function(){var a=this,d=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");
d.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(f){a.activate(f,b(this).parent())
}).mouseleave(function(){a.deactivate()
})
},activate:function(g,f){this.deactivate();
if(this.hasScroll()){var k=f.offset().top-this.element.offset().top,j=this.element.scrollTop(),h=this.element.height();
k<0?this.element.scrollTop(j+k):k>=h&&this.element.scrollTop(j+k-h+f.height())
}this.active=f.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",g,{item:f})
},deactivate:function(){if(!this.active){return
}this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null
},next:function(c){this.move("next",".ui-menu-item:first",c)
},previous:function(c){this.move("prev",".ui-menu-item:last",c)
},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length
},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length
},move:function(g,f,j){if(!this.active){this.activate(j,this.element.children(f));
return
}var h=this.active[g+"All"](".ui-menu-item").eq(0);
h.length?this.activate(j,h):this.activate(j,this.element.children(f))
},nextPage:function(a){if(this.hasScroll()){if(!this.active||this.last()){this.activate(a,this.element.children(".ui-menu-item:first"));
return
}var h=this.active.offset().top,g=this.element.height(),f=this.element.children(".ui-menu-item").filter(function(){var c=b(this).offset().top-h-g+b(this).height();
return c<10&&c>-10
});
f.length||(f=this.element.children(".ui-menu-item:last")),this.activate(a,f)
}else{this.activate(a,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))
}},previousPage:function(a){if(this.hasScroll()){if(!this.active||this.first()){this.activate(a,this.element.children(".ui-menu-item:last"));
return
}var h=this.active.offset().top,g=this.element.height(),f=this.element.children(".ui-menu-item").filter(function(){var c=b(this).offset().top-h+g-b(this).height();
return c<10&&c>-10
});
f.length||(f=this.element.children(".ui-menu-item:first")),this.activate(a,f)
}else{this.activate(a,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))
}},hasScroll:function(){return this.element.height()<this.element[b.fn.prop?"prop":"attr"]("scrollHeight")
},select:function(c){this._trigger("selected",c,{item:this.active})
}})
}(jQuery);
(function(a,d){a.fn.jPlayer=function(b){var h="string"===typeof b,g=Array.prototype.slice.call(arguments,1),f=this,b=!h&&g.length?a.extend.apply(null,[!0,b].concat(g)):b;
if(h&&"_"===b.charAt(0)){return f
}h?this.each(function(){var k=a.data(this,"jPlayer"),j=k&&a.isFunction(k[b])?k[b].apply(k,g):k;
if(j!==k&&j!==d){return f=j,!1
}}):this.each(function(){var j=a.data(this,"jPlayer");
j?j.option(b||{}):a.data(this,"jPlayer",new a.jPlayer(b,this))
});
return f
};
a.jPlayer=function(b,g){if(arguments.length){this.element=a(g);
this.options=a.extend(!0,{},this.options,b);
var f=this;
this.element.bind("remove.jPlayer",function(){f.destroy()
});
this._init()
}};
a.jPlayer.emulateMethods="load play pause";
a.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";
a.jPlayer.emulateOptions="muted volume";
a.jPlayer.reservedEvent="ready flashreset resize repeat error warning";
a.jPlayer.event={ready:"jPlayer_ready",flashreset:"jPlayer_flashreset",resize:"jPlayer_resize",repeat:"jPlayer_repeat",click:"jPlayer_click",error:"jPlayer_error",warning:"jPlayer_warning",loadstart:"jPlayer_loadstart",progress:"jPlayer_progress",suspend:"jPlayer_suspend",abort:"jPlayer_abort",emptied:"jPlayer_emptied",stalled:"jPlayer_stalled",play:"jPlayer_play",pause:"jPlayer_pause",loadedmetadata:"jPlayer_loadedmetadata",loadeddata:"jPlayer_loadeddata",waiting:"jPlayer_waiting",playing:"jPlayer_playing",canplay:"jPlayer_canplay",canplaythrough:"jPlayer_canplaythrough",seeking:"jPlayer_seeking",seeked:"jPlayer_seeked",timeupdate:"jPlayer_timeupdate",ended:"jPlayer_ended",ratechange:"jPlayer_ratechange",durationchange:"jPlayer_durationchange",volumechange:"jPlayer_volumechange"};
a.jPlayer.htmlEvent="loadstart abort emptied stalled loadedmetadata loadeddata canplay canplaythrough ratechange".split(" ");
a.jPlayer.pause=function(){a.each(a.jPlayer.prototype.instances,function(b,f){f.data("jPlayer").status.srcSet&&f.jPlayer("pause")
})
};
a.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};
a.jPlayer.convertTime=function(b){var g=new Date(1000*b),f=g.getUTCHours(),b=g.getUTCMinutes(),g=g.getUTCSeconds(),f=a.jPlayer.timeFormat.padHour&&10>f?"0"+f:f,b=a.jPlayer.timeFormat.padMin&&10>b?"0"+b:b,g=a.jPlayer.timeFormat.padSec&&10>g?"0"+g:g;
return(a.jPlayer.timeFormat.showHour?f+a.jPlayer.timeFormat.sepHour:"")+(a.jPlayer.timeFormat.showMin?b+a.jPlayer.timeFormat.sepMin:"")+(a.jPlayer.timeFormat.showSec?g+a.jPlayer.timeFormat.sepSec:"")
};
a.jPlayer.uaBrowser=function(g){var g=g.toLowerCase(),j=/(opera)(?:.*version)?[ \/]([\w.]+)/,f=/(msie) ([\w.]+)/,h=/(mozilla)(?:.*? rv:([\w.]+))?/,g=/(webkit)[ \/]([\w.]+)/.exec(g)||j.exec(g)||f.exec(g)||0>g.indexOf("compatible")&&h.exec(g)||[];
return{browser:g[1]||"",version:g[2]||"0"}
};
a.jPlayer.uaPlatform=function(g){var f=g.toLowerCase(),j=/(android)/,h=/(mobile)/,g=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(f)||[],f=/(ipad|playbook)/.exec(f)||!h.exec(f)&&j.exec(f)||[];
g[1]&&(g[1]=g[1].replace(/\s/g,"_"));
return{platform:g[1]||"",tablet:f[1]||""}
};
a.jPlayer.browser={};
a.jPlayer.platform={};
var c=a.jPlayer.uaBrowser(navigator.userAgent);
c.browser&&(a.jPlayer.browser[c.browser]=!0,a.jPlayer.browser.version=c.version);
c=a.jPlayer.uaPlatform(navigator.userAgent);
c.platform&&(a.jPlayer.platform[c.platform]=!0,a.jPlayer.platform.mobile=!c.tablet,a.jPlayer.platform.tablet=!!c.tablet);
a.jPlayer.prototype={count:0,version:{script:"2.2.0",needFlash:"2.2.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:0.8,muted:!1,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},fullScreen:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1000},loop:!1,repeat:function(b){b.jPlayer.options.loop?a(this).unbind(".jPlayerRepeat").bind(a.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){a(this).jPlayer("play")
}):a(this).unbind(".jPlayerRepeat")
},nativeVideoControls:{},noFullScreen:{msie:/msie [0-6]/,ipad:/ipad.*?os [0-4]/,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3](?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/,playbook:/playbook/},verticalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,flash:!0},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var b=this;
this.element.empty();
this.status=a.extend({},this.status);
this.internal=a.extend({},this.internal);
this.internal.domNode=this.element.get(0);
this.formats=[];
this.solutions=[];
this.require={};
this.htmlElement={};
this.html={};
this.html.audio={};
this.html.video={};
this.flash={};
this.css={};
this.css.cs={};
this.css.jq={};
this.ancestorJq=[];
this.options.volume=this._limitValue(this.options.volume,0,1);
a.each(this.options.supplied.toLowerCase().split(","),function(m,l){var k=l.replace(/^\s+|\s+$/g,"");
if(b.format[k]){var j=false;
a.each(b.formats,function(o,n){if(k===n){j=true;
return false
}});
j||b.formats.push(k)
}});
a.each(this.options.solution.toLowerCase().split(","),function(m,l){var k=l.replace(/^\s+|\s+$/g,"");
if(b.solution[k]){var j=false;
a.each(b.solutions,function(o,n){if(k===n){j=true;
return false
}});
j||b.solutions.push(k)
}});
this.internal.instance="jp_"+this.count;
this.instances[this.internal.instance]=this.element;
this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count);
this.internal.self=a.extend({},{id:this.element.attr("id"),jq:this.element});
this.internal.audio=a.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:d});
this.internal.video=a.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:d});
this.internal.flash=a.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:d,swf:this.options.swfPath+(this.options.swfPath.toLowerCase().slice(-4)!==".swf"?(this.options.swfPath&&this.options.swfPath.slice(-1)!=="/"?"/":"")+"Jplayer.swf":"")});
this.internal.poster=a.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:d});
a.each(a.jPlayer.event,function(j,k){if(b.options[j]!==d){b.element.bind(k+".jPlayer",b.options[j]);
b.options[j]=d
}});
this.require.audio=false;
this.require.video=false;
a.each(this.formats,function(j,k){b.require[b.format[k].media]=true
});
this.options=this.require.video?a.extend(true,{},this.optionsVideo,this.options):a.extend(true,{},this.optionsAudio,this.options);
this._setSize();
this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);
this.status.noFullScreen=this._uaBlocklist(this.options.noFullScreen);
this.status.noVolume=this._uaBlocklist(this.options.noVolume);
this._restrictNativeVideoControls();
this.htmlElement.poster=document.createElement("img");
this.htmlElement.poster.id=this.internal.poster.id;
this.htmlElement.poster.onload=function(){(!b.status.video||b.status.waitForPlay)&&b.internal.poster.jq.show()
};
this.element.append(this.htmlElement.poster);
this.internal.poster.jq=a("#"+this.internal.poster.id);
this.internal.poster.jq.css({width:this.status.width,height:this.status.height});
this.internal.poster.jq.hide();
this.internal.poster.jq.bind("click.jPlayer",function(){b._trigger(a.jPlayer.event.click)
});
this.html.audio.available=false;
if(this.require.audio){this.htmlElement.audio=document.createElement("audio");
this.htmlElement.audio.id=this.internal.audio.id;
this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)
}this.html.video.available=false;
if(this.require.video){this.htmlElement.video=document.createElement("video");
this.htmlElement.video.id=this.internal.video.id;
this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)
}this.flash.available=this._checkForFlash(10);
this.html.canPlay={};
this.flash.canPlay={};
a.each(this.formats,function(j,k){b.html.canPlay[k]=b.html[b.format[k].media].available&&""!==b.htmlElement[b.format[k].media].canPlayType(b.format[k].codec);
b.flash.canPlay[k]=b.format[k].flashCanPlay&&b.flash.available
});
this.html.desired=false;
this.flash.desired=false;
a.each(this.solutions,function(m,l){if(m===0){b[l].desired=true
}else{var k=false,j=false;
a.each(b.formats,function(n,o){b[b.solutions[0]].canPlay[o]&&(b.format[o].media==="video"?j=true:k=true)
});
b[l].desired=b.require.audio&&!k||b.require.video&&!j
}});
this.html.support={};
this.flash.support={};
a.each(this.formats,function(j,k){b.html.support[k]=b.html.canPlay[k]&&b.html.desired;
b.flash.support[k]=b.flash.canPlay[k]&&b.flash.desired
});
this.html.used=false;
this.flash.used=false;
a.each(this.solutions,function(k,j){a.each(b.formats,function(l,m){if(b[j].support[m]){b[j].used=true;
return false
}})
});
this._resetActive();
this._resetGate();
this._cssSelectorAncestor(this.options.cssSelectorAncestor);
if(!this.html.used&&!this.flash.used){this._error({type:a.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:a.jPlayer.errorMsg.NO_SOLUTION,hint:a.jPlayer.errorHint.NO_SOLUTION});
this.css.jq.noSolution.length&&this.css.jq.noSolution.show()
}else{this.css.jq.noSolution.length&&this.css.jq.noSolution.hide()
}if(this.flash.used){var h,g="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;
if(a.jPlayer.browser.msie&&Number(a.jPlayer.browser.version)<=8){g=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+g+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];
h=document.createElement('<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0"></object>');
for(var f=0;
f<g.length;
f++){h.appendChild(document.createElement(g[f]))
}}else{f=function(k,j,m){var l=document.createElement("param");
l.setAttribute("name",j);
l.setAttribute("value",m);
k.appendChild(l)
};
h=document.createElement("object");
h.setAttribute("id",this.internal.flash.id);
h.setAttribute("data",this.internal.flash.swf);
h.setAttribute("type","application/x-shockwave-flash");
h.setAttribute("width","1");
h.setAttribute("height","1");
f(h,"flashvars",g);
f(h,"allowscriptaccess","always");
f(h,"bgcolor",this.options.backgroundColor);
f(h,"wmode",this.options.wmode)
}this.element.append(h);
this.internal.flash.jq=a(h)
}if(this.html.used){if(this.html.audio.available){this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio);
this.element.append(this.htmlElement.audio);
this.internal.audio.jq=a("#"+this.internal.audio.id)
}if(this.html.video.available){this._addHtmlEventListeners(this.htmlElement.video,this.html.video);
this.element.append(this.htmlElement.video);
this.internal.video.jq=a("#"+this.internal.video.id);
this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"});
this.internal.video.jq.bind("click.jPlayer",function(){b._trigger(a.jPlayer.event.click)
})
}}this.options.emulateHtml&&this._emulateHtmlBridge();
this.html.used&&!this.flash.used&&setTimeout(function(){b.internal.ready=true;
b.version.flash="n/a";
b._trigger(a.jPlayer.event.repeat);
b._trigger(a.jPlayer.event.ready)
},100);
this._updateNativeVideoControls();
this._updateInterface();
this._updateButtons(false);
this._updateAutohide();
this._updateVolume(this.options.volume);
this._updateMute(this.options.muted);
this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();
a.jPlayer.prototype.count++
},destroy:function(){this.clearMedia();
this._removeUiClass();
this.css.jq.currentTime.length&&this.css.jq.currentTime.text("");
this.css.jq.duration.length&&this.css.jq.duration.text("");
a.each(this.css.jq,function(g,f){f.length&&f.unbind(".jPlayer")
});
this.internal.poster.jq.unbind(".jPlayer");
this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer");
this.options.emulateHtml&&this._destroyHtmlBridge();
this.element.removeData("jPlayer");
this.element.unbind(".jPlayer");
this.element.empty();
delete this.instances[this.internal.instance]
},enable:function(){},disable:function(){},_testCanPlayType:function(g){try{g.canPlayType(this.format.mp3.codec);
return true
}catch(f){return false
}},_uaBlocklist:function(b){var g=navigator.userAgent.toLowerCase(),f=false;
a.each(b,function(j,h){if(h&&h.test(g)){f=true;
return false
}});
return f
},_restrictNativeVideoControls:function(){if(this.require.audio&&this.status.nativeVideoControls){this.status.nativeVideoControls=false;
this.status.noFullScreen=true
}},_updateNativeVideoControls:function(){if(this.html.video.available&&this.html.used){this.htmlElement.video.controls=this.status.nativeVideoControls;
this._updateAutohide();
if(this.status.nativeVideoControls&&this.require.video){this.internal.poster.jq.hide();
this.internal.video.jq.css({width:this.status.width,height:this.status.height})
}else{if(this.status.waitForPlay&&this.status.video){this.internal.poster.jq.show();
this.internal.video.jq.css({width:"0px",height:"0px"})
}}}},_addHtmlEventListeners:function(b,g){var f=this;
b.preload=this.options.preload;
b.muted=this.options.muted;
b.volume=this.options.volume;
b.addEventListener("progress",function(){if(g.gate){f._getHtmlStatus(b);
f._updateInterface();
f._trigger(a.jPlayer.event.progress)
}},false);
b.addEventListener("timeupdate",function(){if(g.gate){f._getHtmlStatus(b);
f._updateInterface();
f._trigger(a.jPlayer.event.timeupdate)
}},false);
b.addEventListener("durationchange",function(){if(g.gate){f._getHtmlStatus(b);
f._updateInterface();
f._trigger(a.jPlayer.event.durationchange)
}},false);
b.addEventListener("play",function(){if(g.gate){f._updateButtons(true);
f._html_checkWaitForPlay();
f._trigger(a.jPlayer.event.play)
}},false);
b.addEventListener("playing",function(){if(g.gate){f._updateButtons(true);
f._seeked();
f._trigger(a.jPlayer.event.playing)
}},false);
b.addEventListener("pause",function(){if(g.gate){f._updateButtons(false);
f._trigger(a.jPlayer.event.pause)
}},false);
b.addEventListener("waiting",function(){if(g.gate){f._seeking();
f._trigger(a.jPlayer.event.waiting)
}},false);
b.addEventListener("seeking",function(){if(g.gate){f._seeking();
f._trigger(a.jPlayer.event.seeking)
}},false);
b.addEventListener("seeked",function(){if(g.gate){f._seeked();
f._trigger(a.jPlayer.event.seeked)
}},false);
b.addEventListener("volumechange",function(){if(g.gate){f.options.volume=b.volume;
f.options.muted=b.muted;
f._updateMute();
f._updateVolume();
f._trigger(a.jPlayer.event.volumechange)
}},false);
b.addEventListener("suspend",function(){if(g.gate){f._seeked();
f._trigger(a.jPlayer.event.suspend)
}},false);
b.addEventListener("ended",function(){if(g.gate){if(!a.jPlayer.browser.webkit){f.htmlElement.media.currentTime=0
}f.htmlElement.media.pause();
f._updateButtons(false);
f._getHtmlStatus(b,true);
f._updateInterface();
f._trigger(a.jPlayer.event.ended)
}},false);
b.addEventListener("error",function(){if(g.gate){f._updateButtons(false);
f._seeked();
if(f.status.srcSet){clearTimeout(f.internal.htmlDlyCmdId);
f.status.waitForLoad=true;
f.status.waitForPlay=true;
f.status.video&&!f.status.nativeVideoControls&&f.internal.video.jq.css({width:"0px",height:"0px"});
f._validString(f.status.media.poster)&&!f.status.nativeVideoControls&&f.internal.poster.jq.show();
f.css.jq.videoPlay.length&&f.css.jq.videoPlay.show();
f._error({type:a.jPlayer.error.URL,context:f.status.src,message:a.jPlayer.errorMsg.URL,hint:a.jPlayer.errorHint.URL})
}}},false);
a.each(a.jPlayer.htmlEvent,function(j,h){b.addEventListener(this,function(){g.gate&&f._trigger(a.jPlayer.event[h])
},false)
})
},_getHtmlStatus:function(j,h){var n=0,m=0,k=0,l=0;
if(isFinite(j.duration)){this.status.duration=j.duration
}n=j.currentTime;
m=this.status.duration>0?100*n/this.status.duration:0;
if(typeof j.seekable==="object"&&j.seekable.length>0){k=this.status.duration>0?100*j.seekable.end(j.seekable.length-1)/this.status.duration:100;
l=this.status.duration>0?100*j.currentTime/j.seekable.end(j.seekable.length-1):0
}else{k=100;
l=m
}if(h){m=l=n=0
}this.status.seekPercent=k;
this.status.currentPercentRelative=l;
this.status.currentPercentAbsolute=m;
this.status.currentTime=n;
this.status.readyState=j.readyState;
this.status.networkState=j.networkState;
this.status.playbackRate=j.playbackRate;
this.status.ended=j.ended
},_resetStatus:function(){this.status=a.extend({},this.status,a.jPlayer.prototype.status)
},_trigger:function(b,g,f){b=a.Event(b);
b.jPlayer={};
b.jPlayer.version=a.extend({},this.version);
b.jPlayer.options=a.extend(true,{},this.options);
b.jPlayer.status=a.extend(true,{},this.status);
b.jPlayer.html=a.extend(true,{},this.html);
b.jPlayer.flash=a.extend(true,{},this.flash);
if(g){b.jPlayer.error=a.extend({},g)
}if(f){b.jPlayer.warning=a.extend({},f)
}this.element.trigger(b)
},jPlayerFlashEvent:function(b,h){if(b===a.jPlayer.event.ready){if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var g=this.status.currentTime,f=this.status.paused;
this.setMedia(this.status.media);
g>0&&(f?this.pause(g):this.play(g))
}this._trigger(a.jPlayer.event.flashreset)
}}else{this.internal.ready=true;
this.internal.flash.jq.css({width:"0px",height:"0px"});
this.version.flash=h.version;
this.version.needFlash!==this.version.flash&&this._error({type:a.jPlayer.error.VERSION,context:this.version.flash,message:a.jPlayer.errorMsg.VERSION+this.version.flash,hint:a.jPlayer.errorHint.VERSION});
this._trigger(a.jPlayer.event.repeat);
this._trigger(b)
}}if(this.flash.gate){switch(b){case a.jPlayer.event.progress:this._getFlashStatus(h);
this._updateInterface();
this._trigger(b);
break;
case a.jPlayer.event.timeupdate:this._getFlashStatus(h);
this._updateInterface();
this._trigger(b);
break;
case a.jPlayer.event.play:this._seeked();
this._updateButtons(true);
this._trigger(b);
break;
case a.jPlayer.event.pause:this._updateButtons(false);
this._trigger(b);
break;
case a.jPlayer.event.ended:this._updateButtons(false);
this._trigger(b);
break;
case a.jPlayer.event.click:this._trigger(b);
break;
case a.jPlayer.event.error:this.status.waitForLoad=true;
this.status.waitForPlay=true;
this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"});
this._validString(this.status.media.poster)&&this.internal.poster.jq.show();
this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show();
this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media);
this._updateButtons(false);
this._error({type:a.jPlayer.error.URL,context:h.src,message:a.jPlayer.errorMsg.URL,hint:a.jPlayer.errorHint.URL});
break;
case a.jPlayer.event.seeking:this._seeking();
this._trigger(b);
break;
case a.jPlayer.event.seeked:this._seeked();
this._trigger(b);
break;
case a.jPlayer.event.ready:break;
default:this._trigger(b)
}}return false
},_getFlashStatus:function(b){this.status.seekPercent=b.seekPercent;
this.status.currentPercentRelative=b.currentPercentRelative;
this.status.currentPercentAbsolute=b.currentPercentAbsolute;
this.status.currentTime=b.currentTime;
this.status.duration=b.duration;
this.status.readyState=4;
this.status.networkState=0;
this.status.playbackRate=1;
this.status.ended=false
},_updateButtons:function(b){if(b!==d){this.status.paused=!b;
if(this.css.jq.play.length&&this.css.jq.pause.length){if(b){this.css.jq.play.hide();
this.css.jq.pause.show()
}else{this.css.jq.play.show();
this.css.jq.pause.hide()
}}}if(this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length){if(this.status.noFullScreen){this.css.jq.fullScreen.hide();
this.css.jq.restoreScreen.hide()
}else{if(this.options.fullScreen){this.css.jq.fullScreen.hide();
this.css.jq.restoreScreen.show()
}else{this.css.jq.fullScreen.show();
this.css.jq.restoreScreen.hide()
}}}if(this.css.jq.repeat.length&&this.css.jq.repeatOff.length){if(this.options.loop){this.css.jq.repeat.hide();
this.css.jq.repeatOff.show()
}else{this.css.jq.repeat.show();
this.css.jq.repeatOff.hide()
}}},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%");
this.css.jq.playBar.length&&this.css.jq.playBar.width(this.status.currentPercentRelative+"%");
this.css.jq.currentTime.length&&this.css.jq.currentTime.text(a.jPlayer.convertTime(this.status.currentTime));
this.css.jq.duration.length&&this.css.jq.duration.text(a.jPlayer.convertTime(this.status.duration))
},_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")
},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")
},_resetGate:function(){this.html.audio.gate=false;
this.html.video.gate=false;
this.flash.gate=false
},_resetActive:function(){this.html.active=false;
this.flash.active=false
},setMedia:function(b){var h=this,g=false,f=this.status.media.poster!==b.poster;
this._resetMedia();
this._resetGate();
this._resetActive();
a.each(this.formats,function(l,k){var j=h.format[k].media==="video";
a.each(h.solutions,function(m,o){if(h[o].support[k]&&h._validString(b[k])){var n=o==="html";
if(j){if(n){h.html.video.gate=true;
h._html_setVideo(b);
h.html.active=true
}else{h.flash.gate=true;
h._flash_setVideo(b);
h.flash.active=true
}h.css.jq.videoPlay.length&&h.css.jq.videoPlay.show();
h.status.video=true
}else{if(n){h.html.audio.gate=true;
h._html_setAudio(b);
h.html.active=true
}else{h.flash.gate=true;
h._flash_setAudio(b);
h.flash.active=true
}h.css.jq.videoPlay.length&&h.css.jq.videoPlay.hide();
h.status.video=false
}g=true;
return false
}});
if(g){return false
}});
if(g){if((!this.status.nativeVideoControls||!this.html.video.gate)&&this._validString(b.poster)){f?this.htmlElement.poster.src=b.poster:this.internal.poster.jq.show()
}this.status.srcSet=true;
this.status.media=a.extend({},b);
this._updateButtons(false);
this._updateInterface()
}else{this._error({type:a.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:a.jPlayer.errorMsg.NO_SUPPORT,hint:a.jPlayer.errorHint.NO_SUPPORT})
}},_resetMedia:function(){this._resetStatus();
this._updateButtons(false);
this._updateInterface();
this._seeked();
this.internal.poster.jq.hide();
clearTimeout(this.internal.htmlDlyCmdId);
this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()
},clearMedia:function(){this._resetMedia();
this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia();
this._resetGate();
this._resetActive()
},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")
},play:function(b){b=typeof b==="number"?b:NaN;
this.status.srcSet?this.html.active?this._html_play(b):this.flash.active&&this._flash_play(b):this._urlNotSetError("play")
},videoPlay:function(){this.play()
},pause:function(b){b=typeof b==="number"?b:NaN;
this.status.srcSet?this.html.active?this._html_pause(b):this.flash.active&&this._flash_pause(b):this._urlNotSetError("pause")
},pauseOthers:function(){var b=this;
a.each(this.instances,function(f,g){b.element!==g&&g.data("jPlayer").status.srcSet&&g.jPlayer("pause")
})
},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")
},playHead:function(b){b=this._limitValue(b,0,100);
this.status.srcSet?this.html.active?this._html_playHead(b):this.flash.active&&this._flash_playHead(b):this._urlNotSetError("playHead")
},_muted:function(b){this.options.muted=b;
this.html.used&&this._html_mute(b);
this.flash.used&&this._flash_mute(b);
if(!this.html.video.gate&&!this.html.audio.gate){this._updateMute(b);
this._updateVolume(this.options.volume);
this._trigger(a.jPlayer.event.volumechange)
}},mute:function(b){b=b===d?true:!!b;
this._muted(b)
},unmute:function(b){b=b===d?true:!!b;
this._muted(!b)
},_updateMute:function(b){if(b===d){b=this.options.muted
}if(this.css.jq.mute.length&&this.css.jq.unmute.length){if(this.status.noVolume){this.css.jq.mute.hide();
this.css.jq.unmute.hide()
}else{if(b){this.css.jq.mute.hide();
this.css.jq.unmute.show()
}else{this.css.jq.mute.show();
this.css.jq.unmute.hide()
}}}},volume:function(b){b=this._limitValue(b,0,1);
this.options.volume=b;
this.html.used&&this._html_volume(b);
this.flash.used&&this._flash_volume(b);
if(!this.html.video.gate&&!this.html.audio.gate){this._updateVolume(b);
this._trigger(a.jPlayer.event.volumechange)
}},volumeBar:function(g){if(this.css.jq.volumeBar.length){var f=this.css.jq.volumeBar.offset(),j=g.pageX-f.left,h=this.css.jq.volumeBar.width(),g=this.css.jq.volumeBar.height()-g.pageY+f.top,f=this.css.jq.volumeBar.height();
this.options.verticalVolume?this.volume(g/f):this.volume(j/h)
}this.options.muted&&this._muted(false)
},volumeBarValue:function(b){this.volumeBar(b)
},_updateVolume:function(b){if(b===d){b=this.options.volume
}b=this.options.muted?0:b;
if(this.status.noVolume){this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide();
this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide();
this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()
}else{this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show();
if(this.css.jq.volumeBarValue.length){this.css.jq.volumeBarValue.show();
this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](b*100+"%")
}this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show()
}},volumeMax:function(){this.volume(1);
this.options.muted&&this._muted(false)
},_cssSelectorAncestor:function(b){var f=this;
this.options.cssSelectorAncestor=b;
this._removeUiClass();
this.ancestorJq=b?a(b):[];
b&&this.ancestorJq.length!==1&&this._warning({type:a.jPlayer.warning.CSS_SELECTOR_COUNT,context:b,message:a.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:a.jPlayer.warningHint.CSS_SELECTOR_COUNT});
this._addUiClass();
a.each(this.options.cssSelector,function(h,g){f._cssSelector(h,g)
})
},_cssSelector:function(b,g){var f=this;
if(typeof g==="string"){if(a.jPlayer.prototype.options.cssSelector[b]){this.css.jq[b]&&this.css.jq[b].length&&this.css.jq[b].unbind(".jPlayer");
this.options.cssSelector[b]=g;
this.css.cs[b]=this.options.cssSelectorAncestor+" "+g;
this.css.jq[b]=g?a(this.css.cs[b]):[];
this.css.jq[b].length&&this.css.jq[b].bind("click.jPlayer",function(h){f[b](h);
a(this).blur();
return false
});
g&&this.css.jq[b].length!==1&&this._warning({type:a.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[b],message:a.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[b].length+" found for "+b+" method.",hint:a.jPlayer.warningHint.CSS_SELECTOR_COUNT})
}else{this._warning({type:a.jPlayer.warning.CSS_SELECTOR_METHOD,context:b,message:a.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:a.jPlayer.warningHint.CSS_SELECTOR_METHOD})
}}else{this._warning({type:a.jPlayer.warning.CSS_SELECTOR_STRING,context:g,message:a.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:a.jPlayer.warningHint.CSS_SELECTOR_STRING})
}},seekBar:function(g){if(this.css.jq.seekBar){var f=this.css.jq.seekBar.offset(),g=g.pageX-f.left,f=this.css.jq.seekBar.width();
this.playHead(100*g/f)
}},playBar:function(b){this.seekBar(b)
},repeat:function(){this._loop(true)
},repeatOff:function(){this._loop(false)
},_loop:function(b){if(this.options.loop!==b){this.options.loop=b;
this._updateButtons();
this._trigger(a.jPlayer.event.repeat)
}},currentTime:function(){},duration:function(){},gui:function(){},noSolution:function(){},option:function(b,m){var l=b;
if(arguments.length===0){return a.extend(true,{},this.options)
}if(typeof b==="string"){var k=b.split(".");
if(m===d){for(var l=a.extend(true,{},this.options),j=0;
j<k.length;
j++){if(l[k[j]]!==d){l=l[k[j]]
}else{this._warning({type:a.jPlayer.warning.OPTION_KEY,context:b,message:a.jPlayer.warningMsg.OPTION_KEY,hint:a.jPlayer.warningHint.OPTION_KEY});
return d
}}return l
}for(var j=l={},f=0;
f<k.length;
f++){if(f<k.length-1){j[k[f]]={};
j=j[k[f]]
}else{j[k[f]]=m
}}}this._setOptions(l);
return this
},_setOptions:function(b){var f=this;
a.each(b,function(h,g){f._setOption(h,g)
});
return this
},_setOption:function(b,g){var f=this;
switch(b){case"volume":this.volume(g);
break;
case"muted":this._muted(g);
break;
case"cssSelectorAncestor":this._cssSelectorAncestor(g);
break;
case"cssSelector":a.each(g,function(j,h){f._cssSelector(j,h)
});
break;
case"fullScreen":if(this.options[b]!==g){this._removeUiClass();
this.options[b]=g;
this._refreshSize()
}break;
case"size":!this.options.fullScreen&&this.options[b].cssClass!==g.cssClass&&this._removeUiClass();
this.options[b]=a.extend({},this.options[b],g);
this._refreshSize();
break;
case"sizeFull":this.options.fullScreen&&this.options[b].cssClass!==g.cssClass&&this._removeUiClass();
this.options[b]=a.extend({},this.options[b],g);
this._refreshSize();
break;
case"autohide":this.options[b]=a.extend({},this.options[b],g);
this._updateAutohide();
break;
case"loop":this._loop(g);
break;
case"nativeVideoControls":this.options[b]=a.extend({},this.options[b],g);
this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);
this._restrictNativeVideoControls();
this._updateNativeVideoControls();
break;
case"noFullScreen":this.options[b]=a.extend({},this.options[b],g);
this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);
this.status.noFullScreen=this._uaBlocklist(this.options.noFullScreen);
this._restrictNativeVideoControls();
this._updateButtons();
break;
case"noVolume":this.options[b]=a.extend({},this.options[b],g);
this.status.noVolume=this._uaBlocklist(this.options.noVolume);
this._updateVolume();
this._updateMute();
break;
case"emulateHtml":if(this.options[b]!==g){(this.options[b]=g)?this._emulateHtmlBridge():this._destroyHtmlBridge()
}}return this
},_refreshSize:function(){this._setSize();
this._addUiClass();
this._updateSize();
this._updateButtons();
this._updateAutohide();
this._trigger(a.jPlayer.event.resize)
},_setSize:function(){if(this.options.fullScreen){this.status.width=this.options.sizeFull.width;
this.status.height=this.options.sizeFull.height;
this.status.cssClass=this.options.sizeFull.cssClass
}else{this.status.width=this.options.size.width;
this.status.height=this.options.size.height;
this.status.cssClass=this.options.size.cssClass
}this.element.css({width:this.status.width,height:this.status.height})
},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)
},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)
},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});
!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&(this.flash.active&&this.status.video)&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})
},_updateAutohide:function(){var g=this,f=function(){g.css.jq.gui.fadeIn(g.options.autohide.fadeIn,function(){clearTimeout(g.internal.autohideId);
g.internal.autohideId=setTimeout(function(){g.css.jq.gui.fadeOut(g.options.autohide.fadeOut)
},g.options.autohide.hold)
})
};
if(this.css.jq.gui.length){this.css.jq.gui.stop(true,true);
clearTimeout(this.internal.autohideId);
this.element.unbind(".jPlayerAutohide");
this.css.jq.gui.unbind(".jPlayerAutohide");
if(this.status.nativeVideoControls){this.css.jq.gui.hide()
}else{if(this.options.fullScreen&&this.options.autohide.full||!this.options.fullScreen&&this.options.autohide.restored){this.element.bind("mousemove.jPlayer.jPlayerAutohide",f);
this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",f);
this.css.jq.gui.hide()
}else{this.css.jq.gui.show()
}}}},fullScreen:function(){this._setOption("fullScreen",true)
},restoreScreen:function(){this._setOption("fullScreen",false)
},_html_initMedia:function(){this.htmlElement.media.src=this.status.src;
this.options.preload!=="none"&&this._html_load();
this._trigger(a.jPlayer.event.timeupdate)
},_html_setAudio:function(b){var f=this;
a.each(this.formats,function(g,h){if(f.html.support[h]&&b[h]){f.status.src=b[h];
f.status.format[h]=true;
f.status.formatType=h;
return false
}});
this.htmlElement.media=this.htmlElement.audio;
this._html_initMedia()
},_html_setVideo:function(b){var f=this;
a.each(this.formats,function(g,h){if(f.html.support[h]&&b[h]){f.status.src=b[h];
f.status.format[h]=true;
f.status.formatType=h;
return false
}});
if(this.status.nativeVideoControls){this.htmlElement.video.poster=this._validString(b.poster)?b.poster:""
}this.htmlElement.media=this.htmlElement.video;
this._html_initMedia()
},_html_resetMedia:function(){if(this.htmlElement.media){this.htmlElement.media.id===this.internal.video.id&&!this.status.nativeVideoControls&&this.internal.video.jq.css({width:"0px",height:"0px"});
this.htmlElement.media.pause()
}},_html_clearMedia:function(){if(this.htmlElement.media){this.htmlElement.media.src="";
this.htmlElement.media.load()
}},_html_load:function(){if(this.status.waitForLoad){this.status.waitForLoad=false;
this.htmlElement.media.load()
}clearTimeout(this.internal.htmlDlyCmdId)
},_html_play:function(g){var f=this;
this._html_load();
this.htmlElement.media.play();
if(!isNaN(g)){try{this.htmlElement.media.currentTime=g
}catch(h){this.internal.htmlDlyCmdId=setTimeout(function(){f.play(g)
},100);
return
}}this._html_checkWaitForPlay()
},_html_pause:function(g){var f=this;
g>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId);
this.htmlElement.media.pause();
if(!isNaN(g)){try{this.htmlElement.media.currentTime=g
}catch(h){this.internal.htmlDlyCmdId=setTimeout(function(){f.pause(g)
},100);
return
}}g>0&&this._html_checkWaitForPlay()
},_html_playHead:function(g){var f=this;
this._html_load();
try{if(typeof this.htmlElement.media.seekable==="object"&&this.htmlElement.media.seekable.length>0){this.htmlElement.media.currentTime=g*this.htmlElement.media.seekable.end(this.htmlElement.media.seekable.length-1)/100
}else{if(this.htmlElement.media.duration>0&&!isNaN(this.htmlElement.media.duration)){this.htmlElement.media.currentTime=g*this.htmlElement.media.duration/100
}else{throw"e"
}}}catch(h){this.internal.htmlDlyCmdId=setTimeout(function(){f.playHead(g)
},100);
return
}this.status.waitForLoad||this._html_checkWaitForPlay()
},_html_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;
this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();
if(this.status.video){this.internal.poster.jq.hide();
this.internal.video.jq.css({width:this.status.width,height:this.status.height})
}}},_html_volume:function(b){if(this.html.audio.available){this.htmlElement.audio.volume=b
}if(this.html.video.available){this.htmlElement.video.volume=b
}},_html_mute:function(b){if(this.html.audio.available){this.htmlElement.audio.muted=b
}if(this.html.video.available){this.htmlElement.video.muted=b
}},_flash_setAudio:function(b){var g=this;
try{a.each(this.formats,function(h,j){if(g.flash.support[j]&&b[j]){switch(j){case"m4a":case"fla":g._getMovie().fl_setAudio_m4a(b[j]);
break;
case"mp3":g._getMovie().fl_setAudio_mp3(b[j]);
break;
case"rtmpa":g._getMovie().fl_setAudio_rtmp(b[j])
}g.status.src=b[j];
g.status.format[j]=true;
g.status.formatType=j;
return false
}});
if(this.options.preload==="auto"){this._flash_load();
this.status.waitForLoad=false
}}catch(f){this._flashError(f)
}},_flash_setVideo:function(b){var g=this;
try{a.each(this.formats,function(h,j){if(g.flash.support[j]&&b[j]){switch(j){case"m4v":case"flv":g._getMovie().fl_setVideo_m4v(b[j]);
break;
case"rtmpv":g._getMovie().fl_setVideo_rtmp(b[j])
}g.status.src=b[j];
g.status.format[j]=true;
g.status.formatType=j;
return false
}});
if(this.options.preload==="auto"){this._flash_load();
this.status.waitForLoad=false
}}catch(f){this._flashError(f)
}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"});
this._flash_pause(NaN)
},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()
}catch(b){this._flashError(b)
}},_flash_load:function(){try{this._getMovie().fl_load()
}catch(b){this._flashError(b)
}this.status.waitForLoad=false
},_flash_play:function(g){try{this._getMovie().fl_play(g)
}catch(f){this._flashError(f)
}this.status.waitForLoad=false;
this._flash_checkWaitForPlay()
},_flash_pause:function(g){try{this._getMovie().fl_pause(g)
}catch(f){this._flashError(f)
}if(g>0){this.status.waitForLoad=false;
this._flash_checkWaitForPlay()
}},_flash_playHead:function(g){try{this._getMovie().fl_play_head(g)
}catch(f){this._flashError(f)
}this.status.waitForLoad||this._flash_checkWaitForPlay()
},_flash_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;
this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();
if(this.status.video){this.internal.poster.jq.hide();
this.internal.flash.jq.css({width:this.status.width,height:this.status.height})
}}},_flash_volume:function(g){try{this._getMovie().fl_volume(g)
}catch(f){this._flashError(f)
}},_flash_mute:function(g){try{this._getMovie().fl_mute(g)
}catch(f){this._flashError(f)
}},_getMovie:function(){return document[this.internal.flash.id]
},_checkForFlash:function(g){var f=false,j;
if(window.ActiveXObject){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+g);
f=true
}catch(h){}}else{if(navigator.plugins&&navigator.mimeTypes.length>0){(j=navigator.plugins["Shockwave Flash"])&&navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")>=g&&(f=true)
}}return f
},_validString:function(b){return b&&typeof b==="string"
},_limitValue:function(g,f,h){return g<f?f:g>h?h:g
},_urlNotSetError:function(b){this._error({type:a.jPlayer.error.URL_NOT_SET,context:b,message:a.jPlayer.errorMsg.URL_NOT_SET,hint:a.jPlayer.errorHint.URL_NOT_SET})
},_flashError:function(b){var f;
f=this.internal.ready?"FLASH_DISABLED":"FLASH";
this._error({type:a.jPlayer.error[f],context:this.internal.flash.swf,message:a.jPlayer.errorMsg[f]+b.message,hint:a.jPlayer.errorHint[f]});
this.internal.flash.jq.css({width:"1px",height:"1px"})
},_error:function(b){this._trigger(a.jPlayer.event.error,b);
this.options.errorAlerts&&this._alert("Error!"+(b.message?"\n\n"+b.message:"")+(b.hint?"\n\n"+b.hint:"")+"\n\nContext: "+b.context)
},_warning:function(b){this._trigger(a.jPlayer.event.warning,d,b);
this.options.warningAlerts&&this._alert("Warning!"+(b.message?"\n\n"+b.message:"")+(b.hint?"\n\n"+b.hint:"")+"\n\nContext: "+b.context)
},_alert:function(b){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+b)
},_emulateHtmlBridge:function(){var b=this;
a.each(a.jPlayer.emulateMethods.split(/\s+/g),function(f,g){b.internal.domNode[g]=function(h){b[g](h)
}
});
a.each(a.jPlayer.event,function(h,g){var f=true;
a.each(a.jPlayer.reservedEvent.split(/\s+/g),function(k,j){if(j===h){return f=false
}});
f&&b.element.bind(g+".jPlayer.jPlayerHtml",function(){b._emulateHtmlUpdate();
var j=document.createEvent("Event");
j.initEvent(h,false,true);
b.internal.domNode.dispatchEvent(j)
})
})
},_emulateHtmlUpdate:function(){var b=this;
a.each(a.jPlayer.emulateStatus.split(/\s+/g),function(f,g){b.internal.domNode[g]=b.status[g]
});
a.each(a.jPlayer.emulateOptions.split(/\s+/g),function(f,g){b.internal.domNode[g]=b.options[g]
})
},_destroyHtmlBridge:function(){var b=this;
this.element.unbind(".jPlayerHtml");
a.each((a.jPlayer.emulateMethods+" "+a.jPlayer.emulateStatus+" "+a.jPlayer.emulateOptions).split(/\s+/g),function(f,g){delete b.internal.domNode[g]
})
}};
a.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};
a.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+a.jPlayer.prototype.version.script+" needs Jplayer.swf version "+a.jPlayer.prototype.version.needFlash+" but found "};
a.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};
a.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};
a.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."};
a.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}
})(jQuery);
(function(a,c){jPlayerPlaylist=function(b,h,g){var f=this;
this.current=0;
this.removing=this.shuffled=this.loop=!1;
this.cssSelector=a.extend({},this._cssSelector,b);
this.options=a.extend(!0,{},this._options,g);
this.playlist=[];
this.original=[];
this._initPlaylist(h);
this.cssSelector.title=this.cssSelector.cssSelectorAncestor+" .jp-title";
this.cssSelector.playlist=this.cssSelector.cssSelectorAncestor+" .jp-playlist";
this.cssSelector.next=this.cssSelector.cssSelectorAncestor+" .jp-next";
this.cssSelector.previous=this.cssSelector.cssSelectorAncestor+" .jp-previous";
this.cssSelector.shuffle=this.cssSelector.cssSelectorAncestor+" .jp-shuffle";
this.cssSelector.shuffleOff=this.cssSelector.cssSelectorAncestor+" .jp-shuffle-off";
this.options.cssSelectorAncestor=this.cssSelector.cssSelectorAncestor;
this.options.repeat=function(d){f.loop=d.jPlayer.options.loop
};
a(this.cssSelector.jPlayer).bind(a.jPlayer.event.ready,function(){f._init()
});
a(this.cssSelector.jPlayer).bind(a.jPlayer.event.ended,function(){f.next()
});
a(this.cssSelector.jPlayer).bind(a.jPlayer.event.play,function(){a(this).jPlayer("pauseOthers")
});
a(this.cssSelector.jPlayer).bind(a.jPlayer.event.resize,function(d){d.jPlayer.options.fullScreen?a(f.cssSelector.title).show():a(f.cssSelector.title).hide()
});
a(this.cssSelector.previous).click(function(){f.previous();
a(this).blur();
return !1
});
a(this.cssSelector.next).click(function(){f.next();
a(this).blur();
return !1
});
a(this.cssSelector.shuffle).click(function(){f.shuffle(!0);
return !1
});
a(this.cssSelector.shuffleOff).click(function(){f.shuffle(!1);
return !1
}).hide();
this.options.fullScreen||a(this.cssSelector.title).hide();
a(this.cssSelector.playlist+" ul").empty();
this._createItemHandlers();
a(this.cssSelector.jPlayer).jPlayer(this.options)
};
jPlayerPlaylist.prototype={_cssSelector:{jPlayer:"#jquery_jplayer_1",cssSelectorAncestor:"#jp_container_1"},_options:{playlistOptions:{autoPlay:!1,loopOnPrevious:!1,shuffleOnLoop:!0,enableRemoveControls:!1,displayTime:"slow",addTime:"fast",removeTime:"fast",shuffleTime:"slow",itemClass:"jp-playlist-item",freeGroupClass:"jp-free-media",freeItemClass:"jp-playlist-item-free",removeItemClass:"jp-playlist-item-remove"}},option:function(f,d){if(d===c){return this.options.playlistOptions[f]
}this.options.playlistOptions[f]=d;
switch(f){case"enableRemoveControls":this._updateControls();
break;
case"itemClass":case"freeGroupClass":case"freeItemClass":case"removeItemClass":this._refresh(!0),this._createItemHandlers()
}return this
},_init:function(){var b=this;
this._refresh(function(){b.options.playlistOptions.autoPlay?b.play(b.current):b.select(b.current)
})
},_initPlaylist:function(b){this.current=0;
this.removing=this.shuffled=!1;
this.original=a.extend(!0,[],b);
this._originalPlaylist()
},_originalPlaylist:function(){var b=this;
this.playlist=[];
a.each(this.original,function(d){b.playlist[d]=b.original[d]
})
},_refresh:function(b){var g=this;
if(b&&!a.isFunction(b)){a(this.cssSelector.playlist+" ul").empty(),a.each(this.playlist,function(d){a(g.cssSelector.playlist+" ul").append(g._createListItem(g.playlist[d]))
}),this._updateControls()
}else{var f=a(this.cssSelector.playlist+" ul").children().length?this.options.playlistOptions.displayTime:0;
a(this.cssSelector.playlist+" ul").slideUp(f,function(){var h=a(this);
a(this).empty();
a.each(g.playlist,function(d){h.append(g._createListItem(g.playlist[d]))
});
g._updateControls();
a.isFunction(b)&&b();
g.playlist.length?a(this).slideDown(g.options.playlistOptions.displayTime):a(this).show()
})
}},_createListItem:function(b){var h=this,g="<li><div>";
g+="<a href='javascript:;' class='"+this.options.playlistOptions.removeItemClass+"'>&times;</a>";
if(b.free){var f=!0;
g+="<span class='"+this.options.playlistOptions.freeGroupClass+"'>(";
a.each(b,function(d,j){a.jPlayer.prototype.format[d]&&(f?f=!1:g+=" | ",g+="<a class='"+h.options.playlistOptions.freeItemClass+"' href='"+j+"' tabindex='1'>"+d+"</a>")
});
g+=")</span>"
}g+="<a href='javascript:;' class='"+this.options.playlistOptions.itemClass+"' tabindex='1'>"+b.title+(b.artist?" <span class='jp-artist'>by "+b.artist+"</span>":"")+"</a>";
g+="</div></li>";
return g
},_createItemHandlers:function(){var b=this;
a(this.cssSelector.playlist+" a."+this.options.playlistOptions.itemClass).die("click").live("click",function(){var d=a(this).parent().parent().index();
b.current!==d?b.play(d):a(b.cssSelector.jPlayer).jPlayer("play");
a(this).blur();
return !1
});
a(b.cssSelector.playlist+" a."+this.options.playlistOptions.freeItemClass).die("click").live("click",function(){a(this).parent().parent().find("."+b.options.playlistOptions.itemClass).click();
a(this).blur();
return !1
});
a(b.cssSelector.playlist+" a."+this.options.playlistOptions.removeItemClass).die("click").live("click",function(){var d=a(this).parent().parent().index();
b.remove(d);
a(this).blur();
return !1
})
},_updateControls:function(){this.options.playlistOptions.enableRemoveControls?a(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).show():a(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).hide();
this.shuffled?(a(this.cssSelector.shuffleOff).show(),a(this.cssSelector.shuffle).hide()):(a(this.cssSelector.shuffleOff).hide(),a(this.cssSelector.shuffle).show())
},_highlight:function(b){this.playlist.length&&b!==c&&(a(this.cssSelector.playlist+" .jp-playlist-current").removeClass("jp-playlist-current"),a(this.cssSelector.playlist+" li:nth-child("+(b+1)+")").addClass("jp-playlist-current").find(".jp-playlist-item").addClass("jp-playlist-current"),a(this.cssSelector.title+" li").html(this.playlist[b].title+(this.playlist[b].artist?" <span class='jp-artist'>by "+this.playlist[b].artist+"</span>":"")))
},setPlaylist:function(b){this._initPlaylist(b);
this._init()
},add:function(b,d){a(this.cssSelector.playlist+" ul").append(this._createListItem(b)).find("li:last-child").hide().slideDown(this.options.playlistOptions.addTime);
this._updateControls();
this.original.push(b);
this.playlist.push(b);
d?this.play(this.playlist.length-1):this.original.length===1&&this.select(0)
},remove:function(b){var d=this;
if(b===c){return this._initPlaylist([]),this._refresh(function(){a(d.cssSelector.jPlayer).jPlayer("clearMedia")
}),!0
}else{if(this.removing){return !1
}else{b=b<0?d.original.length+b:b;
if(0<=b&&b<this.playlist.length){this.removing=!0,a(this.cssSelector.playlist+" li:nth-child("+(b+1)+")").slideUp(this.options.playlistOptions.removeTime,function(){a(this).remove();
if(d.shuffled){var f=d.playlist[b];
a.each(d.original,function(g){if(d.original[g]===f){return d.original.splice(g,1),!1
}})
}else{d.original.splice(b,1)
}d.playlist.splice(b,1);
d.original.length?b===d.current?(d.current=b<d.original.length?d.current:d.original.length-1,d.select(d.current)):b<d.current&&d.current--:(a(d.cssSelector.jPlayer).jPlayer("clearMedia"),d.current=0,d.shuffled=!1,d._updateControls());
d.removing=!1
})
}return !0
}}},select:function(b){b=b<0?this.original.length+b:b;
0<=b&&b<this.playlist.length?(this.current=b,this._highlight(b),a(this.cssSelector.jPlayer).jPlayer("setMedia",this.playlist[this.current])):this.current=0
},play:function(b){b=b<0?this.original.length+b:b;
0<=b&&b<this.playlist.length?this.playlist.length&&(this.select(b),a(this.cssSelector.jPlayer).jPlayer("play")):b===c&&a(this.cssSelector.jPlayer).jPlayer("play")
},pause:function(){a(this.cssSelector.jPlayer).jPlayer("pause")
},next:function(){var b=this.current+1<this.playlist.length?this.current+1:0;
this.loop?b===0&&this.shuffled&&this.options.playlistOptions.shuffleOnLoop&&this.playlist.length>1?this.shuffle(!0,!0):this.play(b):b>0&&this.play(b)
},previous:function(){var b=this.current-1>=0?this.current-1:this.playlist.length-1;
(this.loop&&this.options.playlistOptions.loopOnPrevious||b<this.playlist.length-1)&&this.play(b)
},shuffle:function(b,g){var f=this;
b===c&&(b=!this.shuffled);
(b||b!==this.shuffled)&&a(this.cssSelector.playlist+" ul").slideUp(this.options.playlistOptions.shuffleTime,function(){(f.shuffled=b)?f.playlist.sort(function(){return 0.5-Math.random()
}):f._originalPlaylist();
f._refresh(!0);
g||!a(f.cssSelector.jPlayer).data("jPlayer").status.paused?f.play(0):f.select(0);
a(this).slideDown(f.options.playlistOptions.shuffleTime)
})
}}
})(jQuery);
/*!
 * jQCloud Plugin for jQuery
 *
 * Version 1.0.2
 *
 * Copyright 2011, Luca Ongaro
 * Licensed under the MIT license.
 *
 * Date: Tue Oct 09 22:08:53 +0200 2012
 */
(function(b){"use strict",b.fn.jQCloud=function(a,m){var l=this,k=l.attr("id")||Math.floor(Math.random()*1000000).toString(36),j={width:l.width(),height:l.height(),center:{x:(m&&m.width?m.width:l.width())/2,y:(m&&m.height?m.height:l.height())/2},delayedMode:a.length>50,shape:!1,encodeURI:!0};
m=b.extend(j,m||{}),l.addClass("jqcloud").width(m.width).height(m.height),l.css("position")==="static"&&l.css("position","relative");
var h=function(){var r=function(g,f){var u=function(w,v){return Math.abs(2*w.offsetLeft+w.offsetWidth-2*v.offsetLeft-v.offsetWidth)<w.offsetWidth+v.offsetWidth&&Math.abs(2*w.offsetTop+w.offsetHeight-2*v.offsetTop-v.offsetHeight)<w.offsetHeight+v.offsetHeight?!0:!1
},t=0;
for(t=0;
t<f.length;
t++){if(u(g,f[t])){return !0
}}return !1
};
for(var q=0;
q<a.length;
q++){a[q].weight=parseFloat(a[q].weight,10)
}a.sort(function(g,f){return g.weight<f.weight?1:g.weight>f.weight?-1:0
});
var p=m.shape==="rectangular"?18:2,o=[],n=m.width/m.height,d=function(R,Q){var P=k+"_word_"+R,O="#"+P,N=6.28*Math.random(),M=0,L=0,J=0,I=5,H="",G="",F="";
Q.html=b.extend(Q.html,{id:P}),Q.html&&Q.html["class"]&&(H=Q.html["class"],delete Q.html["class"]),a[0].weight>a[a.length-1].weight&&(I=Math.round((Q.weight-a[a.length-1].weight)/(a[0].weight-a[a.length-1].weight)*9)+1),F=b("<span>").attr(Q.html).addClass("w"+I+" "+H),Q.link?(typeof Q.link=="string"&&(Q.link={href:Q.link}),m.encodeURI&&(Q.link=b.extend(Q.link,{href:encodeURI(Q.link.href).replace(/'/g,"%27")})),G=b("<a>").attr(Q.link).text(Q.text)):G=Q.text,F.append(G);
if(!!Q.handlers){for(var E in Q.handlers){Q.handlers.hasOwnProperty(E)&&typeof Q.handlers[E]=="function"&&b(F).bind(E,Q.handlers[E])
}}l.append(F);
var D=F.width(),C=F.height(),B=m.center.x-D/2,f=m.center.y-C/2,K=F[0].style;
K.position="absolute",K.left=B+"px",K.top=f+"px";
while(r(document.getElementById(P),o)){if(m.shape==="rectangular"){L++,L*p>(1+Math.floor(J/2))*p*(J%4%2===0?1:n)&&(L=0,J++);
switch(J%4){case 1:B+=p*n+Math.random()*2;
break;
case 2:f-=p+Math.random()*2;
break;
case 3:B-=p*n+Math.random()*2;
break;
case 0:f+=p+Math.random()*2
}}else{M+=p,N+=(R%2===0?1:-1)*p,B=m.center.x-D/2+M*Math.cos(N)*n,f=m.center.y+M*Math.sin(N)-C/2
}K.left=B+"px",K.top=f+"px"
}o.push(document.getElementById(P)),b.isFunction(Q.afterWordRender)&&Q.afterWordRender.call(F)
},c=function(f){f=f||0;
if(!l.is(":visible")){setTimeout(function(){c(f)
},10);
return
}f<a.length?(d(f,a[f]),setTimeout(function(){c(f+1)
},10)):b.isFunction(m.afterCloudRender)&&m.afterCloudRender.call(l)
};
m.delayedMode?c():(b.each(a,d),b.isFunction(m.afterCloudRender)&&m.afterCloudRender.call(l))
};
return setTimeout(function(){h()
},10),l
}
})(jQuery);
var XDate=function(an,ai,ae,af){function ao(){var g=this instanceof ao?this:new ao,n=arguments,f=n.length,m;
typeof n[f-1]=="boolean"&&(m=n[--f],n=ac(n,0,f));
if(f){if(f==1){if(f=n[0],f instanceof an||typeof f=="number"){g[0]=new an(+f)
}else{if(f instanceof ao){var n=g,j=new an(+f[0]);
if(aj(f)){j.toString=R
}n[0]=j
}else{if(typeof f=="string"){g[0]=new an(0);
g:{for(var n=f,f=m||!1,j=ao.parsers,k=0,l;
k<j.length;
k++){if(l=j[k](n,f,g)){g=l;
break g
}}g[0]=new an(n)
}}}}}else{g[0]=new an(ah.apply(an,n)),m||(g[0]=Z(g[0]))
}}else{g[0]=new an
}typeof m=="boolean"&&ad(g,m);
return g
}function aj(f){return f[0].toString===R
}function ad(g,j,f){if(j){if(!aj(g)){f&&(g[0]=new an(ah(g[0].getFullYear(),g[0].getMonth(),g[0].getDate(),g[0].getHours(),g[0].getMinutes(),g[0].getSeconds(),g[0].getMilliseconds()))),g[0].toString=R
}}else{aj(g)&&(g[0]=f?Z(g[0]):new an(+g[0]))
}return g
}function ab(j,o,g,n,k){var m=ak(al,j[0],k),j=ak(aa,j[0],k),k=o==1?g%12:m(1),l=!1;
n.length==2&&typeof n[1]=="boolean"&&(l=n[1],n=[g]);
j(o,n);
l&&m(1)!=k&&(j(1,[m(1)-1]),j(2,[X(m(0),m(1))]))
}function V(g,l,f,k){var f=Number(f),j=ai.floor(f);
g["set"+ag[l]](g["get"+ag[l]]()+j,k||!1);
j!=f&&l<6&&V(g,l+1,(f-j)*T[l],k)
}function S(g,l,f){var g=g.clone().setUTCMode(!0,!0),l=ao(l).setUTCMode(!0,!0),k=0;
if(f==0||f==1){for(var j=6;
j>=f;
j--){k/=T[j],k+=al(l,!1,j)-al(g,!1,j)
}f==1&&(k+=(l.getFullYear()-g.getFullYear())*12)
}else{f==2?(f=g.toDate().setUTCHours(0,0,0,0),k=l.toDate().setUTCHours(0,0,0,0),k=ai.round((k-f)/86400000)+(l-k-(g-f))/86400000):k=(l-g)/[3600000,60000,1000,1][f-3]
}return k
}function Y(g){var k=g(0),f=g(1),g=g(2),f=new an(ah(k,f,g)),j=W(k),g=j;
f<j?g=W(k-1):(k=W(k+1),f>=k&&(g=k));
return ai.floor(ai.round((f-g)/86400000)/7)+1
}function W(f){f=new an(ah(f,0,4));
f.setUTCDate(f.getUTCDate()-(f.getUTCDay()+6)%7);
return f
}function P(g,m,f,l){var j=ak(al,g,l),k=ak(aa,g,l),f=W(f===af?j(0):f);
l||(f=Z(f));
g.setTime(+f);
k(2,[j(2)+(m-1)*7])
}function O(j,p,f,o,n){var m=ao.locales,l=m[ao.defaultLocale]||{},k=ak(al,j,n),f=(typeof f=="string"?m[f]:f)||{};
return Q(j,p,function(q){if(o){for(var g=(q==7?2:q)-1;
g>=0;
g--){o.push(k(g))
}}return k(q)
},function(g){return f[g]||l[g]
},n)
}function Q(G,E,F,D,C){for(var B,A,z="";
B=E.match(b);
){z+=E.substr(0,B.index);
if(B[1]){A=z;
for(var z=G,y=B[1],w=F,v=D,u=C,x=y.length,t=void 0,p="";
x>0;
){t=a(z,y.substr(0,x),w,v,u),t!==af?(p+=t,y=y.substr(x),x=y.length):x--
}z=A+(p+y)
}else{B[3]?(A=Q(G,B[4],F,D,C),parseInt(A.replace(/\D/g,""),10)&&(z+=A)):z+=B[7]||"'"
}E=E.substr(B.index+B[0].length)
}return z+E
}function a(j,n,f,m,l){var k=ao.formatters[n];
if(typeof k=="string"){return Q(j,k,f,m,l)
}else{if(typeof k=="function"){return k(j,l||!1,m)
}}switch(n){case"fff":return am(f(6),3);
case"s":return f(5);
case"ss":return am(f(5));
case"m":return f(4);
case"mm":return am(f(4));
case"h":return f(3)%12||12;
case"hh":return am(f(3)%12||12);
case"H":return f(3);
case"HH":return am(f(3));
case"d":return f(2);
case"dd":return am(f(2));
case"ddd":return m("dayNamesShort")[f(7)]||"";
case"dddd":return m("dayNames")[f(7)]||"";
case"M":return f(1)+1;
case"MM":return am(f(1)+1);
case"MMM":return m("monthNamesShort")[f(1)]||"";
case"MMMM":return m("monthNames")[f(1)]||"";
case"yy":return(f(0)+"").substring(2);
case"yyyy":return f(0);
case"t":return U(f,m).substr(0,1).toLowerCase();
case"tt":return U(f,m).toLowerCase();
case"T":return U(f,m).substr(0,1);
case"TT":return U(f,m);
case"z":case"zz":case"zzz":return l?n="Z":(m=j.getTimezoneOffset(),j=m<0?"+":"-",f=ai.floor(ai.abs(m)/60),m=ai.abs(m)%60,l=f,n=="zz"?l=am(f):n=="zzz"&&(l=am(f)+":"+am(m)),n=j+l),n;
case"w":return Y(f);
case"ww":return am(Y(f));
case"S":return n=f(2),n>10&&n<20?"th":["st","nd","rd"][n%10-1]||"th"
}}function U(f,g){return f(3)<12?g("amDesignator"):g("pmDesignator")
}function r(f){return !isNaN(+f[0])
}function al(g,j,f){return g["get"+(j?"UTC":"")+ag[f]]()
}function aa(g,k,f,j){g["set"+(k?"UTC":"")+ag[f]].apply(g,j)
}function Z(f){return new an(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds())
}function X(f,g){return 32-(new an(ah(f,g,32))).getUTCDate()
}function h(f){return function(){return f.apply(af,[this].concat(ac(arguments)))
}
}function ak(f){var g=ac(arguments,1);
return function(){return f.apply(af,g.concat(ac(arguments)))
}
}function ac(g,j,f){return ae.prototype.slice.call(g,j||0,f===af?g.length:f)
}function d(g,j){for(var f=0;
f<g.length;
f++){j(g[f],f)
}}function am(f,g){g=g||2;
for(f+="";
f.length<g;
){f="0"+f
}return f
}var ag="FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds,Day,Year".split(","),c=["Years","Months","Days"],T=[12,31,24,60,60,1000,1],b=/(([a-zA-Z])\2*)|(\((('.*?'|\(.*?\)|.)*?)\))|('(.*?)')/,ah=an.UTC,R=an.prototype.toUTCString,ap=ao.prototype;
ap.length=1;
ap.splice=ae.prototype.splice;
ap.getUTCMode=h(aj);
ap.setUTCMode=h(ad);
ap.getTimezoneOffset=function(){return aj(this)?0:this[0].getTimezoneOffset()
};
d(ag,function(f,g){ap["get"+f]=function(){return al(this[0],aj(this),g)
};
g!=8&&(ap["getUTC"+f]=function(){return al(this[0],!0,g)
});
g!=7&&(ap["set"+f]=function(j){ab(this,g,j,arguments,aj(this));
return this
},g!=8&&(ap["setUTC"+f]=function(j){ab(this,g,j,arguments,!0);
return this
},ap["add"+(c[g]||f)]=function(j,k){V(this,g,j,k);
return this
},ap["diff"+(c[g]||f)]=function(j){return S(this,j,g)
}))
});
ap.getWeek=function(){return Y(ak(al,this,!1))
};
ap.getUTCWeek=function(){return Y(ak(al,this,!0))
};
ap.setWeek=function(f,g){P(this,f,g,!1);
return this
};
ap.setUTCWeek=function(f,g){P(this,f,g,!0);
return this
};
ap.addWeeks=function(f){return this.addDays(Number(f)*7)
};
ap.diffWeeks=function(f){return S(this,f,2)/7
};
ao.parsers=[function(g,k,f){if(g=g.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/)){var j=new an(ah(g[1],g[3]?g[3]-1:0,g[5]||1,g[7]||0,g[8]||0,g[10]||0,g[12]?Number("0."+g[12])*1000:0));
g[13]?g[14]&&j.setUTCMinutes(j.getUTCMinutes()+(g[15]=="-"?1:-1)*(Number(g[16])*60+(g[18]?Number(g[18]):0))):k||(j=Z(j));
return f.setTime(+j)
}}];
ao.parse=function(f){return +ao(""+f)
};
ap.toString=function(g,j,f){return g===af||!r(this)?this[0].toString():O(this,g,j,f,aj(this))
};
ap.toUTCString=ap.toGMTString=function(g,j,f){return g===af||!r(this)?this[0].toUTCString():O(this,g,j,f,!0)
};
ap.toISOString=function(){return this.toUTCString("yyyy-MM-dd'T'HH:mm:ss(.fff)zzz")
};
ao.defaultLocale="";
ao.locales={"":{monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),amDesignator:"AM",pmDesignator:"PM"}};
ao.formatters={i:"yyyy-MM-dd'T'HH:mm:ss(.fff)",u:"yyyy-MM-dd'T'HH:mm:ss(.fff)zzz"};
d("getTime,valueOf,toDateString,toTimeString,toLocaleString,toLocaleDateString,toLocaleTimeString,toJSON".split(","),function(f){ap[f]=function(){return this[0][f]()
}
});
ap.setTime=function(f){this[0].setTime(f);
return this
};
ap.valid=h(r);
ap.clone=function(){return new ao(this)
};
ap.clearTime=function(){return this.setHours(0,0,0,0)
};
ap.toDate=function(){return new an(+this[0])
};
ao.now=function(){return +new an
};
ao.today=function(){return(new ao).clearTime()
};
ao.UTC=ah;
ao.getDaysInMonth=X;
if(typeof module!=="undefined"&&module.exports){module.exports=ao
}return ao
}(Date,Math,Array);
(function(d){d.tiny=d.tiny||{};
d.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:true,lockscroll:true,size:"auto",sizethumb:"auto",invertscroll:false}};
d.fn.tinyscrollbar=function(a){var b=d.extend({},d.tiny.scrollbar.options,a);
this.each(function(){d(this).data("tsb",new c(d(this),b))
});
return this
};
d.fn.tinyscrollbar_update=function(a){return d(this).data("tsb").update(a)
};
function c(F,P){var L=this,C=F,M={obj:d(".viewport",F)},O={obj:d(".overview",F)},S={obj:d(".scrollbar",F)},J={obj:d(".track",S.obj)},G={obj:d(".thumb",S.obj)},K=P.axis==="x",I=K?"left":"top",A=K?"Width":"Height",E=0,a={start:0,now:0},H={},R="ontouchstart" in document.documentElement;
function T(){L.update();
D();
return L
}this.update=function(f){M[P.axis]=M.obj[0]["offset"+A];
O[P.axis]=O.obj[0]["scroll"+A];
O.ratio=M[P.axis]/O[P.axis];
S.obj.toggleClass("disable",O.ratio>=1);
J[P.axis]=P.size==="auto"?M[P.axis]:P.size;
G[P.axis]=Math.min(J[P.axis],Math.max(0,(P.sizethumb==="auto"?(J[P.axis]*O.ratio):P.sizethumb)));
S.ratio=P.sizethumb==="auto"?(O[P.axis]/J[P.axis]):(O[P.axis]-M[P.axis])/(J[P.axis]-G[P.axis]);
E=(f==="relative"&&O.ratio<=1)?Math.min((O[P.axis]-M[P.axis]),Math.max(0,E)):0;
E=(f==="bottom"&&O.ratio<=1)?(O[P.axis]-M[P.axis]):isNaN(parseInt(f,10))?E:parseInt(f,10);
z()
};
function z(){var f=A.toLowerCase();
G.obj.css(I,E/S.ratio);
O.obj.css(I,-E);
H.start=G.obj.offset()[I];
S.obj.css(f,J[P.axis]);
J.obj.css(f,J[P.axis]);
G.obj.css(f,G[P.axis])
}function D(){if(!R){G.obj.bind("mousedown",N);
J.obj.bind("mouseup",B)
}else{M.obj[0].ontouchstart=function(f){if(1===f.touches.length){N(f.touches[0]);
f.stopPropagation()
}}
}if(P.scroll&&window.addEventListener){C[0].addEventListener("DOMMouseScroll",b,false);
C[0].addEventListener("mousewheel",b,false)
}else{if(P.scroll){C[0].onmousewheel=b
}}}function N(f){d("body").addClass("noSelect");
var g=parseInt(G.obj.css(I),10);
H.start=K?f.pageX:f.pageY;
a.start=g=="auto"?0:g;
if(!R){d(document).bind("mousemove",B);
d(document).bind("mouseup",Q);
G.obj.bind("mouseup",Q)
}else{document.ontouchmove=function(h){h.preventDefault();
B(h.touches[0])
};
document.ontouchend=Q
}}function b(h){if(O.ratio<1){var f=h||window.event,g=f.wheelDelta?f.wheelDelta/120:-f.detail/3;
E-=g*P.wheel;
E=Math.min((O[P.axis]-M[P.axis]),Math.max(0,E));
G.obj.css(I,E/S.ratio);
O.obj.css(I,-E);
if(P.lockscroll||(E!==(O[P.axis]-M[P.axis])&&E!==0)){f=d.event.fix(f);
f.preventDefault()
}}}function B(f){if(O.ratio<1){if(P.invertscroll&&R){a.now=Math.min((J[P.axis]-G[P.axis]),Math.max(0,(a.start+(H.start-(K?f.pageX:f.pageY)))))
}else{a.now=Math.min((J[P.axis]-G[P.axis]),Math.max(0,(a.start+((K?f.pageX:f.pageY)-H.start))))
}E=a.now*S.ratio;
O.obj.css(I,-E);
G.obj.css(I,a.now)
}}function Q(){d("body").removeClass("noSelect");
d(document).unbind("mousemove",B);
d(document).unbind("mouseup",Q);
G.obj.unbind("mouseup",Q);
document.ontouchmove=document.ontouchend=null
}return T()
}}(jQuery));
(function(){var m=/^<([-A-Za-z0-9_]+)((?:\s+[\w-_]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,c=/^<\/([-A-Za-z0-9_]+)[^>]*>/,h=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;
var g=b("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");
var a=b("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");
var k=b("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");
var d=b("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");
var l=b("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");
var j=b("script,style");
var f=this.HTMLParser=function(o,x){var r,t,p,u=[],v=o;
u.last=function(){return this[this.length-1]
};
while(o){t=true;
if(!u.last()||!j[u.last()]){if(o.indexOf("<!--")==0){r=o.indexOf("-->");
if(r>=0){if(x.comment){x.comment(o.substring(4,r))
}o=o.substring(r+3);
t=false
}}else{if(o.indexOf("</")==0){p=o.match(c);
if(p){o=o.substring(p[0].length);
p[0].replace(c,q);
t=false
}}else{if(o.indexOf("<")==0){p=o.match(m);
if(p){o=o.substring(p[0].length);
p[0].replace(m,n);
t=false
}}}}if(t){r=o.indexOf("<");
var w=r<0?o:o.substring(0,r);
o=r<0?"":o.substring(r);
if(x.chars){x.chars(w)
}}}else{o=o.replace(new RegExp("(.*)</"+u.last()+"[^>]*>"),function(y,z){z=z.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1");
if(x.chars){x.chars(z)
}return""
});
q("",u.last())
}if(o==v){throw"Parse Error: "+o
}v=o
}q();
function n(y,B,C,z){B=B.toLowerCase();
if(a[B]){while(u.last()&&k[u.last()]){q("",u.last())
}}if(d[B]&&u.last()==B){q("",B)
}z=g[B];
if(!z){u.push(B)
}if(x.start){var A=[];
C.replace(h,function(E,D){var F=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:l[D]?D:"";
A.push({name:D,value:F,escaped:F.replace(/(^|[^\\])"/g,'$1\\"')})
});
if(x.start){x.start(B,A,z)
}}}function q(y,A){if(!A){var B=0
}else{for(var B=u.length-1;
B>=0;
B--){if(u[B]==A){break
}}}if(B>=0){for(var z=u.length-1;
z>=B;
z--){if(x.end){x.end(u[z])
}}u.length=B
}}};
this.HTMLtoXML=function(o){var n="";
f(o,{start:function(p,r,q){n+="<"+p;
for(var t=0;
t<r.length;
t++){n+=" "+r[t].name+'="'+r[t].escaped+'"'
}n+=(q?"/":"")+">"
},end:function(p){n+="</"+p+">"
},chars:function(p){n+=p
},comment:function(p){n+="<!--"+p+"-->"
}});
return n
};
this.HTMLtoDOM=function(r,v){var q=b("html,head,body,title");
var n={link:"head",base:"head"};
if(!v){if(typeof DOMDocument!="undefined"){v=new DOMDocument()
}else{if(typeof document!="undefined"&&document.implementation&&document.implementation.createDocument){v=document.implementation.createDocument("","",null)
}else{if(typeof ActiveX!="undefined"){v=new ActiveXObject("Msxml.DOMDocument")
}}}}else{v=v.ownerDocument||v.getOwnerDocument&&v.getOwnerDocument()||v
}var o=[],u=v.documentElement||v.getDocumentElement&&v.getDocumentElement();
if(!u&&v.createElement){(function(){var x=v.createElement("html");
var w=v.createElement("head");
w.appendChild(v.createElement("title"));
x.appendChild(w);
x.appendChild(v.createElement("body"));
v.appendChild(x)
})()
}if(v.getElementsByTagName){for(var p in q){q[p]=v.getElementsByTagName(p)[0]
}}var t=q.body;
f(r,{start:function(z,y,x){if(q[z]){t=q[z];
if(!x){o.push(t)
}return
}var A=v.createElement(z);
for(var w in y){A.setAttribute(y[w].name,y[w].value)
}if(n[z]&&typeof q[n[z]]!="boolean"){q[n[z]].appendChild(A)
}else{if(t&&t.appendChild){t.appendChild(A)
}}if(!x){o.push(A);
t=A
}},end:function(w){o.length-=1;
t=o[o.length-1]
},chars:function(w){t.appendChild(v.createTextNode(w))
},comment:function(w){}});
return v
};
function b(q){var p={},n=q.split(",");
for(var o=0;
o<n.length;
o++){p[n[o]]=true
}return p
}})();
(function(){var b=(function(){var l={};
var m;
var k=this.document.createElement("div");
m="<P><I></P></I>";
k.innerHTML=m;
l.tagSoup=k.innerHTML!==m;
k.innerHTML="<P><i><P></P></i></P>";
l.selfClose=k.childNodes.length===2;
return l
})();
var h=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/;
var g=/^<\/([\-A-Za-z0-9_]+)[^>]*>/;
var a=/([\-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;
var j=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i;
var c=false;
function f(u,v){u=u||"";
v=v||{};
for(var t in b){if(b.hasOwnProperty(t)){if(v.autoFix){v["fix_"+t]=true
}v.fix=v.fix||v["fix_"+t]
}}var r=[];
var n=function(x){u+=x
};
var w=function(x){u=x+u
};
var k={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript)[\s>]/i,startTag:/^</,chars:/^[^<]/};
var p={comment:function(){var x=u.indexOf("-->");
if(x>=0){return{content:u.substr(4,x),length:x+3}
}},endTag:function(){var x=u.match(g);
if(x){return{tagName:x[1],length:x[0].length}
}},atomicTag:function(){var z=p.startTag();
if(z){var y=u.slice(z.length);
if(y.match(new RegExp("</\\s*"+z.tagName+"\\s*>","i"))){var x=y.match(new RegExp("([\\s\\S]*?)</\\s*"+z.tagName+"\\s*>","i"));
if(x){return{tagName:z.tagName,attrs:z.attrs,content:x[1],length:x[0].length+z.length}
}}}},startTag:function(){var y=u.match(h);
if(y){var x={};
y[2].replace(a,function(A,z){var B=arguments[2]||arguments[3]||arguments[4]||j.test(z)&&z||null;
x[z]=B
});
return{tagName:y[1],attrs:x,unary:!!y[3],length:y[0].length}
}},chars:function(){var x=u.indexOf("<");
return{length:x>=0?x:u.length}
}};
var q=function(){for(var y in k){if(k[y].test(u)){if(c){console.log("suspected "+y)
}var x=p[y]();
if(x){if(c){console.log("parsed "+y,x)
}x.type=x.type||y;
x.text=u.substr(0,x.length);
u=u.slice(x.length);
return x
}return null
}}};
var m=function(y){var x;
while(x=q()){if(y[x.type]&&y[x.type](x)===false){return
}}};
var o=function(){var x=u;
u="";
return x
};
var l=function(){return u
};
if(v.fix){(function(){var x=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i;
var B=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i;
var D=[];
D.last=function(){return this[this.length-1]
};
D.lastTagNameEq=function(H){var I=this.last();
return I&&I.tagName&&I.tagName.toUpperCase()===H.toUpperCase()
};
D.containsTagName=function(J){for(var I=0,H;
H=this[I];
I++){if(H.tagName===J){return true
}}return false
};
var C=function(H){if(H&&H.type==="startTag"){H.unary=x.test(H.tagName)||H.unary
}return H
};
var A=q;
var G=function(){var I=u;
var H=C(A());
u=I;
return H
};
var z=function(){var H=D.pop();
w("</"+H.tagName+">")
};
var y={startTag:function(H){var I=H.tagName;
if(I.toUpperCase()==="TR"&&D.lastTagNameEq("TABLE")){w("<TBODY>");
E()
}else{if(v.fix_selfClose&&B.test(I)&&D.containsTagName(I)){if(D.lastTagNameEq(I)){z()
}else{w("</"+H.tagName+">");
E()
}}else{if(!H.unary){D.push(H)
}}}},endTag:function(H){var I=D.last();
if(I){if(v.fix_tagSoup&&!D.lastTagNameEq(H.tagName)){z()
}else{D.pop()
}}else{if(v.fix_tagSoup){F()
}}}};
var F=function(){A();
E()
};
var E=function(){var H=G();
if(H&&y[H.type]){y[H.type](H)
}};
q=function(){E();
return C(A())
}
})()
}return{append:n,readToken:q,readTokens:m,clear:o,rest:l,stack:r}
}f.supports=b;
f.tokenToString=function(k){var l={comment:function(m){return"<--"+m.content+"-->"
},endTag:function(m){return"</"+m.tagName+">"
},atomicTag:function(m){console.log(m);
return l.startTag(m)+m.content+l.endTag(m)
},startTag:function(m){var p="<"+m.tagName;
for(var n in m.attrs){var o=m.attrs[n];
p+=" "+n+'="'+(o?o.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"'
}return p+(m.unary?"/>":">")
},chars:function(m){return m.text
}};
return l[k.type](k)
};
f.escapeAttributes=function(m){var k={};
for(var l in m){var n=m[l];
k[l]=n&&n.replace(/(^|[^\\])"/g,'$1\\"')
}return k
};
for(var d in b){f.browserHasFlaw=f.browserHasFlaw||(!b[d])&&d
}this.htmlParser=f
})();
(function(){var a=this;
if(a.postscribe){return
}var l=true;
var p=false;
var n=Array.prototype.slice;
function g(){}function b(q){return"function"===typeof q
}function k(r,u,v){var t,q=(r&&r.length)||0;
for(t=0;
t<q;
t++){u.call(v,r[t],t)
}}function o(t,r,u){var q;
for(q in t){if(t.hasOwnProperty(q)){r.call(u,q,t[q])
}}}function m(r,q){o(q,function(t,u){r[t]=u
});
return r
}function d(q,r){q=q||{};
o(r,function(t,u){if(q[t]==null){q[t]=u
}});
return q
}function f(t){try{return n.call(t)
}catch(r){var q=[];
k(t,function(u){q.push(u)
});
return q
}}function c(q){return(/^script$/i).test(q.tagName)
}var h=(function(){var q="data-ps-";
function r(w,v,x){var u=q+v;
if(arguments.length===2){var y=w.getAttribute(u);
return y==null?y:String(y)
}else{if(x!=null&&x!==""){w.setAttribute(u,x)
}else{w.removeAttribute(u)
}}}function t(u,v){var w=u.ownerDocument;
m(this,{root:u,options:v,win:w.defaultView||w.parentWindow,doc:w,parser:a.htmlParser("",{autoFix:true}),actuals:[u],proxyHistory:"",proxyRoot:w.createElement(u.nodeName),scriptStack:[],writeQueue:[]});
r(this.proxyRoot,"proxyof",0)
}t.prototype.write=function(){[].push.apply(this.writeQueue,arguments);
var u;
while(!this.deferredRemote&&this.writeQueue.length){u=this.writeQueue.shift();
if(b(u)){this.callFunction(u)
}else{this.writeImpl(u)
}}};
t.prototype.callFunction=function(v){var u={type:"function",value:v.name||v.toString()};
this.onScriptStart(u);
v.call(this.win,this.doc);
this.onScriptDone(u)
};
t.prototype.writeImpl=function(v){this.parser.append(v);
var u,w=[];
while((u=this.parser.readToken())&&!c(u)){w.push(u)
}this.writeStaticTokens(w);
if(u){this.handleScriptToken(u)
}};
t.prototype.writeStaticTokens=function(v){var u=this.buildChunk(v);
if(!u.actual){return
}u.html=this.proxyHistory+u.actual;
this.proxyHistory+=u.proxy;
this.proxyRoot.innerHTML=u.html;
if(p){u.proxyInnerHTML=this.proxyRoot.innerHTML
}this.walkChunk();
if(p){u.actualInnerHTML=this.root.innerHTML
}return u
};
t.prototype.buildChunk=function(x){var w=this.actuals.length,u=[],y=[],v=[];
k(x,function(z){u.push(z.text);
if(z.attrs){if(!(/^noscript$/i).test(z.tagName)){var A=w++;
y.push(z.text.replace(/(\/?>)/," "+q+"id="+A+" $1"));
if(z.attrs.id!=="ps-script"){v.push(z.type==="atomicTag"?"":"<"+z.tagName+" "+q+"proxyof="+A+(z.unary?"/>":">"))
}}}else{y.push(z.text);
v.push(z.type==="endTag"?z.text:"")
}});
return{tokens:x,raw:u.join(""),actual:y.join(""),proxy:v.join("")}
};
t.prototype.walkChunk=function(){var y,u=[this.proxyRoot];
while((y=u.shift())!=null){var x=y.nodeType===1;
var w=x&&r(y,"proxyof");
if(!w){if(x){this.actuals[r(y,"id")]=y;
r(y,"id",null)
}var v=y.parentNode&&r(y.parentNode,"proxyof");
if(v){this.actuals[v].appendChild(y)
}}u.unshift.apply(u,f(y.childNodes))
}};
t.prototype.handleScriptToken=function(u){var v=this.parser.clear();
if(v){this.writeQueue.unshift(v)
}u.src=u.attrs.src||u.attrs.SRC;
if(u.src&&this.scriptStack.length){this.deferredRemote=u
}else{this.onScriptStart(u)
}var w=this;
this.writeScriptToken(u,function(){w.onScriptDone(u)
})
};
t.prototype.onScriptStart=function(u){u.outerWrites=this.writeQueue;
this.writeQueue=[];
this.scriptStack.unshift(u)
};
t.prototype.onScriptDone=function(u){if(u!==this.scriptStack[0]){this.options.error({message:"Bad script nesting or script finished twice"});
return
}this.scriptStack.shift();
this.write.apply(this,u.outerWrites);
if(!this.scriptStack.length&&this.deferredRemote){this.onScriptStart(this.deferredRemote);
this.deferredRemote=null
}};
t.prototype.writeScriptToken=function(v,u){var w=this.buildScript(v);
if(v.src){w.src=v.src;
this.scriptLoadHandler(w,u)
}try{this.insertScript(w);
if(!v.src){u()
}}catch(x){this.options.error(x);
u()
}};
t.prototype.buildScript=function(u){var v=this.doc.createElement(u.tagName);
o(u.attrs,function(w,x){v.setAttribute(w,x)
});
if(u.content){v.text=u.content
}return v
};
t.prototype.insertScript=function(u){this.writeImpl('<span id="ps-script"/>');
var v=this.doc.getElementById("ps-script");
v.parentNode.replaceChild(u,v)
};
t.prototype.scriptLoadHandler=function(x,u){function w(){x=x.onload=x.onreadystatechange=x.onerror=null;
u()
}var v=this.options.error;
m(x,{onload:function(){w()
},onreadystatechange:function(){if(/^(loaded|complete)$/.test(x.readyState)){w()
}},onerror:function(){v({message:"remote script failed "+x.src});
w()
}})
};
return t
}());
var j=(function(){var u=0;
var q=[];
var v=null;
function r(){var x=q.shift();
if(x){x.stream=w.apply(null,x)
}}function w(D,A,z){v=new h(D,z);
v.id=u++;
v.name=z.name||v.id;
t.streams[v.name]=v;
var E=D.ownerDocument;
var y={write:E.write,writeln:E.writeln};
function C(F){F=z.beforeWrite(F);
v.write(F);
z.afterWrite(F)
}m(E,{write:C,writeln:function(F){C(F+"\n")
}});
var B=v.win.onerror||g;
v.win.onerror=function(H,G,F){z.error({msg:H+" - "+G+":"+F});
B.apply(v.win,arguments)
};
v.write(A,function x(){m(E,y);
v.win.onerror=B;
z.done();
v=null;
r()
});
return v
}function t(A,z,y){if(b(y)){y={done:y}
}y=d(y,{done:g,error:function(B){throw B
},beforeWrite:function(B){return B
},afterWrite:g});
A=(/^#/).test(A)?a.document.getElementById(A.substr(1)):A.jquery?A[0]:A;
var x=[A,z,y];
A.postscribe={cancel:function(){if(x.stream){x.stream.abort()
}else{x[1]=g
}}};
q.push(x);
if(!v){r()
}return A.postscribe
}return m(t,{streams:{},queue:q,WriteStream:h})
}());
a.postscribe=j
}());
var ns_=ns_||{};
ns_.StreamSense=ns_.StreamSense||function(){function m(c,a){var f=new Image;
f.src=c,a&&setTimeout(a,0)
}function w(c,a,f){f&&setTimeout(f,0)
}function g(E,z){var c=E||"",F=j,y="undefined",D=window.comScore||window.sitestat||function(I){var M="comScore=",K=document,P=K.cookie,J="",H="indexOf",W="substring",S="length",O=2048,U,Q="&ns_",L="&",T,G,N,R,o=window,V=o.encodeURIComponent||escape;
if(P[H](M)+1){for(N=0,G=P.split(";"),R=G[S];
N<R;
N++){T=G[N][H](M),T+1&&(J=L+unescape(G[N][W](T+M[S])))
}}I+=Q+"_t="+ +(new Date)+Q+"c="+(K.characterSet||K.defaultCharset||"")+"&c8="+V(K.title)+J+"&c7="+V(K.URL)+"&c9="+V(K.referrer),I[S]>O&&I[H](L)>0&&(U=I[W](0,O-8).lastIndexOf(L),I=(I[W](0,U)+Q+"cut="+V(I[W](U+1)))[W](0,O)),m(I),typeof ns_p===y&&(ns_p={src:I}),ns_p.lastMeasurement=I
};
if(typeof z!==y){var C=[],B=window.encodeURIComponent||escape;
for(var A in z){z.hasOwnProperty(A)&&C.push(B(A)+"="+B(z[A]))
}c+="&"+C.join("&")
}return D(c)
}function b(O,C){var H,E=2048,K=document,D=window,G=D.encodeURIComponent||escape,B=[],N=q.LABELS_ORDER,J=O.split("?"),Q=J[0],L=J[1],F=L.split("&");
for(var P=0,A=F.length;
P<A;
P++){var I=F[P].split("="),M=unescape(I[0]),a=unescape(I[1]);
C[M]=a
}var R={};
for(var P=0,A=N.length;
P<A;
P++){var z=N[P];
C.hasOwnProperty(z)&&(R[z]=!0,B.push(G(z)+"="+G(C[z])))
}for(var z in C){if(R[z]){continue
}C.hasOwnProperty(z)&&B.push(G(z)+"="+G(C[z]))
}return H=Q+"?"+B.join("&"),H=H+(H.indexOf("&c8=")<0?"&c8="+G(K.title):"")+(H.indexOf("&c7=")<0?"&c7="+G(K.URL):"")+(H.indexOf("&c9=")<0?"&c9="+G(K.referrer):""),H.length>E&&H.indexOf("&")>0&&(last=H.substr(0,E-8).lastIndexOf("&"),H=(H.substring(0,last)+"&ns_cut="+G(H.substring(last+1))).substr(0,E)),H
}var j=function(){var a={uid:function(){var c=1;
return function(){return +(new Date)+"_"+c++
}
}(),filter:function(l,c){var o={};
for(var f in c){c.hasOwnProperty(f)&&l(c[f])&&(o[f]=c[f])
}return o
},extend:function(o){var f=arguments.length,u;
o=o||{};
for(var l=1;
l<f;
l++){u=arguments[l];
if(!u){continue
}for(var c in u){u.hasOwnProperty(c)&&(o[c]=u[c])
}}return o
},getLong:function(f,c){var l=Number(f);
return f==null||isNaN(l)?c||0:l
},getInteger:function(f,c){var l=Number(f);
return f==null||isNaN(l)?c||0:l
},getBoolean:function(f,c){var l=String(f).toLowerCase()=="true";
return f==null?c||!1:l
},isNotEmpty:function(c){return c!=null&&c.length>0
},regionMatches:function(y,f,A,u,c){if(f<0||u<0||f+c>y.length||u+c>A.length){return !1
}while(--c>=0){var l=y.charAt(f++),z=A.charAt(u++);
if(l!=z){return !1
}}return !0
}};
return a.filterMap=function(f,c){for(var l in f){c.indexOf(l)==-1&&delete f[l]
}},a
}(),x=function(){var a=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"];
return{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(c){return a[c]
}}
}(),d=function(){var a=[x.END,x.PLAY,x.PAUSE,x.BUFFER];
return{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(c){return a[c]
}}
}(),v={ADPLAY:x.AD_PLAY,ADPAUSE:x.AD_PAUSE,ADEND:x.AD_END,ADCLICK:x.AD_CLICK},q={STREAMSENSE_VERSION:"4.1309.13",STREAMSENSEMEDIAPLAYER_VERSION:"4.1309.13",STREAMSENSEVIDEOVIEW_VERSION:"4.1309.13",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:60000,interval:10000},{playingtime:null,interval:60000}],KEEP_ALIVE_PERIOD:1200000,PAUSED_ON_BUFFERING_PERIOD:500,PAUSE_PLAY_SWITCH_DELAY:500,DEFAULT_PLAYERNAME:"streamsense",C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",LABELS_ORDER:["c1","c2","ns_site","ns_vsite","ns_ap_an","ns_ap_pn","ns_ap_pv","c12","name","ns_ak","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ns_ap_sv","ns_type","ns_radio","ns_nc","ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_c12m","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ns_st_pe","ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_ct","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","c7","c8","c9"]},k=function(){var a=function(){function A(f,c){var l=c[f];
l!=null&&(D[f]=l)
}var C=this,G=0,y=0,o=0,F=0,E=0,B=0,z,D;
j.extend(this,{reset:function(c){c!=null&&c.length>0?j.filterMap(D,c):D={},D.ns_st_cl="0",D.ns_st_pn="1",D.ns_st_tp="1",C.setClipId("1"),C.setPauses(0),C.setStarts(0),C.setBufferingTime(0),C.setBufferingTimestamp(-1),C.setPlaybackTime(0),C.setPlaybackTimestamp(-1)
},setLabels:function(c,f){c!=null&&j.extend(D,c),C.setRegisters(D,f)
},getLabels:function(){return D
},setLabel:function(c,l){var f={};
f[c]=l,C.setLabels(f,null)
},getLabel:function(c){return D[c]
},getClipId:function(){return z
},setClipId:function(c){z=c
},setRegisters:function(l,c){var f=l.ns_st_cn;
f!=null&&(z=f,delete l.ns_st_cn),f=l.ns_st_bt,f!=null&&(o=Number(f),delete l.ns_st_bt),A("ns_st_cl",l),A("ns_st_pn",l),A("ns_st_tp",l),A("ns_st_ub",l),A("ns_st_br",l);
if(c==d.PLAYING||c==null){f=l.ns_st_sq,f!=null&&(y=Number(f),delete l.ns_st_sq)
}c!=d.BUFFERING&&(f=l.ns_st_pt,f!=null&&(E=Number(f),delete l.ns_st_pt));
if(c==d.PAUSED||c==d.IDLE||c==null){f=l.ns_st_pc,f!=null&&(G=Number(f),delete l.ns_st_pc)
}},createLabels:function(f,l){var c=l||{};
c.ns_st_cn=C.getClipId(),c.ns_st_bt=String(C.getBufferingTime());
if(f==x.PLAY||f==null){c.ns_st_sq=String(y)
}if(f==x.PAUSE||f==x.END||f==x.KEEP_ALIVE||f==x.HEART_BEAT||f==null){c.ns_st_pt=String(C.getPlaybackTime()),c.ns_st_pc=String(G)
}return j.extend(c,C.getLabels()),c
},incrementPauses:function(){G++
},incrementStarts:function(){y++
},getBufferingTime:function(){var c=o;
return F>=0&&(c+=+(new Date)-F),c
},setBufferingTime:function(c){o=c
},getPlaybackTime:function(){var c=E;
return B>=0&&(c+=+(new Date)-B),c
},setPlaybackTime:function(c){E=c
},getPlaybackTimestamp:function(){return B
},setPlaybackTimestamp:function(c){B=c
},getBufferingTimestamp:function(){return F
},setBufferingTimestamp:function(c){F=c
},getPauses:function(){return G
},setPauses:function(c){G=c
},getStarts:function(){return y
},setStarts:function(c){y=c
}}),D={},C.reset()
};
return a
}(),h=function(){var a=function(){var B=this,G=null,y,f=0,F=0,E=0,z=0,D=0,A,o=0,C=!1;
j.extend(this,{reset:function(c){c!=null&&c.length>0?j.filterMap(A,c):A={},B.setPlaylistId(+(new Date)+"_"+o),B.setBufferingTime(0),B.setPlaybackTime(0),B.setPauses(0),B.setStarts(0),B.setRebufferCount(0),C=!1
},setLabels:function(c,l){c!=null&&j.extend(A,c),B.setRegisters(A,l)
},getLabels:function(){return A
},setLabel:function(c,u){var l={};
l[c]=u,B.setLabels(l,null)
},getLabel:function(c){return A[c]
},getClip:function(){return G
},getPlaylistId:function(){return y
},setPlaylistId:function(c){y=c
},setRegisters:function(n,l){var c=n.ns_st_sp;
c!=null&&(f=Number(c),delete n.ns_st_sp),c=n.ns_st_bc,c!=null&&(E=Number(c),delete n.ns_st_bc),c=n.ns_st_bp,c!=null&&(z=Number(c),delete n.ns_st_bp),c=n.ns_st_id,c!=null&&(y=c,delete n.ns_st_id),l!=d.BUFFERING&&(c=n.ns_st_pa,c!=null&&(D=Number(c),delete n.ns_st_pa));
if(l==d.PAUSED||l==d.IDLE||l==null){c=n.ns_st_pp,c!=null&&(F=Number(c),delete n.ns_st_pp)
}},createLabels:function(c,n){var l=n||{};
l.ns_st_bp=String(B.getBufferingTime()),l.ns_st_sp=String(f),l.ns_st_id=String(y),E>0&&(l.ns_st_bc=String(E));
if(c==x.PAUSE||c==x.END||c==x.KEEP_ALIVE||c==x.HEART_BEAT||c==null){l.ns_st_pa=String(B.getPlaybackTime()),l.ns_st_pp=String(F)
}if(c==x.PLAY||c==null){B.didFirstPlayOccurred()||(l.ns_st_pb="1",B.setFirstPlayOccurred(!0))
}return j.extend(l,B.getLabels()),l
},incrementStarts:function(){f++
},incrementPauses:function(){F++,G.incrementPauses()
},setPlaylistCounter:function(c){o=c
},incrementPlaylistCounter:function(){o++
},addPlaybackTime:function(l){if(G.getPlaybackTimestamp()>=0){var c=l-G.getPlaybackTimestamp();
G.setPlaybackTimestamp(-1),G.setPlaybackTime(G.getPlaybackTime()+c),B.setPlaybackTime(B.getPlaybackTime()+c)
}},addBufferingTime:function(l){if(G.getBufferingTimestamp()>=0){var c=l-G.getBufferingTimestamp();
G.setBufferingTimestamp(-1),G.setBufferingTime(G.getBufferingTime()+c),B.setBufferingTime(B.getBufferingTime()+c)
}},getBufferingTime:function(){var c=z;
return G.getBufferingTimestamp()>=0&&(c+=+(new Date)-G.getBufferingTimestamp()),c
},setBufferingTime:function(c){z=c
},getPlaybackTime:function(){var c=D;
return G.getPlaybackTimestamp()>=0&&(c+=+(new Date)-G.getPlaybackTimestamp()),c
},setPlaybackTime:function(c){D=c
},getStarts:function(){return f
},setStarts:function(c){f=c
},getPauses:function(){return F
},setPauses:function(c){F=c
},getRebufferCount:function(){return E
},incrementRebufferCount:function(){E++
},setRebufferCount:function(c){E=c
},didFirstPlayOccurred:function(){return C
},setFirstPlayOccurred:function(c){C=c
}}),G=new k,A={},B.reset()
};
return a
}(),p=function(){var a=function(aR,aQ){function aB(c){ak=c
}function aZ(y){var f=0;
if(ak!=null){for(var z=0;
z<ak.length;
z++){var u=ak[z],c=u.playingtime;
if(!c||y<c){f=u.interval;
break
}}}return f
}function aw(){ab();
var f=aZ(a1.getClip().getPlaybackTime());
if(f>0){var c=aA>0?aA:f;
ac=setTimeout(af,c)
}aA=0
}function aq(){ab();
var c=aZ(a1.getClip().getPlaybackTime());
aA=c-a1.getClip().getPlaybackTime()%c,ac!=null&&ab()
}function aS(){aA=0,am=0,aX=0
}function af(){aX++;
var c=aD(x.HEART_BEAT,null);
aU(c),aA=0,aw()
}function ab(){ac!=null&&(clearTimeout(ac),ac=null)
}function aL(){o(),ad=setTimeout(r,q.KEEP_ALIVE_PERIOD)
}function r(){var c=aD(x.KEEP_ALIVE,null);
aU(c),aW++,aL()
}function o(){ad!=null&&(clearTimeout(ad),ad=null)
}function aa(){ao(),a2.isPauseOnBufferingEnabled()&&au(d.PAUSED)&&(aO=setTimeout(aK,q.PAUSED_ON_BUFFERING_PERIOD))
}function aK(){if(aj==d.PLAYING){a1.incrementRebufferCount(),a1.incrementPauses();
var c=aD(x.PAUSE,null);
aU(c),aW++,aj=d.PAUSED
}}function ao(){aO!=null&&(clearTimeout(aO),aO=null)
}function an(){aN!=null&&(clearTimeout(aN),aN=null)
}function ah(c){return c==d.PLAYING||c==d.PAUSED
}function av(c){return c==x.PLAY?d.PLAYING:c==x.PAUSE?d.PAUSED:c==x.BUFFER?d.BUFFERING:c==x.END?d.IDLE:null
}function n(C,G,z){an();
if(ae(C)){if(z){setTimeout(function(){n(C,G)
},z)
}else{var y=aG(),H=aT,F=aJ(G),E=H>=0?F-H:0;
aI(aG(),G),aF(C,G),aE(C);
for(var B=0,A=ai.length;
B<A;
B++){ai[B](y,C,G,E)
}l(G),a1.setRegisters(G,C),a1.getClip().setRegisters(G,C);
var D=aD(d.toEventType(C),G);
j.extend(D,G),au(aP)&&(aU(D),aj=aP,aW++)
}}}function l(f){var c=f.ns_st_mp;
c!=null&&(al=c,delete f.ns_st_mp),c=f.ns_st_mv,c!=null&&(a7=c,delete f.ns_st_mv),c=f.ns_st_ec,c!=null&&(aW=Number(c),delete f.ns_st_ec)
}function aU(y,B){B===undefined&&(B=!0),B&&aY(y);
var f=a2.getPixelURL();
if(aM){if(!a3()){var z=ar.am,A=ar.et,c=z.newApplicationMeasurement(aM,A.HIDDEN,y,f);
aM.getQueue().offer(c)
}}else{f&&m(b(f,y))
}}function a3(){var f=aM.getAppContext(),c=aM.getSalt(),u=aM.getPixelURL();
return f==null||c==null||c.length==0||u==null||u.length==0
}function aY(c){az=aD(null),j.extend(az,c)
}function aI(f,c){var u=aJ(c);
f==d.PLAYING?(a1.addPlaybackTime(u),aq(),o()):f==d.BUFFERING&&(a1.addBufferingTime(u),ao())
}function aF(u,c){var y=aJ(c),f=aH(c);
a4=f,u==d.PLAYING?(aw(),aL(),a1.getClip().setPlaybackTimestamp(y),au(u)&&(a1.getClip().incrementStarts(),a1.getStarts()<1&&a1.setStarts(1))):u==d.PAUSED?au(u)&&a1.incrementPauses():u==d.BUFFERING?(a1.getClip().setBufferingTimestamp(y),ax&&aa()):u==d.IDLE&&aS()
}function au(c){return c!=d.PAUSED||aj!=d.IDLE&&aj!=null?c!=d.BUFFERING&&aj!=c:!1
}function aH(f){var c=-1;
return f.hasOwnProperty("ns_st_po")&&(c=Number(f.ns_st_po)),c
}function aJ(f){var c=-1;
return f.hasOwnProperty("ns_ts")&&(c=Number(f.ns_ts)),c
}function ae(c){return c!=null&&aG()!=c
}function aE(c){aP=c,aT=+(new Date)
}function aG(){return aP
}function aD(){var f,c;
arguments.length==1?(f=d.toEventType(aP),c=arguments[0]):(f=arguments[0],c=arguments[1]);
var u={};
return c!=null&&j.extend(u,c),u.hasOwnProperty("ns_ts")||(u.ns_ts=String(+(new Date))),f!=null&&!u.hasOwnProperty("ns_st_ev")&&(u.ns_st_ev=x.toString(f)),a2.isPersistentLabelsShared()&&aM&&j.extend(u,aM.getLabels()),j.extend(u,a2.getLabels()),aV(f,u),a1.createLabels(f,u),a1.getClip().createLabels(f,u),u.hasOwnProperty("ns_st_mp")||(u.ns_st_mp=al),u.hasOwnProperty("ns_st_mv")||(u.ns_st_mv=a7),u.hasOwnProperty("ns_st_ub")||(u.ns_st_ub="0"),u.hasOwnProperty("ns_st_br")||(u.ns_st_br="0"),u.hasOwnProperty("ns_st_pn")||(u.ns_st_pn="1"),u.hasOwnProperty("ns_st_tp")||(u.ns_st_tp="1"),u.hasOwnProperty("ns_st_it")||(u.ns_st_it="c"),u.ns_st_sv=q.STREAMSENSE_VERSION,u.ns_type="hidden",u
}function aV(y,f){var z=f||{};
z.ns_st_ec=String(aW);
if(!z.hasOwnProperty("ns_st_po")){var u=a4,c=aJ(z);
if(y==x.PLAY||y==x.KEEP_ALIVE||y==x.HEART_BEAT||y==null&&aP==d.PLAYING){u+=c-a1.getClip().getPlaybackTimestamp()
}z.ns_st_po=String(u)
}return y==x.HEART_BEAT&&(z.ns_st_hc=String(aX)),z
}function ap(f){var c=aJ(f);
c<0&&(f.ns_ts=String(+(new Date)))
}function ag(f,c,u){c=c||{},c.ns_st_ad=1,f>=x.AD_PLAY&&f<=x.AD_CLICK&&a2.notify(f,c,u)
}function ay(f,c){a2.notify(x.CUSTOM,f,c)
}var a2=this,a5,a0=null,aT=0,a4=0,aP,aW=0,a1=null,aM,a6=!0,aO,ax=!0,ad,aN,ac,ak=q.DEFAULT_HEARTBEAT_INTERVAL,aA=0,aX=0,am=0,aC=!1,aj,al,a7,az,ai,ar={};
j.extend(this,{reset:function(c){a1.reset(c),a1.setPlaylistCounter(0),a1.setPlaylistId(+(new Date)+"_1"),a1.getClip().reset(c),c!=null&&!c.isEmpty()?j.filterMap(a5,c):a5={},aW=1,aX=0,aq(),aS(),o(),ao(),an(),aP=d.IDLE,aT=-1,aj=null,al=q.DEFAULT_PLAYERNAME,a7=q.STREAMSENSE_VERSION,az=null
},notify:function(){var z,f,B,y;
f=arguments[0],arguments.length==3?(B=arguments[1],y=arguments[2]):(B={},y=arguments[1]),z=av(f);
var A=j.extend({},B);
ap(A),A.hasOwnProperty("ns_st_po")||(A.ns_st_po=String(y));
if(f==x.PLAY||f==x.PAUSE||f==x.BUFFER||f==x.END){a2.isPausePlaySwitchDelayEnabled()&&ae(z)&&ah(aP)&&ah(z)?n(z,A,q.PAUSE_PLAY_SWITCH_DELAY):n(z,A)
}else{var c=aD(f,A);
j.extend(c,A),aU(c,!1),aW++
}},getLabels:function(){return a5
},setLabels:function(c){c!=null&&(a5==null?a5=c:j.extend(a5,c))
},getLabel:function(c){return a5[c]
},setLabel:function(f,c){c==null?delete a5[f]:a5[f]=c
},setPixelURL:function(z){if(z==null||z.length==0){return null
}var f=z.indexOf("?");
if(f>=0){if(f<z.length-1){var B=z.substring(f+1).split("&");
for(var y=0,c=B.length;
y<c;
y++){var u=B[y],A=u.split("=");
A.length==2?a2.setLabel(A[0],A[1]):A.length==1&&a2.setLabel(q.PAGE_NAME_LABEL,A[0])
}z=z.substring(0,f+1)
}}else{z+="?"
}return a0=z,a0
},getPixelURL:function(){return a0?a0:typeof ns_p!="undefined"&&typeof ns_p.src=="string"?a0=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):typeof ns_pixelUrl=="string"?a0.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null
},isPersistentLabelsShared:function(){return a6
},setPersistentLabelsShared:function(c){a6=c
},isPauseOnBufferingEnabled:function(){return ax
},setPauseOnBufferingEnabled:function(c){ax=c
},isPausePlaySwitchDelayEnabled:function(){return aC
},setPausePlaySwitchDelayEnabled:function(c){aC=c
},setClip:function(f,c){aP==d.IDLE&&(a1.getClip().reset(),a1.getClip().setLabels(f,null),c&&a1.incrementStarts())
},setPlaylist:function(c){aP==d.IDLE&&(a1.incrementPlaylistCounter(),a1.reset(),a1.getClip().reset(),a1.setLabels(c,null))
},importState:function(f){reset();
var c=j.extend({},f);
a1.setRegisters(c,null),a1.getClip().setRegisters(c,null),l(c),aW++
},exportState:function(){return az
},getVersion:function(){return q.STREAMSENSE_VERSION
},addListener:function(c){ai.push(c)
},removeListener:function(c){ai.splice(ai.indexOf(c),1)
},getClip:function(){return a1.getClip()
},getPlaylist:function(){return a1
}}),j.extend(this,{adNotify:ag,customNotify:ay,viewNotify:function(f,c){f=f||a2.getPixelURL(),f&&g(f,c)
}}),ns_.comScore&&(ar=ns_.comScore.exports,aM=ar.c()),a5={},aW=1,aP=d.IDLE,a1=new h,aO=null,ax=!0,ac=null,aX=0,aS(),ad=null,aN=null,aC=!1,aj=null,a4=0,ai=[],a2.reset(),aR&&a2.setLabels(aR),aQ&&a2.setPixelURL(aQ)
};
return function(V){function J(c,f){return H[K]||G(c,f)
}function M(){K=-1;
for(var c=0;
c<=N;
c++){if(H.hasOwnProperty(c)){K=c;
break
}}return ns_.StreamSense.activeIndex=K,K
}function G(f,c){return f=f||null,c=c||null,f&&typeof f=="object"&&(c=f,f=null),H[++N]=new ns_.StreamSense(c,f),M(),H[N]
}function Z(){var f=!1,l=K;
if(typeof arguments[0]=="number"&&isFinite(arguments[0])){l=arguments[0]
}else{if(arguments[0] instanceof ns_.StreamSense){for(var c in H){if(H[c]===arguments[0]){l=c;
break
}}}}return H.hasOwnProperty(l)&&(f=H[l],delete H[l],f.reset(),M()),f
}function U(c){return c=c||{},J().setPlaylist(c),J().getPlaylist()
}function P(f,c,l){return f=f||{},typeof c=="number"&&(f.ns_st_cn=c),J().setClip(f,l),J().getClip()
}function X(f,c,l){return typeof f=="undefined"?!1:(l=l||null,c=c||{},J().notify(f,c,l))
}function Q(c){typeof c!="undefined"&&J().setLabels(c)
}function L(){return J().getLabels()
}function W(c){typeof c!="undefined"&&J().getPlaylist().setLabels(c)
}function F(){return J().getPlaylist().getLabels()
}function O(c){typeof c!="undefined"&&J().getClip().setLabels(c)
}function R(){return J().getClip().getLabels()
}function B(c){return J().reset(c||{})
}function Y(c){return J().getPlaylist().reset(c||{})
}function D(c){return J().getClip().reset(c||{})
}function I(c){return c=c||{},J().viewNotify(null,c)
}function A(f,c){return arguments.length>2&&(f=arguments[1],c=arguments[2]),f=f||{},typeof c=="number"&&(f.ns_st_po=c),J().customNotify(f,c)
}function C(){return J().exportState()
}function z(c){J().importState(c)
}var H={},N=-1,K=-1;
j.extend(V,{activeIndex:K,newInstance:G,"new":G,destroyInstance:Z,destroy:Z,newPlaylist:U,newClip:P,notify:X,setLabels:Q,getLabels:L,setPlaylistLabels:W,getPlaylistLabels:F,setClipLabels:O,getClipLabels:R,resetInstance:B,resetPlaylist:Y,resetClip:D,viewEvent:I,customEvent:A,exportState:C,importState:z})
}(a),a
}();
return p.AdEvents=v,p.PlayerEvents=x,p
}();
/*! jQuery ellipsis - v1.1.1 - 2014-02-23
* https://github.com/STAR-ZERO/jquery-ellipsis
* Copyright (c) 2014 Kenji Abe; Licensed MIT */
!function(b){b.fn.ellipsis=function(a){var d={row:1,onlyFullWords:!1,"char":"...",callback:function(){},position:"tail"};
return a=b.extend(d,a),this.each(function(){var G=b(this),F=G.text(),E=F,D=E.length,C=G.height();
G.text("a");
var B=parseFloat(G.css("lineHeight"),10),A=G.height(),z=B>A?B-A:0,y=z*(a.row-1)+A*a.row;
if(y>=C){return G.text(F),void a.callback.call(this)
}var x=1,w=0,v=F.length;
if("tail"===a.position){for(;
v>x;
){w=Math.ceil((x+v)/2),G.text(F.slice(0,w)+a["char"]),G.height()<=y?x=w:v=w-1
}F=F.slice(0,x),a.onlyFullWords&&(F=F.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),F+=a["char"]
}else{if("middle"===a.position){for(var u=0;
v>x;
){w=Math.ceil((x+v)/2),u=Math.max(D-w,0),G.text(E.slice(0,Math.floor((D-u)/2))+a["char"]+E.slice(Math.floor((D+u)/2),D)),G.height()<=y?x=w:v=w-1
}u=Math.max(D-x,0);
var t=E.slice(0,Math.floor((D-u)/2)),r=E.slice(Math.floor((D+u)/2),D);
a.onlyFullWords&&(t=t.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),F=t+a["char"]+r
}}G.text(F),a.callback.call(this)
}),this
}
}(jQuery);
var BCMAPI=new function(){this.token="";
this.callback="BCMAPI.flush";
this.url=location.protocol+"//api.brightcove.com/services/library";
this.calls=[{s:"find_all_videos",o:false},{s:"find_playlists_for_player_id",o:"player_id"},{s:"find_all_playlists",o:false},{s:"find_playlist_by_id",o:"playlist_id"},{s:"find_related_videos",o:"video_id"},{s:"find_video_by_id",o:"video_id"},{s:"find_videos_by_ids",o:"video_ids"},{s:"find_videos_by_tags",o:"or_tags"},{s:"find_video_by_reference_id",o:"reference_id"},{s:"find_video_by_reference_ids",o:"reference_ids"},{s:"find_videos_by_user_id",o:"user_id"},{s:"find_videos_by_campaign_id",o:"campaign_id"},{s:"find_videos_by_text",o:"text"},{s:"find_modified_videos",o:"from_date"},{s:"find_playlists_by_ids",o:"playlist_ids"},{s:"find_playlist_by_reference_id",o:"reference_id"},{s:"find_playlists_by_reference_ids",o:"reference_ids"},{s:"search_videos",o:"all"}];
this.inject=function(a){var b=document.createElement("script");
b.setAttribute("src",this.url+"?"+a);
b.setAttribute("type","text/javascript");
document.getElementsByTagName("head")[0].appendChild(b);
return true
};
this.find=function(c,b){b=b||null;
var g=null;
var d="";
c=c.toLowerCase().replace(/(find_)|(_)|(get_)/g,"");
for(var f in this.calls){if(typeof this.calls[f].s=="undefined"){continue
}if(c==this.calls[f].s.toLowerCase().replace(/(find_)|(_)|(get_)/g,"")){c=this.calls[f].s;
if(typeof this.calls[f].o!="undefined"){g=this.calls[f].o
}break
}}d="command="+c;
if((typeof b=="object")&&b){for(var a in b){if(a=="selector"){d+="&"+g+"="+encodeURIComponent(b[a])
}else{d+="&"+a+"="+encodeURIComponent(b[a])
}}if(typeof b.callback!="string"){d+="&callback="+this.callback
}if(typeof b.token!="string"){d+="&token="+this.token
}}else{if(b){d+="&"+g+"="+encodeURIComponent(b)+"&callback="+this.callback;
d+="&token="+this.token
}else{d+="&token="+this.token;
d+="&callback="+this.callback
}}this.inject(d);
return true
};
this.search=function(a){return this.find("search_videos",a)
};
this.flush=function(a){return true
}
}();
try{window.instgrm||(function(h){var p=h,q=h.document;
var f=void 0;
var b=h.setTimeout,a=h.setInterval,d=h.clearTimeout,n=h.clearInterval;
var c=0;
function o(){}var t={};
var k,j;
var g,m;
(function(){var w=function(B,A){if(!B&&!A){return null
}var z={};
if(typeof B!=="undefined"){z.type=B
}if(typeof A!=="undefined"){z.signature=A
}return z
},v=function(A,z){return w(A&&/^[A-Z]/.test(A)?A:(void 0),z&&((z.params&&z.params.length)||z.returns)?"function("+(z.params?z.params.map(function(B){return(/\?/).test(B)?"?"+B.replace("?",""):B
}).join(","):"")+")"+(z.returns?":"+z.returns:""):(void 0))
},y=function(C,B,A){if(typeof t==="undefined"){return C
}if("sourcemeta" in t){C.__SMmeta=B
}if("typechecks" in t){var z=v(B?B.name:(void 0),A);
if(z){g(C,z)
}}return C
},x=function(E,D,C,B){if(typeof t==="undefined"){return C.apply(E,D)
}var A="typechecks" in t;
if(A&&B&&B.params){m.apply(E,B.params)
}var z=C.apply(E,D);
if(A&&B&&B.returns){m([z,B.returns])
}return z
};
k=y;
j=x
})();
m=function(v){return v[0]
};
g=function(v){return v
};
var l,u;
(function(w){var v={},y={},x=["global","require","requireDynamic","requireLazy","module","exports"];
l=function(G,F){if(y.hasOwnProperty(G)){return y[G]
}if(!v.hasOwnProperty(G)){if(F){return null
}throw new Error("Module "+G+" has not been defined")
}var E=v[G],D=E.deps,C=E.factory.length,B,A=[];
for(var z=0;
z<C;
z++){switch(D[z]){case"module":B=E;
break;
case"exports":B=E.exports;
break;
case"global":B=w;
break;
case"require":B=l;
break;
case"requireDynamic":B=l;
break;
case"requireLazy":B=null;
break;
default:B=l.call(null,D[z])
}A.push(B)
}E.factory.apply(w,A);
y[G]=E.exports;
return E.exports
};
l.__markCompiled=function(){};
u=function(C,B,A,z){if(typeof A=="function"){v[C]={factory:A,deps:x.concat(B),exports:{}};
if(z===3){l.call(null,C)
}}else{y[C]=A
}}
})(this);
u("ES5ArrayPrototype",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x={};
x.map=function(G,F){if(typeof G!="function"){throw new TypeError()
}var E,D=this.length,C=new Array(D);
for(E=0;
E<D;
++E){if(E in this){C[E]=G.call(F,this[E],E,this)
}}return C
};
x.forEach=function(D,C){x.map.call(this,D,C)
};
x.filter=function(H,G){if(typeof H!="function"){throw new TypeError()
}var F,E,D=this.length,C=[];
for(F=0;
F<D;
++F){if(F in this){E=this[F];
if(H.call(G,E,F,this)){C.push(E)
}}}return C
};
x.every=function(G,F){if(typeof G!="function"){throw new TypeError()
}var E=new Object(this),D=E.length;
for(var C=0;
C<D;
C++){if(C in E){if(!G.call(F,E[C],C,E)){return false
}}}return true
};
x.some=function(G,F){if(typeof G!="function"){throw new TypeError()
}var E=new Object(this),D=E.length;
for(var C=0;
C<D;
C++){if(C in E){if(G.call(F,E[C],C,E)){return true
}}}return false
};
x.indexOf=function(E,D){var C=this.length;
D|=0;
if(D<0){D+=C
}for(;
D<C;
D++){if(D in this&&this[D]===E){return D
}}return -1
};
z.exports=x
},null);
u("ES5FunctionPrototype",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x={};
x.bind=function(G){if(typeof this!="function"){throw new TypeError("Bind must be called on a function")
}var F=this,E=Array.prototype.slice.call(arguments,1);
function D(){return F.apply(G,E.concat(Array.prototype.slice.call(arguments)))
}D.displayName="bound:"+(F.displayName||F.name||"(?)");
D.toString=function C(){return"bound: "+F
};
return D
};
z.exports=x
},null);
u("ES5StringPrototype",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x={};
x.trim=function(){if(this==null){throw new TypeError("String.prototype.trim called on null or undefined")
}return String.prototype.replace.call(this,/^\s+|\s+$/g,"")
};
x.startsWith=function(F){var E=String(this);
if(this==null){throw new TypeError("String.prototype.startsWith called on null or undefined")
}var D=arguments.length>1?Number(arguments[1]):0;
if(isNaN(D)){D=0
}var C=Math.min(Math.max(D,0),E.length);
return E.indexOf(String(F),D)==C
};
x.endsWith=function(H){var G=String(this);
if(this==null){throw new TypeError("String.prototype.endsWith called on null or undefined")
}var F=G.length,E=String(H),D=arguments.length>1?Number(arguments[1]):F;
if(isNaN(D)){D=0
}var C=Math.min(Math.max(D,0),F),I=C-E.length;
if(I<0){return false
}return G.lastIndexOf(E,I)==I
};
x.contains=function(E){if(this==null){throw new TypeError("String.prototype.contains called on null or undefined")
}var D=String(this),C=arguments.length>1?Number(arguments[1]):0;
if(isNaN(C)){C=0
}return D.indexOf(String(E),C)!=-1
};
x.repeat=function(F){if(this==null){throw new TypeError("String.prototype.repeat called on null or undefined")
}var E=String(this),D=F?Number(F):0;
if(isNaN(D)){D=0
}if(D<0||D===Infinity){throw RangeError()
}if(D===1){return E
}if(D===0){return""
}var C="";
while(D){if(D&1){C+=E
}if((D>>=1)){E+=E
}}return C
};
z.exports=x
},null);
u("ES5Array",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x={};
x.isArray=function(C){return Object.prototype.toString.call(C)=="[object Array]"
};
z.exports=x
},null);
u("ie8DontEnum",[],function(D,C,B,A,z,y){C.__markCompiled&&C.__markCompiled();
var x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"],w=({}).hasOwnProperty,v=function(){};
if(({toString:true}).propertyIsEnumerable("toString")){v=function(H,G){for(var F=0;
F<x.length;
F++){var E=x[F];
if(w.call(H,E)){G(E)
}}}
}z.exports=v
},null);
u("ES5Object",["ie8DontEnum"],function(E,D,C,B,A,z,y){D.__markCompiled&&D.__markCompiled();
var x=({}).hasOwnProperty,w={};
function v(){}w.create=function(G){var F=typeof G;
if(F!="object"&&F!="function"){throw new TypeError("Object prototype may only be a Object or null")
}v.prototype=G;
return new v()
};
w.keys=function(H){var G=typeof H;
if(G!="object"&&G!="function"||H===null){throw new TypeError("Object.keys called on non-object")
}var F=[];
for(var I in H){if(x.call(H,I)){F.push(I)
}}y(H,function(J){return F.push(J)
});
return F
};
A.exports=w
},null);
u("ES5Date",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x={};
x.now=function(){return new Date().getTime()
};
z.exports=x
},null);
u("JSON3",[],function(w,v,A,z,y,x){v.__markCompiled&&v.__markCompiled();
(function(){var Y={}.toString,X,W,V,U=y.exports={},T='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',S,R,P,N,M,L,K,J,I,H,G,F,E,D,Z,B=new Date(-3509827334573292),O,aa,C;
try{B=B.getUTCFullYear()==-109252&&B.getUTCMonth()===0&&B.getUTCDate()==1&&B.getUTCHours()==10&&B.getUTCMinutes()==37&&B.getUTCSeconds()==6&&B.getUTCMilliseconds()==708
}catch(Q){}if(!B){O=Math.floor;
aa=[0,31,59,90,120,151,181,212,243,273,304,334];
C=function(ac,ab){return aa[ab]+365*(ac-1970)+O((ac-1969+(ab=+(ab>1)))/4)-O((ac-1901+ab)/100)+O((ac-1601+ab)/400)
}
}if(typeof JSON=="object"&&JSON){U.stringify=JSON.stringify;
U.parse=JSON.parse
}if((S=typeof U.stringify=="function"&&!C)){(B=function(){return 1
}).toJSON=B;
try{S=U.stringify(0)==="0"&&U.stringify(new Number())==="0"&&U.stringify(new String())=='""'&&U.stringify(Y)===V&&U.stringify(V)===V&&U.stringify()===V&&U.stringify(B)==="1"&&U.stringify([B])=="[1]"&&U.stringify([V])=="[null]"&&U.stringify(null)=="null"&&U.stringify([V,Y,null])=="[null,null,null]"&&U.stringify({result:[B,true,false,null,"\0\b\n\f\r\t"]})==T&&U.stringify(null,B)==="1"&&U.stringify([1,2],null,1)=="[\n 1,\n 2\n]"&&U.stringify(new Date(-8640000000000000))=='"-271821-04-20T00:00:00.000Z"'&&U.stringify(new Date(8640000000000000))=='"+275760-09-13T00:00:00.000Z"'&&U.stringify(new Date(-62198755200000))=='"-000001-01-01T00:00:00.000Z"'&&U.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"'
}catch(Q){S=false
}}if(typeof U.parse=="function"){try{if(U.parse("0")===0&&!U.parse(false)){B=U.parse(T);
if((L=B.A.length==5&&B.A[0]==1)){try{L=!U.parse('"\t"')
}catch(Q){}if(L){try{L=U.parse("01")!=1
}catch(Q){}}}}}catch(Q){L=false
}}B=T=null;
if(!S||!L){if(!(X={}.hasOwnProperty)){X=function(ad){var ab={},ac;
if((ab.__proto__=null,ab.__proto__={toString:1},ab).toString!=Y){X=function(ae){var af=this.__proto__,ag=ae in (this.__proto__=null,this);
this.__proto__=af;
return ag
}
}else{ac=ab.constructor;
X=function(ae){var af=(this.constructor||ac).prototype;
return ae in this&&!(ae in af&&this[ae]===af[ae])
}
}ab=null;
return X.call(this,ad)
}
}W=function(ag,ab){var ac=0,ad,ae,af,ah;
(ad=function(){this.valueOf=0
}).prototype.valueOf=0;
ae=new ad();
for(af in ae){if(X.call(ae,af)){ac++
}}ad=ae=null;
if(!ac){ae=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];
ah=function(ai,aj){var ak=Y.call(ai)=="[object Function]",al,am;
for(al in ai){if(!(ak&&al=="prototype")&&X.call(ai,al)){aj(al)
}}for(am=ae.length;
al=ae[--am];
X.call(ai,al)&&aj(al)){}}
}else{if(ac==2){ah=function(ai,aj){var ak={},al=Y.call(ai)=="[object Function]",am;
for(am in ai){if(!(al&&am=="prototype")&&!X.call(ak,am)&&(ak[am]=1)&&X.call(ai,am)){aj(am)
}}}
}else{ah=function(ai,aj){var ak=Y.call(ai)=="[object Function]",al,am;
for(al in ai){if(!(ak&&al=="prototype")&&X.call(ai,al)&&!(am=al==="constructor")){aj(al)
}}if(am||X.call(ai,(al="constructor"))){aj(al)
}}
}}return ah(ag,ab)
};
if(!S){R={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
P=function(ac,ab){return("000000"+(ab||0)).slice(-ac)
};
N=function(ae){var ab='"',ac=0,ad;
for(;
ad=ae.charAt(ac);
ac++){ab+='\\"\b\f\n\r\t'.indexOf(ad)>-1?R[ad]:ad<" "?"\\u00"+P(2,ad.charCodeAt(0).toString(16)):ad
}return ab+'"'
};
M=function(az,aj,ar,ac,ak,at,ad){var al=aj[az],au,ae,am,av,af,an,aw,ag,ao,ax,ah,ap,ay,ai,aq;
if(typeof al=="object"&&al){au=Y.call(al);
if(au=="[object Date]"&&!X.call(al,"toJSON")){if(al>-1/0&&al<1/0){if(C){av=O(al/86400000);
for(ae=O(av/365.2425)+1970-1;
C(ae+1,0)<=av;
ae++){}for(am=O((av-C(ae,0))/30.42);
C(ae,am+1)<=av;
am++){}av=1+av-C(ae,am);
af=(al%86400000+86400000)%86400000;
an=O(af/3600000)%24;
aw=O(af/60000)%60;
ag=O(af/1000)%60;
ao=af%1000
}else{ae=al.getUTCFullYear();
am=al.getUTCMonth();
av=al.getUTCDate();
an=al.getUTCHours();
aw=al.getUTCMinutes();
ag=al.getUTCSeconds();
ao=al.getUTCMilliseconds()
}al=(ae<=0||ae>=10000?(ae<0?"-":"+")+P(6,ae<0?-ae:ae):P(4,ae))+"-"+P(2,am+1)+"-"+P(2,av)+"T"+P(2,an)+":"+P(2,aw)+":"+P(2,ag)+"."+P(3,ao)+"Z"
}else{al=null
}}else{if(typeof al.toJSON=="function"&&((au!="[object Number]"&&au!="[object String]"&&au!="[object Array]")||X.call(al,"toJSON"))){al=al.toJSON(az)
}}}if(ar){al=ar.call(aj,az,al)
}if(al===null){return"null"
}au=Y.call(al);
if(au=="[object Boolean]"){return""+al
}else{if(au=="[object Number]"){return al>-1/0&&al<1/0?""+al:"null"
}else{if(au=="[object String]"){return N(al)
}}}if(typeof al=="object"){for(ay=ad.length;
ay--;
){if(ad[ay]===al){throw TypeError()
}}ad.push(al);
ax=[];
ai=at;
at+=ak;
if(au=="[object Array]"){for(ap=0,ay=al.length;
ap<ay;
aq||(aq=true),ap++){ah=M(ap,al,ar,ac,ak,at,ad);
ax.push(ah===V?"null":ah)
}return aq?(ak?"[\n"+at+ax.join(",\n"+at)+"\n"+ai+"]":("["+ax.join(",")+"]")):"[]"
}else{W(ac||al,function(ab){var aA=M(ab,al,ar,ac,ak,at,ad);
if(aA!==V){ax.push(N(ab)+":"+(ak?" ":"")+aA)
}aq||(aq=true)
});
return aq?(ak?"{\n"+at+ax.join(",\n"+at)+"\n"+ai+"}":("{"+ax.join(",")+"}")):"{}"
}ad.pop()
}};
U.stringify=function(aj,ag,ad){var ai,af,ac,ah,ae,ab;
if(typeof ag=="function"||typeof ag=="object"&&ag){if(Y.call(ag)=="[object Function]"){af=ag
}else{if(Y.call(ag)=="[object Array]"){ac={};
for(ah=0,ae=ag.length;
ah<ae;
ab=ag[ah++],((Y.call(ab)=="[object String]"||Y.call(ab)=="[object Number]")&&(ac[ab]=1))){}}}}if(ad){if(Y.call(ad)=="[object Number]"){if((ad-=ad%1)>0){for(ai="",ad>10&&(ad=10);
ai.length<ad;
ai+=" "){}}}else{if(Y.call(ad)=="[object String]"){ai=ad.length<=10?ad:ad.slice(0,10)
}}}return M("",(ab={},ab[""]=aj,ab),af,ac,ai,"",[])
}
}if(!L){K=String.fromCharCode;
J={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"};
I=function(){D=Z=null;
throw SyntaxError()
};
H=function(){var ag=Z,ab=ag.length,ac,ad,ae,af,ah;
while(D<ab){ac=ag.charAt(D);
if("\t\r\n ".indexOf(ac)>-1){D++
}else{if("{}[]:,".indexOf(ac)>-1){D++;
return ac
}else{if(ac=='"'){for(ad="@",D++;
D<ab;
){ac=ag.charAt(D);
if(ac<" "){I()
}else{if(ac=="\\"){ac=ag.charAt(++D);
if('\\"/btnfr'.indexOf(ac)>-1){ad+=J[ac];
D++
}else{if(ac=="u"){ae=++D;
for(af=D+4;
D<af;
D++){ac=ag.charAt(D);
if(!(ac>="0"&&ac<="9"||ac>="a"&&ac<="f"||ac>="A"&&ac<="F")){I()
}}ad+=K("0x"+ag.slice(ae,D))
}else{I()
}}}else{if(ac=='"'){break
}ad+=ac;
D++
}}}if(ag.charAt(D)=='"'){D++;
return ad
}I()
}else{ae=D;
if(ac=="-"){ah=true;
ac=ag.charAt(++D)
}if(ac>="0"&&ac<="9"){if(ac=="0"&&(ac=ag.charAt(D+1),ac>="0"&&ac<="9")){I()
}ah=false;
for(;
D<ab&&(ac=ag.charAt(D),ac>="0"&&ac<="9");
D++){}if(ag.charAt(D)=="."){af=++D;
for(;
af<ab&&(ac=ag.charAt(af),ac>="0"&&ac<="9");
af++){}if(af==D){I()
}D=af
}ac=ag.charAt(D);
if(ac=="e"||ac=="E"){ac=ag.charAt(++D);
if(ac=="+"||ac=="-"){D++
}for(af=D;
af<ab&&(ac=ag.charAt(af),ac>="0"&&ac<="9");
af++){}if(af==D){I()
}D=af
}return +ag.slice(ae,D)
}if(ah){I()
}if(ag.slice(D,D+4)=="true"){D+=4;
return true
}else{if(ag.slice(D,D+5)=="false"){D+=5;
return false
}else{if(ag.slice(D,D+4)=="null"){D+=4;
return null
}}}I()
}}}}return"$"
};
G=function(ae){var ab,ac,ad;
if(ae=="$"){I()
}if(typeof ae=="string"){if(ae.charAt(0)=="@"){return ae.slice(1)
}if(ae=="["){ab=[];
for(;
;
ac||(ac=true)){ae=H();
if(ae=="]"){break
}if(ac){if(ae==","){ae=H();
if(ae=="]"){I()
}}else{I()
}}if(ae==","){I()
}ab.push(G(ae))
}return ab
}else{if(ae=="{"){ab={};
for(;
;
ac||(ac=true)){ae=H();
if(ae=="}"){break
}if(ac){if(ae==","){ae=H();
if(ae=="}"){I()
}}else{I()
}}if(ae==","||typeof ae!="string"||ae.charAt(0)!="@"||H()!=":"){I()
}ab[ae.slice(1)]=G(H())
}return ab
}}I()
}return ae
};
E=function(ae,ab,ac){var ad=F(ae,ab,ac);
if(ad===V){delete ae[ab]
}else{ae[ab]=ad
}};
F=function(af,ab,ac){var ad=af[ab],ae;
if(typeof ad=="object"&&ad){if(Y.call(ad)=="[object Array]"){for(ae=ad.length;
ae--;
){E(ad,ae,ac)
}}else{W(ad,function(ag){E(ad,ag,ac)
})
}}return ac.call(af,ab,ad)
};
U.parse=function(ad,ab){D=0;
Z=ad;
var ac=G(H());
if(H()!="$"){I()
}D=Z=null;
return ab&&Y.call(ab)=="[object Function]"?F((B={},B[""]=ac,B),"",ab):ac
}
}}}).call(this)
},null);
u("ES6Object",["ie8DontEnum"],function(D,C,B,A,z,y,x){C.__markCompiled&&C.__markCompiled();
var w=({}).hasOwnProperty,v={assign:function(H){for(var G=[],F=1,E=arguments.length;
F<E;
F++){G.push(arguments[F])
}if(H==null){throw new TypeError("Object.assign target cannot be null or undefined")
}H=Object(H);
for(var K=0;
K<G.length;
K++){var J=G[K];
if(J==null){continue
}J=Object(J);
for(var I in J){if(w.call(J,I)){H[I]=J[I]
}}x(J,function(L){return H[L]=J[L]
})
}return H
}};
z.exports=v
},null);
u("ES6ArrayPrototype",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x={find:function(E,D){if(this==null){throw new TypeError("Array.prototype.find called on null or undefined")
}if(typeof E!=="function"){throw new TypeError("predicate must be a function")
}var C=x.findIndex.call(this,E,D);
return C===-1?void 0:this[C]
},findIndex:function(G,F){if(this==null){throw new TypeError("Array.prototype.findIndex called on null or undefined")
}if(typeof G!=="function"){throw new TypeError("predicate must be a function")
}var E=Object(this),D=E.length>>>0;
for(var C=0;
C<D;
C++){if(G.call(F,E[C],C,E)){return C
}}return -1
}};
z.exports=x
},null);
u("ES6DatePrototype",[],function(w,v,C,B,A,z){v.__markCompiled&&v.__markCompiled();
function y(D){return(D<10?"0":"")+D
}var x={toISOString:function(){if(!isFinite(this)){throw new Error("Invalid time value")
}var D=this.getUTCFullYear();
D=(D<0?"-":(D>9999?"+":""))+("00000"+Math.abs(D)).slice(0<=D&&D<=9999?-4:-6);
return D+"-"+y(this.getUTCMonth()+1)+"-"+y(this.getUTCDate())+"T"+y(this.getUTCHours())+":"+y(this.getUTCMinutes())+":"+y(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+"Z"
}};
A.exports=x
},null);
u("ES6Number",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x={isFinite:function(C){return(typeof C=="number")&&isFinite(C)
},isNaN:function(C){return(typeof C=="number")&&isNaN(C)
}};
z.exports=x
},null);
u("ES",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3","ES6Object","ES6ArrayPrototype","ES6DatePrototype","ES6Number"],function(T,S,R,Q,P,O,N,M,L,K,J,I,H,G,F,E,D){S.__markCompiled&&S.__markCompiled();
var C=({}).toString,B={"JSON.stringify":H.stringify,"JSON.parse":H.parse},A={"Array.prototype":N,"Function.prototype":M,"String.prototype":L,Object:J,Array:K,Date:I},z={Object:G,"Array.prototype":F,"Date.prototype":E,Number:D};
function y(v){for(var Y in v){if(!v.hasOwnProperty(Y)){continue
}var W=v[Y],V=Y.split("."),X=V.length==2?h[V[0]][V[1]]:h[Y];
for(var w in W){if(!W.hasOwnProperty(w)){continue
}var U=X[w];
B[Y+"."+w]=U&&/\{\s+\[native code\]\s\}/.test(U)?U:W[w]
}}}y(A);
y(z);
function x(v,Z,X){for(var W=[],Y=3,w=arguments.length;
Y<w;
Y++){W.push(arguments[Y])
}var U=X?C.call(v).slice(8,-1)+".prototype":v,V=B[U+"."+Z]||v[Z];
if(typeof V==="function"){return V.apply(v,W)
}}P.exports=x
},null);
var r=l("ES");
u("JSSDKRuntimeConfig",[],{locale:"en_US",rtl:false,revision:"1635849"});
u("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"static.ak.fbcdn.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"});
u("JSSDKConfig",[],{bustCache:true,tagCountLogRate:0.01,errorHandling:{rate:4},usePluginPipe:true,features:{allow_non_canvas_app_events:false,event_subscriptions_log:{rate:0.01,value:10000},should_force_single_dialog_instance:true,kill_fragment:true,xfbml_profile_pic_server:true,error_handling:{rate:4},e2e_ping_tracking:{rate:0.000001},xd_timeout:{rate:4,value:30000},use_bundle:true,launch_payment_dialog_via_pac:{rate:100},plugin_tags_blacklist:["recommendations_bar"],should_log_response_error:true},api:{mode:"warn",whitelist:["AppEvents","AppEvents.EventNames","AppEvents.ParameterNames","AppEvents.activateApp","AppEvents.logEvent","AppEvents.logPurchase","Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.cancelFlow","Payment.continueFlow","Payment.init","Payment.lockForProcessing","Payment.parse","Payment.setSize","Payment.unlockForProcessing","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui"]},initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:false,manage_mailbox:false,manage_friendlists:false,read_mailbox:false,publish_checkins:true,status_update:true,photo_upload:true,video_upload:true,sms:false,create_event:true,rsvp_event:true,offline_access:true,email:true,xmpp_login:false,create_note:true,share_item:true,export_stream:false,publish_stream:true,publish_likes:true,ads_management:false,contact_email:true,access_private_data:false,read_insights:false,read_requests:false,read_friendlists:true,manage_pages:false,physical_login:false,manage_groups:false,read_deals:false}}});
u("dotAccess",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
function x(G,F,E){var D=F.split(".");
do{var C=D.shift();
G=G[C]||E&&(G[C]={})
}while(D.length&&G);
return G
}z.exports=x
},null);
u("forEachObject",[],function(w,v,C,B,A,z){v.__markCompiled&&v.__markCompiled();
"use strict";
var y=Object.prototype.hasOwnProperty;
function x(G,F,E){for(var D in G){if(y.call(G,D)){F.call(E,G[D],D,G)
}}}A.exports=x
},null);
u("ManagedError",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
function x(D,C){Error.prototype.constructor.call(this,D);
this.message=D;
this.innerError=C
}x.prototype=new Error();
x.prototype.constructor=x;
z.exports=x
},null);
u("AssertionError",["ManagedError"],function(w,v,C,B,A,z,y){v.__markCompiled&&v.__markCompiled();
function x(D){y.prototype.constructor.apply(this,arguments)
}x.prototype=new y();
x.prototype.constructor=x;
A.exports=x
},null);
u("sprintf",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
function x(G){for(var F=[],E=1,D=arguments.length;
E<D;
E++){F.push(arguments[E])
}var C=0;
return G.replace(/%s/g,function(H){return F[C++]
})
}z.exports=x
},null);
u("Assert",["AssertionError","sprintf"],function(H,G,F,E,D,C,B,A){G.__markCompiled&&G.__markCompiled();
function z(J,I){if(typeof J!=="boolean"||!J){throw new B(I)
}return J
}function y(M,L,K){var J;
if(L===(void 0)){J="undefined"
}else{if(L===null){J="null"
}else{var I=Object.prototype.toString.call(L);
J=/\s(\w*)/.exec(I)[1].toLowerCase()
}}z(r(M,"indexOf",true,J)!==-1,K||A("Expression is of type %s, not %s",J,M));
return L
}function x(K,J,I){z(J instanceof K,I||"Expression not instance of type");
return J
}function w(J,I){v["is"+J]=I;
v["maybe"+J]=function(L,K){if(L!=null){I(L,K)
}}
}var v={isInstanceOf:x,isTrue:z,isTruthy:function(J,I){return z(!!J,I)
},type:y,define:function(J,I){J=J.substring(0,1).toUpperCase()+J.substring(1).toLowerCase();
w(J,function(L,K){z(I(L),K)
})
}};
r(["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"],"forEach",true,function(I){w(I,r(y,"bind",true,null,I.toLowerCase()))
});
D.exports=v
},null);
u("Type",["Assert"],function(F,E,D,C,B,A,z){E.__markCompiled&&E.__markCompiled();
function y(){var H=this.__mixins;
if(H){for(var G=0;
G<H.length;
G++){H[G].apply(this,arguments)
}}}function x(H,G){if(G instanceof H){return true
}if(G instanceof y){for(var I=0;
I<G.__mixins.length;
I++){if(G.__mixins[I]==H){return true
}}}return false
}function w(H,G){var K=H.prototype;
if(!r("Array","isArray",false,G)){G=[G]
}for(var J=0;
J<G.length;
J++){var I=G[J];
if(typeof I=="function"){K.__mixins.push(I);
I=I.prototype
}r(r("Object","keys",false,I),"forEach",true,function(L){K[L]=I[L]
})
}}function v(H,G,K){var J=G&&G.hasOwnProperty("constructor")?G.constructor:function(){this.parent.apply(this,arguments)
};
z.isFunction(J);
if(H&&H.prototype instanceof y===false){throw new Error("parent type does not inherit from Type")
}H=H||y;
function I(){}I.prototype=H.prototype;
J.prototype=new I();
if(G){r("Object","assign",false,J.prototype,G)
}J.prototype.constructor=J;
J.parent=H;
J.prototype.__mixins=H.prototype.__mixins?Array.prototype.slice.call(H.prototype.__mixins):[];
if(K){w(J,K)
}J.prototype.parent=function(){this.parent=H.prototype.parent;
H.apply(this,arguments)
};
J.prototype.parentCall=function(L){return H.prototype[L].apply(this,Array.prototype.slice.call(arguments,1))
};
J.extend=function(M,L){return v(this,M,L)
};
return J
}r("Object","assign",false,y.prototype,{instanceOf:function(G){return x(G,this)
}});
r("Object","assign",false,y,{extend:function(H,G){return typeof H==="function"?v.apply(null,arguments):v(null,H,G)
},instanceOf:x});
B.exports=y
},null);
u("ObservableMixin",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
function x(){this.__observableEvents={}
}x.prototype={inform:function(G){var F=Array.prototype.slice.call(arguments,1),E=Array.prototype.slice.call(this.getSubscribers(G));
for(var D=0;
D<E.length;
D++){if(E[D]===null){continue
}try{E[D].apply(this,F)
}catch(C){b(function(){throw C
},0)
}}return this
},getSubscribers:function(C){return this.__observableEvents[C]||(this.__observableEvents[C]=[])
},clearSubscribers:function(C){if(C){this.__observableEvents[C]=[]
}return this
},clearAllSubscribers:function(){this.__observableEvents={};
return this
},subscribe:function(E,D){var C=this.getSubscribers(E);
C.push(D);
return this
},unsubscribe:function(F,E){var D=this.getSubscribers(F);
for(var C=0;
C<D.length;
C++){if(D[C]===E){D.splice(C,1);
break
}}return this
},monitor:function(E,D){if(!D()){var C=r(function(F){if(D.apply(D,arguments)){this.unsubscribe(E,C)
}},"bind",true,this);
this.subscribe(E,C)
}return this
}};
z.exports=x
},null);
u("sdk.Model",["Type","ObservableMixin"],function(D,C,B,A,z,y,x,w){C.__markCompiled&&C.__markCompiled();
var v=x.extend({constructor:function(G){this.parent();
var F={},E=this;
r(r("Object","keys",false,G),"forEach",true,function(H){F[H]=G[H];
E["set"+H]=function(I){if(I===F[H]){return this
}F[H]=I;
E.inform(H+".change",I);
return E
};
E["get"+H]=function(){return F[H]
}
})
}},w);
z.exports=v
},null);
u("sdk.Runtime",["sdk.Model","JSSDKRuntimeConfig"],function(E,D,C,B,A,z,y,x){D.__markCompiled&&D.__markCompiled();
var w={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},v=new y({AccessToken:"",ClientID:"",CookieUserID:"",Environment:w.UNKNOWN,Initialized:false,IsVersioned:false,KidDirectedSite:(void 0),Locale:x.locale,LoginStatus:(void 0),Revision:x.revision,Rtl:x.rtl,Scope:(void 0),Secure:(void 0),UseCookie:false,UserID:"",Version:(void 0)});
r("Object","assign",false,v,{ENVIRONMENTS:w,isEnvironment:function(G){var F=this.getEnvironment();
return(G|F)===F
},isCanvasEnvironment:function(){return this.isEnvironment(w.CANVAS)||this.isEnvironment(w.PAGETAB)
}});
(function(){var F=/app_runner/.test(h.name)?w.PAGETAB:/iframe_canvas/.test(h.name)?w.CANVAS:w.UNKNOWN;
if((F|w.PAGETAB)===F){F=F|w.CANVAS
}v.setEnvironment(F)
})();
A.exports=v
},null);
u("QueryString",[],function(E,D,C,B,A,z){D.__markCompiled&&D.__markCompiled();
function y(G){var F=[];
r(r("Object","keys",false,G).sort(),"forEach",true,function(H){var I=G[H];
if(typeof I==="undefined"){return
}if(I===null){F.push(H);
return
}F.push(encodeURIComponent(H)+"="+encodeURIComponent(I))
});
return F.join("&")
}function x(H,G){var F={};
if(H===""){return F
}var L=H.split("&");
for(var K=0;
K<L.length;
K++){var J=L[K].split("=",2),I=decodeURIComponent(J[0]);
if(G&&F.hasOwnProperty(I)){throw new URIError("Duplicate key: "+I)
}F[I]=J.length===2?decodeURIComponent(J[1]):null
}return F
}function w(G,F){return G+(~r(G,"indexOf",true,"?")?"&":"?")+(typeof F==="string"?F:v.encode(F))
}var v={encode:y,decode:x,appendToUrl:w};
A.exports=v
},null);
u("UrlMap",["UrlMapConfig"],function(w,v,C,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x={resolve:function(F,E){var D=typeof E=="undefined"?location.protocol.replace(":",""):E?"https":"http";
if(F in y){return D+"://"+y[F]
}if(typeof E=="undefined"&&F+"_"+D in y){return D+"://"+y[F+"_"+D]
}if(E!==true&&F+"_http" in y){return"http://"+y[F+"_http"]
}if(E!==false&&F+"_https" in y){return"https://"+y[F+"_https"]
}}};
A.exports=x
},null);
u("sdk.Scribe",["QueryString","sdk.Runtime","UrlMap"],function(F,E,D,C,B,A,z,y,x){E.__markCompiled&&E.__markCompiled();
function w(H,G){if(typeof G.extra=="object"){G.extra.revision=y.getRevision()
}(new Image()).src=z.appendToUrl(x.resolve("www",true)+"/common/scribe_endpoint.php",{c:H,m:r("JSON","stringify",false,G)})
}var v={log:w};
B.exports=v
},null);
u("sdk.UA",[],function(J,I,H,G,F,E){I.__markCompiled&&I.__markCompiled();
var D=navigator.userAgent,C={iphone:/\b(iPhone|iP[ao]d)/.test(D),ipad:/\b(iP[ao]d)/.test(D),android:/Android/i.test(D),nativeApp:/FBAN\/\w+;/i.test(D)},B=/Mobile/i.test(D),A={ie:"",firefox:"",chrome:"",webkit:"",osx:""},z=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(D);
if(z){A.ie=z[1]?parseFloat(z[1]):z[4]?parseFloat(z[4]):"";
A.firefox=z[2]||"";
A.webkit=z[3]||"";
if(z[3]){var y=/(?:Chrome\/(\d+\.\d+))/.exec(D);
A.chrome=y?y[1]:""
}}var x=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(D);
if(x){A.osx=x[1]
}function w(K){return r(K.split("."),"map",true,function(L){return parseFloat(L)
})
}var v={};
r(r("Object","keys",false,A),"map",true,function(K){v[K]=function(){return parseFloat(A[K])
};
v[K].getVersionParts=function(){return w(A[K])
}
});
r(r("Object","keys",false,C),"map",true,function(K){v[K]=function(){return C[K]
}
});
v.mobile=function(){return C.iphone||C.ipad||C.android||B
};
F.exports=v
},null);
u("eprintf",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x=function(F){var E=r(Array.prototype.slice.call(arguments),"map",true,function(G){return String(G)
}),D=F.split("%s").length-1;
if(D!==E.length-1){return x("eprintf args number mismatch: %s",r("JSON","stringify",false,E))
}var C=1;
return F.replace(/%s/g,function(G){return String(E[C++])
})
};
z.exports=x
},null);
u("ex",["eprintf"],function(w,v,C,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x=function(){for(var F=[],E=0,D=arguments.length;
E<D;
E++){F.push(arguments[E])
}F=r(F,"map",true,function(G){return String(G)
});
if(F[0].split("%s").length!==F.length){return x("ex args number mismatch: %s",r("JSON","stringify",false,F))
}return x._prefix+r("JSON","stringify",false,F)+x._suffix
};
x._prefix="<![EX[";
x._suffix="]]>";
A.exports=x
},null);
u("invariant",["ex","sprintf"],function(E,D,C,B,A,z,y,x){D.__markCompiled&&D.__markCompiled();
"use strict";
var w=y,v=function(H,G){if(!H){var F;
if(G===(void 0)){F=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.")
}else{var K=["Invariant Violation: "+G];
for(var J=2,I=arguments.length;
J<I;
J++){K.push(arguments[J])
}F=new Error(w.apply(null,K));
F.messageWithParams=K
}F.framesToPop=1;
throw F
}};
A.exports=v
},null);
u("sdk.feature",["JSSDKConfig","invariant"],function(D,C,B,A,z,y,x,w){C.__markCompiled&&C.__markCompiled();
function v(G,F){w(arguments.length>=2);
if(x.features&&G in x.features){var E=x.features[G];
if(typeof E==="object"&&typeof E.rate==="number"){if(E.rate&&Math.random()*100<=E.rate){return E.value||true
}else{return E.value?null:false
}}else{return E
}}return F
}z.exports=v
},null);
u("wrapFunction",[],function(w,v,C,B,A,z){v.__markCompiled&&v.__markCompiled();
var y={};
function x(F,E,D){E=E||"default";
return function(){var G=E in y?y[E](F,D):F;
return G.apply(this,arguments)
}
}x.setWrapper=function(E,D){D=D||"default";
y[D]=E
};
A.exports=x
},null);
u("sdk.ErrorHandling",["ManagedError","sdk.Runtime","sdk.Scribe","sdk.UA","sdk.feature","wrapFunction"],function(O,N,M,L,K,J,I,H,G,F,E,D){N.__markCompiled&&N.__markCompiled();
var C=E("error_handling",false),B="";
function A(Q){var P=Q._originalError;
delete Q._originalError;
G.log("jssdk_error",{appId:H.getClientID(),error:Q.name||Q.message,extra:Q});
throw P
}function z(R){var Q={line:R.lineNumber||R.line,message:R.message,name:R.name,script:R.fileName||R.sourceURL||R.script,stack:R.stackTrace||R.stack};
Q._originalError=R;
if(F.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(R.stack)){Q.script=RegExp.$1;
Q.line=parseInt(RegExp.$2,10)
}for(var P in Q){(Q[P]==null&&delete Q[P])
}return Q
}function y(Q,P){return function(){if(!C){return Q.apply(this,arguments)
}try{B=P;
return Q.apply(this,arguments)
}catch(S){if(S instanceof I){throw S
}var R=z(S);
R.entry=P;
var T=r(Array.prototype.slice.call(arguments),"map",true,function(V){var U=Object.prototype.toString.call(V);
return(/^\[object (String|Number|Boolean|Object|Date)\]$/).test(U)?V:V.toString()
});
R.args=r("JSON","stringify",false,T).substring(0,200);
A(R)
}finally{B=""
}}
}function x(P){if(!P.__wrapper){P.__wrapper=function(){try{return P.apply(this,arguments)
}catch(Q){h.setTimeout(function(){throw Q
},0);
return false
}}
}return P.__wrapper
}function w(Q,P){return function(S,R){var T=P+":"+(B||"[global]")+":"+(S.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""));
return Q(D(S,"entry",T),R)
}
}if(C){b=w(b,"setTimeout");
a=w(a,"setInterval");
D.setWrapper(y,"entry")
}var v={guard:y,unguard:x};
K.exports=v
},null);
u("instgrm",["dotAccess","forEachObject","sdk.ErrorHandling"],function(F,E,D,C,B,A,z,y,x){E.__markCompiled&&E.__markCompiled();
var w=h.instgrm={};
function v(H,G){var I=H?z(w,H,true):w;
y(G,function(M,L){var K;
if(typeof M==="function"){var J=(H?H+".":"")+L;
K=x.guard(M,J)
}else{if(typeof M==="object"){K=M
}}if(K){I[L]=K
}})
}B.exports={provide:v}
},null);
u("$",["ex"],function(D,C,B,A,z,y,x){C.__markCompiled&&C.__markCompiled();
function w(F){var E=typeof F==="string"?q.getElementById(F):F;
if(!E){throw new Error(x('Tried to get element with id of "%s" but it is not present on the page.',F))
}return E
}function v(E){return w(E)
}v.unsafe=w;
z.exports=v
},null);
u("CSSCore",["invariant"],function(w,v,C,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x={addClass:function(E,D){y(!/\s/.test(D));
if(D){if(E.classList){E.classList.add(D)
}else{if(!x.hasClass(E,D)){E.className=E.className+" "+D
}}}return E
},removeClass:function(E,D){y(!/\s/.test(D));
if(D){if(E.classList){E.classList.remove(D)
}else{if(x.hasClass(E,D)){E.className=E.className.replace(new RegExp("(^|\\s)"+D+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")
}}}return E
},conditionClass:function(F,E,D){return(D?x.addClass:x.removeClass)(F,E)
},hasClass:function(E,D){y(!/\s/.test(D));
if(E.classList){return !!D&&r(E.classList,"contains",true,D)
}return r((" "+E.className+" "),"indexOf",true," "+D+" ")>-1
}};
A.exports=x
},null);
u("CSS",["CSSCore","$"],function(E,D,C,B,A,z,y){D.__markCompiled&&D.__markCompiled();
var x=D("$").unsafe,w="hidden_elem",v={setClass:function(G,F){x(G).className=F||"";
return G
},hasClass:function(G,F){return y.hasClass(x(G),F)
},addClass:function(G,F){return y.addClass(x(G),F)
},removeClass:function(G,F){return y.removeClass(x(G),F)
},conditionClass:function(H,G,F){return y.conditionClass(x(H),G,F)
},toggleClass:function(G,F){return v.conditionClass(G,F,!v.hasClass(G,F))
},shown:function(F){return !v.hasClass(F,w)
},hide:function(F){return v.addClass(F,w)
},show:function(F){return v.removeClass(F,w)
},toggle:function(F){return v.toggleClass(F,w)
},conditionShow:function(G,F){return v.conditionClass(G,w,!F)
}};
A.exports=v
},null);
u("DOMEventListener",["wrapFunction"],function(E,D,C,B,A,z,y){D.__markCompiled&&D.__markCompiled();
var x,w;
if(h.addEventListener){x=function(H,G,F){F.wrapper=y(F,"entry","DOMEventListener.add "+G);
H.addEventListener(G,F.wrapper,false)
};
w=function(H,G,F){H.removeEventListener(G,F.wrapper,false)
}
}else{if(h.attachEvent){x=function(H,G,F){F.wrapper=y(F,"entry","DOMEventListener.add "+G);
H.attachEvent("on"+G,F.wrapper)
};
w=function(H,G,F){H.detachEvent("on"+G,F.wrapper)
}
}else{w=x=function(){}
}}var v={add:function(H,G,F){x(H,G,F);
return{remove:function(){w(H,G,F);
H=null
}}
},remove:w};
A.exports=v
},null);
u("sdk.domReady",[],function(F,E,D,C,B,A){E.__markCompiled&&E.__markCompiled();
var z,y="readyState" in q?/loaded|complete/.test(q.readyState):!!q.body;
function x(){if(!z){return
}var G;
while(G=z.shift()){G()
}z=null
}function w(G){if(z){z.push(G);
return
}else{G()
}}if(!y){z=[];
if(q.addEventListener){q.addEventListener("DOMContentLoaded",x,false);
h.addEventListener("load",x,false)
}else{if(q.attachEvent){q.attachEvent("onreadystatechange",x);
h.attachEvent("onload",x)
}}if(q.documentElement.doScroll&&h==h.top){var v=function(){try{q.documentElement.doScroll("left")
}catch(G){b(v,0);
return
}x()
};
v()
}}B.exports=w
},3);
u("keyMirror",["invariant"],function(w,v,C,B,A,z,y){v.__markCompiled&&v.__markCompiled();
"use strict";
var x=function(F){var E={},D;
y(F instanceof Object&&!r("Array","isArray",false,F));
for(D in F){if(!F.hasOwnProperty(D)){continue
}E[D]=D
}return E
};
A.exports=x
},null);
u("IGIframeableMessageTypes",["keyMirror"],function(w,v,C,B,A,z,y){v.__markCompiled&&v.__markCompiled();
var x=y({MOUNTED:null,UNMOUNTING:null,MEASURE:null});
A.exports=x
},null);
u("isNumberLike",[],function(w,v,B,A,z,y){v.__markCompiled&&v.__markCompiled();
function x(C){return !isNaN(parseFloat(C))&&isFinite(C)
}z.exports=x
},null);
u("toArray",["invariant"],function(w,v,C,B,A,z,y){v.__markCompiled&&v.__markCompiled();
function x(H){var G=H.length;
y(!r("Array","isArray",false,H)&&(typeof H==="object"||typeof H==="function"));
y(typeof G==="number");
y(G===0||(G-1) in H);
if(H.hasOwnProperty){try{return Array.prototype.slice.call(H)
}catch(F){}}var E=Array(G);
for(var D=0;
D<G;
D++){E[D]=H[D]
}return E
}A.exports=x
},null);
u("ig.sdk.Embeds",["CSS","DOMEventListener","sdk.domReady","IGIframeableMessageTypes","invariant","isNumberLike","toArray"],function(ao,an,am,al,ak,aj,ai,ah,ag,af,ae,ad,ac){an.__markCompiled&&an.__markCompiled();
var ab=ai,aa=ab.addClass,Z=ab.hasClass,Y=["instagram\\.com","instagr\\.am"],X="data-instgrm-captioned",W="instagram-embed-",V=("\n  border-radius: 4px;\n  box-shadow:\n    0 0 1px 0 rgba(0,0,0,0.5),\n    0 1px 10px 0 rgba(0,0,0,0.15);\n  display: block;\n  padding: 0;\n"),U=/^https?:\/\//,T="https://",R=/\/?(\?|#|$)/,Q="instagram-media",O=Q+"-registered",N=Q+"-rendered",E=new RegExp("^https?://([\\w-]+\\.)*("+Y.join("|")+")$"),ap="data-instgrm-payload-id",K="instagram-media-payload-",F=new RegExp("^("+E.source.replace(/^\^/,"").replace(/\$$/,"")+"/p/[^/]+)"),A="data-instgrm-preserve-position",L="data-instgrm-version",G={},B=false,M=0,H=false;
function C(y){var z=q.getElementsByTagName("iframe"),v;
for(var w=z.length-1;
w>=0;
w--){var x=z[w];
if(x.contentWindow===y.source){v=x;
break
}}return v
}function P(w){var x=w.href,v=x.match(F);
return v?v[1]+"/":null
}function I(w){var x=w.getElementsByTagName("a"),v=x.length;
return v?P(x[v-1]):null
}function D(z,ar){var v=M++,w=W+v;
if(!z.id){z.id=K+v
}var x=ar.replace(R,"/$1");
x+="embed/";
if(z.hasAttribute(X)){x+="captioned/"
}if(z.hasAttribute(L)){var y=parseInt(z.getAttribute(L),10);
if(ad(y)){x+="?v="+y
}}x=x.replace(U,T);
var aq;
aq=q.createElement("iframe");
aq.className=z.className;
aq.id=w;
aq.src=x;
aq.setAttribute("allowTransparency",true);
var at=z.style.position;
if(at){aq.setAttribute(A,at)
}aq.setAttribute("frameBorder",0);
aq.setAttribute("height",0);
aq.setAttribute(ap,z.id);
aq.setAttribute("scrolling","no");
aq.setAttribute("style",z.style.cssText+";"+V);
aq.style.position="absolute";
z.parentNode.insertBefore(aq,z);
aa(z,O)
}function S(ar){if(!E.test(ar.origin)){return
}var x=C(ar);
if(!x){return
}var av=x.id,aq;
try{aq=r("JSON","parse",false,ar.data)
}catch(w){}if(typeof aq!=="object"||typeof aq.type!=="string"||typeof aq.details!=="object"){return
}var au=aq,z=au.details,v=au.type,at=null;
switch(v){case af.MOUNTED:var y=q.getElementById(x.getAttribute(ap));
ae(y);
at=y.clientHeight;
x.style.position=x.hasAttribute(A)?x.getAttribute(A):"";
aa(x,N);
y.parentNode.removeChild(y);
break;
case af.MEASURE:var aw=z.height;
if(G[av]!==aw){at=aw
}break;
case af.UNMOUNTING:delete G[av];
break
}if(at!==null){x.height=G[av]=at
}}function J(){if(!B){if(H){return
}H=true
}ag(r(function(){var v=q.getElementsByClassName(Q);
r(ac(v),"forEach",true,function(x){if(x.tagName!=="BLOCKQUOTE"||Z(x,O)){return
}var w=I(x);
if(w){D(x,w)
}});
if(!B){ah.add(h,"message",r(S,"bind",true,this));
B=true
}},"bind",true,this))
}J();
ak.exports={process:J}
},null);
u("legacy:ig.embeds",["instgrm","ig.sdk.Embeds"],function(w,v,C,B,A,z,y,x){v.__markCompiled&&v.__markCompiled();
y.provide("Embeds",x)
},3)
}).call({},window.inDapIF?parent.window:window)
}catch(e){new Image().src="http://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","revision":"1635849","message":"'+e.message+'"}}')
}$(document).on("star_component_init",function(){if("brightcove" in window){brightcove.createExperiences()
}if(typeof FB=="object"&&"XFBML" in FB){FB.XFBML.parse()
}$('a:not([target="_blank"])').filter(function(){return this.hostname&&this.hostname!==location.hostname
}).attr("target","_blank")
});
$(document).ready(function(){$("body").click(function(a){$(".navigation").children(".item:not(:first-child)").css("display","none");
if(!$(a.target).is(".open-user-widget")){$("#mystar-settings-window").dialog("close")
}if(!$(a.target).is(".open-weather-widget *")){$("#mystar-weather-window").dialog("close")
}});
$("#global-header form.search, form.search-result-form, form.search-input").on("submit",function(b){var a=$.trim($(this).find('input[name="q"]').val());
if(a.length==0){b.preventDefault()
}})
});
$(function(){$(".two-lines").ellipsis({row:2});
if($(".scrbbl-embed").length){(function(f,a,g){var c,b=f.getElementsByTagName(a)[0];
if(f.getElementById(g)){return
}c=f.createElement(a);
c.id=g;
c.src="//embed.scribblelive.com/widgets/embed.js";
b.parentNode.insertBefore(c,b)
}(document,"script","scrbbl-js"))
}});
var _star_qs_params=$.getQueryMap;
var ChartBeatStar={timer:500,checkLimit:60,checks:0,init:function(){if($("#google-multivar").length&&$.getQueryParam("utm_referrer")){_sf_async_config.useCanonical=true
}var a=$("img[data-original]:not([data-below-fold])").length;
if(a>0&&ChartBeatStar.checks<ChartBeatStar.checkLimit){setTimeout(ChartBeatStar.init,ChartBeatStar.timer)
}else{ChartBeatStar.load()
}ChartBeatStar.checks++
},load:function(){window._sf_endpt=(new Date()).getTime();
var a=document.createElement("script");
a.setAttribute("language","javascript");
a.setAttribute("type","text/javascript");
a.setAttribute("src",(("https:"==document.location.protocol)?"https://a248.e.akamai.net/chartbeat.download.akamai.com/102508/":"http://static.chartbeat.com/")+"js/chartbeat.js");
document.body.appendChild(a)
}};
$(window).load(ChartBeatStar.init);
$(document).ready(function(){$("#global-header input.header-search-input").placeholder()
});
$(document).ready(function(){var a=function(b){b.children("ul").slideToggle("fast",function(){b.toggleClass("collapsed").toggleClass("expanded")
})
};
$("#main-nav > ul > li").each(function(){if($(this).children("ul").length==0){$(this).addClass("empty")
}});
$("#main-nav > ul > li:not(.current,.empty) > span").on("click",function(c){if(!$(c.target).is("a")){var d=$(this).parent();
var b=$("#main-nav > ul > li.expanded:not(.current,.empty)").children("ul");
if(d.hasClass("expanded")){a(d)
}else{if(b.length){b.slideToggle("fast",function(){b.parent().toggleClass("collapsed").toggleClass("expanded");
a(d)
})
}else{a(d)
}}}});
$("#main-nav > ul > li > ul > li.more-links > span").on("click",function(b){b.preventDefault();
$(this).text($(this).text().toLowerCase()=="more"?"Less":"More").parent().toggleClass("collapsed").toggleClass("expanded")
})
});
$(document).on("star_component_init",function(){$("div.more-stories-bar p.switch, div.more-stories-bar span.close-button").on("click",function(){var b=200;
var d=$(this).closest("div.homepage-top");
if(typeof d.attr("data-switching")=="undefined"){d.attr("data-switching","true");
var c=d.find("div.more-stories-bar p.switch").html();
if(!d.hasClass("switched")){d.addClass("switched");
d.find(".more-headlines").fadeOut(b);
d.find(".headlines:not(.more-stories-panel)").fadeOut(b,function(){d.find(".headlines.more-stories-panel").fadeIn(b);
d.removeAttr("data-switching")
});
try{SiteCatalyst.trackHomePageTopFlip(c,"open")
}catch(a){}}else{d.removeClass("switched");
d.find(".headlines.more-stories-panel").fadeOut(b,function(){d.find(".more-headlines").fadeIn(b);
d.find(".headlines:not(.more-stories-panel)").fadeIn(b,function(){d.removeAttr("data-switching")
})
});
try{SiteCatalyst.trackHomePageTopFlip(c,"close")
}catch(a){}}}})
});
$(function(){var a=$(".placeholder.top-story-video");
if(a.length){window.TopStoryBrightcove={onLoadHandler:function(h){var b=["COMPLETE","ERROR"],g=brightcove.getExperience(h),c=g.getModule(APIModules.VIDEO_PLAYER),f=[];
for(var d=0,j=b.length;
d<j;
d++){c.addEventListener(BCMediaEvent[b[d]],TopStoryBrightcove.handleVideoStop);
f.push(BCMediaEvent[b[d]])
}$.dbg("@@@ Binding "+f.join(", ")+" handlers in "+h)
},handleVideoStop:function(b){$(".placeholder.top-story-video .video-still").show().siblings().remove()
}};
a.each(function(){var b=$(this);
b.find(".play-overlay").click(function(){b.attachBrightcove({id:b.attr("data-object-id")||"",width:b.width(),height:b.height(),playerID:b.attr("data-player-id"),playerKey:b.attr("data-player-key"),videoID:b.attr("data-video-id"),autoStart:"true",templateLoadHandler:"TopStoryBrightcove.onLoadHandler"}).find(".video-still").hide()
})
})
}});
window.checking_shatners=false;
$(document).on("star_component_init",function(){var b=["div.homepage-more > div.left-col","div.section-body > div.features"];
var a=[".shatner-box.onecol.pairable"];
if(!checking_shatners){checking_shatners=true;
$("div.shatner-shim").remove();
$("div.section[data-shatner-done]").removeAttr("data-shatner-done").removeAttr("style");
$(b.join(",")).each(function(){var c=$(this);
c.find("div.section:has("+a.join(",")+")").each(function(){if(!$(this).attr("data-shatner-done")){_sibling=$(this).next();
if(typeof currentState=="undefined"){while(!_sibling.is("div.section")){_sibling=_sibling.next()
}}if(_sibling.has(a.join(",")).length){var d=parseInt($(this).css("margin-top").replace("px",""),10);
var f=c.children(".parsys").children("div.section").index($(this))!=0?0:d+"px";
$(this).css({"float":"left"});
_sibling.css({"float":"right"});
$(this).add(_sibling).attr("data-shatner-done","true").css({clear:"none",width:(Math.floor(c.width()/2)-4)+"px","margin-bottom":0,"margin-top":f});
_sibling.after('<div class="shatner-shim" style="clear:both;height:1px;overflow:hidden;font-size:0;margin-bottom:'+(d-1)+'px;" />')
}else{$(this).attr("data-shatner-done","true").css({width:(Math.floor(c.width()/2)-4)+"px"})
}}})
});
checking_shatners=false
}});
"use strict";
var calenderController=function e(){function be(a){while(a.firstChild){a.removeChild(a.firstChild)
}}function aB(b,a){if((new RegExp("(^|["+aZ+"])"+a+"(["+aZ+"]|$)")).test(b.className)){return
}b.className+=(b.className?" ":"")+a
}function a9(b,a){b.className=!a?"":b.className.replace(new RegExp("(^|["+aZ+"])"+a+"(["+aZ+"]|$)")," ").replace(new RegExp("/^["+aZ+"]["+aZ+"]*/"),"").replace(new RegExp("/["+aZ+"]["+aZ+"]*$/"),"")
}function a6(){var a=document.getElementsByTagName("html")[0].getAttribute("lang")||document.getElementsByTagName("html")[0].getAttribute("xml:lang");
a="en";
return a.search(/^([a-z]{2,3})-([a-z]{2})$/)!=-1?[a.match(/^([a-z]{2,3})-([a-z]{2})$/)[1],a]:[a]
}function aX(b){if(!(typeof b==="object")){return
}var c,a={debug:function(d){ao=!!d;
return true
},lang:function(d){if(typeof d==="string"&&d.search(/^[a-z]{2,3}(-([a-z]{2}))?$/i)!=-1){aC=[d.toLowerCase()];
aJ=true;
am=false
}return true
},nodrag:function(d){aE=!!d;
return true
},buttontabindex:function(d){av=!!d;
return true
},derivelocale:function(d){am=!!!d;
return false
},mousewheel:function(d){aG=!!d;
return true
},cellformat:function(d){if(typeof d==="string"){ah(d)
}return true
},titleformat:function(d){if(typeof d==="string"){aj=d
}return true
},statusformat:function(d){if(typeof d==="string"){aU=d
}return true
},describedby:function(d){if(typeof d==="string"){aq=d
}return true
},finalopacity:function(d){if(typeof d==="number"&&+d>20&&+d<=100){az=parseInt(d,10)
}return true
},bespoketitles:function(f){if(typeof f==="object"){aK={};
for(var d in f){if(f.hasOwnProperty(d)&&String(d).match(bb)!=-1){aK[d]=String(f[d])
}}}return true
},dateparsefallback:function(d){ba=!!d;
return true
},languagefilelocation:function(d){ai=d;
return true
},_default:function(){if(ao){throw"Unknown key located within JSON data: "+c
}return true
}};
for(c in b){if(!b.hasOwnProperty(c)){continue
}(a.hasOwnProperty(String(c).toLowerCase())&&a[String(c).toLowerCase()]||a._default)(b[c])
}}function aT(b){if(!(typeof b==="string")||b==""){return{}
}try{if(typeof JSON==="object"&&JSON.parse){return window.JSON.parse(b)
}else{if(/debug|lang|nodrag|buttontabindex|derivelocale|mousewheel|cellformat|titleformat|statusformat|describedby|finalopacity|bespoketitles|dateparsefallback/.test(b.toLowerCase())){var c=Function(["var document,top,self,window,parent,Number,Date,Object,Function,","Array,String,Math,RegExp,Image,ActiveXObject;","return (",b.replace(/<\!--.+-->/gim,"").replace(/\bfunction\b/g,"function-"),");"].join(""));
return c()
}}}catch(a){}if(ao){throw"Could not parse the JSON object"
}return{err:1}
}function ah(a){if(ax){a1=["%j"];
aW="%j %F %Y";
return
}if(a.match(/%([d|j])/)==-1){return
}a1=au(a,/%([d|j])/);
aW=a
}function aR(b,a){a=Math.min(4,a||2);
return"0000".substr(0,a-Math.min(String(b).length,a))+b
}function aQ(b,a,c){if(b.addEventListener){b.addEventListener(a,c,true)
}else{if(b.attachEvent){b.attachEvent("on"+a,c)
}}}function aS(c,a,d){try{if(c.removeEventListener){c.removeEventListener(a,d,true)
}else{if(c.detachEvent){c.detachEvent("on"+a,d)
}}}catch(b){}}function bk(a){a=a||document.parentWindow.event;
if(a.stopPropagation){a.stopPropagation();
a.preventDefault()
}if(a7){a.cancelBubble=true;
a.returnValue=false
}return false
}function a5(b,a){if(b&&b.tagName){b.setAttribute("role",a)
}}function a4(b,a,c){if(b&&b.tagName){b.setAttribute("aria-"+a,c)
}}function aY(b,a){b.setAttribute(a7?"tabIndex":"tabindex",a);
b.tabIndex=a
}function a8(a){return a instanceof Date&&!isNaN(a)?a.getFullYear()+aR(a.getMonth()+1)+""+aR(a.getDate()):a
}function aO(d){this.dateSet=null;
this.timerSet=false;
this.visible=false;
this.fadeTimer=null;
this.timer=null;
this.yearInc=0;
this.monthInc=0;
this.dayInc=0;
this.mx=0;
this.my=0;
this.x=0;
this.y=0;
this.created=false;
this.disabled=false;
this.opacity=0;
this.opacityTo=100;
this.finalOpacity=100;
this.inUpdate=false;
this.kbEventsAdded=false;
this.fullCreate=false;
this.selectedTD=null;
this.cursorTD=null;
this.cursorDate=d.cursorDate?d.cursorDate:"",this.date=d.cursorDate?new Date(+d.cursorDate.substr(0,4),+d.cursorDate.substr(4,2)-1,+d.cursorDate.substr(6,2),5,0,0):new Date;
this.defaults={};
this.dynDisabledDates={};
this.dateList=[];
this.bespokeClass=d.bespokeClass;
this.firstDayOfWeek=ay.firstDayOfWeek;
this.interval=new Date;
this.clickActivated=false;
this.showCursor=false;
this.noFocus=true;
this.kbEvent=false;
this.delayedUpdate=false;
this.bespokeTitles={};
this.bespokeTabIndex=d.bespokeTabIndex;
for(var c in d){if(!d.hasOwnProperty(c)||String(c).search(/^(callbacks|formElements|enabledDates|disabledDates)$/)!=-1){continue
}this[c]=d[c]
}if(a7){this.iePopUp=null
}for(var b=0,f;
f=["callbacks","formElements"][b];
b++){this[f]={};
if(f in d){for(c in d[f]){if(d[f].hasOwnProperty(c)){this[f][c]=d[f][c]
}}}}this.date.setHours(5);
this.changeHandler=function(){if(a.disabled){return
}a.setDateFromInput();
a.callback("dateset",a.createCbArgObj())
};
this.createCbArgObj=function(){return this.dateSet?{id:this.id,date:this.dateSet,dd:aR(this.date.getDate()),mm:aR(this.date.getMonth()+1),yyyy:this.date.getFullYear()}:{id:this.id,date:null,dd:null,mm:null,yyyy:null}
};
this.getScrollOffsets=function(){if(typeof window.pageYOffset=="number"){return[window.pageXOffset,window.pageYOffset]
}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){return[document.body.scrollLeft,document.body.scrollTop]
}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){return[document.documentElement.scrollLeft,document.documentElement.scrollTop]
}}}return[0,0]
};
this.getDateExceptions=function(H,q){q=aR(q);
var A={},w=a.firstDateShown,D=a.lastDateShown,u=a.dateList.length,z,L,G,C,J,E,x,I,k,B,F,j,K;
if(!D||!w){w=a.firstDateShown=H+aR(q)+"01";
D=a.lastDateShown=H+aR(q)+aR(bm(q,H))
}J=Number(w.substr(0,6));
E=Number(D.substr(0,6));
L=String(J);
while(+L<=E){G=L.substr(0,4);
C=L.substr(4,2);
for(z=0;
z<u;
z++){k=String(a.dateList[z].rLow).replace(/^(\*\*\*\*)/,G).replace(/^(\d\d\d\d)(\*\*)/,"$1"+C);
B=String(a.dateList[z].rHigh).replace(/^(\*\*\*\*)/,G).replace(/^(\d\d\d\d)(\*\*)/,"$1"+C);
if(B==1){if(+k>=+a.firstDateShown&&+k<=+a.lastDateShown){A[k]=a.dateList[z].type
}continue
}if(k<=B&&L>=k.substr(0,6)&&L<=B.substr(0,6)){F=Math.max(k,Math.max(String(L)+"01",this.firstDateShown));
j=Math.min(B,Math.min(String(L)+"31",this.lastDateShown));
for(x=F;
x<=j;
x++){A[x]=a.dateList[z].type
}}}L=new Date(G,+C,2);
L=L.getFullYear()+""+aR(L.getMonth()+1)
}return A
};
this.reposition=function(){if(!a.created||a.staticPos){return
}a.div.style.visibility="hidden";
a.div.style.left=a.div.style.top="0px";
a.div.style.display="block";
var q=a.div.offsetHeight,v=a.div.offsetWidth,j=document.getElementById("fd-but-"+a.id),g=a.truePosition(j),m=document.compatMode&&document.compatMode!="BackCompat"?document.documentElement:document.body,w=a.getScrollOffsets(),h=w[1],u=w[0],p=parseInt(g[1]-2)-parseInt(h),k=parseInt(m.clientHeight+h)-parseInt(g[1]+j.offsetHeight+2);
a.div.style.visibility="visible";
a.div.style.left=Number(parseInt(m.clientWidth+u)<parseInt(v+g[0])?Math.abs(parseInt(m.clientWidth+u-v)):g[0])+"px";
a.div.style.top=k>p?Math.abs(parseInt(g[1]+j.offsetHeight+2))+"px":Math.abs(parseInt(g[1]-(q+2)))+"px";
if(a7===6){a.iePopUp.style.top=a.div.style.top;
a.iePopUp.style.left=a.div.style.left;
a.iePopUp.style.width=v+"px";
a.iePopUp.style.height=q-2+"px"
}};
this.removeCursorHighlight=function(){var g=document.getElementById(a.id+"-date-picker-hover");
if(g){a9(g,"date-picker-hover")
}};
this.addCursorHighlight=function(){var g=document.getElementById(a.id+"-date-picker-hover");
if(g){aB(g,"date-picker-hover")
}};
this.removeOldFocus=function(){var h=document.getElementById(a.id+"-date-picker-hover");
if(h){try{aY(h,-1);
a9(h,"date-picker-hover");
h.id="";
h.onblur=null;
h.onfocus=null
}catch(g){}}};
this.setNewFocus=function(){var h=document.getElementById(a.id+"-date-picker-hover");
if(h){try{aY(h,0);
if(this.showCursor){aB(h,"date-picker-hover")
}if(!this.clickActivated){h.onblur=a.onblur;
h.onfocus=a.onfocus
}if(!ax&&!this.clickActivated){a.addAccessibleDate()
}if(!this.noFocus&&!this.clickActivated){setTimeout(function(){try{h.focus()
}catch(j){}},0)
}}catch(g){}}};
this.addAccessibleDate=function(){var l=document.getElementById(a.id+"-date-picker-hover");
if(l&&!l.getElementsByTagName("span").length){var h=l.className.match(/cd-([\d]{4})([\d]{2})([\d]{2})/),p=l.className.search(bf)!=-1,k=document.createElement("span"),g;
k.className="fd-screen-reader";
be(l);
if(p){g=k.cloneNode(false);
g.appendChild(document.createTextNode(ar(13)));
l.appendChild(g)
}for(var j=0,m;
m=a1[j];
j++){if(m=="%j"||m=="%d"){l.appendChild(document.createTextNode(ad(new Date(h[1],+h[2]-1,h[3],5,0,0),m,true)))
}else{g=k.cloneNode(false);
g.appendChild(document.createTextNode(ad(new Date(h[1],+h[2]-1,h[3],5,0,0),m,true)));
l.appendChild(g)
}}}};
this.setCursorDate=function(g){if(String(g).search(/^([0-9]{8})$/)!=-1){this.date=new Date(+g.substr(0,4),+g.substr(4,2)-1,+g.substr(6,2),5,0,0);
this.cursorDate=g;
if(this.staticPos){this.updateTable()
}}};
this.updateTable=function(bJ){if(!a||a.inUpdate||!a.created){return
}a.inUpdate=true;
a.removeOldFocus();
a.div.dir=ay.rtl?"rtl":"ltr";
if(a.timerSet&&!a.delayedUpdate){if(a.monthInc){var bw=a.date.getDate(),bB=new Date(a.date);
bB.setDate(2);
bB.setMonth(bB.getMonth()+a.monthInc*1);
bB.setDate(Math.min(bw,bm(bB.getMonth(),bB.getFullYear())));
a.date=new Date(bB)
}else{a.date.setDate(Math.min(a.date.getDate()+a.dayInc,bm(a.date.getMonth()+a.monthInc,a.date.getFullYear()+a.yearInc)));
a.date.setMonth(a.date.getMonth()+a.monthInc);
a.date.setFullYear(a.date.getFullYear()+a.yearInc)
}}a.outOfRange();
if(!a.noToday){a.disableTodayButton()
}a.showHideButtons(a.date);
var bx=a.date.getDate(),bF=a.date.getMonth(),bA=a.date.getFullYear(),bN=String(bA)+aR(bF+1)+aR(bx),bI=new Date(bA,bF,1,5,0,0);
bI.setHours(5);
var bC,bL,bG,bz,bK,bv,bH,bt,bM,bu,Z,x,u,K,bq,bD,V=(bI.getDay()+6)%7,br=(V-a.firstDayOfWeek+7)%7-1,J=bm(bF,bA),Q=new Date,Q=Q.getFullYear()+aR(Q.getMonth()+1)+aR(Q.getDate()),bO=String(bI.getFullYear())+aR(bI.getMonth()+1),bt=[4,4,4,4,4,4],at=new Date(bA,bF-1,1,5,0,0),G=new Date(bA,bF+1,1,5,0,0),X=bm(at.getMonth(),at.getFullYear()),bE=String(G.getFullYear())+aR(G.getMonth()+1),Y=String(at.getFullYear())+aR(at.getMonth()+1),W=(G.getDay()+6)%7,by=(at.getDay()+6)%7,B=document.createElement("span");
B.className="fd-screen-reader";
a.firstDateShown=!a.constrainSelection&&a.fillGrid&&0-br<1?String(Y)+(X+(0-br)):bO+"01";
a.lastDateShown=!a.constrainSelection&&a.fillGrid?bE+aR(41-br-J):bO+String(J);
a.currentYYYYMM=bO;
x=a.callback("redraw",{id:a.id,dd:aR(bx),mm:aR(bF+1),yyyy:bA,firstDateDisplayed:a.firstDateShown,lastDateDisplayed:a.lastDateShown})||{};
bL=a.getDateExceptions(bA,bF+1);
a.checkSelectedDate();
K=a.dateSet!=null?a.dateSet.getFullYear()+aR(a.dateSet.getMonth()+1)+aR(a.dateSet.getDate()):false;
if(this.selectedTD!=null){a4(this.selectedTD,"selected",false);
this.selectedTD=null
}for(var m=0;
m<42;
m++){bz=Math.floor(m/7);
bK=a.tds[m];
u=B.cloneNode(false);
be(bK);
if(m>br&&m<=br+J||a.fillGrid){bu=bO;
bD=V;
bC=m-br;
bG=[];
bq=true;
if(bC<1){bC=X+bC;
bu=Y;
bD=by;
bq=!a.constrainSelection;
bG.push("month-out")
}else{if(bC>J){bC-=J;
bu=bE;
bD=W;
bq=!a.constrainSelection;
bG.push("month-out")
}}bD=(bD+bC+6)%7;
bG.push("day-"+bD+" cell-"+m);
bH=bu+String(bC<10?"0":"")+bC;
if(a.rangeLow&&+bH<+a.rangeLow||a.rangeHigh&&+bH>+a.rangeHigh){bK.className="out-of-range";
bK.title="";
bK.appendChild(document.createTextNode(bC));
if(a.showWeeks){bt[bz]=Math.min(bt[bz],2)
}}else{if(bq){bK.title=aj?ad(new Date(+String(bu).substr(0,4),+String(bu).substr(4,2)-1,+bC,5,0,0),aj,true):"";
bG.push("cd-"+bH+" yyyymmdd-"+bH+" yyyymm-"+bu+" mmdd-"+bu.substr(4,2)+aR(bC))
}else{bK.title=aj?ar(13)+" "+ad(new Date(+String(bu).substr(0,4),+String(bu).substr(4,2)-1,+bC,5,0,0),aj,true):"";
bG.push("yyyymmdd-"+bH+" yyyymm-"+bu+" mmdd-"+bu.substr(4,2)+aR(bC)+" not-selectable")
}if(bH==Q){bG.push("date-picker-today")
}if(K==bH){bG.push("date-picker-selected-date");
a4(bK,"selected","true");
this.selectedTD=bK
}if(bH in bL&&bL[bH]==1||a.disabledDays[bD]&&!(bH in bL&&bL[bH]==0)){bG.push("day-disabled");
if(aj&&bq){bK.title=ar(13)+" "+bK.title
}}if(bH in x){bG.push(x[bH])
}if(a.highlightDays[bD]){bG.push("date-picker-highlight")
}if(bN==bH){bK.id=a.id+"-date-picker-hover"
}bK.appendChild(document.createTextNode(bC));
bK.className=bG.join(" ");
if(a.showWeeks){bt[bz]=Math.min(bG[0]=="month-out"?3:1,bt[bz])
}}}else{bK.className="date-picker-unused";
bK.appendChild(document.createTextNode(ap));
bK.title=""
}if(a.showWeeks&&m-bz*7==6){be(a.wkThs[bz]);
a.wkThs[bz].appendChild(document.createTextNode(bt[bz]==4&&!a.fillGrid?ap:aM(bA,bF,m-br-6)));
a.wkThs[bz].className="date-picker-week-header"+["",""," out-of-range"," month-out",""][bt[bz]]
}}var bs=a.titleBar.getElementsByTagName("span");
be(bs[0]);
be(bs[1]);
bs[0].appendChild(document.createTextNode(bl(bF,false)+ap));
bs[1].appendChild(document.createTextNode(bA));
if(a.timerSet){a.timerInc=50+Math.round((a.timerInc-50)/1.8);
a.timer=window.setTimeout(a.updateTable,a.timerInc)
}a.inUpdate=a.delayedUpdate=false;
a.setNewFocus()
};
this.destroy=function(){if(document.getElementById("fd-but-"+this.id)){document.getElementById("fd-but-"+this.id).parentNode.removeChild(document.getElementById("fd-but-"+this.id))
}if(!this.created){return
}aS(this.table,"mousedown",a.onmousedown);
aS(this.table,"mouseover",a.onmouseover);
aS(this.table,"mouseout",a.onmouseout);
aS(document,"mousedown",a.onmousedown);
aS(document,"mouseup",a.clearTimer);
if(window.addEventListener&&!window.devicePixelRatio){try{window.removeEventListener("DOMMouseScroll",this.onmousewheel,false)
}catch(g){}}else{aS(document,"mousewheel",this.onmousewheel);
aS(window,"mousewheel",this.onmousewheel)
}a.removeOnFocusEvents();
clearTimeout(a.fadeTimer);
clearTimeout(a.timer);
if(a7===6&&!a.staticPos){try{a.iePopUp.parentNode.removeChild(a.iePopUp);
a.iePopUp=null
}catch(g){}}if(this.div&&this.div.parentNode){this.div.parentNode.removeChild(this.div)
}a=null
};
this.resizeInlineDiv=function(){a.div.style.width=a.table.offsetWidth+"px";
a.div.style.height=a.table.offsetHeight+"px"
};
this.reset=function(){var h,g;
for(h in a.formElements){g=document.getElementById(h);
if(g){if(g.tagName.toLowerCase()=="select"){g.selectedIndex=a.formElements[h.defaultVal]
}else{g.value=a.formElements[h.defaultVal]
}}}a.changeHandler()
};
this.create=function(){function L(h){var g=document.createElement("th");
if(h.thClassName){g.className=h.thClassName
}if(h.colspan){g.setAttribute(a7?"colSpan":"colspan",h.colspan)
}g.unselectable="on";
return g
}function H(o,h){for(var p=0,m;
m=h[p];
p++){var g=L(m);
o.appendChild(g);
var l=document.createElement("span");
l.className=m.className;
l.id=a.id+m.id;
l.innerHTML=m.text||a.nbsp;
l.title=m.title||"";
l.unselectable="on";
g.appendChild(l)
}}if(document.getElementById("fd-"+this.id)){return
}var M,F,B,I,D,P;
this.noFocus=true;
this.div=document.createElement("div");
this.div.id="fd-"+this.id;
this.div.className="date-picker"+(aH?" fd-dp-fade ":"")+this.bespokeClass;
this.div.style.visibility="hidden";
this.div.style.display="none";
if(this.describedBy&&document.getElementById(this.describedBy)){a4(this.div,"describedby",this.describedBy)
}if(this.labelledBy){a4(this.div,"labelledby",this.labelledBy.id)
}this.idiv=document.createElement("div");
this.table=document.createElement("table");
this.table.className="date-picker-table";
this.table.onmouseover=this.onmouseover;
this.table.onmouseout=this.onmouseout;
this.table.onclick=this.onclick;
if(this.finalOpacity<100){this.idiv.style.opacity=Math.min(Math.max(parseInt(this.finalOpacity,10)/100,0.2),1)
}if(this.staticPos){this.table.onmousedown=this.onmousedown
}this.div.appendChild(this.idiv);
this.idiv.appendChild(this.table);
var J=!this.dragDisabled?" drag-enabled":"";
if(!this.staticPos){this.div.style.visibility="hidden";
this.div.className+=J;
document.getElementsByTagName("body")[0].appendChild(this.div);
if(a7===6){this.iePopUp=document.createElement("iframe");
this.iePopUp.src="javascript:'<html></html>';";
this.iePopUp.setAttribute("className","iehack");
this.iePopUp.setAttribute("tabIndex",-1);
a5(this.iePopUp,"presentation");
a4(this.iePopUp,"hidden","true");
this.iePopUp.scrolling="no";
this.iePopUp.frameBorder="0";
this.iePopUp.name=this.iePopUp.id=this.id+"-iePopUpHack";
document.body.appendChild(this.iePopUp)
}a4(this.div,"hidden","true")
}else{var C=document.getElementById(this.positioned?this.positioned:this.id);
if(!C){this.div=null;
if(ao){throw this.positioned?"Could not locate a datePickers associated parent element with an id:"+this.positioned:"Could not locate a datePickers associated input with an id:"+this.id
}return
}this.div.className+=" static-datepicker";
if(this.positioned){C.appendChild(this.div)
}else{C.parentNode.insertBefore(this.div,C.nextSibling)
}if(this.hideInput){for(var N in this.formElements){C=document.getElementById(N);
if(C){C.className+=" fd-hidden-input"
}}}setTimeout(this.resizeInlineDiv,300)
}a5(this.div,"application");
a5(this.table,"grid");
if(this.statusFormat){P=document.createElement("tfoot");
this.table.appendChild(P);
M=document.createElement("tr");
M.className="date-picker-tfoot";
P.appendChild(M);
this.statusBar=L({thClassName:"date-picker-statusbar"+J,colspan:this.showWeeks?8:7});
M.appendChild(this.statusBar);
this.updateStatus()
}I=document.createElement("thead");
I.className="date-picker-thead";
this.table.appendChild(I);
M=document.createElement("tr");
a5(M,"presentation");
I.appendChild(M);
this.titleBar=L({thClassName:"date-picker-title"+J,colspan:this.showWeeks?8:7});
M.appendChild(this.titleBar);
M=null;
var z=document.createElement("span");
z.appendChild(document.createTextNode(ap));
z.className="month-display"+J;
this.titleBar.appendChild(z);
z=document.createElement("span");
z.appendChild(document.createTextNode(ap));
z.className="year-display"+J;
this.titleBar.appendChild(z);
z=null;
M=document.createElement("tr");
a5(M,"presentation");
I.appendChild(M);
H(M,[{className:"prev-but prev-year",id:"-prev-year-but",text:"&laquo;",title:ar(2)},{className:"prev-but prev-month",id:"-prev-month-but",text:"&#8249;",title:ar(0)},{colspan:this.showWeeks?4:3,className:"today-but",id:"-today-but",text:ar(4)},{className:"next-but next-month",id:"-next-month-but",text:"&#8250;",title:ar(1)},{className:"next-but next-year",id:"-next-year-but",text:"&raquo;",title:ar(3)}]);
D=document.createElement("tbody");
this.table.appendChild(D);
var G=this.showWeeks?8:7,K=this.showWeeks?0:-1,q,O,u,A;
for(var k=0;
k<7;
k++){F=document.createElement("tr");
if(k!=0){a5(F,"row");
D.appendChild(F)
}else{I.appendChild(F)
}for(var t=0;
t<G;
t++){if(k===0||this.showWeeks&&t===0){B=document.createElement("th")
}else{B=document.createElement("td");
a4(B,"describedby",this.id+"-col-"+t+(this.showWeeks?" "+this.id+"-row-"+k:""));
a4(B,"selected","false")
}if(a7){B.unselectable="on"
}F.appendChild(B);
if(this.showWeeks&&t>0&&k>0||!this.showWeeks&&k>0){a5(B,"gridcell")
}else{if(k===0&&t>K){B.className="date-picker-day-header";
B.scope="col";
a5(B,"columnheader");
B.id=this.id+"-col-"+t
}else{B.className="date-picker-week-header";
B.scope="row";
a5(B,"rowheader");
B.id=this.id+"-row-"+k
}}}}B=F=null;
this.ths=this.table.getElementsByTagName("thead")[0].getElementsByTagName("tr")[2].getElementsByTagName("th");
for(var j=0;
j<G;
j++){if(j==0&&this.showWeeks){this.ths[j].appendChild(document.createTextNode(ar(6)));
this.ths[j].title=ar(8);
continue
}if(j>(this.showWeeks?0:-1)){q=document.createElement("span");
q.className="fd-day-header";
if(a7){q.unselectable="on"
}this.ths[j].appendChild(q)
}}q=null;
this.trs=this.table.getElementsByTagName("tbody")[0].getElementsByTagName("tr");
this.tds=this.table.getElementsByTagName("tbody")[0].getElementsByTagName("td");
this.butPrevYear=document.getElementById(this.id+"-prev-year-but");
this.butPrevMonth=document.getElementById(this.id+"-prev-month-but");
this.butToday=document.getElementById(this.id+"-today-but");
this.butNextYear=document.getElementById(this.id+"-next-year-but");
this.butNextMonth=document.getElementById(this.id+"-next-month-but");
if(this.noToday){this.butToday.style.display="none"
}if(this.showWeeks){this.wkThs=this.table.getElementsByTagName("tbody")[0].getElementsByTagName("th");
this.div.className+=" weeks-displayed"
}D=I=M=H=L=null;
this.updateTableHeaders();
this.created=true;
this.updateTable();
if(this.staticPos){this.visible=true;
this.opacity=100;
this.div.style.visibility="visible";
this.div.style.display="block";
this.noFocus=true;
this.fade()
}else{this.reposition();
this.div.style.visibility="visible";
this.fade();
this.noFocus=true
}this.callback("domcreate",{id:this.id})
};
this.transEnd=function(){a.div.style.display="none";
a.div.style.visibility="hidden";
a4(a.div,"hidden","true")
};
this.fade=function(){window.clearTimeout(a.fadeTimer);
a.fadeTimer=null;
if(aH){a.opacity=a.opacityTo;
if(a.opacityTo==0){a.visible=false;
aQ(a.div,aD,a.transEnd);
aB(a.div,"fd-dp-fade")
}else{aS(a.div,aD,a.transEnd);
a.visible=true;
a.div.style.display="block";
a.div.style.visibility="visible";
a4(a.div,"hidden","false");
a9(a.div,"fd-dp-fade")
}return
}var g=Math.round(a.opacity+(a.opacityTo-a.opacity)/4);
a.setOpacity(g);
if(Math.abs(a.opacityTo-g)>3&&!a.noFadeEffect){a.fadeTimer=window.setTimeout(a.fade,50)
}else{a.setOpacity(a.opacityTo);
if(a.opacityTo==0){a.div.style.display="none";
a.div.style.visibility="hidden";
a4(a.div,"hidden","true");
a.visible=false
}else{a4(a.div,"hidden","false");
a.visible=true
}}};
this.trackDrag=function(h){h=h||window.event;
var g=(h.pageX?h.pageX:h.clientX?h.clientX:h.x)-a.mx;
var j=(h.pageY?h.pageY:h.clientY?h.clientY:h.Y)-a.my;
a.div.style.left=Math.round(a.x+g)>0?Math.round(a.x+g)+"px":"0px";
a.div.style.top=Math.round(a.y+j)>0?Math.round(a.y+j)+"px":"0px";
if(a7===6&&!a.staticPos){a.iePopUp.style.top=a.div.style.top;
a.iePopUp.style.left=a.div.style.left
}};
this.stopDrag=function(h){var g=document.getElementsByTagName("body")[0];
a9(g,"fd-drag-active");
aS(document,"mousemove",a.trackDrag,false);
aS(document,"mouseup",a.stopDrag,false);
a.div.style.zIndex=9999
};
this.onmousedown=function(m){m=m||document.parentWindow.event;
var q=m.target!=null?m.target:m.srcElement,j=q,g=true,k=new RegExp("^fd-(but-)?"+a.id+"$");
a.mouseDownElem=null;
while(q){if(q.id&&q.id.length&&q.id.search(k)!=-1){g=false;
break
}try{q=q.parentNode
}catch(u){break
}}if(g){aP();
return true
}if((a.div.className+j.className).search("fd-disabled")!=-1){return true
}if(j.id.search(new RegExp("^"+a.id+"(-prev-year-but|-prev-month-but|-next-month-but|-next-year-but)$"))!=-1){a.mouseDownElem=j;
aQ(document,"mouseup",a.clearTimer);
aQ(j,"mouseout",a.clearTimer);
var h={"-prev-year-but":[0,-1,0],"-prev-month-but":[0,0,-1],"-next-year-but":[0,1,0],"-next-month-but":[0,0,1]},p=j.id.replace(a.id,""),l=Number(a.date.getFullYear()+aR(a.date.getMonth()+1));
a.timerInc=800;
a.timerSet=true;
a.dayInc=h[p][0];
a.yearInc=h[p][1];
a.monthInc=h[p][2];
a.accellerator=1;
if(!(a.currentYYYYMM==l)){if(a.currentYYYYMM<l&&(a.yearInc==-1||a.monthInc==-1)||a.currentYYYYMM>l&&(a.yearInc==1||a.monthInc==1)){a.delayedUpdate=false;
a.timerInc=1200
}else{a.delayedUpdate=true
}}a.updateTable();
return bk(m)
}else{if(q.className.search("drag-enabled")!=-1){a.mx=m.pageX?m.pageX:m.clientX?m.clientX:m.x;
a.my=m.pageY?m.pageY:m.clientY?m.clientY:m.Y;
a.x=parseInt(a.div.style.left,10);
a.y=parseInt(a.div.style.top,10);
aQ(document,"mousemove",a.trackDrag,false);
aQ(document,"mouseup",a.stopDrag,false);
aB(document.getElementsByTagName("body")[0],"fd-drag-active");
a.div.style.zIndex=10000;
return bk(m)
}}return true
};
this.onclick=function(l){if(!aH&&a.opacity!=a.opacityTo||a.disabled){return bk(l)
}l=l||document.parentWindow.event;
var h=l.target!=null?l.target:l.srcElement;
while(h.parentNode){if(h.tagName&&h.tagName.toLowerCase()=="td"){if(h.className.search(/cd-([0-9]{8})/)==-1||h.className.search(bf)!=-1){return bk(l)
}var m=h.className.match(/cd-([0-9]{8})/)[1];
a.date=new Date(m.substr(0,4),m.substr(4,2)-1,m.substr(6,2),5,0,0);
a.dateSet=new Date(a.date);
a.noFocus=true;
a.callback("dateset",{id:a.id,date:a.dateSet,dd:a.dateSet.getDate(),mm:a.dateSet.getMonth()+1,yyyy:a.dateSet.getFullYear()});
a.returnFormattedDate();
a.hide();
a.stopTimer();
break
}else{if(h.id&&h.id==a.id+"-today-but"){a.date=new Date;
a.updateTable();
a.stopTimer();
break
}else{if(h.className.search(/date-picker-day-header/)!=-1){var k=a.showWeeks?-1:0,g=h;
while(g.previousSibling){g=g.previousSibling;
if(g.tagName&&g.tagName.toLowerCase()=="th"){k++
}}a.firstDayOfWeek=(a.firstDayOfWeek+k)%7;
a.updateTableHeaders();
break
}}}try{h=h.parentNode
}catch(j){break
}}return bk(l)
};
this.show=function(j){if(this.staticPos){return
}var g,k;
for(k in this.formElements){g=document.getElementById(this.id);
if(!g||g&&g.disabled){return
}}this.noFocus=true;
if(!this.created||!document.getElementById("fd-"+this.id)){this.created=false;
this.fullCreate=false;
this.create();
this.fullCreate=true
}else{this.setDateFromInput();
this.reposition()
}this.noFocus=!!!j;
if(this.noFocus){this.clickActivated=true;
this.showCursor=false;
aQ(document,"mousedown",this.onmousedown);
if(aG){if(window.addEventListener&&!window.devicePixelRatio){window.addEventListener("DOMMouseScroll",this.onmousewheel,false)
}else{aQ(document,"mousewheel",this.onmousewheel);
aQ(window,"mousewheel",this.onmousewheel)
}}}else{this.clickActivated=false;
this.showCursor=true
}this.opacityTo=100;
this.div.style.display="block";
if(a7===6){this.iePopUp.style.width=this.div.offsetWidth+"px";
this.iePopUp.style.height=this.div.offsetHeight+"px";
this.iePopUp.style.display="block"
}this.setNewFocus();
this.fade();
var h=document.getElementById("fd-but-"+this.id);
if(h){aB(h,"date-picker-button-active")
}};
this.hide=function(){if(!this.visible||!this.created||!document.getElementById("fd-"+this.id)){return
}this.kbEvent=false;
a9(a.div,"date-picker-focus");
this.stopTimer();
this.removeOnFocusEvents();
this.clickActivated=false;
this.noFocus=true;
this.showCursor=false;
this.setNewFocus();
if(this.staticPos){return
}if(this.statusBar){this.updateStatus(ar(9))
}var h=document.getElementById("fd-but-"+this.id);
if(h){a9(h,"date-picker-button-active")
}aS(document,"mousedown",this.onmousedown);
if(aG){if(window.addEventListener&&!window.devicePixelRatio){try{window.removeEventListener("DOMMouseScroll",this.onmousewheel,false)
}catch(g){}}else{aS(document,"mousewheel",this.onmousewheel);
aS(window,"mousewheel",this.onmousewheel)
}}if(a7===6){this.iePopUp.style.display="none"
}this.opacityTo=0;
this.fade()
};
this.onblur=function(g){a.removeCursorHighlight();
a.hide()
};
this.onfocus=function(g){a.noFocus=false;
aB(a.div,"date-picker-focus");
if(a.statusBar){a.updateStatus(ad(a.date,a.statusFormat,true))
}a.showCursor=true;
a.addCursorHighlight();
a.addOnFocusEvents()
};
this.onmousewheel=function(l){l=l||document.parentWindow.event;
var h=0;
if(l.wheelDelta){h=l.wheelDelta/120;
if(ax&&window.opera.version()<9.2){h=-h
}}else{if(l.detail){h=-l.detail/3
}}var k=a.date.getDate(),g=new Date(a.date),j=h>0?1:-1;
g.setDate(2);
g.setMonth(g.getMonth()+j*1);
g.setDate(Math.min(k,bm(g.getMonth(),g.getFullYear())));
if(a.outOfRange(g)){return bk(l)
}a.date=new Date(g);
a.updateTable();
if(a.statusBar){a.updateStatus(ad(a.date,a.statusFormat,true))
}return bk(l)
};
this.onkeydown=function(q){a.stopTimer();
if(!a.visible){return false
}q=q||document.parentWindow.event;
var w=q.keyCode?q.keyCode:q.charCode;
if(w==13){var j=document.getElementById(a.id+"-date-picker-hover");
if(!j||j.className.search(/cd-([0-9]{8})/)==-1||j.className.search(/out-of-range|day-disabled/)!=-1){return bk(q)
}a.dateSet=new Date(a.date);
a.callback("dateset",a.createCbArgObj());
a.returnFormattedDate();
a.hide();
return bk(q)
}else{if(w==27){if(!a.staticPos){a.hide();
var g=document.getElementById("fd-but-"+a.id);
if(g){setTimeout(function(){try{g.focus()
}catch(l){}},0)
}return bk(q)
}return true
}else{if(w==32||w==0){a.date=new Date;
a.updateTable();
return bk(q)
}else{if(w==9){if(!a.staticPos){return bk(q)
}return true
}}}}if(a7){if((new Date).getTime()-a.interval.getTime()<50){return bk(q)
}a.interval=new Date
}if(w>49&&w<56||w>97&&w<104){if(w>96){w-=96-48
}w-=49;
a.firstDayOfWeek=(a.firstDayOfWeek+w)%7;
a.updateTableHeaders();
return bk(q)
}if(w<33||w>40){return true
}var m=new Date(a.date),x=a.date.getFullYear()+aR(a.date.getMonth()+1),h;
if(w==36){m.setDate(1)
}else{if(w==35){m.setDate(bm(m.getMonth(),m.getFullYear()))
}else{if(w==33||w==34){var v=w==34?1:-1;
if(q.ctrlKey){m.setFullYear(m.getFullYear()+v*1)
}else{var p=a.date.getDate();
m.setDate(2);
m.setMonth(m.getMonth()+v*1);
m.setDate(Math.min(p,bm(m.getMonth(),m.getFullYear())))
}}else{if(w==37){m=new Date(a.date.getFullYear(),a.date.getMonth(),a.date.getDate()-1,5,0,0)
}else{if(w==39||w==34){m=new Date(a.date.getFullYear(),a.date.getMonth(),a.date.getDate()+1,5,0,0)
}else{if(w==38){m=new Date(a.date.getFullYear(),a.date.getMonth(),a.date.getDate()-7,5,0,0)
}else{if(w==40){m=new Date(a.date.getFullYear(),a.date.getMonth(),a.date.getDate()+7,5,0,0)
}}}}}}}if(a.outOfRange(m)){return bk(q)
}a.date=m;
if(a.statusBar){a.updateStatus(a.getBespokeTitle(a.date.getFullYear(),a.date.getMonth()+1,a.date.getDate())||ad(a.date,a.statusFormat,true))
}var k=String(a.date.getFullYear())+aR(a.date.getMonth()+1)+aR(a.date.getDate());
if(q.ctrlKey||w==33||w==34||k<a.firstDateShown||k>a.lastDateShown){a.updateTable();
if(a7){a.interval=new Date
}}else{if(!a.noToday){a.disableTodayButton()
}a.removeOldFocus();
a.showHideButtons(a.date);
for(var u=0,j;
j=a.tds[u];
u++){if(j.className.search("cd-"+k)==-1){continue
}j.id=a.id+"-date-picker-hover";
a.setNewFocus();
break
}}return bk(q)
};
this.onmouseout=function(h){h=h||document.parentWindow.event;
var g=h.toElement||h.relatedTarget;
while(g&&g!=this){try{g=g.parentNode
}catch(h){g=this
}}if(g==this){return false
}if(a.clickActivated||a.staticPos&&!a.kbEventsAdded){a.showCursor=false;
a.removeCursorHighlight()
}if(a.currentTR){a.currentTR.className="";
a.currentTR=null
}if(a.statusBar){a.updateStatus(a.dateSet?a.getBespokeTitle(a.dateSet.getFullYear(),a.dateSet.getMonth()+1,a.dateSet.getDate())||ad(a.dateSet,a.statusFormat,true):ar(9))
}};
this.onmouseover=function(l){l=l||document.parentWindow.event;
var h=l.target!=null?l.target:l.srcElement;
while(h.nodeType!=1){h=h.parentNode
}if(!h||!h.tagName){return
}a.noFocus=true;
var m=ar(9);
if(a.clickActivated||a.staticPos&&!a.kbEventsAdded){a.showCursor=false
}switch(h.tagName.toLowerCase()){case"td":if(h.className.search(/date-picker-unused|out-of-range/)!=-1){m=ar(9)
}if(h.className.search(/cd-([0-9]{8})/)!=-1){a.showCursor=true;
a.stopTimer();
var k=h.className.match(/cd-([0-9]{8})/)[1];
a.removeOldFocus();
h.id=a.id+"-date-picker-hover";
a.setNewFocus();
a.date=new Date(+k.substr(0,4),+k.substr(4,2)-1,+k.substr(6,2),5,0,0);
if(!a.noToday){a.disableTodayButton()
}m=a.getBespokeTitle(+k.substr(0,4),+k.substr(4,2),+k.substr(6,2))||ad(a.date,a.statusFormat,true)
}break;
case"th":if(!a.statusBar){break
}if(h.className.search(/drag-enabled/)!=-1){m=ar(10)
}else{if(h.className.search(/date-picker-week-header/)!=-1){var g=h.firstChild?h.firstChild.nodeValue:"";
m=g.search(/^(\d+)$/)!=-1?ar(7,[g,g<3&&a.date.getMonth()==11?af(a.date.getFullYear())+1:af(a.date.getFullYear())]):ar(9)
}}break;
case"span":if(!a.statusBar){break
}if(h.className.search(/day-([0-6])/)!=-1){var j=h.className.match(/day-([0-6])/)[1];
m=ar(11,[bd(j,false)])
}else{if(h.className.search(/(drag-enabled|today-but|prev-(year|month)|next-(year|month))/)!=-1&&h.className.search(/disabled/)==-1){m=ar({"drag-enabled":10,"prev-year":2,"prev-month":0,"next-year":3,"next-month":1,"today-but":12}[h.className.match(/(drag-enabled|today-but|prev-(year|month)|next-(year|month))/)[0]])
}}break;
default:m=""
}while(h.parentNode){h=h.parentNode;
if(h.nodeType==1&&h.tagName.toLowerCase()=="tr"){if(a.currentTR){if(h==a.currentTR){break
}a.currentTR.className=""
}h.className="dp-row-highlight";
a.currentTR=h;
break
}}if(a.statusBar&&m){a.updateStatus(m)
}if(!a.showCursor){a.removeCursorHighlight()
}};
this.clearTimer=function(){a.stopTimer();
a.timerInc=800;
a.yearInc=0;
a.monthInc=0;
a.dayInc=0;
aS(document,"mouseup",a.clearTimer);
if(a.mouseDownElem!=null){aS(a.mouseDownElem,"mouseout",a.clearTimer)
}a.mouseDownElem=null
};
var a=this;
this.setDateFromInput();
if(this.staticPos){this.create()
}else{this.createButton()
}(function(){var h,g,j=0;
for(h in a.formElements){g=document.getElementById(h);
if(g&&g.tagName&&g.tagName.search(/select|input/i)!=-1){aQ(g,"change",a.changeHandler);
if(j==0&&g.form){aQ(g.form,"reset",a.reset)
}j++
}if(!g||g.disabled==true){a.disableDatePicker()
}}})();
this.fullCreate=true
}var ao=false,ax=Object.prototype.toString.call(window.opera)==="[object Opera]",aq="",aC=a6(),ap=String.fromCharCode(160),aw={},an={},aK={},aF=0,az=100,aH=null,aD="",av=true,aG=true,am=false,ay=false,aE=false,ai=false,aJ=false,ak=false,ba=true,aW="%d %F %Y",aj="%F %d, %Y",aU="",a1=ax?["%j"]:["%j"," %F %Y"],bc=/%([d|j])/,aA=/%([M|F|m|n])/,a3=/%[y|Y]/,bf=/date-picker-unused|out-of-range|day-disabled|not-selectable/,a0=/%([d|j|M|F|m|n|Y|y])/,a2=/%([d|D|l|j|N|w|S|W|M|F|m|n|t|Y|y])/,aL=/^((\d\d\d\d)(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01]))$/,bb=/^(((\d\d\d\d)|(\*\*\*\*))((0[1-9]|1[012])|(\*\*))(0[1-9]|[12][0-9]|3[01]))$/,aZ="	\n\f\r  \u2028\u2029",a7=function(){var c,a=3,d=document.createElement("div"),b=d.getElementsByTagName("i");
while(d.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",b[0]){}return a>4?a:c
}();
var au=function(j,m,d){if(Object.prototype.toString.call(m)!=="[object RegExp]"){return au._nativeSplit.call(j,m,d)
}var b=[],g=0,p="",m=RegExp(m.source,"g"),c,l,k,h;
j=j+"";
if(!au._compliantExecNpcg){c=RegExp("^"+m.source+"$(?!\\s)",p)
}if(d===undefined||+d<0){d=Infinity
}else{d=Math.floor(+d);
if(!d){return[]
}}while(l=m.exec(j)){k=l.index+l[0].length;
if(k>g){b.push(j.slice(g,l.index));
if(!au._compliantExecNpcg&&l.length>1){l[0].replace(c,function(){for(var a=1;
a<arguments.length-2;
a++){if(arguments[a]===undefined){l[a]=undefined
}}})
}if(l.length>1&&l.index<j.length){Array.prototype.push.apply(b,l.slice(1))
}h=l[0].length;
g=k;
if(b.length>=d){break
}}if(m.lastIndex===l.index){m.lastIndex++
}}if(g===j.length){if(h||!m.test("")){b.push("")
}}else{b.push(j.slice(g))
}return b.length>d?b.slice(0,d):b
};
au._compliantExecNpcg=/()??/.exec("")[1]===undefined;
au._nativeSplit=String.prototype.split;
aO.prototype.addButtonEvents=function(b){function a(h){h=h||window.event;
var d=this.id.replace("fd-but-",""),j=aa(d),g=false,c=aw[d].kbEvent;
if(c){aw[d].kbEvent=false;
return
}if(h.type=="keydown"){var f=h.keyCode!=null?h.keyCode:h.charCode;
if(f!=13){return true
}aw[d].kbEvent=true;
if(j){a9(this,"date-picker-button-active");
aP();
return bk(h)
}g=true
}else{aw[d].kbEvent=false
}if(!j){aB(this,"date-picker-button-active");
aP(d);
ag(d,g)
}else{a9(this,"date-picker-button-active");
aP()
}return bk(h)
}b.onclick=a;
b.onkeydown=a;
if(!av){aY(b,-1)
}else{aY(b,this.bespokeTabIndex)
}};
aO.prototype.createButton=function(){if(this.staticPos||document.getElementById("fd-but-"+this.id)){return
}var b=document.getElementById(this.id),a=document.createElement("span"),c=document.createElement("a");
c.href="#"+this.id;
c.className="date-picker-control";
c.title=ar(5);
c.id="fd-but-"+this.id;
a.appendChild(document.createTextNode(ap));
c.appendChild(a);
a=document.createElement("span");
a.className="fd-screen-reader";
a.appendChild(document.createTextNode(c.title));
c.appendChild(a);
a5(c,"button");
a4(c,"haspopup",true);
if(this.positioned&&document.getElementById(this.positioned)){document.getElementById(this.positioned).appendChild(c)
}else{b.parentNode.insertBefore(c,b.nextSibling)
}this.addButtonEvents(c);
c=null;
this.callback("dombuttoncreate",{id:this.id})
};
aO.prototype.setBespokeTitles=function(a){this.bespokeTitles={};
this.addBespokeTitles(a)
};
aO.prototype.addBespokeTitles=function(b){for(var a in b){if(b.hasOwnProperty(a)){this.bespokeTitles[a]=b[a]
}}};
aO.prototype.getBespokeTitle=function(f,b,g){var d,a,c=f+String(aR(b))+aR(g);
for(d in this.bespokeTitles){if(this.bespokeTitles.hasOwnProperty(d)){a=String(d).replace(/^(\*\*\*\*)/,f).replace(/^(\d\d\d\d)(\*\*)/,"$1"+aR(b));
if(a==c){return this.bespokeTitles[d]
}}}for(d in aK){if(aK.hasOwnProperty(d)){a=String(d).replace(/^(\*\*\*\*)/,f).replace(/^(\d\d\d\d)(\*\*)/,"$1"+aR(b));
if(a==c){return aK[d]
}}}return false
};
aO.prototype.returnSelectedDate=function(){return this.dateSet
};
aO.prototype.setRangeLow=function(a){if(String(a).search(aL)==-1){if(ao){throw"Invalid value passed to setRangeLow method: "+a
}return false
}this.rangeLow=a;
if(!this.inUpdate){this.setDateFromInput()
}};
aO.prototype.setRangeHigh=function(a){if(String(a).search(aL)==-1){if(ao){throw"Invalid value passed to setRangeHigh method: "+a
}return false
}this.rangeHigh=a;
if(!this.inUpdate){this.setDateFromInput()
}};
aO.prototype.setDisabledDays=function(a){if(!a.length||a.join("").search(/^([0|1]{7})$/)==-1){if(ao){throw"Invalid values located when attempting to call setDisabledDays"
}return false
}this.disabledDays=a;
if(!this.inUpdate){this.setDateFromInput()
}};
aO.prototype.setDisabledDates=function(a){this.filterDateList(a,true)
};
aO.prototype.setEnabledDates=function(a){this.filterDateList(a,false)
};
aO.prototype.addDisabledDates=function(a){this.addDatesToList(a,true)
};
aO.prototype.addEnabledDates=function(a){this.addDatesToList(a,false)
};
aO.prototype.filterDateList=function(c,a){var d=[];
for(var b=0;
b<this.dateList.length;
b++){if(this.dateList[b].type!=a){d.push(this.dateList[b])
}}this.dateList=d.concat();
this.addDatesToList(c,a)
};
aO.prototype.addDatesToList=function(b,a){var c;
for(c in b){if(String(c).search(bb)!=-1&&(b[c]==1||String(b[c]).search(bb)!=-1)){if(b[c]!=1&&Number(String(c).replace(/^\*\*\*\*/,2010).replace(/^(\d\d\d\d)(\*\*)/,"$122"))>Number(String(b[c]).replace(/^\*\*\*\*/,2010).replace(/^(\d\d\d\d)(\*\*)/,"$122"))){continue
}this.dateList.push({type:!!a,rLow:c,rHigh:b[c]})
}}if(!this.inUpdate){this.setDateFromInput()
}};
aO.prototype.setSelectedDate=function(b){if(String(b).search(bb)==-1){return false
}var a=b.match(aL),c=new Date(+a[2],+a[3]-1,+a[4],5,0,0);
if(!c||isNaN(c)||!this.canDateBeSelected(c)){return false
}this.dateSet=new Date(c);
if(!this.inUpdate){this.updateTable()
}this.callback("dateset",this.createCbArgObj());
this.returnFormattedDate()
};
aO.prototype.checkSelectedDate=function(){if(this.dateSet&&!this.canDateBeSelected(this.dateSet)){this.dateSet=null
}if(!this.inUpdate){this.updateTable()
}};
aO.prototype.addOnFocusEvents=function(){if(this.kbEventsAdded||this.noFocus){return
}aQ(document,"keypress",this.onkeydown);
aQ(document,"mousedown",this.onmousedown);
if(a7){aS(document,"keypress",this.onkeydown);
aQ(document,"keydown",this.onkeydown)
}if(window.devicePixelRatio){aS(document,"keypress",this.onkeydown);
aQ(document,"keydown",this.onkeydown)
}this.noFocus=false;
this.kbEventsAdded=true
};
aO.prototype.removeOnFocusEvents=function(){if(!this.kbEventsAdded){return
}aS(document,"keypress",this.onkeydown);
aS(document,"keydown",this.onkeydown);
aS(document,"mousedown",this.onmousedown);
this.kbEventsAdded=false
};
aO.prototype.stopTimer=function(){this.timerSet=false;
window.clearTimeout(this.timer)
};
aO.prototype.setOpacity=function(a){this.div.style.opacity=a/100;
this.div.style.filter="alpha(opacity="+a+")";
this.opacity=a
};
aO.prototype.truePosition=function(f){var b=this.cumulativeOffset(f);
if(ax){return b
}var d=document.compatMode&&document.compatMode!="BackCompat"?document.documentElement:document.body,a=document.all?d.scrollLeft:window.pageXOffset,c=document.all?d.scrollTop:window.pageYOffset,g=this.realOffset(f);
return[b[0]-g[0]+a,b[1]-g[1]+c]
};
aO.prototype.realOffset=function(b){var a=0,c=0;
do{a+=b.scrollTop||0;
c+=b.scrollLeft||0;
b=b.parentNode
}while(b);
return[c,a]
};
aO.prototype.cumulativeOffset=function(b){var a=0,c=0;
do{a+=b.offsetTop||0;
c+=b.offsetLeft||0;
b=b.offsetParent
}while(b);
return[c,a]
};
aO.prototype.outOfRange=function(f){if(!this.rangeLow&&!this.rangeHigh){return false
}var b=false;
if(!f){b=true;
f=this.date
}var g=aR(f.getDate()),d=aR(f.getMonth()+1),a=f.getFullYear(),c=String(a)+String(d)+String(g);
if(this.rangeLow&&+c<+this.rangeLow){if(!b){return true
}this.date=new Date(this.rangeLow.substr(0,4),this.rangeLow.substr(4,2)-1,this.rangeLow.substr(6,2),5,0,0);
return false
}if(this.rangeHigh&&+c>+this.rangeHigh){if(!b){return true
}this.date=new Date(this.rangeHigh.substr(0,4),this.rangeHigh.substr(4,2)-1,this.rangeHigh.substr(6,2),5,0,0)
}return false
};
aO.prototype.canDateBeSelected=function(f){if(!f||isNaN(f)){return false
}var b=aR(f.getDate()),h=aR(f.getMonth()+1),d=f.getFullYear(),a=d+""+h+""+b,c=this.getDateExceptions(d,h),g=f.getDay()==0?7:f.getDay();
if(this.rangeLow&&+a<+this.rangeLow||this.rangeHigh&&+a>+this.rangeHigh||a in c&&c[a]==1||this.disabledDays[g-1]&&(!(a in c)||a in c&&c[a]==1)){return false
}return true
};
aO.prototype.updateStatus=function(d){be(this.statusBar);
if(d&&this.statusFormat.search(/%S/)!=-1&&d.search(/([0-9]{1,2})(st|nd|rd|th)/)!=-1){d=au(d.replace(/([0-9]{1,2})(st|nd|rd|th)/,"$1<sup>$2</sup>"),/<sup>|<\/sup>/);
var b=document.createDocumentFragment();
for(var f=0,c;
c=d[f];
f++){if(/^(st|nd|rd|th)$/.test(c)){var a=document.createElement("sup");
a.appendChild(document.createTextNode(c));
b.appendChild(a)
}else{b.appendChild(document.createTextNode(c))
}}this.statusBar.appendChild(b)
}else{this.statusBar.appendChild(document.createTextNode(d?d:ar(9)))
}};
aO.prototype.setDateFromInput=function(){var J=this.dateSet,x=false,D=this.staticPos?false:document.getElementById("fd-but-"+this.id),A=ay.imported?[].concat(aN.fullMonths).concat(aN.monthAbbrs):[],F=ay.imported?[].concat(ay.fullMonths).concat(ay.monthAbbrs):[],z=/(3[01]|[12][0-9]|0?[1-9])(st|nd|rd|th)/i,C=0,q=false,N,I,E,L,G,B,K,m,H,j,M;
this.dateSet=null;
for(E in this.formElements){L=document.getElementById(E);
if(!L){return false
}C++;
m=String(L.value);
if(!m){continue
}G=this.formElements[E];
N=[G];
q=false;
H=G.search(bc)!=-1;
j=G.search(aA)!=-1;
M=G.search(a3)!=-1;
if(!(H&&j&&M)){if(M&&!(j||H)){N=N.concat(["%Y","%y"])
}else{if(j&&!(M||H)){N=N.concat(["%M","%F","%m","%n"])
}else{if(H&&!(M||j)){N=N.concat(["%d%","%j"])
}}}}for(I=0;
I<N.length;
I++){q=ab(m,N[I]);
if(q){if(!B&&H&&q.d){B=q.d
}if(x===false&&j&&q.m){x=q.m
}if(!K&&M&&q.y){K=q.y
}}if((H&&B||!H)&&(j&&!x===false||!j)&&(M&&K||!M)){break
}}}if(ba&&(!B||x===false||!K)&&H&&j&&M&&C==1&&m){if(ay.imported){for(I=0;
I<F.length;
I++){m=m.replace(new RegExp(F[I],"i"),A[I])
}}if(m.search(z)!=-1){m=m.replace(z,m.match(z)[1])
}q=new Date(m.replace(new RegExp("-","g"),"/"));
if(q&&!isNaN(q)){B=q.getDate();
x=q.getMonth()+1;
K=q.getFullYear()
}}q=false;
if(B&&!(x===false)&&K){if(+B>bm(+x-1,+K)){B=bm(+x-1,+K);
q=false
}else{q=new Date(+K,+x-1,+B,5,0,0)
}}if(D){a9(D,"date-picker-dateval")
}if(!q||isNaN(q)){var k=new Date(K||(new Date).getFullYear(),!(x===false)?x-1:(new Date).getMonth(),1,5,0,0);
this.date=this.cursorDate?new Date(+this.cursorDate.substr(0,4),+this.cursorDate.substr(4,2)-1,+this.cursorDate.substr(6,2),5,0,0):new Date(k.getFullYear(),k.getMonth(),Math.min(+B||(new Date).getDate(),bm(k.getMonth(),k.getFullYear())),5,0,0);
this.outOfRange();
if(this.fullCreate){this.updateTable()
}return
}q.setHours(5);
this.date=new Date(q);
this.outOfRange();
if(q.getTime()==this.date.getTime()&&this.canDateBeSelected(this.date)){this.dateSet=new Date(this.date);
if(D){aB(D,"date-picker-dateval")
}this.returnFormattedDate(true)
}if(this.fullCreate){this.updateTable()
}};
aO.prototype.setSelectIndex=function(b,a){for(var c=b.options.length-1;
c>=0;
c--){if(b.options[c].value==a){b.selectedIndex=c;
return
}}};
aO.prototype.returnFormattedDate=function(k){var q=this.staticPos?false:document.getElementById("fd-but-"+this.id);
if(!this.dateSet){if(q){a9(q,"date-picker-dateval")
}return
}var d=aR(this.dateSet.getDate()),b=aR(this.dateSet.getMonth()+1),h=this.dateSet.getFullYear(),v=false,c,p,m,j;
k=!!k;
for(c in this.formElements){p=document.getElementById(c);
if(!p){return
}if(!v){v=p
}m=this.formElements[c];
j=ad(this.dateSet,m,aJ);
if(p.tagName.toLowerCase()=="input"){p.value=j
}else{this.setSelectIndex(p,j)
}}if(this.staticPos){this.noFocus=true;
this.updateTable();
this.noFocus=false
}else{if(q){aB(q,"date-picker-dateval")
}}if(this.fullCreate){if(v.type&&v.type!="hidden"&&!k){try{v.focus()
}catch(g){}}}if(!k){this.callback("datereturned",this.createCbArgObj())
}};
aO.prototype.disableDatePicker=function(){if(this.disabled){return
}if(this.staticPos){this.removeOnFocusEvents();
this.removeOldFocus();
this.noFocus=true;
aB(this.div,"date-picker-disabled");
this.table.onmouseover=this.table.onclick=this.table.onmouseout=this.table.onmousedown=null;
aS(document,"mousedown",this.onmousedown);
aS(document,"mouseup",this.clearTimer)
}else{if(this.visible){this.hide()
}var a=document.getElementById("fd-but-"+this.id);
if(a){aB(a,"date-picker-control-disabled");
a4(a,"disabled",true);
a.onkeydown=a.onclick=function(){return false
};
aY(a,-1);
a.title=""
}}clearTimeout(this.timer);
this.disabled=true
};
aO.prototype.enableDatePicker=function(){if(!this.disabled){return
}if(this.staticPos){this.removeOldFocus();
if(this.dateSet!=null){this.date=this.dateSet
}this.noFocus=true;
this.updateTable();
a9(this.div,"date-picker-disabled");
this.disabled=false;
this.table.onmouseover=this.onmouseover;
this.table.onmouseout=this.onmouseout;
this.table.onclick=this.onclick;
this.table.onmousedown=this.onmousedown
}else{var a=document.getElementById("fd-but-"+this.id);
if(a){a9(a,"date-picker-control-disabled");
a4(a,"disabled",false);
this.addButtonEvents(a);
a.title=ar(5)
}}this.disabled=false
};
aO.prototype.disableTodayButton=function(){var a=new Date;
a9(this.butToday,"fd-disabled");
if(this.outOfRange(a)||this.date.getDate()==a.getDate()&&this.date.getMonth()==a.getMonth()&&this.date.getFullYear()==a.getFullYear()){aB(this.butToday,"fd-disabled")
}};
aO.prototype.updateTableHeaders=function(){var d=this.showWeeks?8:7,b=this.showWeeks?1:0,f,c;
for(var a=b;
a<d;
a++){f=(this.firstDayOfWeek+(a-b))%7;
this.ths[a].title=bd(f,false);
if(a>b){c=this.ths[a].getElementsByTagName("span")[0];
be(c);
c.appendChild(document.createTextNode(bd(f,true)));
c.title=this.ths[a].title;
c=null
}else{be(this.ths[a]);
this.ths[a].appendChild(document.createTextNode(bd(f,true)))
}a9(this.ths[a],"date-picker-highlight");
if(this.highlightDays[f]){aB(this.ths[a],"date-picker-highlight")
}}if(this.created){this.updateTable()
}};
aO.prototype.callback=function(c,a){if(!c||!(c in this.callbacks)){return false
}var d=false,b;
for(b=0;
b<this.callbacks[c].length;
b++){d=this.callbacks[c][b](a||this.id)
}return d
};
aO.prototype.showHideButtons=function(b){if(!this.butPrevYear){return
}var a=b.getMonth(),c=b.getFullYear();
if(this.outOfRange(new Date(c-1,a,bm(+a,c-1),5,0,0))){aB(this.butPrevYear,"fd-disabled");
if(this.yearInc==-1){this.stopTimer()
}}else{a9(this.butPrevYear,"fd-disabled")
}if(this.outOfRange(new Date(c,+a-1,bm(+a-1,c),5,0,0))){aB(this.butPrevMonth,"fd-disabled");
if(this.monthInc==-1){this.stopTimer()
}}else{a9(this.butPrevMonth,"fd-disabled")
}if(this.outOfRange(new Date(c+1,+a,1,5,0,0))){aB(this.butNextYear,"fd-disabled");
if(this.yearInc==1){this.stopTimer()
}}else{a9(this.butNextYear,"fd-disabled")
}if(this.outOfRange(new Date(c,+a+1,1,5,0,0))){aB(this.butNextMonth,"fd-disabled");
if(this.monthInc==1){this.stopTimer()
}}else{a9(this.butNextMonth,"fd-disabled")
}};
var aN={fullMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbrs:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],dayAbbrs:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],titles:["Previous month","Next month","Previous year","Next year","Today","Show Calendar","wk","Week [[%0%]] of [[%1%]]","Week","Select a date","Click & Drag to move","Display [[%0%]] first","Go to Todays date","Disabled date :"],rtl:false,firstDayOfWeek:0,imported:false};
var bp=function(){if(!arguments.length){return[]
}var c=[];
for(var a=0;
a<arguments.length;
a++){for(var d=0,b;
b=arguments[a][d];
d++){c[c.length]=b
}}return c
};
var aV=function(){var b,a;
for(b in aw){for(a in aw[b].formElements){if(!document.getElementById(a)){aw[b].destroy();
aw[b]=null;
delete aw[b];
break
}}}};
var aP=function(b){var a;
for(a in aw){if(!aw[a].created||b&&b==aw[a].id){continue
}aw[a].hide()
}};
var bn=function(a){if(a in aw){if(!aw[a].created||aw[a].staticPos){return
}aw[a].hide()
}};
var ag=function(b,a){if(!(b in aw)){return false
}aw[b].clickActivated=!!!a;
aw[b].show(a);
return true
};
var bi=function(a){a=a||window.event;
if(a.persisted){return
}var b;
for(b in aw){aw[b].destroy();
aw[b]=null;
delete aw[b]
}aw=null;
aS(window,"unload",e.destroy)
};
var al=function(a){if(a&&a in aw){aw[a].destroy();
aw[a]=null;
delete aw[a]
}};
var ar=function(c,a){a=a||[];
if(ay.titles.length>c){var d=ay.titles[c];
if(a&&a.length){for(var b=0;
b<a.length;
b++){d=d.replace("[[%"+b+"%]]",a[b])
}}return d.replace(/[[%(\d)%]]/g,"")
}return""
};
var bd=function(b,a){var c=ay[a?"dayAbbrs":"fullDays"];
return c.length&&c.length>b?c[b]:""
};
var bl=function(b,a){var c=ay[a?"monthAbbrs":"fullMonths"];
return c.length&&c.length>b?c[b]:""
};
var bm=function(b,a){b=(b+12)%12;
return 0==a%4&&(0!=a%100||0==a%400)&&b==1?29:[31,28,31,30,31,30,31,31,30,31,30,31][b]
};
var af=function(b){if(b in an){return an[b]
}var a=new Date(b,0,4),c=new Date(b,11,28);
a.setDate(a.getDate()-(6+a.getDay())%7);
c.setDate(c.getDate()+(7-c.getDay())%7);
an[b]=Math.round((c-a)/604800000);
return an[b]
};
var aM=function(d,b,f){var f=new Date(d,b,f,0,0,0),c=f.getDay(),a;
f.setDate(f.getDate()-(c+6)%7+3);
a=f.valueOf();
f.setMonth(0);
f.setDate(4);
return Math.round((a-f.valueOf())/(7*86400000))+1
};
var ad=function(w,A,j){if(!w||isNaN(w)){return A
}var b=w.getDate(),m=w.getDay(),B=w.getMonth(),g=w.getFullYear(),z=j?ay:aN,y=String(A).split(a2),y=au(A,a2),v=[],k={d:aR(b),D:z.dayAbbrs[m==0?6:m-1],l:z.fullDays[m==0?6:m-1],j:b,N:m==0?7:m,w:m,W:aM(g,B,b),M:z.monthAbbrs[B],F:z.fullMonths[B],m:aR(B+1),n:B+1,t:bm(B,g),y:String(g).substr(2,2),Y:g,S:["th","st","nd","rd"][b%10>3?0:(b%100-b%10!=10)*b%10]},x=y.length,q,d;
for(d=0;
d<x;
d++){q=y[d];
v.push(q in k?k[q]:q)
}return v.join("")
};
var ab=function(x,C){var k=false,b=false,q=false,D=C.search(bc)!=-1?1:0,j=C.search(aA)!=-1?1:0,B=C.search(a3)!=-1?1:0,A=new Date,w=au(C,a2),x=""+x,m=w.length,z,v,g;
x:for(z=0;
z<m;
z++){v=w[z];
if(v===""){continue x
}if(x.length==0){break
}switch(v){case"/":case".":case" ":case"-":case",":case":":x=x.substr(1);
break;
case"d":if(x.search(/^(3[01]|[12][0-9]|0[1-9])/)!=-1){k=x.substr(0,2);
x=x.substr(2);
break
}else{return false
}case"j":if(x.search(/^(3[01]|[12][0-9]|[1-9])/)!=-1){k=+x.match(/^(3[01]|[12][0-9]|[1-9])/)[0];
x=x.substr(x.match(/^(3[01]|[12][0-9]|[1-9])/)[0].length);
break
}else{return false
}case"D":case"l":g=aN.fullDays.concat(aN.dayAbbrs);
if(ay.imported){g=g.concat(ay.fullDays).concat(ay.dayAbbrs)
}for(var y=0;
y<g.length;
y++){if((new RegExp("^"+g[y],"i")).test(x)){x=x.substr(g[y].length);
continue x
}}break;
case"N":case"w":if(x.search(v=="N"?/^([1-7])/:/^([0-6])/)!=-1){x=x.substr(1)
}break;
case"S":if(x.search(/^(st|nd|rd|th)/i)!=-1){x=x.substr(2)
}break;
case"W":if(x.search(/^([1-9]|[1234[0-9]|5[0-3])/)!=-1){x=x.substr(x.match(/^([1-9]|[1234[0-9]|5[0-3])/)[0].length)
}break;
case"M":case"F":g=aN.fullMonths.concat(aN.monthAbbrs);
if(ay.imported){g=g.concat(ay.fullMonths).concat(ay.monthAbbrs)
}for(var y=0;
y<g.length;
y++){if(x.search(new RegExp("^"+g[y],"i"))!=-1){x=x.substr(g[y].length);
b=(y+12)%12+1;
continue x
}}return false;
case"m":g=/^(1[012]|0[1-9])/;
if(x.search(g)!=-1){b=+x.substr(0,2);
x=x.substr(2);
break
}else{return false
}case"n":g=/^(1[012]|[1-9])/;
if(x.search(g)!=-1){b=+x.match(g)[0];
x=x.substr(x.match(g)[0].length);
break
}else{return false
}case"t":if(x.search(/2[89]|3[01]/)!=-1){x=x.substr(2);
break
}else{return false
}case"Y":if(x.search(/^(\d{4})/)!=-1){q=x.substr(0,4);
x=x.substr(4);
break
}else{return false
}case"y":if(x.search(/^(0[0-9]|[1-9][0-9])/)!=-1){q=x.substr(0,2);
q=+q<50?"20"+String(q):"19"+String(q);
x=x.substr(2);
break
}else{return false
}default:x=x.substr(v.length)
}}if(D&&k===false||j&&b===false||B&&q===false){return false
}if(D&&j&&B&&+k>bm(+b-1,+q)){return false
}return{d:D?+k:false,m:j?+b:false,y:B?+q:false}
};
var ae=function(c){var a;
if(c.parentNode&&c.parentNode.tagName.toLowerCase()=="label"){a=c.parentNode
}else{var d=document.getElementsByTagName("label");
for(var b=0;
b<d.length;
b++){if(d[b]["htmlFor"]&&d[b]["htmlFor"]==c.id||d[b].getAttribute("for")==c.id){a=d[b];
break
}}}if(a&&!a.id&&c.id){a.id=c.id+"_label"
}return a
};
var bh=function(){if(typeof window.fdLocale=="object"){ay={titles:fdLocale.titles,fullMonths:fdLocale.fullMonths,monthAbbrs:fdLocale.monthAbbrs,fullDays:fdLocale.fullDays,dayAbbrs:fdLocale.dayAbbrs,firstDayOfWeek:"firstDayOfWeek" in fdLocale?fdLocale.firstDayOfWeek:0,rtl:"rtl" in fdLocale?!!fdLocale.rtl:false,imported:true}
}else{if(!ay){ay=aN
}}};
var bg=function(){bh();
var a;
for(a in aw){if(!aw[a].created){continue
}aw[a].updateTable()
}};
var bj=function(a){return !(!a||!a.tagName||!(a.tagName.toLowerCase()=="input"&&(a.type=="text"||a.type=="hidden")||a.tagName.toLowerCase()=="select"))
};
var aI=function(o){bh();
if(aH===null){aH=bo()
}if(!o.formElements){if(ao){throw"No form elements stipulated within initialisation parameters"
}return
}o.id=o.id&&o.id in o.formElements?o.id:"";
o.enabledDates=false;
o.disabledDates=false;
var c={d:0,m:0,y:0},j=false,z=0,x=0,l,k,a,q,w,g,t;
for(q in o.formElements){w=document.getElementById(q);
if(!bj(w)){if(ao){throw"Element '"+q+"' is of the wrong type or does not exist within the DOM"
}return false
}if(!o.formElements[q].match(a0)){if(ao){throw"Element '"+q+"' has a date format that does not contain either a day (d|j), month (m|F|n) or year (y|Y) part: "+o.formElements[q]
}return false
}if(!o.id){o.id=q
}o.formElements[q].defaultVal=w.tagName=="select"?w.selectedIndex||0:w.defaultValue;
l={value:o.formElements[q]};
l.d=l.value.search(bc)!=-1;
l.m=l.value.search(aA)!=-1;
l.y=l.value.search(a3)!=-1;
if(l.d){c.d++
}if(l.m){c.m++
}if(l.y){c.y++
}if(w.tagName.toLowerCase()=="select"){var r=w.options;
if(l.d&&l.m&&l.y){j=false;
o.enabledDates={};
o.disabledDates={};
for(t=0;
t<r.length;
t++){g=ab(r[t].value,l.value);
if(g&&g.y&&!(g.m===false)&&g.d){a=g.y+""+aR(g.m)+aR(g.d);
if(!j){j=a
}o.enabledDates[a]=1;
if(!z||+a<+z){z=a
}if(!x||+a>+x){x=a
}}}if(!o.cursorDate&&j){o.cursorDate=j
}o.disabledDates[z]=x
}else{if(l.m&&l.y){for(t=0;
t<r.length;
t++){g=ab(r[t].value,l.value);
if(g.y&&!(g.m===false)){a=g.y+""+aR(g.m);
if(!z||+a<+z){z=a
}if(!x||+a>+x){x=a
}}}z+="01";
x+=""+bm(+x.substr(4,2)-1,+x.substr(0,4))
}else{if(l.y){for(t=0;
t<r.length;
t++){g=ab(r[t].value,l.value);
if(g.y){if(!z||+g.y<+z){z=g.y
}if(!x||+g.y>+x){x=g.y
}}}z+="0101";
x+="1231"
}}}}}if(!(c.d==1&&c.m==1&&c.y==1)){if(ao){throw"Could not find all of the required date parts within the date format for element: "+w.id
}return false
}o.rangeLow=a8(o.rangeLow||false);
o.rangeHigh=a8(o.rangeHigh||false);
o.cursorDate=a8(o.cursorDate||false);
if(z&&(!o.rangeLow||+o.rangeLow<+z)){o.rangeLow=z
}if(x&&(!o.rangeHigh||+o.rangeHigh>+z)){o.rangeHigh=x
}k={formElements:o.formElements,id:o.id,staticPos:!!(o.staticPos||o.nopopup),positioned:o.positioned&&document.getElementById(o.positioned)?o.positioned:"",rangeLow:o.rangeLow&&String(o.rangeLow).search(aL)!=-1?o.rangeLow:"",rangeHigh:o.rangeHigh&&String(o.rangeHigh).search(aL)!=-1?o.rangeHigh:"",statusFormat:o.statusFormat||aU,noFadeEffect:!!o.staticPos?true:!!o.noFadeEffect,dragDisabled:aE||!!o.staticPos?true:!!o.dragDisabled,bespokeTabIndex:o.bespokeTabindex&&typeof o.bespokeTabindex=="number"?parseInt(o.bespokeTabindex,10):0,bespokeTitles:o.bespokeTitles||aK||{},finalOpacity:o.finalOpacity&&typeof o.finalOpacity=="number"&&o.finalOpacity>20&&o.finalOpacity<=100?parseInt(+o.finalOpacity,10):!!o.staticPos?100:az,hideInput:!!o.hideInput,noToday:!!o.noTodayButton,showWeeks:!!o.showWeeks,fillGrid:!!o.fillGrid,constrainSelection:"constrainSelection" in o?!!o.constrainSelection:true,cursorDate:o.cursorDate&&String(o.cursorDate).search(aL)!=-1?o.cursorDate:"",labelledBy:ae(w),describedBy:o.describedBy&&document.getElementById(o.describedBy)?o.describedBy:aq&&document.getElementById(aq)?aq:"",callbacks:o.callbackFunctions?o.callbackFunctions:{},highlightDays:o.highlightDays&&o.highlightDays.length&&o.highlightDays.length==7?o.highlightDays:[0,0,0,0,0,1,1],disabledDays:o.disabledDays&&o.disabledDays.length&&o.disabledDays.length==7?o.disabledDays:[0,0,0,0,0,0,0],bespokeClass:o.bespokeClass?" "+o.bespokeClass:""};
aw[o.id]=new aO(k);
if("disabledDates" in o&&!(o.disabledDates===false)){aw[o.id].setDisabledDates(o.disabledDates)
}if("enabledDates" in o&&!(o.enabledDates===false)){aw[o.id].setEnabledDates(o.enabledDates)
}aw[o.id].callback("create",aw[o.id].createCbArgObj())
};
var aa=function(a){return !a||!(a in aw)?false:aw[a].visible
};
var ac=function(){var a;
for(a in aw){if(aw.hasOwnProperty(a)){aw[a].changeHandler()
}}};
var bo=function(){var d="Webkit Moz ms O".split(" "),b=document.createElement("div"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"},c;
for(c in f){if(b.style[c]!==undefined){aD=f[c];
break
}}if(!aD){return false
}if(b.style.animationName){return true
}for(var a=0;
a<d.length;
a++){if(b.style[d[a]+"AnimationName"]!==undefined){return true
}}return false
};
aQ(window,"unload",bi);
aQ(window,"load",function(){setTimeout(ac,0)
});
if(a7){aB(document.documentElement,"oldie")
}return{addEvent:function(b,a,c){return aQ(b,a,c)
},removeEvent:function(b,a,c){return aS(b,a,c)
},stopEvent:function(a){return bk(a)
},show:function(a){return ag(a,false)
},hide:function(a){return bn(a)
},createDatePicker:function(a){aI(a)
},destroyDatePicker:function(a){al(a)
},cleanUp:function(){aV()
},printFormattedDate:function(b,a,c){return ad(b,a,c)
},setDateFromInput:function(a){if(!a||!(a in aw)){return false
}aw[a].setDateFromInput()
},setRangeLow:function(b,a){if(!b||!(b in aw)){return false
}aw[b].setRangeLow(a8(a))
},setRangeHigh:function(b,a){if(!b||!(b in aw)){return false
}aw[b].setRangeHigh(a8(a))
},setBespokeTitles:function(b,a){if(!b||!(b in aw)){return false
}aw[b].setBespokeTitles(a)
},addBespokeTitles:function(b,a){if(!b||!(b in aw)){return false
}aw[b].addBespokeTitles(a)
},parseDateString:function(b,a){return ab(b,a)
},setGlobalOptions:function(a){aX(a)
},setSelectedDate:function(b,a){if(!b||!(b in aw)){return false
}aw[b].setSelectedDate(a8(a))
},dateValidForSelection:function(b,a){if(!b||!(b in aw)){return false
}return aw[b].canDateBeSelected(a)
},addDisabledDates:function(b,a){if(!b||!(b in aw)){return false
}aw[b].addDisabledDates(a)
},setDisabledDates:function(b,a){if(!b||!(b in aw)){return false
}aw[b].setDisabledDates(a)
},addEnabledDates:function(b,a){if(!b||!(b in aw)){return false
}aw[b].addEnabledDates(a)
},setEnabledDates:function(b,a){if(!b||!(b in aw)){return false
}aw[b].setEnabledDates(a)
},disable:function(a){if(!a||!(a in aw)){return false
}aw[a].disableDatePicker()
},enable:function(a){if(!a||!(a in aw)){return false
}aw[a].enableDatePicker()
},setCursorDate:function(b,a){if(!b||!(b in aw)){return false
}aw[b].setCursorDate(a8(a))
},getSelectedDate:function(a){return !a||!(a in aw)?false:aw[a].returnSelectedDate()
},loadLanguage:function(){bg()
},setDebug:function(a){ao=!!a
},dateToYYYYMMDDStr:function(a){return a8(a)
}}
}();
(function(c){!c.addEventListener&&c.Element&&(function(){function f(g,h){Window.prototype[g]=HTMLDocument.prototype[g]=Element.prototype[g]=h
}var d=[];
f("addEventListener",function(g,h){var j=this;
d.unshift({__listener:function(k){k.currentTarget=j;
k.pageX=k.clientX+document.documentElement.scrollLeft;
k.pageY=k.clientY+document.documentElement.scrollTop;
k.preventDefault=function(){k.returnValue=false
};
k.relatedTarget=k.fromElement||null;
k.stopPropagation=function(){k.cancelBubble=true
};
k.relatedTarget=k.fromElement||null;
k.target=k.srcElement||j;
k.timeStamp=+new Date;
h.call(j,k)
},listener:h,target:j,type:g});
this.attachEvent("on"+g,d[0].__listener)
});
f("removeEventListener",function(h,k){for(var g=0,j=d.length;
g<j;
++g){if(d[g].target==this&&d[g].type==h&&d[g].listener==k){return this.detachEvent("on"+h,d.splice(g,1)[0].__listener)
}}});
f("dispatchEvent",function(g){try{return this.fireEvent("on"+g.type,g)
}catch(j){for(var h=0,k=d.length;
h<k;
++h){if(d[h].target==this&&d[h].type==g.type){d[h].call(this,g)
}}}})
})();
function b(){var d=false;
(function(f){if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(f.substr(0,4))){d=true
}})(navigator.userAgent||navigator.vendor||c.opera);
return d
}!String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")
});
function a(f,d){this.el=f;
this.searchbtnEl=f.querySelector("form div.header-search-container");
this.inputEl=f.querySelector("form input.header-search-input");
this._initEvents()
}a.prototype={_initEvents:function(){var d=this,f=function(g){g.stopPropagation();
d.inputEl.value=d.inputEl.value.trim();
if(!classie.has(d.el,"header-search-open")){g.preventDefault();
d.open()
}else{if(classie.has(d.el,"header-search-open")&&/^\s*$/.test(d.inputEl.value)){g.preventDefault();
d.close()
}}};
this.searchbtnEl.addEventListener("click",f);
this.searchbtnEl.addEventListener("touchstart",f);
this.inputEl.addEventListener("click",function(g){g.stopPropagation()
});
this.inputEl.addEventListener("touchstart",function(g){g.stopPropagation()
})
},open:function(){var f=this;
classie.add(this.el,"header-search-open");
if(!b()){this.inputEl.focus()
}var d=function(g){f.close();
this.removeEventListener("click",d);
this.removeEventListener("touchstart",d)
};
document.addEventListener("click",d);
document.addEventListener("touchstart",d)
},close:function(){this.inputEl.blur();
classie.remove(this.el,"header-search-open")
}};
c.UISearch=a
})(window);
var Carousel={init:function(f){$(f).removeAttr("data-init-me");
var c=$(f).prev("ul.carousel-pages");
var a=c.children("li");
var d=a.first().width();
var g=typeof $(f).attr("data-mode")!="undefined"?$(f).attr("data-mode"):"default";
if(g=="ribbon"){c.css("width",d*a.length)
}if(a.length){var b=0;
$(f).find("span.arrow, span.pip").each(function(){b+=$(this).width()
});
if(b>d){$(f).addClass("numeric-controls").find("span.pip").remove().end().find("span.arrow.previous").after($('<span class="numeric"><strong>1</strong> / '+a.length+"</span>"))
}$(f).find("span.arrow").on("click",function(l){var k=a.filter(".active");
var j=$(this).hasClass("next")?1:($(this).hasClass("previous")?-1:0);
var h=a.index(k)+j;
if(h<0){h=a.length-1
}if(h>=a.length){h=0
}k.removeClass("active");
a.eq(h).addClass("active");
if($(f).hasClass("numeric-controls")){$(f).find("span.numeric").find("strong").text(h+1)
}else{$(f).find("span.pip").filter(".active").removeClass("active").end().eq(h).addClass("active")
}if(g=="ribbon"){c.animate({marginLeft:d*-h},200)
}})
}}};
$(document).on("star_component_init",function(){$(".carousel-bar[data-init-me]").each(function(){Carousel.init(this)
})
});
$(document).on("star_component_init",function(){$(".photo-gallery[data-init-me]").each(function(){$(this).removeAttr("data-init-me");
var a=$(this).find("ul.thumbnails").children("li");
var c=$(this);
var b=function(d){d.find(".carousel-pages").find("img").on("click",function(){var v=$(this).closest(".carousel-pages");
var q=$(this).attr("src");
var p=v.attr("data-title");
var j=v.attr("data-url");
var g=typeof v.attr("data-image-ids")!="undefined"?v.attr("data-image-ids").replace(/(^\[|\]$)/g,"").split("]["):null;
var o=typeof v.attr("data-image-uris")!="undefined"?v.attr("data-image-uris").replace(/(^\[|\]$)/g,"").split("]["):null;
var k=typeof v.attr("data-image-credits")!="undefined"?v.attr("data-image-credits").replace(/(^\[|\]$)/g,"").split("]["):null;
var m=typeof v.attr("data-image-captions")!="undefined"?v.attr("data-image-captions").replace(/(^\[|\]$)/g,"").split("]["):null;
var r=typeof v.attr("data-sidebar")!="undefined"?v.attr("data-sidebar"):"";
var l=$('<div class="photo-gallery-lightbox"/>');
var h=$('<div class="container float-clear"/>');
var u=$('<div class="heading float-clear"/>').append($('<p class="headline">'+p+"</p>")).append($('<ul class="buttons float-clear"/>').append($("<li/>").append($('<div class="facebook-like-button"><div class="fb-like" data-href="'+j+'" data-send="false" data-layout="button_count" data-width="100" data-show-faces="false" data-font="arial"></div></div>'))).append($("<li/>").append($('<div class="twitter-tweet-button"><a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-text="'+p+'" data-url="'+j+'" data-via="torontostar" data-count="none">Tweet</a></div>'))).append($("<li/>").append($('<div class="google-plusone-button"><div class="g-plusone" data-size="medium" data-annotation="none" data-href="'+j+'"/></div>'))).append($('<li class="close-box"><span>Close</span></li>')));
setTimeout(function(){if(typeof FB!="object"){return
}FB.XFBML.parse($(".photo-gallery-lightbox").get(0));
twttr.widgets.load();
gapi.plusone.go($(".photo-gallery-lightbox").get(0))
},0);
var t=$('<div class="slideshow float-clear"/>').append($("<ul/>").append($("<li/>").addClass("loading")));
var n=$('<div class="content float-clear"/>').append(t).append($("<div/>").addClass("caption").addClass("float-clear").append($("<div/>").addClass("info").addClass("float-clear").append($("<p/>").addClass("counter").append("Photo: <span>?</span>")).append($("<p/>").addClass("credit").html("&nbsp;"))).append($("<p/>").addClass("description").html("Loading...")));
var f=$('<div class="sidebar"/>');
l.append(u).append(h.append(n).append(f));
l.dialog({modal:true,width:990,autoOpen:false,resizable:false,draggable:false,zIndex:999999,create:function(w){$(w.target).parent().css("position","fixed");
$(w.target).parent().find(".ui-dialog-titlebar").remove()
},open:function(w,x){var y=$(this);
$(this).find(".close-box").on("click",function(){y.dialog("close")
});
ARPG.openDialog(l,g,o,k,m,r,q)
},close:function(w,x){f.find("script").remove();
$(this).dialog("destroy").remove();
$(document).off("keyup",ARPG.changeSlide)
}}).dialog("open")
})
};
b(c);
if(a.length){$(this).find(".slider-arrow").on("click",function(h){var g=a.filter(".active");
var f=$(this).hasClass("next")?1:($(this).hasClass("previous")?-1:0);
var d=a.index(g)+f;
if(d<0){d=a.length-1
}if(d>=a.length){d=0
}g.removeClass("active");
a.eq(d).addClass("active")
});
$(this).find(".thumbnail-slider").find("img").on("click",function(w){var k=$(this).attr("src");
var n=$(this).attr("alt");
var j=$(this).attr("data-url");
var d=$(this).attr("data-image-ids");
var y=$(this).attr("data-image-uris");
var p=$(this).attr("data-image-credits");
var h=$(this).attr("data-image-captions");
var f=$(this).attr("data-sidebar");
var l=$(this).attr("data-abst");
var o=$(this).attr("data-images").replace(/(\[|\])/g,"").split(",");
var v=c.find(".carousel-bar");
v.find("span.arrow").off("click");
v.find("span.pip, span.numeric").remove().end().removeClass("numeric-controls");
v.find("span.arrow.previous").after($('<span class="loading">Loading</span>'));
c.find(".carousel-pages").find("li").remove().end().append($("<li/>").append($('<img src="'+k+'" alt="Loading..."/>')));
var t=0;
var z=$('<ul class="carousel-pages float-clear"/>').attr("data-title",n).attr("data-image-ids",d).attr("data-image-uris",y).attr("data-image-credits",p).attr("data-image-captions",h).attr("data-sidebar",f).attr("data-url",j);
var r=$("<div/>");
for(var u=0;
u<o.length;
u++){(function(A){o[A]=($("<img/>").attr("src",o[A]+"?"+new Date().getTime()).load(function(){t++;
if(t==o.length){for(var B=0;
B<o.length;
B++){z.append($("<li/>").addClass(B==0?"active":"").append(o[B].attr("alt","Image "+(B+1)+" of "+o.length)).append($("<span>zoom</span>")));
r.append($('<span class="pip">'+(B+1)+"</span>").addClass(B==0?"active":""))
}c.find(".carousel-pages").replaceWith(z);
v.find("span.loading").replaceWith(r.children());
b(c);
Carousel.init(v)
}}))
})(u)
}var x=c.find("div.info");
var g=x.find("p.headline");
var m=x.find("p.abstract");
var q=x.find("div.social");
g.empty().append($('<a href="'+j+'">'+n+"</a>"));
if(l.length){if(m.length){m.empty().text(l)
}else{g.after('<p class="abstract">'+l+"</p>")
}}else{m.remove()
}if(q.length){q.find("div.facebook-like-button").empty().append($('<div class="fb-like" data-href="'+j+'" data-send="false" data-layout="button_count" data-width="100" data-show-faces="false" data-font="arial"></div>'));
q.find("div.twitter-tweet-button").empty().append($('<a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-text="'+n+'" data-url="'+j+'" data-via="torontostar" data-count="none">Tweet</a>'));
q.find("div.google-plusone-button").empty().append($('<div class="g-plusone" data-size="medium" data-annotation="none" data-href="'+j+'"/>'));
setTimeout(function(){if(typeof FB!="object"){return
}FB.XFBML.parse(q.get(0));
twttr.widgets.load();
gapi.plusone.go(q.get(0))
},0)
}$(this).closest(".thumbnail-slider").find("img.active").removeClass("active").end().end().addClass("active")
})
}})
});
$(document).on("star_component_init",function(){$(".pinwheel-box[data-init-me]").each(function(){var c=function(d){return $("<div/>").html(d).text()
};
var b=$(this);
b.removeAttr("data-init-me");
var a={image:typeof b.attr("data-image")!="undefined"?c(b.attr("data-image")):"",credit:typeof b.attr("data-credit")!="undefined"?c(b.attr("data-credit")):"",headline:typeof b.attr("data-headline")!="undefined"?c(b.attr("data-headline")):"",url:typeof b.attr("data-url")!="undefined"?c(b.attr("data-url")):"",text:typeof b.attr("data-text")!="undefined"?c(b.attr("data-text")):""};
b.find(".pinwheel-image, .more-link").on("click",function(){var f=$('<div class="pinwheel-lightbox"/>');
var d=$('<div class="container float-clear"/>');
var g=$('<div class="pinwheel-image"/>').append($('<img src="'+a.image+'" alt="'+a.headline+'" />'));
var h=$('<div class="pinwheel-text"/>').append($('<ul class="buttons float-clear"/>').append($('<li class="close-box"><span>Close</span></li>'))).append($('<p class="headline">'+a.headline+"</p>")).append(a.text.length?$('<div class="abstract">'+a.text+"</div>"):"").append(a.url.length?$('<div class="more-link"><a href="'+a.url+'">Read More</a></div>'):"");
if(a.url.length){h.find(".close-box").before($("<li/>").append($('<div class="facebook-like-button"><div class="fb-like" data-href="'+a.url+'" data-send="false" data-layout="button_count" data-width="100" data-show-faces="false" data-font="arial"></div></div>')));
h.find(".close-box").before($("<li/>").append($('<div class="twitter-tweet-button"><a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-text="'+a.headline+'" data-url="'+a.url+'" data-via="torontostar" data-count="none">Tweet</a></div>')));
h.find(".close-box").before($("<li/>").append($('<div class="google-plusone-button"><div class="g-plusone" data-size="medium" data-annotation="none" data-href="'+a.url+'"/></div>')));
setTimeout(function(){if(typeof FB!="object"){return
}FB.XFBML.parse($(".pinwheel-lightbox").get(0));
twttr.widgets.load();
gapi.plusone.go($(".pinwheel-lightbox").get(0))
},0)
}f.append(d.append(g).append(h));
if(a.credit.length){f.append('<div class="footer-credit">by <span>'+a.credit+"</span></div>")
}f.dialog({modal:true,width:990,autoOpen:false,resizable:false,draggable:false,zIndex:999999,create:function(j){$(j.target).parent().css("position","fixed");
$(j.target).parent().find(".ui-dialog-titlebar").remove()
},open:function(j,k){var l=$(this);
$(this).find(".close-box").on("click",function(){l.dialog("close")
});
$(this).find("a").filter(function(){return this.hostname&&this.hostname!==location.hostname
}).attr("target","_blank")
},close:function(j,k){$(this).dialog("destroy").remove()
}}).dialog("open")
})
})
});
$(document).on("star_component_init",function(){$(".graphic-lightbox-cta[data-init-me]").each(function(){var d=function(f){return $("<div/>").html(f).text()
};
var b=$(this);
b.removeAttr("data-init-me");
var c=b.html().match(/<!--([\S\s]*?)-->/);
if(c){var a={headline:typeof b.attr("data-headline")!="undefined"?d(b.attr("data-headline")):"",caption:typeof b.attr("data-caption")!="undefined"?d(b.attr("data-caption")):"",storyURL:typeof b.attr("data-story-url")!="undefined"?d(b.attr("data-story-url")):"",storyTitle:typeof b.attr("data-story-title")!="undefined"?d(b.attr("data-story-title")):"",credit:typeof b.attr("data-credit")!="undefined"?d(b.attr("data-credit")):"",content:c[1]};
b.find(".cta-container").on("click",function(){var h=$('<div class="graphic-lightbox"/>');
var f=$('<div class="container float-clear"/>');
var j=$('<div class="heading float-clear"/>').append($('<p class="headline">'+a.headline+"</p>")).append($('<ul class="buttons float-clear"/>').append($('<li class="close-box"><span>Close</span></li>')));
h.append(j).append(f.append($("<div/>").addClass("graphic-wrapper")));
if(a.caption.length||a.storyURL.length){var g=$('<div class="caption float-clear"/>');
if(a.caption.length){g.append($("<p>"+a.caption+"</p>"))
}if(a.storyURL.length){g.append($('<p><strong>Related:</strong> <a href="'+a.storyURL+'">'+a.storyTitle+"</a></p>"))
}h.append(g)
}if(a.credit.length){h.append('<div class="footer-credit">'+a.credit+"</div>")
}h.dialog({modal:true,width:1022,autoOpen:false,resizable:false,draggable:false,zIndex:999999,create:function(m){$(m.target).parent().css("position","fixed");
$(m.target).parent().find(".ui-dialog-titlebar").remove();
var l=$(m.target).parent().height();
var n=$(m.target).parent().find(".container").height();
var k=$(window).height()-200-(l-n);
if(k<400){k=400
}$(m.target).parent().find(".container").css("height",k+"px")
},open:function(k,l){var m=$(this);
$(this).find(".close-box").on("click",function(){m.dialog("close")
});
$(this).find("a").filter(function(){return this.hostname&&this.hostname!==location.hostname
}).attr("target","_blank");
$(this).find(".graphic-wrapper").get(0).innerHTML=a.content
},close:function(k,l){$(this).dialog("destroy").remove()
}}).dialog("open")
})
}})
});
var Article={defaultFontSize:14,intervalId:null,hideCaptchaFrame:function(){setTimeout(function(){$('iframe[src="about:blank"]').hide()
},100)
},killCaptchaFrame:function(){$('iframe[src="about:blank"]').remove()
},loadCaptcha:function(){Article.killCaptchaFrame();
Recaptcha.create("6LeG9NISAAAAAJFPw9O2nBv-8oC3B8mt2oUHBSjl","recaptcha_div",{theme:"clean"});
Article.hideCaptchaFrame()
},setEmailMessage:function(b,c,a){b.find("fieldset.message").text(c).removeClass("success").removeClass("error").addClass(a).show()
},setReportErrorMessage:function(b,c,a){b.find("fieldset.message").text(c).removeClass("success").removeClass("error").addClass(a).show()
},muteMainartVideo:function(a){brightcove.getExperience(a).getModule(APIModules.VIDEO_PLAYER).mute(true)
},turndownMainartVideo:function(a){brightcove.getExperience(a).getModule(APIModules.VIDEO_PLAYER).setVolume(0.5)
},videoPage:{},loadRelatedVideos:function(c){if(brightcove.api.getExperience(c)){var a=$("<object/>").addClass("BrightcoveExperience").attr("id",c).append($("<param/>").attr("name","bgcolor").attr("value","#f9f9f9")).append($("<param/>").attr("name","width").attr("value","542")).append($("<param/>").attr("name","height").attr("value","307")).append($("<param/>").attr("name","htmlFallback").attr("value","true")).append($("<param/>").attr("name","playerID").attr("value","2071349530001")).append($("<param/>").attr("name","playerKey").attr("value",'AQ~~,AAAAuO4KaJE~,gatFNwSKdGDmDpIYqNJ-fTHn_c4z_LH_"')).append($("<param/>").attr("name","isVid").attr("value","true")).append($("<param/>").attr("name","isUI").attr("value","true")).append($("<param/>").attr("name","wmode").attr("value","transparent")).append($("<param/>").attr("name","dynamicStreaming").attr("value","true")).append($("<param/>").attr("name","secureConnections").attr("value",(document.location.protocol=="https:"?"true":"false"))).append($("<param/>").attr("name","videoID").attr("value",c.replace("player-",""))).append($("<param/>").attr("name","includeAPI").attr("value","true"));
$("#"+c).closest(".article-story").find(".video-placeholder").css("height","307px").empty().append($(a));
brightcove.createExperiences()
}else{BCMAPI.token="K4YeC-5GUQ7wbdfYgF0ZhUW6AW-pbspywoZIX974aQg3NhfImuYy-Q..";
brightcove.getExperience(c).getModule(APIModules.CONTENT).addEventListener(BCContentEvent.MEDIA_COLLECTION_LOAD,Article.loadCollection);
brightcove.getExperience(c).getModule(APIModules.VIDEO_PLAYER).addEventListener(BCMediaEvent.CHANGE,Article.updateVideoPageTitle);
Article.videoPage.id=c;
Article.videoPage.list=brightcove.getExperience(c).getModule(APIModules.EXPERIENCE).getElementByID("videoList");
Article.videoPage.content=brightcove.getExperience(c).getModule(APIModules.CONTENT);
var b={};
b.video_id=c.replace("player-","");
b.video_fields="id,name,shortDescription";
b.custom_fields="adcategory";
BCMAPI.callback="Article.getVideoInfo";
BCMAPI.find("find_video_by_id",b)
}if(typeof window.onTemplateLoaded=="function"){window.onTemplateLoaded(c)
}},getVideoInfo:function(a){var b="";
if(typeof a.customFields!="undefined"&&typeof a.customFields.adcategory!="undefined"){b=a.customFields.adcategory
}BCMAPI.callback="Article.getRelatedVideos";
var c={};
c.video_fields="id,name,shortDescription";
c.custom_fields="adcategory";
c.page_size=8;
c.sort_by="PLAYS_TRAILING_WEEK:DESC";
if(b.length){c.any="adcategory:"+b
}BCMAPI.find("search_videos",c)
},getRelatedVideos:function(c){if(typeof Article.videoPage.list!="undefined"&&typeof c.items!="undefined"){var b=[];
b.push(Article.videoPage.id.replace("player-",""));
for(var a=0;
a<c.items.length;
a++){var d=c.items[a].id+"";
if($.inArray(d,b)<0){b.push(d)
}}Article.videoPage.content.getMediaInGroupAsynch(b)
}},loadCollection:function(c){var b=new Array();
for(var a=0;
a<c.mediaCollection.mediaCount;
a++){b[a]=Article.videoPage.content.getMedia(c.mediaCollection.mediaIds[a])
}Article.videoPage.list.setData(b)
},updateVideoPageTitle:function(a){$(".article-headline h1").html(a.media.displayName);
$(".article-headline h2.subheadline").html(a.media.shortDescription)
},exploreThisStoryBar:function(){var a=$(".explore-this-story");
if(!a.length){return
}var c=a.offset().top;
var b=$(".explore-this-story-items");
a.width(a.parent().width());
$(".explore-menu").click(function(){b.is(":hidden")?b.fadeIn():b.slideUp()
});
$(function(){$(".text-decrease,.text-increase,.print-article,.email-article,.explore-menu").hover(function(f){var d=$(this).attr("title");
$(this).data("tiptext",d).removeAttr("title");
$('<p class="tooltip"></p>').text(d).appendTo("body").css("top",(f.pageY-10)+"px").css("left",(f.pageX+20)+"px").fadeIn("slow")
},function(){$(this).attr("title",$(this).data("tiptext"));
$(".tooltip").remove()
}).mousemove(function(d){$(".tooltip").css("top",(d.pageY-10)+"px").css("left",(d.pageX+20)+"px")
})
});
$(window).scroll(function(){var d=$(window).scrollTop();
if(d>c&&!a.hasClass("fixed")){a.addClass("fixed");
$(".mainart").css("margin-top","60px");
b.slideUp()
}else{if(d<c&&a.hasClass("fixed")){a.removeClass("fixed");
$(".mainart").css("margin-top","0px");
b.slideUp()
}}})
}};
$(document).ready(function(){if($("body.type-story").length&&$("#google-multivar").length&&(typeof currentState!="undefined"&&currentState.toLowerCase()=="disabled")){var a=$("<div/>").addClass("multivar float-clear").append($("<p/>").append(" Get breaking news stories sent to your inbox as they happen.")).append($("<a/>").addClass("button").attr("href","http://www3.thestar.com/static/newsletter/email_registration.html").append("Sign Up").click(function(){_gaq.push(["_trackEvent","ArticleMultivarTest","ClickedCTA"])
}));
if(_star_qs_params.cta){if(_star_qs_params.cta=="bottom"){$(".story-footer").prepend(a.addClass("bottom"))
}else{if(_star_qs_params.cta=="right"){$(".right-rail > .toprightrail").append(a.addClass("right"))
}else{if(_star_qs_params.cta=="explore"){$(".article-story-body").before(a.addClass("explore"))
}}}}}if($(".article-story-body").length){var b=$.cookie("article-font-size");
if(b!=null){$(".article-story-body").css("font-size",b+"px")
}}$("div.facebook-share").on("click",function(c){if(typeof FB!="object"){return
}FB.ui({method:"feed",link:$(this).attr("data-href")},function(f){if(f&&f.post_id){try{SiteCatalyst.trackFbShare(c.target)
}catch(d){}}})
});
$(".explore-this-story .icopyright a").on("click",function(d){d.preventDefault();
var c=$('<div class="email-lightbox"/>').append($('<div class="container float-clear"/>').append($('<div class="logobar float-clear"/>').append($('<div class="logo"/>').text("thestar.com")).append($('<div class="close-box"/>').text("Close"))).append($('<div class="article-info"/>').append($("<h2/>").text("Republish with iCopyright")))).append($('<div class="iframe-container"/>').append($("<iframe/>").attr("src",$(this).attr("href")).css("height",480)));
c.dialog({modal:true,width:548,autoOpen:false,resizable:false,draggable:false,zIndex:999999,create:function(f){$(f.target).parent().css("position","fixed");
$(f.target).parent().find(".ui-dialog-titlebar").remove()
},open:function(f,g){var h=$(this);
$(this).find(".close-box").on("click",function(){h.dialog("close")
})
},close:function(f,g){$(this).dialog("destroy").remove()
}}).dialog("open")
});
$(".reddit-button a").on("click",function(d){d.preventDefault();
try{SiteCatalyst.trackReddir(d.target)
}catch(c){}window.open("http://www.reddit.com/submit?url="+encodeURIComponent($(this).attr("data-url")))
});
$(".article-toolbar .print-article, .explore-this-story-items .print-article").on("click",function(d){try{SiteCatalyst.trackArticlePrint($(d.target).text(),d.target)
}catch(c){}window.open($(this).attr("data-printurl"))
});
$(".article-toolbar .text-increase, .article-toolbar .text-decrease, .explore-this-story-items .text-increase, .explore-this-story-items .text-decrease").on("click",function(){var c=parseInt($(".article-body > .feature div.article-story .article-story-body").css("font-size").replace("px",""),10);
c=c+($(this).hasClass("text-increase")?1:-1);
if(c>Article.defaultFontSize+4){c=Article.defaultFontSize+4
}if(c<Article.defaultFontSize-4){c=Article.defaultFontSize-4
}$(".article-body > .feature div.article-story .article-story-body").css("font-size",c+"px");
$.cookie("article-font-size",String(c),{expires:1095,path:"/"})
});
$(".article-toolbar .text-reset").on("click",function(){$(".article-body > .feature div.article-story .article-story-body").css("font-size",Article.defaultFontSize+"px");
$.cookie("article-font-size",null,{path:"/"})
});
$(".article-toolbar .email-article, .explore-this-story-items .email-article").on("click",function(d){try{SiteCatalyst.trackArticleEmail($(d.target).text(),d.target)
}catch(c){}var f=$(this).attr("data-emailurl");
$('<div class="email-lightbox"/>').load(f,function(){$(this).dialog({modal:true,width:462,autoOpen:false,resizable:false,draggable:false,zIndex:999999,create:function(g){var h=$(this);
$(g.target).parent().css("position","fixed");
$(g.target).parent().find(".ui-dialog-titlebar").remove();
$.getScript("https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(j,l,k){Article.loadCaptcha()
});
$("form#sendtoafriend").on("submit",function(o){o.preventDefault();
var m=$(this);
m.find("fieldset.message").empty().hide().removeClass("error").removeClass("success");
var n=unescape($.trim(m.find("#storyHeadline").val()));
var j=unescape($.trim(m.find("#storySubheadline").val()));
var l="Story from the thestar.com: "+n;
var k=($.trim(m.find("#yourname").val()).length?$.trim(m.find("#yourname").val()):$.trim(m.find("#emailfrom").val()))+" has shared a story with you from thestar.com:";
$.ajax({type:"GET",url:m.find("#postUrl").val(),dataType:"json",data:{yourname:$.trim(m.find("#yourname").val()),emailfrom:$.trim(m.find("#emailfrom").val()),emailto:$.trim(m.find("#emailto").val()),emailbody:$.trim(m.find("#emailbody").val()),recaptcha_response_field:m.find("input#recaptcha_response_field").val(),recaptcha_challenge_field:m.find("input#recaptcha_challenge_field").val(),emailsubject:l,story_Headline:n,story_Subheadline:j,stroy_AbsoluteUrl:m.find("#storyAbsoluteUrl").val(),emailbodyintro:k},success:function(p){switch(p.msg){case"success":Article.setEmailMessage(m,"Your email has been sent successfully!","success");
m.find("fieldset.humans").remove();
setTimeout(function(){h.dialog("close")
},3000);
break;
case"email error":Article.loadCaptcha();
Article.setEmailMessage(m,"ERROR: please verify the info you provided is correct.","error");
break;
case"captcha error":Article.loadCaptcha();
Article.setEmailMessage(m,"ERROR: please try the ReCaptcha again.","error");
break
}},error:function(p,r,q){Article.loadCaptcha();
Article.setEmailMessage(m,"ERROR: the server encountered an issue. Please try again.","error")
}})
})
},open:function(g,h){var j=$(this);
$(this).find(".close-box").on("click",function(){j.dialog("close")
})
},close:function(g,h){$(this).dialog("destroy").remove();
Article.killCaptchaFrame()
}}).dialog("open")
})
});
$(".article-toolbar .error-article, .explore-this-story-items .error-article").on("click",function(){var c=$(this).attr("data-errorurl");
$('<div class="email-lightbox"/>').load(c,function(){$(this).dialog({modal:true,width:462,autoOpen:false,resizable:false,draggable:false,zIndex:999999,create:function(d){var f=$(this);
$(d.target).parent().css("position","fixed");
$(d.target).parent().find(".ui-dialog-titlebar").remove();
$.getScript("https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(g,j,h){Article.loadCaptcha()
});
$("form#reportanerror").on("submit",function(j){j.preventDefault();
var g=$(this);
g.find("fieldset.message").empty().hide().removeClass("error").removeClass("success");
var h=unescape($.trim(g.find("#storyHeadline").val()));
$.ajax({type:"GET",url:g.find("#postUrl").val(),dataType:"json",data:{yourname:$.trim(g.find("#yourname").val()),emailfrom:$.trim(g.find("#emailfrom").val()),phone:$.trim(g.find("#phone").val()),emailbody:$.trim(g.find("#emailbody").val()),recaptcha_response_field:g.find("input#recaptcha_response_field").val(),recaptcha_challenge_field:g.find("input#recaptcha_challenge_field").val(),topic:$.trim(g.find("#issue").val()),story_Headline:h,stroy_AbsoluteUrl:g.find("#storyAbsoluteUrl").val()},success:function(k){switch(k.msg){case"success":Article.setReportErrorMessage(g,"Your email has been sent successfully!","success");
g.find("fieldset.humans").remove();
setTimeout(function(){f.dialog("close")
},3000);
break;
case"email error":Article.loadCaptcha();
Article.setReportErrorMessage(g,"ERROR: please verify the info you provided is correct.","error");
break;
case"captcha error":Article.loadCaptcha();
Article.setReportErrorMessage(g,"ERROR: please try the ReCaptcha again.","error");
break
}},error:function(k,m,l){Article.loadCaptcha();
Article.setReportErrorMessage(g,"ERROR: the server encountered an issue. Please try again.","error")
}})
})
},open:function(d,f){var g=$(this);
$(this).find(".close-box").on("click",function(){g.dialog("close")
})
},close:function(d,f){$(this).dialog("destroy").remove();
Article.killCaptchaFrame()
}}).dialog("open")
})
});
$(".thestar-image .buyphoto-article").on("click",function(){var c=$(this).attr("data-buyphotourl");
$('<div class="email-lightbox"/>').load(c,function(){$(this).dialog({modal:true,width:462,autoOpen:false,resizable:false,draggable:false,zIndex:999999,create:function(d){var f=$(this);
$(d.target).parent().css("position","fixed");
$(d.target).parent().find(".ui-dialog-titlebar").remove();
$.getScript("https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(g,j,h){Article.loadCaptcha()
});
$("form#buyarticlephoto").on("submit",function(k){k.preventDefault();
var h=$(this);
h.find("fieldset.message").empty().hide().removeClass("error").removeClass("success");
var j=unescape($.trim(h.find("#storyHeadline").val()));
var g=unescape($.trim(h.find("#storyImageCaption").val()));
$.ajax({type:"GET",url:h.find("#postUrl").val(),dataType:"json",data:{yourname:$.trim(h.find("#yourname").val()),emailfrom:$.trim(h.find("#emailfrom").val()),phone:$.trim(h.find("#phone").val()),photosize:h.find("#psize").val(),usefor:$("input[name=use]:checked").val(),recaptcha_response_field:h.find("input#recaptcha_response_field").val(),recaptcha_challenge_field:h.find("input#recaptcha_challenge_field").val(),story_Headline:j,story_AbsoluteUrl:h.find("#storyAbsoluteUrl").val(),story_ImageCaption:g,story_ImageUrl:h.find("#storyImageUrl").val(),story_ImageID:h.find("#storyImageID").val()},success:function(l){switch(l.msg){case"success":Article.setReportErrorMessage(h,"Thank you for your interest in Toronto Star photographs. You will be contacted during normal business hours to discuss placing an order.","success");
h.find("fieldset.humans").remove();
setTimeout(function(){f.dialog("close")
},10000);
break;
case"email error":Article.loadCaptcha();
Article.setReportErrorMessage(h,"ERROR: please verify the info you provided is correct.","error");
break;
case"captcha error":Article.loadCaptcha();
Article.setReportErrorMessage(h,"ERROR: please try the ReCaptcha again.","error");
break
}},error:function(l,n,m){Article.loadCaptcha();
Article.setReportErrorMessage(h,"ERROR: the server encountered an issue. Please try again.","error")
}})
})
},open:function(d,f){var g=$(this);
$(this).find(".close-box").on("click",function(){g.dialog("close")
})
},close:function(d,f){$(this).dialog("destroy").remove();
Article.killCaptchaFrame()
}}).dialog("open")
})
});
Article.exploreThisStoryBar();
if(($(".mainart .thestar-video").length||$(".mainart .youtube_video").length)&&$(".mainart .thestarimage").length&&$("div.feature div.combinedtext").length){if($("div.feature div.combinedtext").length>5){$(".mainart .thestarimage").insertAfter($("div.feature div.combinedtext").eq(5))
}else{$(".mainart .thestarimage").insertAfter($("div.feature div.combinedtext").last())
}}$("div.thestar-image").filter(":hidden").show()
});
$(document).ready(function(){$(".article-body .feature .article-story .photo-gallery-lightbox").each(function(){var g=typeof $(this).attr("data-image-ids")!="undefined"?$(this).attr("data-image-ids").replace(/(^\[|\]$)/g,"").split("]["):null;
var b=typeof $(this).attr("data-image-uris")!="undefined"?$(this).attr("data-image-uris").replace(/(^\[|\]$)/g,"").split("]["):null;
var f=typeof $(this).attr("data-image-credits")!="undefined"?$(this).attr("data-image-credits").replace(/(^\[|\]$)/g,"").split("]["):null;
var c=typeof $(this).attr("data-image-captions")!="undefined"?$(this).attr("data-image-captions").replace(/(^\[|\]$)/g,"").split("]["):null;
var a=typeof $(this).attr("data-sidebar")!="undefined"?$(this).attr("data-sidebar"):"";
var d=$(this).attr("data-default-image");
ARPG.openDialog($(this),g,b,f,c,a,d)
})
});
var ARVG={players:{},animDuration:400,vidWidth:491,vidHeight:278,animating:{},isAnimated:function(a){return(typeof ARVG.animating[a]=="undefined"||!ARVG.animating[a])
},openVideos:function(b,a,c){b.addClass("expanded");
b.find(".brightcove-player").show().animate({width:"491px"},ARVG.animDuration,function(){b.addClass("show-extra");
ARVG.setVideo(a,c)
})
},closeVideos:function(a,b){if(ARVG.isAnimated(b)){ARVG.animating[b]=true;
a.removeClass("show-extra");
a.find("li.active").removeClass("active");
ARVG.clearVideo(b);
a.find(".brightcove-player").animate({width:"0"},ARVG.animDuration,function(){$(this).hide();
a.removeClass("expanded");
ARVG.animating[b]=false
})
}},setVideo:function(a,d){ARVG.animating[d]=false;
var c=d.replace("arvg-","arvg-bc-");
if(typeof ARVG.players[c]=="undefined"){var b=$("<object/>").addClass("BrightcoveExperience").attr("id",c).append($("<param/>").attr("name","bgcolor").attr("value","#f9f9f9")).append($("<param/>").attr("name","width").attr("value",ARVG.vidWidth)).append($("<param/>").attr("name","height").attr("value",ARVG.vidHeight)).append($("<param/>").attr("name","htmlFallback").attr("value","true")).append($("<param/>").attr("name","playerID").attr("value","2071349530001")).append($("<param/>").attr("name","playerKey").attr("value",'AQ~~,AAAAuO4KaJE~,gatFNwSKdGDmDpIYqNJ-fTHn_c4z_LH_"')).append($("<param/>").attr("name","isVid").attr("value","true")).append($("<param/>").attr("name","isUI").attr("value","true")).append($("<param/>").attr("name","wmode").attr("value","transparent")).append($("<param/>").attr("name","autoStart").attr("value","true")).append($("<param/>").attr("name","dynamicStreaming").attr("value","true")).append($("<param/>").attr("name","secureConnections").attr("value",(document.location.protocol=="https:"?"true":"false"))).append($("<param/>").attr("name","@videoPlayer").attr("value",a)).append($("<param/>").attr("name","includeAPI").attr("value","true")).append($("<param/>").attr("name","templateLoadHandler").attr("value","ARVG.onTemplateLoaded"));
$("#"+d).closest(".section.articlerelatedvideogallery").find(".video-placeholder").empty().append($(b));
brightcove.createExperiences()
}else{ARVG.players[c].getModule(APIModules.MENU).closeMenuPage();
ARVG.players[c].getModule(APIModules.VIDEO_PLAYER).loadVideo(a)
}},clearVideo:function(b){var a=b.replace("arvg-","arvg-bc-");
if(typeof ARVG.players[a]!="undefined"){ARVG.players[a].getModule(APIModules.VIDEO_PLAYER).stop();
ARVG.players[a].getModule(APIModules.EXPERIENCE).unload();
delete ARVG.players[a];
$("#"+b).closest(".section.articlerelatedvideogallery").find(".video-placeholder").empty()
}},onTemplateLoaded:function(a){ARVG.players[a]=brightcove.getExperience(a)
}};
$(document).ready(function(){$(".article-related-video-gallery").each(function(){var b=$(this).attr("id");
var a=$(this).closest(".section.articlerelatedvideogallery");
a.find(".brightcove-player .close-box").on("click",function(){ARVG.closeVideos(a,b)
});
$(this).find(".video-list li").on("click",function(){if(ARVG.isAnimated(b)&&!$(this).hasClass("active")){ARVG.animating[b]=true;
a.find("li.active").removeClass("active");
$(this).addClass("active");
a.find("div.facebook-like-button").empty().append($('<div class="fb-like" data-href="'+$(this).attr("data-video-url")+'" data-send="false" data-layout="button_count" data-width="100" data-show-faces="false" data-font="arial"></div>'));
a.find("div.twitter-tweet-button").empty().append($('<a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-text="'+$(this).attr("data-video-title")+'" data-url="'+$(this).attr("data-video-url")+'" data-via="torontostar" data-count="none">Tweet</a>'));
a.find("div.google-plusone-button").empty().append($('<div class="g-plusone" data-size="medium" data-annotation="none" data-href="'+$(this).attr("data-video-url")+'"/>'));
setTimeout(function(){if(typeof FB!="object"){return
}FB.XFBML.parse(a.get(0));
twttr.widgets.load();
gapi.plusone.go(a.get(0))
},0);
a.find(".brightcove-player .description").empty().text($(this).attr("data-video-desc"));
var c=$(this).attr("data-video-id");
if(a.hasClass("expanded")){ARVG.setVideo(c,b)
}else{ARVG.openVideos(a,c,b)
}}})
})
});
var ARPG={doubleClickFix:function(){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()
}else{if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()
}}}else{if(document.selection){document.selection.empty()
}}},slideshowInit:function(d,f){d.find("ul").replaceWith(f);
var b=d.find("ul");
var f=b.find("li");
var a=f.first().width();
var c=f.index(f.filter(".active"));
b.css({width:a*f.length,marginLeft:a*-c});
d.append($("<span/>").addClass("arrow").addClass("previous").append("Previous")).append($("<span/>").addClass("arrow").addClass("next").append("Next"));
ARPG.updateSlideInfo(f.eq(c));
ARPG.recordSiteCat(c);
d.find("span.arrow").bind("click",ARPG.changeSlide);
$(document).on("keyup.keyboard",$.proxy(ARPG.changeSlide,d));
b.find("img").removeAttr("data-active")
},changeSlide:function(g){ARPG.doubleClickFix();
var j=null;
var a,d,k;
a=37;
d=39;
k=g.keyCode;
if(g.type=="keyup"&&k!=a&&k!=d){return
}if(g.type=="click"||g.type=="keyup"){j=$(this).closest(".slideshow").find("ul");
direction=($(this).hasClass("next")||k===d)?1:(($(this).hasClass("previous")||k===a)?-1:0)
}var b=j.children("li");
var c=b.first().width();
var h=b.filter(".active");
var f=b.index(h)+direction;
if(f<0){f=b.length-1
}if(f>=b.length){f=0
}h.removeClass("active");
b.eq(f).addClass("active");
j.animate({marginLeft:c*-f},200,function(){ARPG.updateSlideInfo(b.eq(f));
ARPG.recordSiteCat(f)
})
},updateSlideInfo:function(a){var d=a.parent().children("li");
var c=d.index(a);
var b=a.closest(".content").children(".caption");
b.find(".counter").html("Photo: <span>"+(c+1)+"</span> of "+d.length);
b.find(".credit").html(a.children("img").attr("data-credit"));
b.find(".description").html(a.children("img").attr("data-caption"))
},recordSiteCat:function(b){try{SiteCatalyst.trackPhotoGallery(b)
}catch(a){}},openDialog:function(h,b,k,d,j,m,l){var o=h.find(".slideshow");
var a=h.find(".sidebar");
var n=o.find(".preroll");
if(n.length){n.find("iframe, img, embed, object").each(function(){if($(this).width()>10&&$(this).height()>10){n.fadeIn();
setTimeout(function(){n.fadeOut(function(){$(this).remove()
})
},15000);
return false
}})
}if(b!=null&&k!=null&&d!=null&&j!=null){var g=0;
var c=$("<ul/>");
for(var f=0;
f<k.length;
f++){(function(p){k[p]=($("<img/>").attr("src",k[p]+"?"+new Date().getTime()).attr("data-credit",d[p]).attr("data-caption",j[p]).attr("data-active",l.indexOf("/"+b[p])!=-1?"true":"false").load(function(){g++;
if(g==k.length){for(var q=0;
q<k.length;
q++){c.append($("<li/>").addClass(k[q].attr("data-active")=="true"?"active":"").append(k[q].attr("alt","Image "+(q+1)+" of "+k.length)))
}setTimeout(function(){ARPG.slideshowInit(h.find(".slideshow"),c)
},500)
}}))
})(f)
}if(m.length){a.load(m,function(){if(typeof currentState!="undefined"){var p=a.find(".bigbox");
if(typeof p.attr("data-ad-path")!="undefined"){var q=(p.attr("data-ad-path")).replace("'+window.adgroupid+'",window.adgroupid).replace("'+new Date().getTime()+'",new Date().getTime()).replace("'+offset+'",offset).replace("'+kvaam+'",kvaam).replace("'+kvuid+'",kvuid);
postscribe(p.empty().get(0),'<script src="'+q+'"><\/script>')
}}else{a.find(".bigbox").empty().append($('<img src="/etc/designs/thestar/images/placeholder/300x250.png"/>'))
}})
}}},startLightbox:function(d,q){var m="";
var g="";
if(d.find("img").length){m=d.find("img").attr("src");
g=d.find("img").attr("alt")
}else{if($(".article-body .article-artwork .mainart img").length){m=$(".article-body .article-artwork .mainart img").attr("src");
g=$(".article-body .article-artwork .mainart .caption .description").text()
}else{m=q.find("img").first().attr("src");
g=q.find("img").first().attr("alt")
}}var j=$('<div class="photo-gallery-lightbox"/>');
var c=$('<div class="container float-clear"/>');
var o=$('<div class="heading float-clear"/>').append($('<h2 class="headline"><span>Photos:</span> '+q.attr("data-title")+"</h2>")).append($('<ul class="buttons float-clear"/>').append($('<li class="close-box"><span>Close</span></li>')));
var p=$('<div class="slideshow float-clear"/>').append($("<ul/>").append($("<li/>").addClass("loading")));
var k=$('<div class="content float-clear"/>').append(p).append($("<div/>").addClass("caption").addClass("float-clear").append($("<div/>").addClass("info").addClass("float-clear").append($("<p/>").addClass("counter").append("Photo: <span>?</span>")).append($("<p/>").addClass("credit").html("&nbsp;"))).append($("<p/>").addClass("description").html(g)));
var b=$('<div class="sidebar"/>');
j.append(o).append(c.append(k).append(b));
var a=typeof q.attr("data-image-ids")!="undefined"?q.attr("data-image-ids").replace(/(^\[|\]$)/g,"").split("]["):null;
var l=typeof q.attr("data-image-uris")!="undefined"?q.attr("data-image-uris").replace(/(^\[|\]$)/g,"").split("]["):null;
var f=typeof q.attr("data-image-credits")!="undefined"?q.attr("data-image-credits").replace(/(^\[|\]$)/g,"").split("]["):null;
var h=typeof q.attr("data-image-captions")!="undefined"?q.attr("data-image-captions").replace(/(^\[|\]$)/g,"").split("]["):null;
var n=typeof q.attr("data-sidebar")!="undefined"?q.attr("data-sidebar"):"";
j.dialog({modal:true,width:990,autoOpen:false,resizable:false,draggable:false,zIndex:999999,create:function(r){$(r.target).parent().css("position","fixed");
$(r.target).parent().find(".ui-dialog-titlebar").remove()
},open:function(r,t){var u=$(this);
$(this).find(".close-box").on("click",function(){u.dialog("close")
});
ARPG.openDialog(j,a,l,f,h,n,m)
},close:function(r,t){b.find("script").remove();
$(this).dialog("destroy").remove()
}}).dialog("open")
}};
$(document).ready(function(){$("ul.article-inset-list.photo-list > li, .article-related-photo-gallery > h2.heading > a").on("click",function(){ARPG.startLightbox($(this),$(this).closest(".article-related-photo-gallery"));
return false
});
$(".thestar-image .image-container").on("click",function(){ARPG.startLightbox($(this),$(this).closest(".image-container"))
})
});
if(typeof jplayerinit!="undefined"){$(document).ready(jplayerinit)
}$(document).ready(function(){var c=window.addEventListener?"addEventListener":"attachEvent";
var b=window[c];
var a=c=="attachEvent"?"onmessage":"message";
b(a,function(k){if(k&&"data" in k&&typeof k.data=="string"){var j=k.data.split(":"),d=j.length;
if(typeof myStar!="undefined"&&k.origin==myStar.domain&&d>0&&j[0]=="myStar"){var f=(d>1)?j[1]:"",h=(d>2)?j[2]:"",g=(d>3)?j[3]:"";
if(f=="signedIn"){localStorage.setItem("signedIn","true");
localStorage.setItem("userId",h);
localStorage.setItem("userLoc",g);
trackMyStarEvent("event8","myStarSignIn",h)
}else{if(f=="signedOut"){localStorage.setItem("signedIn","false");
trackMyStarEvent("event9","myStarSignOut");
localStorage.setItem("userId",null);
localStorage.setItem("userLoc",null)
}else{if(f=="newUser"){localStorage.setItem("signedIn","true");
localStorage.setItem("userId",h);
localStorage.setItem("userLoc",g);
trackMyStarEvent("event8","myStarSignIn",h);
trackMyStarEvent("event10","myStarNewUser",h)
}}}}}},false)
});
(function(a){a(function(){var b=function(d){a.dbg("tracking: "+d)
};
if(!"SiteCatalyst" in window){b("SiteCatalyst not found");
return
}b("SiteCatalyst found, setting up tracking");
a(".header-search-submit").on("mousedown",function(){SiteCatalyst.trackSearchButton()
});
a("div.breaking-news a").on("click",function(d){SiteCatalyst.trackBreakingNewsClicks(d.target)
});
a("div.mystar .weather").on("click",function(){SiteCatalyst.trackWeatherWidgetClicks()
});
a(".featured-topics a").addClass("notrack").on("click",function(d){SiteCatalyst.trackTopicTagClicks(a(d.target).text(),d.target)
});
(function c(){if("twttr" in window){twttr.ready(function(d){d.events.bind("tweet",function(g){b("twttr tweeted a tweet");
try{trackTweet()
}catch(f){}})
})
}else{b("no twttr honey");
setTimeout(function(){c()
},1000)
}})();
a(window).on("click",function(d){var f=a(d.target);
if(f.is(".open-settings-window, .open-user-widget")){SiteCatalyst.trackPev2("myStarSignInButton")
}})
})
})(jQuery);
(function(d){var c=0,b={playerID:"2071349530001",playerKey:"AQ~~,AAAAuO4KaJE~,gatFNwSKdGDmDpIYqNJ-fTHn_c4z_LH_",width:542,height:307,bgColor:"#f9f9f9",wmode:"transparent",videoID:null,htmlFallback:"true",isVid:"true",autoStart:"false",isUI:"true",includeAPI:"true",dynamicStreaming:"true",templateLoadHandler:"onTemplateLoaded",secureConnections:(window.location.protocol=="https:")?"true":"false"},a=function(h){var l=d.extend({},b,h),k=d("<object/>").attr("class","BrightcoveExperience");
if(!("id" in l)||!l.id){l.id="player-"+(++c)
}for(var j in l){var g=l[j];
if(!g&&g!=0){continue
}g+="";
switch(j){case"id":k.attr("id",g);
break;
default:d("<param/>").attr("name",j).attr("value",g).appendTo(k)
}}return k
},f=function(){if(typeof brightcove=="object"&&typeof brightcove.createExperiences=="function"){brightcove.createExperiences()
}};
d.fn.hasAutoStartBrightcove=function(){var g=false;
this.each(function(){var h=d("object.BrightcoveExperience");
if(!h.length){return false
}h.each(function(){var j=d(this).find("param[name=autoStart]").attr("value")||"",k=d(this).attr("data")||"";
if(j.toLowerCase()=="true"||k.indexOf("autoStart=true")>=0){g=true;
return false
}})
});
return g
};
d.fn.attachBrightcove=function(g){this.append(a(g));
f();
return this
};
d.fn.attachPlayer=d.fn.attachBrightcove
})(jQuery);
!(function(f){var g=function(l,k){return(l!=null&&typeof l=="object"&&"JSON" in window)?(k?JSON.stringify(l,null,2):JSON.stringify(l)):""+l
},a=function(k){if("dbg" in f&&typeof f.dbg=="function"){f.dbg("bc_track_v3: "+g(k))
}};
var d=("dfpConf" in window&&"videoSkip" in window.dfpConf&&window.dfpConf.videoSkip)?5:-1,c=function(){return""+("now" in Date)?Date.now():(new Date()).getTime()
},j={},b=function(k){if(k in j){j[k]=null;
delete j[k]
}},h=function(l){var k=("APIModules" in window)?window.APIModules:brightcove.api.modules.APIModules,m=brightcove.getExperience(l);
this.expId=l;
this.$obj=f("#"+l);
this.isRva=this.$obj.is(".rva");
this.modVP=m.getModule(k.VIDEO_PLAYER);
this.modAdv=m.getModule(k.ADVERTISING);
this.modExp=m.getModule(k.EXPERIENCE);
this.lastEvent="";
this.isPlaying=false;
this.lastPosition=0;
this.roundPos=0;
this.isComplete=false;
this.playVdoCount=0;
this.currentVideoTitle="";
this.currentVideoId="";
this.currentVideoRefId="";
this.currentVideoSource="";
this.currentVideoUploaded="";
this.player=this.modExp.getPlayerName();
this.videoInfo={title:"",duration:0,credit:"",referenceId:""};
this.playTracked=false;
this.adPolicy=null;
this.adIsOn=false;
this.adPaused=false;
this.throttle=null
};
h.prototype.buildPrerollUrl=function(){var n=("dfpConf" in window)?window.dfpConf:null;
if(!n){a("Global DFP config not found!");
return""
}var o={sz:(this.isRva)?n.rvaSize:n.videoSize,iu:n.path,ciu_szs:null,impl:"s",gdfp_req:1,env:"vp",output:"xml_vast2",vpos:"preroll",unviewed_position_start:1,referrer_url:document.referrer,description_url:window.location.href.split("?")[0],correlator:c()},m=[];
for(var l in o){if(null==o[l]){continue
}m.push(l+"="+encodeURIComponent(o[l]))
}return location.protocol+n.baseUrl.replace(/^https?\:/,"")+"?"+m.join("&")
};
h.prototype.updateVideoStatus=function(){var k=this.modVP.getCurrentVideo();
this.currentVideoTitle=k.displayName;
this.currentVideoId=k.id;
this.currentVideoRefId=("referenceId" in k&&k.referenceId)?k.referenceId:"unknown";
this.currentVideoSource=("customFields" in k&&"credit" in k.customFields&&k.customFields.credit)?k.customFields.credit:"unknown";
this.currentVideoUploaded=k.publishedDate
};
h.prototype.trackVideo=function(m){a("tracking "+m+" in "+this.player);
var l={eVar37:this.currentVideoTitle,eVar38:this.player,eVar39:this.currentVideoId,eVar45:this.currentVideoRefId,eVar61:this.currentVideoSource,eVar62:this.currentVideoUploaded};
try{SiteCatalyst.trackEvent({preset:true,event:m,vars:"eVar37,eVar38,eVar39,eVar45,eVar61,eVar62",title:"CustomLinkforVideo",update:l})
}catch(k){a("error tracking "+this.player+": "+k)
}};
h.prototype.setPreroll=function(){var k=this.buildPrerollUrl();
if(!k){a("Preroll not configured");
return
}this.adPolicy={adServerURL:k,prerollAds:true,prerollAdKeys:null};
this.modAdv.setAdPolicy(this.adPolicy);
a("setting ad policy in "+this.expId+": "+g(this.adPolicy))
};
h.prototype.logEvent=function(k){a(k.type+" fired in "+this.expId)
};
h.prototype.noThrottle=function(){if(this.throttle){clearTimeout(this.throttle)
}this.throttle=null
};
h.prototype.makeAdSkipOverlay=function(){var l=this,m=this.$obj.parent(),k=m.find(".skip-ad");
if(k.length){return
}m.css({position:"relative"});
f("<div/>").addClass("skip-ad").html("Skip Ad &rsaquo;").appendTo(m).fadeTo(0,0.5).one("click",function(){l.skipAd()
})
};
h.prototype.removeAdSkipOverlay=function(){a("removing Skip Ad");
this.$obj.siblings(".skip-ad").remove()
};
h.prototype.initAdSkip=function(){if(typeof d!="number"||d<0){a("Ad Skip disabled");
return
}var l=d*1000,k=this;
setTimeout(function(){if(k.adIsOn){k.makeAdSkipOverlay()
}},l)
};
h.prototype.skipAd=function(){if(this.adPaused){return
}this.modAdv.stopAd();
this.removeAdSkipOverlay()
};
h.prototype.setAdPause=function(k){var l=this.$obj.siblings(".skip-ad");
this.adPaused=!!k;
if(l.length){if(this.adPaused){l.hide()
}else{l.show()
}}};
h.getTracker=function(k){return(k in j)?j[k]:null
};
h.handleAdEvent=function(k,m){var l=h.getTracker(m);
if(!l){return
}if(k.type==l.lastEvent){return
}switch(k.type){case"adStart":l.adIsOn=true;
l.initAdSkip();
break;
case"adClick":l.skipAd();
break;
case"adPause":l.setAdPause(true);
break;
case"adResume":l.setAdPause(false);
break;
case"adComplete":l.adIsOn=false;
l.removeAdSkipOverlay()
}l.lastEvent=k.type;
l.logEvent(k)
};
h.handleMediaEvent=function(k,n){var m=h.getTracker(n);
if(!m){return
}if(k.type==m.lastEvent&&k.type!="mediaProgress"){return
}var l=true;
switch(k.type){case"mediaProgress":l=false;
if(m.throttle||m.isComplete){break
}if(k.position/k.duration>0.94){m.trackVideo("event7");
m.isComplete=true
}m.throttle=setTimeout(function(){m.noThrottle()
},1000);
break;
case"mediaChange":m.adPaused=m.adIsOn=false;
m.setPreroll();
m.isPlaying=false;
m.updateVideoStatus();
m.playVdoCount++;
break;
case"mediaBegin":m.noThrottle();
m.isComplete=false;
m.adIsOn=false;
m.updateVideoStatus();
m.trackVideo("event5");
a(m.expId+" plays videoID: "+m.currentVideoId);
break;
case"mediaPlay":if(m.isPlaying){break
}m.adIsOn=false;
m.isComplete=false;
m.lastPosition=0;
m.isPlaying=true;
break;
case"mediaComplete":m.isPlaying=false;
m.noThrottle();
break
}if(l){m.logEvent(k)
}m.lastEvent=k.type
};
h.onTemplateLoaded=function(m){if(f("#"+m).is(".adplayer, .rva")){a("ignoring ad player '"+m+"'");
return
}a("executing bcTrack.onTemplateLoaded in '"+m+"'");
var k,l=new h(m);
k="mediaBegin, mediaChange, mediaComplete, mediaError, mediaPlay, mediaProgress, mediaStop";
f.each(k.split(/\W+/),function(n,o){l.modVP.addEventListener(o,function(p){h.handleMediaEvent(p,m)
})
});
a("binding "+k+" in "+m);
k="adClick, adStart, adComplete, adPause, adResume";
f.each(k.split(/\W+/),function(n,o){l.modAdv.addEventListener(o,function(p){h.handleAdEvent(p,m)
})
});
a("binding "+k+" in "+m);
j[m]=l
};
window.onTemplateLoaded=h.onTemplateLoaded
})(jQuery);
var RightRailPreroll={videoList:null,init:function(d){if(!$("body").hasClass("cq-wcm-edit")){if(brightcove.api.getExperience(d)){}else{var c=brightcove.getExperience(d).getModule(APIModules.EXPERIENCE);
var b=brightcove.getExperience(d).getModule(APIModules.ADVERTISING);
var a=brightcove.getExperience(d).getModule(APIModules.VIDEO_PLAYER);
RightRailPreroll.videoList=c.getElementByID("videoList");
RightRailPreroll.setupAutoScroll();
$(".thumbnail-video .placeholder").on("mouseenter",function(){clearInterval(RightRailPreroll.intervalID);
RightRailPreroll.intervalID=null
});
$(".thumbnail-video .placeholder").on("mouseleave",function(){RightRailPreroll.setupAutoScroll()
})
}}},setupAutoScroll:function(){RightRailPreroll.intervalID=setInterval(RightRailPreroll.scrollThumbs,8500)
},scrollThumbs:function(){if(RightRailPreroll.videoList.getPageIndex()<RightRailPreroll.videoList.getNumPages()-1){RightRailPreroll.videoList.showNextPage()
}else{RightRailPreroll.videoList.showPage(0)
}}};
var webmaster={hideCaptchaFrame:function(){setTimeout(function(){$('iframe[src="about:blank"]').hide()
},100)
},killCaptchaFrame:function(){$('iframe[src="about:blank"]').remove()
},loadCaptcha:function(){webmaster.killCaptchaFrame();
Recaptcha.create("6LeG9NISAAAAAJFPw9O2nBv-8oC3B8mt2oUHBSjl","recaptcha_div",{theme:"clean"});
webmaster.hideCaptchaFrame()
},setEmailMessage:function(b,c,a){b.find("fieldset.message").text(c).removeClass("success").removeClass("error").addClass(a).show();
b.find("fieldset.send-email input").prop("disabled",false).text("Submit");
if(a=="success"){b.each(function(){this.reset()
})
}}};
$(document).ready(function(){if($("form#contactwebmaster").length){$.getScript("https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(a,c,b){webmaster.loadCaptcha()
})
}$("form#contactwebmaster").on("submit",function(d){d.preventDefault();
var c=$(this);
c.find("fieldset.message").empty().hide().removeClass("error").removeClass("success");
c.find("fieldset.send-email input").prop("disabled",true).text("Please wait..");
var b="Contact Webmaster form submitted";
var a=($.trim(c.find("#yourname").val()).length?$.trim(c.find("#yourname").val()):"Somebody")+" has submitted the contact webmaster form";
$.ajax({type:"GET",url:c.find("#postUrl").val(),dataType:"json",data:{yourname:$.trim(c.find("#yourname").val()),emailfrom:$.trim(c.find("#emailfrom").val()),topic:$.trim(c.find("#topic").val()),emailbody:$.trim(c.find("#emailbody").val()),recaptcha_response_field:c.find("input#recaptcha_response_field").val(),recaptcha_challenge_field:c.find("input#recaptcha_challenge_field").val(),emailsubject:b,usersubject:c.find("#emailsubject").val(),postUrl:c.find("#postUrl").val()},success:function(f){switch(f.msg){case"success":webmaster.setEmailMessage(c,"Your email has been sent successfully!","success");
c.find("fieldset.humans").remove();
break;
case"email error":webmaster.loadCaptcha();
webmaster.setEmailMessage(c,"ERROR: please verify the info you provided is correct.","error");
break;
case"captcha error":webmaster.loadCaptcha();
webmaster.setEmailMessage(c,"ERROR: please try the ReCaptcha again.","error");
break
}},error:function(f,h,g){webmaster.loadCaptcha();
webmaster.setEmailMessage(c,"ERROR: the server encountered an issue. Please try again.","error")
}})
})
});
$(document).on("star_component_init",function(){$("div.word-cloud div.cloud").empty().each(function(){var d=new Array();
var a=$(this).attr("data-words").split("####");
for(var b=0;
b<a.length;
b++){if($.trim(a[b]).length){var f={text:"",weight:0,link:""};
var c=$.trim(a[b]).split(",");
if(typeof c[0]!="undefined"){f.text=c[0]
}if(typeof c[1]!="undefined"){f.weight=parseFloat(c[1])
}if(typeof c[2]!="undefined"){f.link=c[2]
}if(f.text.length&&(!isNaN(f.weight)&&f.weight>0)&&f.link.length){d.push(f)
}}}$(this).jQCloud(d)
})
});
$(document).ready(function(){$(document).on("click","div.promo a",function(f){var d=$(this).closest(".promo");
var g=d.attr("data-comp-path");
var h=d.find("a").index($(this))+1;
var c=($(this).attr("href")).replace(/http(s)?:\/\//gi,"");
if(c.indexOf(localprefix)!=-1){c=(c).replace(/.*\/(.*)$/gi,"$1").replace(".html","")
}try{var b=g+"|"+h+"|"+c;
SiteCatalyst.trackPromoClick(b,f.target)
}catch(a){}})
});
$(document).ready(function(){$("form.search-input .search-input-text").placeholder().focus(function(){var a=$(this);
setTimeout(function(){a.select()
},0)
});
$("div.search-tools input.autocomp").placeholder().focus(function(){var a=$(this);
setTimeout(function(){a.select()
},0)
}).each(function(){var b=$(this);
if(b.attr("data-facet")&&_search_facets[b.attr("data-facet")]){var a=_search_facets[b.attr("data-facet")];
b.autocomplete({minLength:3,delay:0,autoFocus:true,source:a,select:function(c,d){document.location=d.item.url
}}).autocomplete("widget").addClass("facet-menu")
}});
$("div.article-list ul li.photo-result a").on("click",function(j){j.preventDefault();
var b=$(this).closest(".photo-result");
var k=b.attr("data-title");
var c=b.attr("data-credit");
var m=b.attr("data-caption");
var p=b.attr("data-story-title");
var f=b.attr("data-story-url");
var d=b.attr("data-image");
var g=$('<div class="photo-gallery-lightbox single-photo"/>');
var a=$('<div class="container float-clear"/>');
var o=$('<div class="heading float-clear"/>').append($('<p class="headline"><span>Photo:</span> '+k+"</p>")).append($('<ul class="buttons float-clear"/>').append($('<li class="close-box"><span>Close</span></li>')));
var n=$('<div class="slideshow float-clear"/>').append($("<ul/>").append($("<li/>").addClass("active").append($("<img/>").attr("src",d))));
var h=$('<div class="content float-clear"/>').append(n).append($("<div/>").addClass("caption").addClass("float-clear").append($("<div/>").addClass("info").addClass("float-clear").append($("<p/>").addClass("credit").html(c))).append($("<p/>").addClass("description").html(m)));
var l=$('<div class="footer float-clear"/>').html('From: <a href="'+f+'">'+p+"</a>");
g.append(o).append(a.append(h)).append(l);
g.dialog({modal:true,width:673,autoOpen:false,resizable:false,draggable:false,zIndex:999999,create:function(q){$(q.target).parent().css("position","fixed");
$(q.target).parent().find(".ui-dialog-titlebar").remove()
},open:function(q,r){var t=$(this);
$(this).find(".close-box").on("click",function(){t.dialog("close")
})
},close:function(q,r){$(this).dialog("destroy").remove()
}}).dialog("open")
});
if(window.location.href.indexOf("search.html?")!=-1){trackSearchPage()
}});
$(document).on("star_component_init",function(){if(!("twttr" in window)||!("widgets" in twttr)){return
}twttr.widgets.load()
});
var topic_count=21;
$(".topic-story-load").click(function(){var b=$(this).closest(".article-list-more");
if(!b.hasClass("loading")){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.host
}var f=window.location.origin+window.location.pathname;
var d=f.indexOf("topic.");
var g=f.substring(0,d);
var a=f.substring(d+6);
var c=g+"search.tag_"+a+"."+topic_count+".json";
b.addClass("loading");
$.get(c,function(j){topic_count=topic_count+j.hits.length;
var h=$("<div>");
$.each(j.hits,function(n,m){var r=$("<li>").addClass("float-clear");
if(m.hasImages){r.addClass("with-thumbnail");
var p=$("<a>").addClass("thumbnail icon-overlay").attr("href",m.path);
p.html($("<div>").html(m.icon).text());
var o=$("<img>").attr("src",m.imgPath).attr("alt",m.title);
p.append(o);
r.append(p)
}var t=$("<p>").addClass("headline");
var l=$("<a>").attr("href",m.path);
if(!m.hasImages){l.html($("<div>").html(m.icon).text())
}l.append(m.title);
t.append(l);
r.append(t);
var q=$("<p>").addClass("timestamp").html(m.timestamp);
r.append(q);
var k=$("<div>").addClass("abstract");
k.html(m["abstract"]);
r.append(k);
h.append(r)
});
$(".article-list ul").append(h.html());
b.removeClass("loading");
if(j.isEndOfResults){b.hide()
}})
}return false
});
$(document).ready(function(){var c=c||[];
$(".digitalAccessTop > a").on("click",function(d){c.push(["_trackEvent","CTA_Header","subscription"])
});
$("div.subscriptions a").on("click",function(){var d=null;
if($(this).parent(".top").length>0){d="CTA_header_top"
}else{if($(this).parent(".bottom").length>0){d="CTA_header_bottom"
}}c.push(["_trackEvent",d,"subscription"])
});
var b=$.cookie("digital_access");
if(b==null||b.toLowerCase()=="false"||b=="0"||b==""){if(!$("html").hasClass("lt-ie8")){var a=0;
if(typeof cxApi!="undefined"){a=cxApi.chooseVariation()
}$(".digitalAccessTop > a").hide();
switch(a){case 0:$(".digitalAccessTop").find('[data-type="variant 1"]').fadeToggle();
break;
case 1:$(".digitalAccessTop").find('[data-type="variant 2"]').fadeToggle();
break;
default:$(".digitalAccessTop").find('[data-type="variant 3"]').fadeToggle();
break
}}else{$(".digitalAccessTop").find('[data-type="variant 1"]').fadeToggle()
}}else{$(".digitalAccessTop").hide();
$(".digitalCtaTop").hide()
}});
$(document).ready(function(){var a=$("[data-aam-segments]");
if(typeof CQ_Analytics!="undefined"&&typeof CQ_Analytics.ClientContextUtils!="undefined"&&a.length!=0){CQ_Analytics.ClientContextUtils.onStoreInitialized("profile",function(b){refreshMSC(a)
},5000)
}});
function refreshMSC(a){if(typeof CQ_Analytics!="undefined"){if(CQ_Analytics.SegmentMgr!=null){a.each(function(){var f=$(this);
var h=f.attr("data-aam-segments").split(",");
var k=CQ_Analytics.SegmentMgr;
var c=k.getResolved();
var m=c.length;
var n="";
var p=[];
for(i=0;
i<m;
i++){var j=c[i];
if(k.segments[j].toString().indexOf("AAM.AudienceManager")!=-1){var d=k.segments[j].toString().substring(46,52);
if($.inArray(d,h)>-1){p.push(d)
}}}var g=parseInt(f.attr("data-aam-count"));
if(p.length>0){if(p.length!=1){p.sort(function(r,q){return $.inArray(r,h)-$.inArray(q,h)
})
}for(i=0;
i<p.length;
i++){if(i==g){break
}n+="."+p[i]
}}if(n!=""){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.host
}var o=window.location.origin;
var l=f.attr("data-aam-path");
if(l!=""){var b=o+l+n+".html";
$.get(b,function(q){var r=$(q);
r.find("img").each(function(){$(this).attr("src",$(this).attr("data-original"))
});
r.find("div.article-list").each(function(){$(this).hide()
});
r.find("div.article-list").each(function(){if($(this).attr("data-path").indexOf(window.location.pathname)==-1){$(this).show();
return false
}});
f.replaceWith(r)
})
}}})
}}}var url42="http://publishers.42andpark.com/";
TINY={};
TINY.box=function(){var f,c,a,h,d,k=0;
return{show:function(b){d={opacity:70,close:1,animate:1,fixed:1,mask:1,maskid:"",boxid:"",topsplit:2,url:0,post:0,height:0,width:0,html:0,iframe:0};
for(s in b){d[s]=b[s]
}if(!k){f=document.createElement("div");
f.className="tbox";
k=document.createElement("div");
k.className="tinner";
a=document.createElement("div");
a.className="tcontent";
c=document.createElement("div");
c.className="tmask";
h=document.createElement("div");
h.className="tclose";
h.v=0;
document.body.appendChild(c);
document.body.appendChild(f);
f.appendChild(k);
k.appendChild(a);
c.onclick=h.onclick=TINY.box.hide;
window.onresize=TINY.box.resize
}else{f.style.display="none";
clearTimeout(k.ah);
if(h.v){k.removeChild(h);
h.v=0
}}k.id=d.boxid;
c.id=d.maskid;
f.style.position=d.fixed?"fixed":"absolute";
if(d.html&&!d.animate){k.style.backgroundImage="none";
a.innerHTML=d.html;
a.style.display="";
k.style.width=d.width?d.width+"px":"auto";
k.style.height=d.height?d.height+"px":"auto"
}else{a.style.display="none";
if(!d.animate&&d.width&&d.height){k.style.width=d.width+"px";
k.style.height=d.height+"px"
}else{k.style.width=k.style.height="100px"
}}if(d.mask){this.mask();
this.alpha(c,1,d.opacity)
}else{this.alpha(f,1,100)
}if(d.autohide){k.ah=setTimeout(TINY.box.hide,1000*d.autohide)
}else{document.onkeyup=TINY.box.esc
}},fill:function(p,m,l,j,g,o){if(m){if(d.image){var n=new Image();
n.onload=function(){g=g||n.width;
o=o||n.height;
TINY.box.psh(n,j,g,o)
};
n.src=d.image
}else{if(d.iframe){this.psh('<iframe id= "omniFrame"  src="'+d.iframe+'" width="'+d.width+'" frameborder="0" height="'+d.height+'"></iframe>',j,g,o)
}else{var b=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");
b.onreadystatechange=function(){if(b.readyState==4&&b.status==200){k.style.backgroundImage="";
TINY.box.psh(b.responseText,j,g,o)
}};
if(l){b.open("POST",p,true);
b.setRequestHeader("Content-type","application/x-www-form-urlencoded");
b.send(l)
}else{b.open("GET",p,true);
b.send(null)
}}}}else{this.psh(p,j,g,o)
}},psh:function(n,j,g,l){if(typeof n=="object"){a.appendChild(n)
}else{a.innerHTML=n
}var b=k.style.width,m=k.style.height;
if(!g||!l){k.style.width=g?g+"px":"";
k.style.height=l?l+"px":"";
a.style.display="";
if(!l){l=parseInt(a.offsetHeight)
}if(!g){g=parseInt(a.offsetWidth)
}a.style.display="none"
}k.style.width=b;
k.style.height=m;
this.size(g,l,j)
},esc:function(b){b=b||window.event;
if(b.keyCode==27){TINY.box.hide()
}},hide:function(){TINY.box.alpha(f,-1,0,3);
document.onkeypress=null;
if(d.closejs){d.closejs()
}},resize:function(){TINY.box.pos();
TINY.box.mask()
},mask:function(){c.style.height=this.total(1)+"px";
c.style.width=this.total(0)+"px"
},pos:function(){var b;
if(typeof d.top!="undefined"){b=d.top
}else{b=(this.height()/d.topsplit)-(f.offsetHeight/2);
b=b<20?20:b
}if(!d.fixed&&!d.top){b+=this.top()
}f.style.top=b+"px";
f.style.left=typeof d.left!="undefined"?d.left+"px":(this.width()/2)-(f.offsetWidth/2)+"px"
},alpha:function(g,j,b){clearInterval(g.ai);
if(j){g.style.opacity=0;
g.style.filter="alpha(opacity=0)";
g.style.display="block";
TINY.box.pos()
}g.ai=setInterval(function(){TINY.box.ta(g,b,j)
},20)
},ta:function(g,b,l){var j=Math.round(g.style.opacity*100);
if(j==b){clearInterval(g.ai);
if(l==-1){g.style.display="none";
g==f?TINY.box.alpha(c,-1,0,2):a.innerHTML=k.style.backgroundImage=""
}else{if(g==c){this.alpha(f,1,100)
}else{f.style.filter="";
TINY.box.fill(d.html||d.url,d.url||d.iframe||d.image,d.post,d.animate,d.width,d.height)
}}}else{var m=b-Math.floor(Math.abs(b-j)*0.5)*l;
g.style.opacity=m/100;
g.style.filter="alpha(opacity="+m+")"
}},size:function(g,l,b){if(b){clearInterval(k.si);
var j=parseInt(k.style.width)>g?-1:1,m=parseInt(k.style.height)>l?-1:1;
k.si=setInterval(function(){TINY.box.ts(g,j,l,m)
},20)
}else{k.style.backgroundImage="none";
if(d.close){k.appendChild(h);
h.v=1
}k.style.width=g+"px";
k.style.height=l+"px";
a.style.display="";
this.pos();
if(d.openjs){d.openjs()
}}},ts:function(g,m,l,n){var b=parseInt(k.style.width),j=parseInt(k.style.height);
if(b==g&&j==l){clearInterval(k.si);
k.style.backgroundImage="none";
a.style.display="block";
if(d.close){k.appendChild(h);
h.v=1
}if(d.openjs){d.openjs()
}}else{if(b!=g){k.style.width=(g-Math.floor(Math.abs(g-b)*0.6)*m)+"px"
}if(j!=l){k.style.height=(l-Math.floor(Math.abs(l-j)*0.6)*n)+"px"
}this.pos()
}},top:function(){return document.documentElement.scrollTop||document.body.scrollTop
},width:function(){return self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth
},height:function(){return self.innerHeight||document.documentElement.clientHeight||document.body.clientHeight
},total:function(l){var g=document.body,j=document.documentElement;
return l?Math.max(Math.max(g.scrollHeight,j.scrollHeight),Math.max(g.clientHeight,j.clientHeight)):Math.max(Math.max(g.scrollWidth,j.scrollWidth),Math.max(g.clientWidth,j.clientWidth))
}}
}();
function PopOmniStore(d,f){var c=0,a=0;
if(typeof(window.innerWidth)=="number"){c=window.innerWidth;
a=window.innerHeight
}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){c=document.documentElement.clientWidth;
a=document.documentElement.clientHeight
}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){c=document.body.clientWidth;
a=document.body.clientHeight
}}}a=Math.floor(a*3/4);
if(a>560){a=560
}c=Math.floor(a/9*16);
var b="product-info.jsp";
if(f){b="product-shopping.jsp"
}TINY.box.show({iframe:url42+b+"?id="+d,clost:"true",boxid:"frameless",width:c,height:a,fixed:false,maskid:"graymask",maskopacity:40})
}function PopOmniStoreByPartnerId(c){var b=0,a=0;
if(typeof(window.innerWidth)=="number"){b=window.innerWidth;
a=window.innerHeight
}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){b=document.documentElement.clientWidth;
a=document.documentElement.clientHeight
}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){b=document.body.clientWidth;
a=document.body.clientHeight
}}}a=Math.floor(a*3/4);
if(a>560){a=560
}b=Math.floor(a/9*16);
TINY.box.show({iframe:url42+"product-info.jsp?partnerId="+c,clost:"true",boxid:"frameless",width:b,height:a,fixed:false,maskid:"graymask",maskopacity:40})
}$(document).ready(function(){$("[data-omnistore]").on("click",function(a){if($(this).attr("data-partner-id")){PopOmniStoreByPartnerId($(this).attr("data-partner-id"))
}else{if($(this).attr("data-product-id")){var b=true;
if($(this).attr("data-is-image")){b=$(this).attr("data-is-image")==="true"?true:false
}PopOmniStore($(this).attr("data-product-id"),b)
}}})
});
$(document).ready(function(a){$(".career-signup-widget  a").on("click",function(b){b.preventDefault();
window.open($(this).attr("href"),"workopolis","width=620,height=280,toolbar=no,menubar=no,scrollbars=no,resizable=no,location=no,addressbar=no,directories=no,status=no")
})
});
$(document).ready(function(){$(document).on("click","div.editors-picks a",function(f){var c=new Array();
var b=$(this).closest("div.editors-picks");
var d=b.attr("data-comp-path");
var h=(b.find("li").index($(this).closest("li"))+1)+"/"+b.find("li").length;
if($(this).parent().hasClass("comment-icon")){c.push("comment-icon")
}if(typeof $(this).closest("li").attr("data-segment")!="undefined"){c.push("segment:"+$(this).closest("li").attr("data-segment"))
}var a=($(this).attr("href")).replace(/http(s)?:\/\//gi,"");
if(a.indexOf(localprefix)!=-1){a=(a).replace(/.*\/(.*)$/gi,"$1").replace(".html","")
}var g=["EditorsPicks","src:"+d,"pos:"+h,"url:"+a];
if(c.length){g.push(c.join("|"))
}})
});
$(document).ready(function(){$(document).on("click","div.article-aam-footer a",function(f){var c=new Array();
var h=$(this).closest("div.article-aam-footer");
var d=document.location.pathname;
if($(this).parent().hasClass("comment-icon")){c.push("comment-icon")
}if($(this).hasClass("thumbnail")){c.push("thumbnail")
}if(typeof $(this).closest("li").attr("data-segment")!="undefined"){c.push("segment:"+$(this).closest("li").attr("data-segment"))
}var b=($(this).attr("href")).replace(/http(s)?:\/\//gi,"");
if(b.indexOf(localprefix)!=-1){b=(b).replace(/.*\/(.*)$/gi,"$1").replace(".html","")
}var g=["ArticleAAMFooter","page:"+d,"url:"+b];
if(c.length){g.push(c.join("|"))
}try{SiteCatlyst.trackArticleAAMFooter(g.join("|"),f.target)
}catch(a){}})
});
var Obituary={pickDateInit:function(b){function a(d,f){this[d]=f
}var c={formElements:new a(b,"%Y-%m-%d"),showWeeks:false,statusFormat:"%l, %d%S %F %Y",rangeHigh:new Date(),};
calenderController.createDatePicker(c)
},intiatDatePicker:function(){Obituary.pickDateInit("search-input-date");
Obituary.pickDateInit("search-input-start-date");
Obituary.pickDateInit("search-input-end-date")
},init:function(){this.intiatDatePicker();
this.ddlInitiate();
this.formHandlers();
this.formValidation();
this.toggleDate()
},checkdate:function(h){input=$(h);
var a=/^\d{2}\/\d{2}\/\d{4}$/;
var g=false;
if(!a.test(input.val())){$(h).css("border","1px solid #e00909");
$(".error-tags").fadeIn(1500).fadeOut(1500);
$(".obituary-box .button").attr("disabled",true).css("background-color","#68B0DF")
}else{var f=input.val().split("/")[0];
var b=input.val().split("/")[1];
var c=input.val().split("/")[2];
var d=new Date(c,f-1,b);
if((d.getMonth()+1!=f)||(d.getDate()!=b)||(d.getFullYear()!=c)){$(".error-tags").fadeIn(1500).fadeOut(1500)
}else{g=true;
console.log("removing");
$(h).css("border","1px solid #C7C3C3");
$(".obituary-box .button").removeAttr("disabled").css("background-color","#0072bb")
}}return g
},formHandlers:function(){if("placeholder" in document.createElement("input")){return false
}else{$(".obituary-search-form input").val(function(){if(this.value.length==0){return $(this).attr("placeholder")
}});
$(".obituary-search-form").delegate("input","focus",function(){if(this.value===$(this).attr("placeholder")){this.value=""
}}).delegate("input","blur",function(){if(this.value.length==0){this.value=$(this).attr("placeholder")
}})
}},formValidation:function(){$("#search-input-date, #search-input-start-date,#search-input-end-date").blur(function(){})
},stripslashes:function(a){return(a+"").replace(/[^a-zA-Z,.!?\d\s:]/gi,"")
},toggleDate:function(){var c=$(".search-input-daterange").val()+"",a=$(".obituary-search-box").height(),b=0;
$(".spec-date input").val("");
switch(c){case"0":$(".date-picker-em").show();
$(".date-inputs-range").hide();
break;
case"88888":$(".date-inputs-range").show();
$(".date-picker-em").hide();
break;
default:$(".date-inputs-range, .date-picker-em").hide()
}b=$(".obituary-search-box").height()-a;
if(b!=0){$(".obituary-box-results").height($(".obituary-box-results").height()-b)
}},ddlInitiate:function(){$(".search-input-daterange").change(function(){Obituary.toggleDate()
})
},alignBoxes:function(){var a=$(".shatnerBox .pairable");
if(a.length>1){var d=$(a[0]).height(),b=$(a[1]).height(),c=(d>b)?d:b;
$([a[0],a[1]]).height(c)
}}};
$(function(){if($(".obituary-search-form").length){$(".obituary-box-legacy .button").on("click",function(){$(".obituary-search-form").find("input[type=text]").each(function(){$(this).val("")
});
$(".obituary-search-form").find("select").each(function(){$(this).val("1")
});
$(".obituary-search-form .button").click()
});
$(".obituary-search-form").submit(function(){$(this).find("input[type=text]").each(function(){if($(this).val()==$(this).attr("placeholder")){$(this).val("")
}});
return true
});
Obituary.init();
Obituary.alignBoxes()
}});
var policardbaseurl="http://misc.thestar.com/projects/policards/public/index.html#";
$(document).on("star_component_init",function(){if(typeof hidepolicard!="undefined"&&hidepolicard){$("div.article-story-body a[data-councillor]").each(function(){var a=$(this).text();
$(this).replaceWith(a)
})
}else{init_policard_cta();
show_policard()
}});
function stripAccents(c){var a=/[]/g;
var b="aaaaaceeeeiiiinooooouuuuyyAAAAACEEEEIIIINOOOOOUUUUY";
return c.replace(a,function(d){return b[a.source.indexOf(d)]
})
}function init_policard_cta(){var l=[];
$("div.article-story-body a[data-councillor]").each(function(){var q={};
q.name=$(this).data("councillor");
q.searchname=stripAccents($(this).data("councillor").toLowerCase()).replace(/[^a-z]/g,"");
q.img=$(this).data("img");
q.ward=$(this).data("ward");
q.position=$(this).data("position");
l.push(q);
$(this).click(function(){location.href="#councillor/"+q.searchname;
return false
})
});
if(l.length>0){var p=$("div.policard-wrap");
$(".text.combinedtext.parbase.section").eq(0).append(p);
$(".policard-wrap").css("padding","10px 0px 5px 0px");
$("div.policard-wrap").show();
for(var k=0;
k<l.length;
k++){var a=$("<div/>",{"class":"policard-cardwrap"});
var b=$("<div/>",{"class":"policard-info"});
a.append(b);
var f=$("<div/>",{"class":"policard-center"});
b.append(f);
var c=$("<span/>",{html:"Open policard for "});
var m=$("<span/>",{"class":"policard-title",html:l[k].position});
var h=$("<span/>",{"class":"policard-name",html:l[k].name});
b.append(c,m,h);
var g=$("<img/>",{"class":"policard-gallery-img",src:"/etc/designs/thestar/images/policard/background.png"});
a.append(g);
a.data("councillor",l[k].searchname);
a.data("councillorname",l[k].name);
a.click(function(q){window.location.hash="councillor/"+$(this).data("councillor");
return false
});
$("div.policard-gallery").append(a)
}}var o=0;
var j=-542;
$(".policard-cardwrap").each(function(){o=o+$(this).outerWidth(true)
});
var d=o-$(".policardwrap").outerWidth();
function n(q){if(q.length){var r=q.position().left;
if(r<=d){q.addClass("policard-gallery-item--active");
q.siblings().removeClass("policard-gallery-item--active");
$(".policard-gallery").animate({left:-r})
}else{$(".policard-gallery").animate({left:-d})
}}}$(".policard-gallery").width(o);
$(".policard-cardwrap:first").addClass("policard-gallery-item--active");
$("#policard-back").click(function(){var q=$(".policard-gallery-item--active").prev();
n(q)
});
$("#policard-next").click(function(){var q=$(".policard-gallery-item--active").next();
n(q)
})
}function hashHandler(){this.oldHash=window.location.hash;
this.Check;
var b=this;
var a=function(){if(b.oldHash!=window.location.hash){b.oldHash=window.location.hash;
show_policard()
}};
this.Check=setInterval(function(){a()
},100)
}var hashDetection=new hashHandler();
function hide_policard(){parent.window.location.hash=""
}function getInternetExplorerVersion(){var c=-1;
if(navigator.appName=="Microsoft Internet Explorer"){var a=navigator.userAgent;
var b=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");
if(b.exec(a)!=null){c=parseFloat(RegExp.$1)
}}return c
}function show_policard(){hash=window.location.hash;
if(hash.indexOf("#councillor")==0){$("#policard").width("467").height("600").attr("src",policardbaseurl+hash);
if(getInternetExplorerVersion()==8){$("#policard").css("height","700")
}$(function(){$("#policard-modal").dialog({close:hide_policard,show:"fade",hide:"fade",modal:true});
$("#policard-modal").dialog("option","draggable",false);
$(".ui-dialog-titlebar-close").css("position","absolute");
$(".ui-dialog-titlebar-close").css("display","block");
$(".ui-dialog-titlebar-close").css("top","30px");
$(".ui-dialog-titlebar-close").css("left","428px");
$(".ui-dialog-titlebar-close").css("width","30px");
$(".ui-dialog-titlebar-close").css("height","25px");
$(".ui-dialog-titlebar-close").text("")
})
}}$(document).ready(function(){if(typeof mobileDesktopLink==="undefined"){mobileDesktopLink="0"
}if(mobileDesktopLink=="1"){$("#returntomobile").show()
}$("#returntomobile").on("click",function(){$.cookie("deskTop",null);
location.reload()
})
});
(function(d){var h="ad-player-",a={},f={playerID:"3852884501001",playerKey:"AQ~~,AAAAuO4KaJE~,gatFNwSKdGAEqI6QuRG05Tme4OKtGwYy",videoID:"3856739391001",bgColor:"#FFFFFF",autoStart:"true",isUI:"true",isVid:"true",includeAPI:"true",dynamicStreaming:"true",templateLoadHandler:"onAdTemplateLoaded"},b=0,c=function(l){d.dbg("videoadplayer: "+d.repr(l))
},j=function(l){return(l in a)?a[l]:null
},k=function(m){if(m in a){c("removing "+m);
var l=a[m];
l.$placeholder.hide().children().remove();
a[m]=null;
delete a[m]
}else{c(m+" not exist")
}},g=function(n,r,o){var m=++b;
r=d.extend({},f,r);
this.$placeholder=n;
this.expId=h+m;
this.$placeholder.attr("data-experience-id",this.expId);
this.category="";
this.source="";
if(o){if(o.search(/https?:\/\//)===0){this.source=o
}else{this.category=o
}}this.isRva=(!this.source&&this.category.indexOf("RVA")===0);
this.experience=null;
this.modVideo=null;
this.modAd=null;
this.$obj=d("<object/>").attr("id",this.expId).addClass("BrightcoveExperience").addClass("adplayer");
if(this.isRva){this.$obj.addClass("rva")
}if(this.category){r.adCategoryOverride=this.category
}for(var q in r){var l=r[q];
if(!l&&l!=0){continue
}d("<param/>").attr("name",q).attr("value",l+"").appendTo(this.$obj)
}c(r);
this.$wrapper=d("<div/>").attr("id",this.expId+"-wrap").css({position:"absolute",width:r.width+"px",height:r.height+"px",top:"-9999px",left:"-9999px","z-index":"100"}).append(this.$obj).appendTo(this.$placeholder);
this.adStarted=false
};
g.prototype.initModules=function(){this.experience=brightcove.getExperience(this.expId);
this.modVideo=this.experience.getModule(APIModules.VIDEO_PLAYER);
this.modAd=this.experience.getModule(APIModules.ADVERTISING);
return this
};
g.prototype.setVolume=function(m){if(this.modVideo){var l=parseFloat(m);
if(isFinite(l)){this.modVideo.setVolume(l)
}}return this
};
g.prototype.setPrerollAd=function(){if("bcDfpManager" in window){c("configuring DFP preroll in "+this.expId);
bcDfpManager.setupPreroll(this.expId);
return this
}if(this.source){c("setting ad URL '"+this.source+"' in "+this.expId);
bcAdManager.setPrerollUrl(this.expId,this.source)
}else{c("setting ad category '"+this.category+"' in "+this.expId);
bcAdManager.setPrerollCategory(this.expId,this.category)
}return this
};
g.prototype.showAd=function(){var l=this,m=d("#"+this.expId+"-wrap").css({left:"0",top:"0"});
this.$placeholder.height(m.height()).one("mouseenter",function(){l.setVolume(0.5)
});
this.adStarted=true
};
d.fn.adPlayer=function(){return this.each(function(){if(d(this).children().length){return
}var o=0,p=d(this).css("position","relative"),n=parseInt(p.attr("data-width")||(p.parent().innerWidth()))||300,v=parseInt(p.attr("data-height"))||Math.floor(n*9/16),m=p.attr("data-category")||p.attr("data-src")||"",r={width:n,height:v},u=p.attr("data-player-id"),q=p.attr("data-player-key"),l=p.attr("data-video-id");
if(u&&q){r.playerID=u;
r.playerKey=q
}if(l){r.videoID=l
}var t=new g(p,r,m);
a[t.expId]=t;
o++;
brightcove.createExperiences();
c(t.expId+" created")
})
};
d.fn.removeAdPlayer=function(){return this.each(function(){var l=d(this).attr("data-experience-id");
if(!l){return
}k(l)
})
};
window.onAdTemplateLoaded=function(q){var p=j(q);
if(!p){return
}p.initModules();
p.modVideo.addEventListener(BCMediaEvent.CHANGE,function(n){c(n.type+" fired in "+q);
p.setPrerollAd(q).setVolume(0)
});
p.modAd.addEventListener(BCAdvertisingEvent.AD_START,function(n){p.$placeholder.trigger({type:"adStarted",id:q});
c(n.type+" fired in "+q);
p.showAd()
});
p.modAd.addEventListener(BCAdvertisingEvent.AD_COMPLETE,function(n){p.$placeholder.trigger({type:"adFinished",id:q});
c(n.type+" fired in "+q);
k(q)
});
var l=[BCMediaEvent.BEGIN,BCMediaEvent.PLAY,BCMediaEvent.ERROR,BCMediaEvent.COMPLETE];
for(var o=0,r=l.length;
o<r;
o++){var m=l[o];
p.modVideo.addEventListener(m,function(n){c(n.type+" fired in "+q);
if(!p.adStarted){c("ad failed in "+q)
}k(q)
})
}};
d(function(){d(".video-ad-placeholder").adPlayer()
})
})(jQuery);
(function(f){if(!("dbg" in f)){f.dbg=function(n){if(typeof console=="object"&&("log" in console)){console.log(n)
}}
}var a=5000,m=0,b={},c=0,l="K4YeC-5GUQ7wbdfYgF0ZhUW6AW-pbspywoZIX974aQg3NhfImuYy-Q..",h=0.5,g=10000,d=function(n){f.dbg("videoring: "+n)
},k=function(o){try{return JSON.stringify(o,null,2)
}catch(n){}if("repr" in f){return f.repr(o)
}return""+o
},j=function(q,r){this.instCnt=q.instance_counter;
this.expId="videoring-player-"+this.instCnt;
this.title=("name" in q)?q.name:"";
this.videos=("videos" in q)?q.videos:("items" in q)?q.items:[];
this.size=this.videos.length;
this.$box=r;
this.$box.attr("data-experience-id",this.expId);
this.playerID=r.attr("data-player-id")||"2071349530001";
this.playerKey=r.attr("data-player-key")||"AQ~~,AAAAuO4KaJE~,gatFNwSKdGDmDpIYqNJ-fTHn_c4z_LH_";
this.width=parseInt(r.attr("data-width")||(r.parent().innerWidth()-8))||300;
this.height=parseInt(r.attr("data-height"))||this.calcHeight();
if(this.width<400){r.addClass("vr-small")
}else{if(this.width>600){r.addClass("vr-large")
}}this.rotateInterval=parseInt(r.attr("data-interval"));
if(!isFinite(this.rotateInterval)||this.rotateInterval<300){this.rotateInterval=a
}this.maxPauseSec=parseInt(r.attr("data-max-pause"))||m;
this.adCategory=r.attr("data-ad-category")||"";
this.autocenter=f.yes(r.attr("data-adjust"));
this.curIdx=0;
this.volume=false;
this.isVideo=false;
this.ticker=null;
this.idleTimeout=null;
this.rotationStartDelay=null;
var o=(r.attr("data-headlines")||"").split(/\|/g);
for(var p=0,u=o.length;
p<u;
p++){if(p==this.size){break
}var t=f.trim(o[p]);
if(t!=""){this.videos[p].name=t
}}};
j.prototype.calcHeight=function(){return Math.floor(this.width*9/16)
};
j.prototype.setZ=function(){var o=[".vr-overlay",".vr-caption",".vr-nav-prev",".vr-nav-next",".vr-navbar",".vr-videobox",".vr-close",".video-ad-placeholder"],q=parseInt(this.$box.css("z-index"))||0;
for(var p=0,t=o.length;
p<t;
p++){var r=q+p+1;
this.$box.find(o[p]).css("z-index",r)
}return this
};
j.prototype.normalizeIdx=function(n){var o=parseInt(n);
if(isFinite(o)){while(o<0){o+=this.size
}while(o>=this.size){o-=this.size
}return o
}return 0
};
j.prototype.setIdx=function(n){this.curIdx=this.normalizeIdx(n);
return this
};
j.prototype.createBrightcoveObject=function(){var q=this.expId,r={playerID:this.playerID,playerKey:this.playerKey,videoID:this.videos[this.curIdx].id,bgColor:"#FFFFFF",width:this.width,height:this.height,autoStart:"true",isUI:"true",isVid:"true",includeAPI:"true",templateLoadHandler:"VideoRing.onTemplateLoaded",dynamicStreaming:"true"},t=f("<object/>").attr("class","BrightcoveExperience").attr("id",q);
if(this.adCategory){r.adCategoryOverride=this.adCategory
}if(location.protocol=="https:"){r.secureConnections="true"
}d("CREATING PLAYER "+q);
for(var o in r){var n=r[o];
if(!n&&n!=0){continue
}f("<param/>").attr("name",o).attr("value",n+"").appendTo(t)
}return t
};
j.prototype.render=function(){if(!this.size){d("no videos in "+this.expId);
this.$box.hide();
return this
}var r=this;
this.$box.width(this.width).height(this.height).parent(".videoring-wrap").addClass("star-box");
var q=f("<div/>").addClass("vr-still").appendTo(this.$box);
f("<div/>").addClass("vr-videobox").appendTo(this.$box).hide();
f("<div/>").addClass("vr-nav").addClass("vr-close").html("&lsaquo;").appendTo(this.$box).click(function(){r.dropPlayer().doSlideshow()
}).hide();
for(var p=0;
p<this.size;
p++){var n=f("<div/>").addClass("vr-pick").addClass("vr-pick"+p).appendTo(q).hide();
f("<img/>").attr("src",this.videos[p].videoStillURL).attr("width",this.width).attr("height",this.height).attr("alt",this.videos[p].name).attr("title",this.videos[p].name).appendTo(n)
}f("<div/>").addClass("vr-overlay").fadeTo(0,0.7).appendTo(q).click(function(){r.playVideo()
});
f("<div/>").addClass("vr-caption").appendTo(q);
if(this.size>1){f("<div/>").addClass("vr-nav").addClass("vr-nav-prev").html("&lsaquo;").appendTo(q).click(function(){r.goPrev()
});
f("<div/>").addClass("vr-nav").addClass("vr-nav-next").html("&rsaquo;").appendTo(q).click(function(){r.goNext()
});
var t=f("<div/>").addClass("vr-navbar").appendTo(q);
for(var o=0;
o<this.size;
o++){f("<span/>").addClass("vr-navbar-item"+o).attr("data-index",o).html("&bull;").appendTo(t).mouseover(function(){r.stopRotation().showStill(f(this).attr("data-index"))
}).mouseout(function(){if(!r.isVideo){r.doSlideshow()
}}).click(function(){r.playVideo(f(this).attr("data-index"))
})
}f(function(){q.find(".vr-nav").each(function(){var u=f(this).height(),w=q.height(),v=Math.floor((w-u)/2)+"px";
f(this).css("top",v).hover(function(){r.stopRotation()
},function(){r.resumeRotation(g)
})
});
r.$box.on("adStarted",function(){r.dropPlayer().stopRotation()
});
r.$box.on("adFinished",function(){r.dropPlayer().doSlideshow()
})
})
}return this.setZ()
};
j.prototype.showStill=function(n){var o=(typeof n=="undefined")?this.curIdx:this.normalizeIdx(n),p=this.$box.find(".vr-pick"+o);
if(p.is(":hidden")){this.isVideo=false;
this.$box.find(".vr-pick").hide();
this.$box.find(".vr-pick"+o).show(300);
this.$box.find(".vr-caption").html(this.videos[o].name).show();
this.$box.find(".vr-navbar-item"+o).addClass("current").siblings().removeClass("current");
this.curIdx=o
}return this
};
j.prototype.goNext=function(){return this.showStill(this.curIdx+1)
};
j.prototype.goPrev=function(){return this.showStill(this.curIdx-1)
};
j.prototype.doSlideshow=function(){if(null!=this.rotationStartDelay){clearTimeout(this.rotationStartDelay);
this.rotationStartDelay=null
}this.showStill();
if(this.size>1&&null==this.ticker){d("slideshow begins");
var n=this;
this.ticker=setInterval(function(){n.goNext()
},n.rotateInterval)
}return this
};
j.prototype.stopRotation=function(){if(null!==this.ticker){d("stopping slideshow");
clearInterval(this.ticker);
this.ticker=null
}if(null!==this.rotationStartDelay){d("dropping rotation start timer");
clearTimeout(this.rotationStartDelay);
this.ticker=null
}return this
};
j.prototype.resumeRotation=function(n){var o=this;
if(n){this.rotationStartDelay=setTimeout(function(){o.doSlideshow()
},n)
}else{o.doSlideshow()
}return o
};
j.prototype.dropPlayer=function(){if(!this.isVideo){return this
}this.clearIdleTimeout();
this.$box.find(".vr-close").hide();
this.$box.find(".BrightcoveExperience").remove();
this.isVideo=false;
var n=this.$box.find(".vr-still");
n.show().siblings().hide();
return this
};
j.prototype.playVideo=function(n){if(this.isVideo){return this
}if(typeof n!="undefined"){this.setIdx(n)
}d("about to play video #"+this.curIdx+" ["+this.videos[this.curIdx].name+"]");
this.stopRotation();
this.isVideo=true;
var p=this.createBrightcoveObject(),o=this.$box.find(".vr-still");
this.$box.find(".vr-videobox").append(p).show();
window.brightcove.createExperiences();
o.hide();
return this
};
j.prototype.setIdleTimeout=function(){if(!this.maxPauseSec||this.maxPauseSec<0){return this
}var n=this;
var o=this.maxPauseSec*1000;
this.idleTimeout=setTimeout(function(){if(n.isVideo){d("video pause timed out");
n.dropPlayer().doSlideshow()
}},o);
return this
};
j.prototype.clearIdleTimeout=function(){if(!this.idleTimeout){return this
}d("clearing idle timer in "+this.expId);
clearTimeout(this.idleTimeout);
this.idleTimeout=null;
return this
};
j.prototype.setVolume=function(p){if(typeof p=="undefined"){p=(this.volume===false)?h:this.volume
}var q=brightcove.getExperience(this.expId),o=(q)?q.getModule(APIModules.VIDEO_PLAYER):null,n=parseFloat(p);
if(o&&isFinite(n)){o.setVolume(n);
this.volume=n
}return this
};
j.callbacks={};
j.getInstance=function(n){return(n in b)?b[n]:null
};
j.submitRequest=function(o,n){n.video_fields="id,name,shortDescription,videoStillURL";
BCMAPI.token=l;
BCMAPI.callback="VideoRing.callbacks["+c+"]";
BCMAPI.find(o,n)
};
j.searchVideos=function(q){var p="find_videos_by_ids",n=q.replace(/\s+/g,""),o={video_ids:n};
j.submitRequest(p,o)
};
j.searchPlaylist=function(p){var o=(p.indexOf("ref:")===0),t=(o)?p.replace(/^ref:/,""):p,r=(o)?"find_playlist_by_reference_id":"find_playlist_by_id",n=(o)?"reference_id":"playlist_id",q={};
q[n]=t;
j.submitRequest(r,q)
};
j.handleMediaEvent=function(n,p){var o=j.getInstance(p);
if(!o){d("instance "+p+" not found!");
return
}d("handling "+n.type+" in "+p);
switch(n.type){case"mediaChange":o.setVolume();
break;
case"mediaStop":case"adPause":o.$box.find(".vr-close").show();
o.setIdleTimeout();
break;
case"mediaPlay":case"adResume":o.$box.find(".vr-close").hide();
o.clearIdleTimeout();
break;
case"mediaComplete":case"mediaError":o.dropPlayer().doSlideshow()
}};
j.onTemplateLoaded=function(v){var p="mediaChange, mediaStop, mediaPlay, mediaComplete, mediaError".split(/\W+/),u=brightcove.getExperience(v),q=u.getModule(APIModules.VIDEO_PLAYER),t=u.getModule(APIModules.ADVERTISING),o=[];
for(var r=0,w=p.length;
r<w;
r++){o.push(p[r]);
q.addEventListener(p[r],function(n){j.handleMediaEvent(n,v)
})
}p="adPause, adResume".split(/\W+/);
for(var r=0,w=p.length;
r<w;
r++){o.push(p[r]);
t.addEventListener(p[r],function(n){j.handleMediaEvent(n,v)
})
}d("handlers bound in "+v+": "+o.join(", "))
};
f.fn.videoRing=function(){return this.each(function(){var p=f(this);
if(p.children().not(".video-ad-placeholder").length){return
}var t=p.attr("data-video-id")||"",q=p.attr("data-playlist-id")||"",o,r;
if(t){o=j.searchVideos;
r=t
}else{if(q){o=j.searchPlaylist;
r=q
}}if(o){var n=++c;
j.callbacks[n]=function(v){v.instance_counter=n;
var u=new j(v,p);
b[u.expId]=u;
u.render().doSlideshow()
};
o(r)
}})
};
f.fn.repaintVideoRing=function(n){return this.each(function(){var q=f(this).attr("data-experience-id"),p=(q in b)?b[q]:null;
if(p){p.width=parseInt(n)||p.$box.parent().innerWidth();
p.height=p.calcHeight();
try{p.$box.find(".video-ad-placeholder").each(function(){f(this).removeAdPlayer().attr("data-width",p.width).adPlayer()
})
}catch(o){}p.stopRotation();
p.$box.children().not(".video-ad-player").remove();
p.render().doSlideshow()
}})
};
window.VideoRing=j;
f(function(){f(".videoring-placeholder").videoRing()
})
})(jQuery);
$(document).ready(function(){$("#blog-nav > ul > li.more > span > a").on("click",function(a){$("#blog-nav > ul > li.more").toggleClass("collapsed").toggleClass("expanded")
})
});
$(document).on("click",function(a){if(!$(a.target).closest("#blog-nav > ul > li.more > span > a").length){if($("#blog-nav > ul > li.more").hasClass("expanded")){$("#blog-nav > ul > li.more").toggleClass("collapsed").toggleClass("expanded")
}}});
$(function(){var d=0;
if(window.location.pathname.match(/^.*videos?\.html$/)){var a={videoID:$.getQueryParam("bctid","")},f=$("div.sectionplaylistvideo div.placeholder, div.feature div.html5-container");
for(var b in a){if(a[b]==""){delete a[b]
}}if(a.videoID&&f.length){var g=f.find("object").detach();
f.attachBrightcove(a).append($("<p>&nbsp;</p>")).append(g).css("height","auto")
}}$(".bc-secondary-video").each(function(){var h=$(this).attr("data-video-id")||"";
if(h&&h.match(/^\d+$/)){$(this).attachBrightcove({id:"secondary-video-"+(++d),videoID:h})
}});
setTimeout(function(){if($(".splitbox").length&&!$(window).hasAutoStartBrightcove()){$.dbg("auto-starting player not found!");
var h=[];
$(".splitbox").each(function(){var j=$(this).attr("src");
if(j&&$.inArray(j,h)<0){$("<script/>").attr("type","text/javascript").attr("src",j).attr("async","true").appendTo($("body"));
h.push(j)
}})
}else{$(".splitbox").remove()
}},1000);
var c=$(".rightrailrvaplaylistvideo .BrightcoveExperience");
if(c.length){setTimeout(function(){var j=$(".rightrailrvaplaylistvideo .BrightcoveExperience");
if(!j.length){return
}var l=j.attr("id"),k=brightcove.getExperience(l),h=(k)?k.getModule(APIModules.VIDEO_PLAYER):null;
if(!h){return
}j.parent().one("mouseenter",function(){$.dbg("### Setting volume to 0.5 in player "+l);
h.setVolume(0.5)
})
},1000)
}});
(function(a){var b=50;
a.fn.imageCompareSlider=function(){return this.each(function(){var f=a(this).empty(),l=f.attr("data-width")||f.parent().width(),d=f.attr("data-src-left"),k=f.attr("data-src-right"),j=f.attr("data-title")||"",g=f.attr("data-credit")||"",n=f.attr("data-caption")||"",o=a("<div/>").addClass("static-image-box").css({width:"100%",position:"relative",padding:0}).appendTo(f),m=a("<div/>").addClass("var-image-box").css({position:"absolute",width:b+"%",top:0,left:0,padding:0,overflow:"hidden","border-right":"1px solid #fff"}).appendTo(o),c=a("<img/>").attr({src:d,width:l,alt:""}).appendTo(m),h=a("<img/>").attr({src:k,width:l,alt:""}).appendTo(o).load(function(){var p=h.height();
c.height(p);
o.height(p);
m.height(p);
a("<div/>").addClass("control-slider").width(l).appendTo(f).slider({range:"min",min:0,max:100,value:b,slide:function(q,r){m.css("width",r.value+"%")
}});
if(g!=""){a('<div class="credit">'+g+"</div>").appendTo(f)
}if(n!=""){a('<div class="caption">'+n+"</div>").appendTo(f)
}});
f.width(l);
if(j!=""){a('<div class="star-box-heading float-clear"><h2 class="heading">'+j+"</h2></div>").insertBefore(o)
}})
};
a(function(){a(".image-compare-slider").imageCompareSlider()
})
})(jQuery);
$(document).on("star_component_init",function(){var a=$(".twitter-tweet-container:empty");
if(a.length>0){$.getScript("https://platform.twitter.com/widgets.js",function(){a.each(function(b){var c=$(this).attr("data-id");
if(c&&c.length!=0){twttr.widgets.createTweetEmbed(c,this)
}})
})
}});
var InstagramComponent={run:function(){var a=this;
$(".js-instagram-embed-info").each($.proxy(a.createEmbed,a))
},createEmbed:function(c,d){var b=$(d);
var a=b.attr("data-url");
if(a==undefined||a==null||a==""){return
}$.ajax({type:"GET",dataType:"jsonp",cache:false,url:a,success:function(f){if(f.html!=undefined&&f.html!=null&&f.html!=""){b.replaceWith(f.html);
instgrm.Embeds.process()
}}})
}};
$(document).on("star_component_init",function(){InstagramComponent.run()
});
$(document).ready(function(){var b=b||[];
var a=0;
if(typeof cxApi!="undefined"){a=cxApi.chooseVariation()
}if(a==0){$('.newsletter-cta[data-type="rightrail"]').hide()
}if(a==1){$('.newsletter-cta[data-type="body"]').hide()
}});