/********* HERE STARTS THE SCRIPT **********/jSlideShowIntArray = [];function initAllSlideShows(){	new BBApps.imageSlideShow("home-slideshow", {"btns":false,  "type":"fade", "auto":true, "speed":10000 }) ;	new BBApps.imageSlideShowXs("home-slideshow-xs", {"btns":false,  "type":"fade", "auto":true, "speed":50000 }) ;		};BBApps.imageSlideShow = function(ss, opt ){		BBRefs.ss? null: BBRefs.ss = [];	var ssI = BBRefs.ss.length;	var	o = opt||{};		BBRefs.ss[ssI] = this;	var data, me, frame, wrap, pageW, nextBtn, lastBtn, dest, view, animInt, margin;		me = getJObj(ss);	me.addClass("jslideshow");	me.ssID = ssI;			var doc = document;		me.view = o.view?doc.getElementById(o.view):doc.getElementById("category-slideshow") ;		me.frame = getJObj({"findIn": me, "classname" : "frame"});		me.wrap = getJObj({"findIn": me.frame, "classname" : "slides"});		me.nav = getJObj({"findIn": me, "classname" : "nav", "makeLast": true});		me.navNext = getJObj({"findIn": me.nav, "classname" : "next", "tag": "a", "content":"&gt;"});		me.navLast = getJObj({"findIn": me.nav, "classname" : "last", "tag": "a", "content":"&lt;"});		me.dest = 0;		me.animInt = 0;		me.o = o;		me.btns = me.nav.find("a.btn");		me.btnsLen = me.btns.length;				if(o.view && o.data){		view = doc.getElementById(o.view);		data = BBUtils.returnDataset(o.data);		me.wrap.html(BBUtils.scrapeMe(data, view));		}						/*** AUTOMATIC DEFAULTS ***/				me.type = o.type||"fade";		me.wrap.addClass(me.type);		me.animatespeed = o.animatespeed||250;		me.speed = o.speed||10000;		me.auto = o.auto?o.auto:false;		var startnum = o.startnum || 0;		me.current = -1;		me.changeDir = (me.type=="slideV")?"height":(me.type=="slideH")?"width":0;		me.moveDir = (me.type=="slideV")?"top":(me.type=="slideH")?"left":0;				me.pagelength = (me.type=="slideV")?me.frame.height():me.frame.width();			me.slides = me.wrap.children("div.slide");				me.total = me.slides.length; 			if(me.changeDir){			if(o.cycle){			var sN = me.wrap.children("div.slide").eq(0).clone().addClass("fake").appendTo(me.wrap);			me.slides.push(sN);}			me.wrap.css(me.changeDir, (me.pagelength*(me.total+(o.cycle?1:0)))+"px");		}		me.slides.each(function(i){		var sl = $(this);		sl.height(me.frame.height());			if(i==startnum && me.changeDir==0){sl.show()}else if(me.changeDir==0){sl.show().hide();}				if(sl.attr("url")){			sl.css("cursor", "pointer").click(function(){				window.location = $(this).attr("url");										 			});		}		if((i+1)>me.btnsLen && !sl.hasClass("fake")){			getJObj({"makeIn": me.nav, "classname" : "btn", "tag": "a", "content":(i+1)}).get(0).num = i;		}else if (!sl.hasClass("fake")){			me.btns[i].num = i;		}	});				me.moveWrap = function (others){				var me = this;		var el = me.wrap;		var dest = me.dest;		var total = me.total;		var speed = me.animatespeed;		var diff = me.current-dest;		if(diff==0){return false;}		var dir = diff<0?-1:1;		diff = Math.abs(diff);		var pL = me.pagelength;		var fL = (-(pL)*dest)+"px"; // Final Location		var eL = (-(pL*total))+"px"; // ending Location		var shS = me.wrap.children("div.slide").not(".fake");		var o = me.o;		var oX = others||{};		var skipCycle = oX.skipCycle||false;		var current = (me.current==-1)?0:me.current;		var btns = me.nav.find("a.btn");						clearInterval(me.animInt); // makes sure that the autotiming resets		me.current = dest;				switch(me.type){						case "slideH":			case "slideV":			if(o.cycle==true && !skipCycle && diff>1){				if(dir>0 && dest==0){				eval('el.stop().animate( { '+me.moveDir+':eL}, speed, "swing", function(){$(this).css("'+me.moveDir+'", fL)})');				}else{				eval('el.stop().css("'+me.moveDir+'", eL).animate( {'+me.moveDir+':fL}, speed, "swing")');				}			}else{				eval('el.stop().animate( ({'+me.moveDir+':fL}), (speed*diff), "swing")');			}				break;						case "crossfade":					me.wrap.children("div.fake").remove();					shS.eq(current).clone().addClass("fake").prependTo(el).css("opacity", 1).show();			case "fade":				shS.eq(current).css("opacity", 1).hide();				shS.eq(dest).fadeIn(speed);			break;						case "slidedown":					me.wrap.children("div.fake").remove();					shS.eq(current).hide().clone().addClass("fake").prependTo(el).show();					shS.eq(dest).slideDown(speed);			break;						default:			 	shS.hide();    		shS.eq(dest).show();		}		 		btns.eq(current).removeClass("active");		btns.eq(dest).addClass("active"); // activates the button that corresponds to the slide		if(me.auto){me.animInt = setTimeout(me.autoNext, me.speed);} // sets timeout for the next slide   	}	function pageNext(btn, me){ // goes to next page		var c = me.current;		(c<(me.total-1))?c++:c=0;		me.dest = c;		me.moveWrap();	}	function pageLast(btn, me){	// goes to previous page		var c = me.current;		(c==0)?c=(me.total-1):c--;		me.dest = c;		me.moveWrap();												 	}	function pageThis(btn, me){	// goes to previous page			me.dest = btn.num;			me.moveWrap({"skipCycle":true});			 					}	me.autoNext = function(){			var c = me.current;			(c<(me.total-1))?c++:c=0;			me.dest = c;			me.moveWrap();	}		function SSNav(evt){		var t = evt.target;		var c = t.className;		var m = me;		var ind = c.indexOf(" ");		var tag = c;		if(ind!=-1 && ind !=0){			tag = c.slice(0,c.indexOf(" "));		}		switch(t.tagName){			case "DIV":						break;			case "A":				switch(tag){					case "next":					pageNext(t, m);					break;					case "last":					pageLast(t, m);					break;					case "start":					me.autoNext();					break;					case "stop":					clearInterval(me.animInt);					break;					case "btn":					pageThis(t, m);					break;					default:				}					evt.preventDefault();			break; 			default:					}	}	me.nav.bind("click" , SSNav);	me.dest = startnum;	me.moveWrap({"skipCycle":true});}BBApps.imageSlideShowXs = function(ss, opt ){		BBRefs.ss? null: BBRefs.ss = [];	var ssI = BBRefs.ss.length;	var	o = opt||{};		BBRefs.ss[ssI] = this;	var data, me, frame, wrap, pageW, nextBtn, lastBtn, dest, view, animInt, margin;		me = getJObj(ss);	me.addClass("jslideshow-xs");	me.ssID = ssI;			var doc = document;		me.view = o.view?doc.getElementById(o.view):doc.getElementById("category-slideshow") ;		me.frame = getJObj({"findIn": me, "classname" : "frame"});		me.wrap = getJObj({"findIn": me.frame, "classname" : "slides"});		me.nav = getJObj({"findIn": me, "classname" : "nav", "makeLast": true});		me.navNext = getJObj({"findIn": me.nav, "classname" : "next", "tag": "a", "content":"&gt;"});		me.navLast = getJObj({"findIn": me.nav, "classname" : "last", "tag": "a", "content":"&lt;"});		me.dest = 0;		me.animInt = 0;		me.o = o;		me.btns = me.nav.find("a.btn");		me.btnsLen = me.btns.length;				if(o.view && o.data){		view = doc.getElementById(o.view);		data = BBUtils.returnDataset(o.data);		me.wrap.html(BBUtils.scrapeMe(data, view));		}						/*** AUTOMATIC DEFAULTS ***/				me.type = o.type||"fade";		me.wrap.addClass(me.type);		me.animatespeed = o.animatespeed||250;		me.speed = o.speed||10000;		me.auto = o.auto?o.auto:false;		var startnum = o.startnum || 0;		me.current = -1;		me.changeDir = (me.type=="slideV")?"height":(me.type=="slideH")?"width":0;		me.moveDir = (me.type=="slideV")?"top":(me.type=="slideH")?"left":0;				me.pagelength = (me.type=="slideV")?me.frame.height():me.frame.width();			me.slides = me.wrap.children("div.slide");				me.total = me.slides.length; 			if(me.changeDir){			if(o.cycle){			var sN = me.wrap.children("div.slide").eq(0).clone().addClass("fake").appendTo(me.wrap);			me.slides.push(sN);}			me.wrap.css(me.changeDir, (me.pagelength*(me.total+(o.cycle?1:0)))+"px");		}		me.slides.each(function(i){		var sl = $(this);		sl.height(me.frame.height());			if(i==startnum && me.changeDir==0){sl.show()}else if(me.changeDir==0){sl.show().hide();}				if(sl.attr("url")){			sl.css("cursor", "pointer").click(function(){				window.location = $(this).attr("url");										 			});		}		if((i+1)>me.btnsLen && !sl.hasClass("fake")){			getJObj({"makeIn": me.nav, "classname" : "btn", "tag": "a", "content":(i+1)}).get(0).num = i;		}else if (!sl.hasClass("fake")){			me.btns[i].num = i;		}	});				me.moveWrap = function (others){				var me = this;		var el = me.wrap;		var dest = me.dest;		var total = me.total;		var speed = me.animatespeed;		var diff = me.current-dest;		if(diff==0){return false;}		var dir = diff<0?-1:1;		diff = Math.abs(diff);		var pL = me.pagelength;		var fL = (-(pL)*dest)+"px"; // Final Location		var eL = (-(pL*total))+"px"; // ending Location		var shS = me.wrap.children("div.slide").not(".fake");		var o = me.o;		var oX = others||{};		var skipCycle = oX.skipCycle||false;		var current = (me.current==-1)?0:me.current;		var btns = me.nav.find("a.btn");						clearInterval(me.animInt); // makes sure that the autotiming resets		me.current = dest;				switch(me.type){						case "slideH":			case "slideV":			if(o.cycle==true && !skipCycle && diff>1){				if(dir>0 && dest==0){				eval('el.stop().animate( { '+me.moveDir+':eL}, speed, "swing", function(){$(this).css("'+me.moveDir+'", fL)})');				}else{				eval('el.stop().css("'+me.moveDir+'", eL).animate( {'+me.moveDir+':fL}, speed, "swing")');				}			}else{				eval('el.stop().animate( ({'+me.moveDir+':fL}), (speed*diff), "swing")');			}				break;						case "crossfade":					me.wrap.children("div.fake").remove();					shS.eq(current).clone().addClass("fake").prependTo(el).css("opacity", 1).show();			case "fade":				shS.eq(current).css("opacity", 1).hide();				shS.eq(dest).fadeIn(speed);			break;						case "slidedown":					me.wrap.children("div.fake").remove();					shS.eq(current).hide().clone().addClass("fake").prependTo(el).show();					shS.eq(dest).slideDown(speed);			break;						default:			 	shS.hide();    		shS.eq(dest).show();		}		 		btns.eq(current).removeClass("active");		btns.eq(dest).addClass("active"); // activates the button that corresponds to the slide		if(me.auto){me.animInt = setTimeout(me.autoNext, me.speed);} // sets timeout for the next slide   	}	function pageNext(btn, me){ // goes to next page		var c = me.current;		(c<(me.total-1))?c++:c=0;		me.dest = c;		me.moveWrap();	}	function pageLast(btn, me){	// goes to previous page		var c = me.current;		(c==0)?c=(me.total-1):c--;		me.dest = c;		me.moveWrap();												 	}	function pageThis(btn, me){	// goes to previous page			me.dest = btn.num;			me.moveWrap({"skipCycle":true});			 					}	me.autoNext = function(){			var c = me.current;			(c<(me.total-1))?c++:c=0;			me.dest = c;			me.moveWrap();	}		function SSNav(evt){		var t = evt.target;		var c = t.className;		var m = me;		var ind = c.indexOf(" ");		var tag = c;		if(ind!=-1 && ind !=0){			tag = c.slice(0,c.indexOf(" "));		}		switch(t.tagName){			case "DIV":						break;			case "A":				switch(tag){					case "next":					pageNext(t, m);					break;					case "last":					pageLast(t, m);					break;					case "start":					me.autoNext();					break;					case "stop":					clearInterval(me.animInt);					break;					case "btn":					pageThis(t, m);					break;					default:				}					evt.preventDefault();			break; 			default:					}	}	me.nav.bind("click" , SSNav);	me.dest = startnum;	me.moveWrap({"skipCycle":true});}/********* HERE ENDS THE SCRIPT ************/