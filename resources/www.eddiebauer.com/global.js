var EBGLOBAL={};EBGLOBAL.ebcard={newApprovedPrescreenURL:"/checkout/instantcredit/new-approved-prescreen.jsp",preScreenStatusURL:"/checkout/instantcredit/prescreen-status.jsp",finalCardApprovalURL:"/checkout/instantcredit/final-card-approval.jsp",finalCardReviewURL:"/checkout/instantcredit/final-card-review.jsp",cardNumberSearchURL:"/checkout/instantcredit/card-number-search-form.jsp",cardDiscountExplainationURL:"/checkout/instantcredit/credit-card-discount-explaination.jsp",currentThumbnailColor:"",selectedColor:"",initialize:function(){},launchShowOfferModal:function(){EBGLOBAL.sessionTimeout.resetTimeout();var a={showOuterClose:false,showClose:false,outsideClickCloses:false,beforeBoxEnd:EBGLOBAL.ebcard.onCloseShowOfferModal,width:715,height:670,contentScroll:false,boxScroll:false};fb.start(this.newApprovedPrescreenURL,a);},offerDeclined:function(){EBGLOBAL.sessionTimeout.resetTimeout();$.ajax({type:"POST",url:this.newApprovedPrescreenURL,data:$("#declineOfferForm").serialize(),success:function(a){}});fb.end();},offerAccepted:function(){EBGLOBAL.sessionTimeout.resetTimeout();$.ajax({type:"POST",url:this.newApprovedPrescreenURL,data:$("#acceptOfferForm").serialize(),success:function(a){}});fb.end();EBGLOBAL.ebcard.launchPreScreenFormModal();},bannerOfferAccepted:function(){EBGLOBAL.sessionTimeout.resetTimeout();$.ajax({type:"POST",url:this.newApprovedPrescreenURL,data:$("#bannerOfferAcceptForm").serialize(),success:function(a){}});EBGLOBAL.ebcard.launchPreScreenFormModal();},submitPreScreenAcceptanceForm:function(){EBGLOBAL.sessionTimeout.resetTimeout();$.ajax({type:"POST",url:this.preScreenStatusURL,data:$("#applyForCardForm").serialize(),success:function(b){var a={sameBox:true};fb.start(b,a);}});},editPersonalInformation:function(){$("#addressData").hide();$("#addressFormFields").show();},declinePreScreenAcceptanceForm:function(){fb.end();},launchPreScreenFormModal:function(){EBGLOBAL.sessionTimeout.resetTimeout();var a={showOuterClose:false,showClose:false,outsideClickCloses:false,width:760,height:670,contentScroll:true};fb.start(this.preScreenStatusURL,a);},onCloseShowOfferModal:function(){if(typeof console=="object"){}},launchFinalCardApprovalModal:function(){EBGLOBAL.sessionTimeout.resetTimeout();var a={showOuterClose:true,showClose:false,outsideClickCloses:true,width:715,height:438,contentScroll:false};fb.start(this.finalCardApprovalURL,a);},launchFinalCardReviewModal:function(){EBGLOBAL.sessionTimeout.resetTimeout();var a={showOuterClose:true,showClose:false,outsideClickCloses:true,width:715,height:355,contentScroll:false};fb.start(this.finalCardReviewURL,a);},launchCardNumberSearchFormModal:function(){EBGLOBAL.sessionTimeout.resetTimeout();var a={showOuterClose:true,showClose:false,outsideClickCloses:true,width:715,height:500,contentScroll:false};fb.start(this.cardNumberSearchURL,a);},launchCreditCardDiscountExplainationModal:function(){EBGLOBAL.sessionTimeout.resetTimeout();var a={showOuterClose:true,showClose:false,outsideClickCloses:true,width:715,height:220,contentScroll:false};fb.start(this.cardDiscountExplainationURL,a);}};EBGLOBAL.stores={baseURL:"/modals/pdp/new-test-stores.jsp?productId=",currentProductId:"",currentThumbnailColor:"",selectedColor:"",initialize:function(){},launchFindInStoreModal:function(b,c){this.currentProductId=b;var a=$("#pdpSelectColor").val();if(a){this.currentThumbnailColor=a;this.selectedColor=a;}else{this.currentThumbnailColor=c;}var d=this.baseURL+b+"&launchColor="+this.currentThumbnailColor;var e=$("#pdpSelectSize").val();if(e){d=d+"&launchSize="+e;}showModal(null,null,d,null,900,true,"5%",null,null);$("#fis_color_id").val(a);},colorClick:function(a){$("#fis_color_error").hide();this.currentThumbnailColor=a;this.selectedColor=a;$("#fis_color_text").html(allColorsMap[a]);$("#fis_color_id").val(a);$("#fis_thumbnails").find("a").each(function(){if($(this).attr("data-colorid")==a){$(this).show();}else{$(this).hide();}});$("#fis_swatch_holder").find("a").each(function(){if($(this).attr("data-colorid")==a){$(this).addClass("selected");}else{$(this).removeClass("selected");}});},colorMouseOver:function(a){$("#fis_color_text").html(allColorsMap[a]);},colorMouseOut:function(){$("#fis_color_text").html(allColorsMap[this.currentThumbnailColor]);},onlaunch:function(a){$("#fis_color_text").html(allColorsMap[a]);$("#fis_swatch_holder").find("a").each(function(){if($(this).attr("data-colorid")==a){$(this).addClass("selected");}else{$(this).removeClass("selected");}});},zipCodeSearch:function(){var c=false;if($("#fis_color_id").val()==false){$("#fis_color_error").fadeIn(500);c=true;}if($("#fis_size_id").val()==false){$("#fis_size_error").fadeIn(500);c=true;}if($("#fis_zip_code").val()==false){$("#fis_zip_error").fadeIn(500);c=true;}if(c){return;}var b=this.baseURL+this.currentProductId;b=b+"&launchColor="+this.currentThumbnailColor;$("#zip_code_search").val("true");var a=$("#fis_form");$.ajax({type:"POST",url:b,data:a.serialize(),success:function(d){$(".overlay-modal-container").html(d);}});},cityStateSearch:function(){var c=false;if($("#fis_color_id").val()==false){$("#fis_color_error").fadeIn(500);c=true;}if($("#fis_size_id").val()==false){$("#fis_size_error").fadeIn(500);c=true;}if($("#fis_city").val()==false&&$("#fis_state").val()==false){$("#fis_city_state_error").fadeIn(500);return;}if($("#fis_city").val()==false){$("#fis_city_error").fadeIn(500);c=true;}if($("#fis_state").val()==false){$("#fis_state_error").fadeIn(500);c=true;}if(c){return;}var b=this.baseURL+this.currentProductId;b=b+"&launchColor="+this.currentThumbnailColor;$("#city_state_search").val("true");var a=$("#fis_form");$.ajax({type:"POST",url:b,data:a.serialize(),success:function(d){$(".overlay-modal-container").html(d);}});}};EBGLOBAL.utils={tooltip:'<div class="tooltip" style="display: none; position: absolute; top: 773px; left: 642px;"><img alt="Tooltip Arrow" src="/static/img/tip-trigger-arrow.png" class="tt-arrow"><strong>Why a phone number?</strong><br>Enter at least one phone number so we can contact you if we have questions about your order. International numbers should include country code.</div>',initialize:function(){},allowOnlyAlphanumeric:function(a){var c=!a.charCode?a.which:a.charCode;var d=new RegExp("^[a-zA-Z0-9]+$");var b=String.fromCharCode(!a.charCode?a.which:a.charCode);if(c===8||d.test(b)){return true;}a.preventDefault();return false;},allowOnlyNumericNew:function(a){a=a||window.event;var c=!a.keyCode?a.which:a.keyCode;var d=new RegExp("^[0-9]+$");var b=String.fromCharCode(!a.charCode?a.which:a.charCode);if(c===8||d.test(b)){return true;}else{a.preventDefault();return false;}},allowOnlyNumeric:function(b){b=b||window.event;var d=!b.keyCode?b.which:b.keyCode;var a=new RegExp("^[0-9]+$");var c=String.fromCharCode(!b.charCode?b.which:b.charCode);if(d===8||a.test(c)){return true;}var f=false;if(d===9&&!f){f=true;if(jQuery("body.checkout-billing").index()!=-1){jQuery("#siteContainer").append(this.tooltip);jQuery("head").append('<style type="text/css">.selected{display:block !important;}.tooltip{color:#333 !important;}</style>');}$("input#editAddressDaytime").one("blur",function(e){$(".daytime-needed-link").focus(function(g){$(".tooltip").toggleClass("selected");$(".tooltip").css({display:"block",color:"#333"});$(".tooltip").attr({"aria-expanded":"true","aria-hidden":"false"});}).blur(function(){$(".tooltip").toggleClass("selected");$(".tooltip").css({display:"none"});$(".tooltip").attr({"aria-expanded":"false","aria-hidden":"true"});jQuery(".tooltip").remove();});});return true;}b.preventDefault();return false;},allowOnlyZipcode:function(a){a=a||window.event;var c=!a.keyCode?a.which:a.keyCode;var d=new RegExp("^[a-zA-Z0-9 -]+$");var b=String.fromCharCode(!a.charCode?a.which:a.charCode);if(c===8||d.test(b)){return true;}if(c===9){return true;}a.preventDefault();return false;}};EBGLOBAL.sessionTimeout={durationInMinutes:30,durationInMilliSeconds:1800000,timeoutHolder:null,pages:null,initialize:function(){},resetTimeout:function(){if(this.timeoutHolder!=null){clearTimeout(this.timeoutHolder);
}this.timeoutHolder=setTimeout(function(){EBGLOBAL.sessionTimeout.endSession();},this.durationInMilliSeconds);var b=new Date();var a=""+b.getTime();document.cookie="lastactivity="+a+";path=/";},endSession:function(){var i=getCookie("lastactivity");if(i){var e=new Date();e.setTime(i);var h=new Date();var a=h.getTime()-e.getTime()-this.durationInMilliSeconds;if(a>10000){return;}}var d=window.location.pathname;var c=this.pages.split(",");var f=$.inArray(d,c);if(f<0){return;}if(f===0){var b=window.location.href;var g=b.indexOf("DPSLogout");if(g>-1){return;}}window.location.href="/gadgets/session-timeout-logout.jsp";},printTime:function(a){console.log("printTime");var b="thisDate: "+a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()+" @ "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();console.log(a.getTime());console.log(b);}};